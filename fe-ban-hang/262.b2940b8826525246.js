"use strict";(self.webpackChunkFE_BAN_HANG=self.webpackChunkFE_BAN_HANG||[]).push([[262],{2262:(v,P,a)=>{a.r(P),a.d(P,{AuthRoutes:()=>me});var i=a(5780),g=a(6895),e=a(8274);let Z=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-auth"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[g.ez,i.Bz,i.lC]}),r})();var m=a(1740),c=a(5593),o=a(4006),p=a(805),d=a(2453),u=a(9066),h=a(7556),x=a(3516),M=a(1573),O=a(5507);function b(r,s){1&r&&(e.TgZ(0,"small",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" Email ",e.lcZ(2,1,"NotEmpty"),"."))}function L(r,s){1&r&&(e.TgZ(0,"small",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" Email ",e.lcZ(2,1,"Invalid"),". Vd:tuyen@gmail.com"))}function T(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,b,3,3,"small",11),e.YNc(2,L,3,3,"small",11),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getEmail.errors?null:t.getEmail.errors.minlength)||(null==t.getEmail.errors?null:t.getEmail.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.getEmail.errors?null:t.getEmail.errors.email)}}const y=function(){return["/auth/login"]},S=function(){return["/auth/register"]};let k=(()=>{class r{constructor(t,n,l,f,_,w,C){this.fb=t,this.authService=n,this.userInforService=l,this.tokenStorageService=f,this.router=_,this.messageService=w,this.shareMessageService=C,this.submitted=!1,this.isLoading=!1}ngOnInit(){this.forgotForm=this.fb.group({email:["",[o.kI.email,o.kI.required]]})}onSubmit(){this.isLoading=!0,console.log(this.forgotForm.value),this.authService.forgot(this.forgotForm.value.email).subscribe({next:t=>{this.isLoading=!1,this.shareMessageService.message.next(t.data)},error:t=>{this.isLoading=!1,this.showErrorMessage("Error",t.error.message)}})}get getEmail(){return this.forgotForm.controls.email}get f(){return this.forgotForm.controls}showSuccessMessage(t,n){this.messageService.add({severity:"success",summary:t,detail:n,life:3e3})}showErrorMessage(t,n){this.messageService.add({severity:"error",summary:t,detail:n,life:3e3})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(h.e),e.Y36(x.d),e.Y36(M.i),e.Y36(i.F0),e.Y36(p.ez),e.Y36(O.E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e._Bn([p.ez]),e.jDz],decls:25,vars:23,consts:[[1,"forgot-wrapper","col-12","sm:col-12","md:col-6"],[1,"forgot-site"],[1,"forgot-title"],["action","",1,"forgot-form",3,"formGroup","ngSubmit"],[1,"forgot-form__field"],["id","email","placeholder","Email","formControlName","email","type","email","pInputText","",1,"forgot-form__field-input"],[4,"ngIf"],[1,"grid","action-wrapper","mt-2"],["type","submit","pButton","",1,"btn-action","forgot-form__btn","col-5","sm:col-4","md:col-4",3,"disabled","loading"],[1,"link-action-wrapper","col-5","sm:col-7","md:col-7"],[1,"link-action",3,"routerLink"],["id","password-help","class","forgot-form__field-message p-error block",4,"ngIf"],["id","password-help",1,"forgot-form__field-message","p-error","block"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",4),e._UZ(8,"input",5),e.YNc(9,T,3,2,"span",6),e.qZA(),e.TgZ(10,"div",7)(11,"button",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"a",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e._uU(19),e.ALo(20,"translate"),e.TgZ(21,"a",10),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()(),e._UZ(24,"p-toast")),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,11,"ForgotPassword")),e.xp6(2),e.Q6J("formGroup",n.forgotForm),e.xp6(3),e.Q6J("ngIf",n.getEmail.dirty),e.xp6(2),e.Q6J("disabled",!n.forgotForm.valid)("loading",n.isLoading),e.xp6(1),e.hij(" ",e.lcZ(13,13,"Reset")," "),e.xp6(3),e.Q6J("routerLink",e.DdM(21,y)),e.xp6(1),e.Oqu(e.lcZ(17,15,"Login")),e.xp6(3),e.hij(" ",e.lcZ(20,17,"Or")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(22,S)),e.xp6(1),e.Oqu(e.lcZ(23,19,"CreateAAccount")))},dependencies:[g.ez,g.O5,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,m.j,m.o,c.hJ,c.Hq,i.Bz,i.yS,d.EV,d.FN,u.aw,u.X$],styles:[".forgot-wrapper[_ngcontent-%COMP%]{margin:auto}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-title[_ngcontent-%COMP%]{text-align:center;font-size:20px;text-transform:uppercase}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form__field[_ngcontent-%COMP%]{margin-bottom:24px;position:relative}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form__field-input[_ngcontent-%COMP%]{font-size:1.6rem;width:100%;height:55px;border-radius:0;font-family:Montserrat,sans-serif!important;background:#ededed;color:#00381a;padding:0 20px;font-weight:500}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form__field-input[_ngcontent-%COMP%]:focus{border-radius:0;background:#fff;border-color:#ededed;box-shadow:none}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form__field-message[_ngcontent-%COMP%]{position:absolute;top:105%;font-size:1.4rem}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{margin-right:unset;margin-left:unset}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form__btn[_ngcontent-%COMP%]{margin:0;text-align:center;font-weight:700;font-family:Montserrat,sans-serif!important;text-transform:uppercase;font-weight:500;border-radius:0}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form__btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:no-drop}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form[_ngcontent-%COMP%]   .link-action-wrapper[_ngcontent-%COMP%]{margin-left:20px;font-size:1.6rem}.forgot-wrapper[_ngcontent-%COMP%]   .forgot-site[_ngcontent-%COMP%]   .forgot-form[_ngcontent-%COMP%]   .link-action-wrapper[_ngcontent-%COMP%]   .link-action[_ngcontent-%COMP%]{font-size:1.6rem;color:#00381a;font-weight:500;padding-bottom:6px;display:inline-block}"]}),r})();function q(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" Email ",e.lcZ(2,1,"NotEmpty"),"."))}function N(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" Email ",e.lcZ(2,1,"Invalid"),". Vd:tuyen@gmail.com"))}function I(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,q,3,3,"small",16),e.YNc(2,N,3,3,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getEmail.errors?null:t.getEmail.errors.minlength)||(null==t.getEmail.errors?null:t.getEmail.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.getEmail.errors?null:t.getEmail.errors.email)}}function J(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"PasswordAtLeast6Characters"),"."))}function F(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"PasswordMax40Characters"),"."))}function E(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,J,4,6,"small",16),e.YNc(2,F,4,6,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getPassword.errors?null:t.getPassword.errors.minlength)||(null==t.getPassword.errors?null:t.getPassword.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.getPassword.errors?null:t.getPassword.errors.maxlength)}}const U=function(){return["/auth/forgot"]},Y=function(){return["/auth/register"]};let R=(()=>{class r{constructor(t,n,l,f,_,w,C){this.fb=t,this.authService=n,this.userInforService=l,this.tokenStorageService=f,this.router=_,this.route=w,this.messageService=C,this.submitted=!1,this.isLoading=!1,this.isShowPassword=!1}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.userSupscription=this.tokenStorageService.userChange.subscribe(t=>{t&&this.router.navigate(["/"])}),this.loginForm=this.fb.group({email:["",[o.kI.email,o.kI.required]],password:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(40)]]})}onChangeShowPassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){this.isLoading=!0,console.log(this.loginForm.value),this.authService.login(this.loginForm.value).subscribe({next:t=>{this.isLoading=!1,this.addUserInformationToLocalstorage(t),this.router.navigateByUrl(this.returnUrl)},error:t=>{this.showErrorMessage("Error",t.error.message),this.isLoading=!1}})}addUserInformationToLocalstorage(t){this.userInforService.user={id:t.data.id,username:t.data.username,firstName:t.data.firstName,lastName:t.data.lastName,email:t.data.email,roles:t.data.roles},this.tokenStorageService.saveToken(t.data.token),this.tokenStorageService.saveRefreshToken(t.data.refreshToken),this.tokenStorageService.userChange.next(this.userInforService.user)}get getEmail(){return this.loginForm.controls.email}get getPassword(){return this.loginForm.controls.password}get f(){return this.loginForm.controls}ngOnDestroy(){this.userSupscription&&this.userSupscription.unsubscribe()}showSuccessMessage(t,n){this.messageService.add({severity:"success",summary:t,detail:n,life:1e3})}showErrorMessage(t,n){this.messageService.add({severity:"error",summary:t,detail:n,life:1e3})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(h.e),e.Y36(x.d),e.Y36(M.i),e.Y36(i.F0),e.Y36(i.gz),e.Y36(p.ez))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e._Bn([p.ez,p.YP]),e.jDz],decls:32,vars:29,consts:[[1,"login-wrapper","col-12","sm:col-12","md:col-6","lg:12"],[1,"login-site"],[1,"login-title"],["action","",1,"login-form",3,"formGroup","ngSubmit"],[1,"login-form__field"],["id","email","placeholder","Email","formControlName","email","type","email","pInputText","",1,"login-form__field-input"],[4,"ngIf"],[1,"login-form__field","mb-6"],[1,"p-input-icon-right","block"],[3,"ngClass","click"],["id","password","formControlName","password","type","password","pInputText","",1,"login-form__field-input",3,"type","placeholder"],[1,"grid","action-wrapper","mt-5"],["type","submit","pButton","",1,"btn-action","login-form__btn","col-5","sm:col-4","md:col-4",3,"disabled","loading"],[1,"link-action-wrapper","col-5","sm:col-7","md:col-7"],[1,"link-action",3,"routerLink"],[1,"col-5","sm:col-4","md:col-4"],["id","password-help","class","login-form__field-message p-error block",4,"ngIf"],["id","password-help",1,"login-form__field-message","p-error","block"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",4),e._UZ(8,"input",5),e.YNc(9,I,3,2,"span",6),e.qZA(),e.TgZ(10,"div",7)(11,"div",8)(12,"i",9),e.NdJ("click",function(){return n.onChangeShowPassword()}),e.qZA(),e._UZ(13,"input",10),e.ALo(14,"translate"),e.qZA(),e.YNc(15,E,3,2,"span",6),e.qZA(),e.TgZ(16,"div",11)(17,"button",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",13)(21,"a",14),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"br"),e._uU(25),e.ALo(26,"translate"),e.TgZ(27,"a",14),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e._UZ(30,"div",15),e.qZA()()()(),e._UZ(31,"p-toast")),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,15,"Login")),e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(3),e.Q6J("ngIf",n.getEmail.dirty),e.xp6(3),e.Q6J("ngClass",n.isShowPassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("type",n.isShowPassword?"text":"password")("placeholder",e.lcZ(14,17,"Password")),e.xp6(2),e.Q6J("ngIf",n.getPassword.dirty),e.xp6(2),e.Q6J("disabled",!n.loginForm.valid)("loading",n.isLoading),e.xp6(1),e.hij(" ",e.lcZ(19,19,"Login")," "),e.xp6(3),e.Q6J("routerLink",e.DdM(27,U)),e.xp6(1),e.hij("",e.lcZ(23,21,"ForgotPassword"),"?"),e.xp6(3),e.hij(" ",e.lcZ(26,23,"Or")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(28,Y)),e.xp6(1),e.Oqu(e.lcZ(29,25,"CreateAAccount")))},dependencies:[g.ez,g.mk,g.O5,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,m.j,m.o,c.hJ,c.Hq,i.Bz,i.yS,d.EV,d.FN,u.aw,u.X$],styles:[".login-wrapper[_ngcontent-%COMP%]{margin:auto}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;font-size:20px;text-transform:uppercase}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__field[_ngcontent-%COMP%]{margin-bottom:24px;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__field[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.4rem;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__field-input[_ngcontent-%COMP%]{font-size:1.6rem;width:100%;height:55px;border-radius:0;font-family:Montserrat,sans-serif!important;background:#ededed;color:#00381a;padding:0 20px;font-weight:500}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__field-input[_ngcontent-%COMP%]:focus{border-radius:0;background:#fff;border-color:#ededed;box-shadow:none}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__field-message[_ngcontent-%COMP%]{position:absolute;top:105%;font-size:1.4rem}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{margin-right:unset;margin-left:unset}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__btn[_ngcontent-%COMP%]{margin:0;text-align:center;font-weight:700;font-family:Montserrat,sans-serif!important;text-transform:uppercase;font-weight:500;border-radius:0}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form__btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:no-drop}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .link-action-wrapper[_ngcontent-%COMP%]{margin-left:20px;font-size:1.6rem}.login-wrapper[_ngcontent-%COMP%]   .login-site[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .link-action-wrapper[_ngcontent-%COMP%]   .link-action[_ngcontent-%COMP%]{font-size:1.6rem;color:#00381a;font-weight:500;padding-bottom:6px;display:inline-block}"]}),r})();var A=a(7060);function z(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"LastName")," ",e.lcZ(3,4,"NotEmpty"),"."))}function Q(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,z,4,6,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getLastName.errors?null:t.getLastName.errors.minlength)||(null==t.getLastName.errors?null:t.getLastName.errors.required))}}function j(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"FirstName")," ",e.lcZ(3,4,"NotEmpty"),"."))}function B(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,j,4,6,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getFirstName.errors?null:t.getFirstName.errors.minlength)||(null==t.getFirstName.errors?null:t.getFirstName.errors.required))}}function D(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" Email ",e.lcZ(2,1,"NotEmpty"),"."))}function V(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" Email ",e.lcZ(2,1,"Invalid"),". Vd:tuyen@gmail.com"))}function X(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,D,3,3,"small",16),e.YNc(2,V,3,3,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getEmail.errors?null:t.getEmail.errors.minlength)||(null==t.getEmail.errors?null:t.getEmail.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.getEmail.errors?null:t.getEmail.errors.email)}}function G(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"PasswordAtLeast6Characters"),"."))}function H(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"PasswordMax40Characters"),"."))}function $(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,G,4,6,"small",16),e.YNc(2,H,4,6,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getPassword.errors?null:t.getPassword.errors.minlength)||(null==t.getPassword.errors?null:t.getPassword.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.getPassword.errors?null:t.getPassword.errors.maxlength)}}function K(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"DontMatch"),""))}function W(r,s){1&r&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"NotEmpty"),""))}function ee(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,K,4,6,"small",16),e.YNc(2,W,4,6,"small",16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.getConfirmPassword.errors?null:t.getConfirmPassword.errors.matching),e.xp6(1),e.Q6J("ngIf",null==t.getConfirmPassword.errors?null:t.getConfirmPassword.errors.required)}}const te=function(){return["/auth/login"]};function oe(r,s){1&r&&(e.TgZ(0,"small",16),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"PasswordAtLeast6Characters"),"."))}function se(r,s){1&r&&(e.TgZ(0,"small",16),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"PasswordMax40Characters"),"."))}function ie(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,oe,4,6,"small",15),e.YNc(2,se,4,6,"small",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.getPassword.errors?null:t.getPassword.errors.minlength)||(null==t.getPassword.errors?null:t.getPassword.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.getPassword.errors?null:t.getPassword.errors.maxlength)}}function ae(r,s){1&r&&(e.TgZ(0,"small",16),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"DontMatch"),""))}function le(r,s){1&r&&(e.TgZ(0,"small",16),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Password")," ",e.lcZ(3,4,"NotEmpty"),""))}function ge(r,s){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,ae,4,6,"small",15),e.YNc(2,le,4,6,"small",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.getConfirmPassword.errors?null:t.getConfirmPassword.errors.matching),e.xp6(1),e.Q6J("ngIf",null==t.getConfirmPassword.errors?null:t.getConfirmPassword.errors.required)}}const pe=function(){return["/auth/login"]},ce=function(){return["/auth/register"]},me=[{path:"",component:Z,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"register",component:(()=>{class r{constructor(t,n,l,f,_){this.fb=t,this.authService=n,this.messageService=l,this.shareMessageService=f,this.router=_,this.submitted=!1,this.isShowPassword=!1,this.isShowRePassword=!1,this.isLoading=!1}ngOnInit(){this.initForm()}onChangeShowRePassword(){this.isShowRePassword=!this.isShowRePassword}onChangeShowPassword(){this.isShowPassword=!this.isShowPassword}initForm(){this.registerForm=this.fb.group({firstName:["",o.kI.required],lastName:["",o.kI.required],email:["",[o.kI.email,o.kI.required]],password:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(40)]],confirmPassword:["",[o.kI.required]]},{validators:[A.i.match("password","confirmPassword")]})}onSubmit(){this.isLoading=!0,console.log(this.registerForm.value),this.authService.register(this.registerForm.value).subscribe({next:t=>{this.router.navigate(["/auth/login"]),this.shareMessageService.message.next(t.message),this.isLoading=!1},error:t=>{this.showErrorMessage("Error",t.error.message),this.isLoading=!1}})}get getLastName(){return this.registerForm.controls.lastName}get getFirstName(){return this.registerForm.controls.firstName}get getEmail(){return this.registerForm.controls.email}get getPassword(){return this.registerForm.controls.password}get getConfirmPassword(){return this.registerForm.controls.confirmPassword}get f(){return this.registerForm.controls}showSuccessMessage(t,n){this.messageService.add({severity:"success",summary:t,detail:n,life:3e3})}showErrorMessage(t,n){this.messageService.add({severity:"error",summary:t,detail:n,life:3e3})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(h.e),e.Y36(p.ez),e.Y36(O.E),e.Y36(i.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e._Bn([p.ez,p.YP]),e.jDz],decls:36,vars:35,consts:[[1,"register-wrapper","col-12","sm:col-12","md:col-6"],[1,"register-site"],[1,"register-title"],["action","",1,"register-form",3,"formGroup","ngSubmit"],[1,"register-form__field"],["id","lastName","formControlName","lastName","type","text","pInputText","",1,"register-form__field-input",3,"placeholder"],[4,"ngIf"],["id","firstName","formControlName","firstName","type","text","pInputText","",1,"register-form__field-input",3,"placeholder"],["id","email","placeholder","Email","formControlName","email","type","email","pInputText","",1,"register-form__field-input"],[1,"p-input-icon-right","block"],[3,"ngClass","click"],["id","password","formControlName","password","type","password","pInputText","",1,"register-form__field-input",3,"type","placeholder"],[1,"register-form__field","mb-6"],["id","confirmpassword","pInputText","","formControlName","confirmPassword",1,"register-form__field-input",3,"placeholder","type"],["type","submit","pButton","",1,"btn-action","register-form__btn",3,"disabled","loading"],["pButton","","icon","pi pi-arrow-left",1,"p-button-text","back-login-btn",3,"routerLink","label"],["id","password-help","class","register-form__field-message p-error block",4,"ngIf"],["id","password-help",1,"register-form__field-message","p-error","block"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",4),e._UZ(8,"input",5),e.ALo(9,"translate"),e.YNc(10,Q,2,1,"span",6),e.qZA(),e.TgZ(11,"div",4),e._UZ(12,"input",7),e.ALo(13,"translate"),e.YNc(14,B,2,1,"span",6),e.qZA(),e.TgZ(15,"div",4),e._UZ(16,"input",8),e.YNc(17,X,3,2,"span",6),e.qZA(),e.TgZ(18,"div",4)(19,"div",9)(20,"i",10),e.NdJ("click",function(){return n.onChangeShowPassword()}),e.qZA(),e._UZ(21,"input",11),e.ALo(22,"translate"),e.qZA(),e.YNc(23,$,3,2,"span",6),e.qZA(),e.TgZ(24,"div",12)(25,"div",9)(26,"i",10),e.NdJ("click",function(){return n.onChangeShowRePassword()}),e.qZA(),e._UZ(27,"input",13),e.ALo(28,"translate"),e.qZA(),e.YNc(29,ee,3,2,"span",6),e.qZA(),e.TgZ(30,"button",14),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e._UZ(33,"button",15),e.ALo(34,"translate"),e.qZA()(),e._UZ(35,"p-toast")),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,20,"CreateAAccount")),e.xp6(2),e.Q6J("formGroup",n.registerForm),e.xp6(2),e.Q6J("placeholder",e.lcZ(9,22,"LastName")),e.xp6(2),e.Q6J("ngIf",n.getLastName.dirty),e.xp6(2),e.Q6J("placeholder",e.lcZ(13,24,"FirstName")),e.xp6(2),e.Q6J("ngIf",n.getFirstName.dirty),e.xp6(3),e.Q6J("ngIf",n.getEmail.dirty),e.xp6(3),e.Q6J("ngClass",n.isShowPassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("type",n.isShowPassword?"text":"password")("placeholder",e.lcZ(22,26,"Password")),e.xp6(2),e.Q6J("ngIf",n.getPassword.dirty),e.xp6(3),e.Q6J("ngClass",n.isShowRePassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("placeholder",e.lcZ(28,28,"ConfirmPassword"))("type",n.isShowRePassword?"text":"password"),e.xp6(2),e.Q6J("ngIf",n.getConfirmPassword.dirty),e.xp6(1),e.Q6J("disabled",!n.registerForm.valid)("loading",n.isLoading),e.xp6(1),e.hij(" ",e.lcZ(32,30,"Create")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(34,te))("label",e.lcZ(34,32,"Login")))},dependencies:[g.ez,g.mk,g.O5,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,m.j,m.o,c.hJ,c.Hq,i.Bz,i.rH,d.EV,d.FN,u.aw,u.X$],styles:[".register-wrapper[_ngcontent-%COMP%]{margin:auto}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;font-size:20px;text-transform:uppercase}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__field[_ngcontent-%COMP%]{margin-bottom:28px;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__field[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.4rem;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__field-input[_ngcontent-%COMP%]{font-size:1.6rem;width:100%;height:55px;border-radius:0;font-family:Montserrat,sans-serif!important;background:#ededed;color:#00381a;padding:0 20px;font-weight:500}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__field-input[_ngcontent-%COMP%]:focus{border-radius:0;background:#fff;border-color:#ededed;box-shadow:none}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__field-message[_ngcontent-%COMP%]{position:absolute;top:105%;font-size:1.4rem}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__btn[_ngcontent-%COMP%]{margin:0;width:100%;text-align:center;font-weight:700;font-family:Montserrat,sans-serif!important;text-transform:uppercase;border-radius:0}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:no-drop}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .back-login-btn[_ngcontent-%COMP%]{margin-top:20px;font-family:Montserrat,sans-serif!important;font-size:1.4rem;color:#008641}.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .back-login-btn[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{box-shadow:none}@media screen and (min-width: 768px){.register-wrapper[_ngcontent-%COMP%]   .register-site[_ngcontent-%COMP%]   .register-form__btn[_ngcontent-%COMP%]{width:30%}}"]}),r})()},{path:"verify",component:(()=>{class r{constructor(t,n){this.authService=t,this.route=n,this.message=""}ngOnInit(){this.authService.verify(this.route.snapshot.queryParams.code).subscribe({next:t=>{this.message=t.data,console.log(this.message)},complete:()=>{},error:t=>{this.message=t.error.data,console.log(t)}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.e),e.Y36(i.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-verify"]],standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[1,"line"],[1,"verify"]],template:function(t,n){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"p",1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(n.message))},dependencies:[g.ez],styles:[".verify[_ngcontent-%COMP%]{text-align:center;font-size:40px;margin-top:40px}"]}),r})()},{path:"login",component:R},{path:"reset",component:(()=>{class r{constructor(t,n,l,f,_,w,C,de){this.fb=t,this.authService=n,this.userInforService=l,this.tokenStorageService=f,this.router=_,this.route=w,this.messageService=C,this.shareMessageService=de,this.submitted=!1,this.isLoading=!1,this.isShowRePassword=!1,this.isShowPassword=!1}ngOnInit(){this.initForm()}onChangeShowRePassword(){this.isShowRePassword=!this.isShowRePassword}onChangeShowPassword(){this.isShowPassword=!this.isShowPassword}initForm(){this.resetForm=this.fb.group({password:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(40)]],confirmPassword:["",[o.kI.required]]},{validators:[A.i.match("password","confirmPassword")]})}onSubmit(){this.isLoading=!0,this.authService.reset({verifyCode:this.route.snapshot.queryParams.code,password:this.resetForm.value.password}).subscribe({next:t=>{this.isLoading=!1,this.shareMessageService.message.next(t.data),this.router.navigate(["/auth/login"])},error:t=>{this.isLoading=!1,this.messageService.add({severity:"error",summary:"Error",detail:t.error.message,life:3e3})}})}addUserInformationToLocalstorage(t){this.userInforService.user={id:t.data.id,username:t.data.username,email:t.data.email,roles:t.data.roles},this.tokenStorageService.saveToken(t.data.token),this.tokenStorageService.saveRefreshToken(t.data.refreshToken),this.tokenStorageService.userChange.next(this.userInforService.user)}get getPassword(){return this.resetForm.controls.password}get getConfirmPassword(){return this.resetForm.controls.confirmPassword}get f(){return this.resetForm.controls}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(h.e),e.Y36(x.d),e.Y36(M.i),e.Y36(i.F0),e.Y36(i.gz),e.Y36(p.ez),e.Y36(O.E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e._Bn([p.ez]),e.jDz],decls:34,vars:34,consts:[[1,"reset-wrapper","col-12","sm:col-12","md:col-6"],[1,"reset-site"],[1,"reset-title"],["action","",1,"reset-form",3,"formGroup","ngSubmit"],[1,"reset-form__field"],[1,"p-input-icon-right","block"],[3,"ngClass","click"],["id","password","formControlName","password","type","password","pInputText","",1,"reset-form__field-input",3,"type","placeholder"],[4,"ngIf"],[1,"reset-form__field","mb-6"],["id","confirmpassword","type","password","pInputText","","formControlName","confirmPassword",1,"reset-form__field-input",3,"type","placeholder"],[1,"grid","action-wrapper","mt-3"],["type","submit","pButton","",1,"btn-action","reset-form__btn","col-5","sm:col-4","md:col-4",3,"disabled","loading"],[1,"link-action-wrapper","col-5","sm:col-4","md:col-4"],[1,"link-action",3,"routerLink"],["id","password-help","class","reset-form__field-message p-error block",4,"ngIf"],["id","password-help",1,"reset-form__field-message","p-error","block"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",4)(8,"div",5)(9,"i",6),e.NdJ("click",function(){return n.onChangeShowPassword()}),e.qZA(),e._UZ(10,"input",7),e.ALo(11,"translate"),e.qZA(),e.YNc(12,ie,3,2,"span",8),e.qZA(),e.TgZ(13,"div",9)(14,"div",5)(15,"i",6),e.NdJ("click",function(){return n.onChangeShowRePassword()}),e.qZA(),e._UZ(16,"input",10),e.ALo(17,"translate"),e.qZA(),e.YNc(18,ge,3,2,"span",8),e.qZA(),e.TgZ(19,"div",11)(20,"button",12),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",13)(24,"a",14),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"br"),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"a",14),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()()(),e._UZ(33,"p-toast")),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,18,"ResetPassword")),e.xp6(2),e.Q6J("formGroup",n.resetForm),e.xp6(3),e.Q6J("ngClass",n.isShowPassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("type",n.isShowPassword?"text":"password")("placeholder",e.lcZ(11,20,"Password")),e.xp6(2),e.Q6J("ngIf",n.getPassword.dirty),e.xp6(3),e.Q6J("ngClass",n.isShowRePassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("type",n.isShowRePassword?"text":"password")("placeholder",e.lcZ(17,22,"ConfirmPassword")),e.xp6(2),e.Q6J("ngIf",n.getConfirmPassword.dirty),e.xp6(2),e.Q6J("disabled",!n.resetForm.valid)("loading",n.isLoading),e.xp6(1),e.hij(" ",e.lcZ(22,24,"Reset")," "),e.xp6(3),e.Q6J("routerLink",e.DdM(32,pe)),e.xp6(1),e.hij("",e.lcZ(26,26,"Login"),"?"),e.xp6(3),e.hij(" ",e.lcZ(29,28,"Or")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(33,ce)),e.xp6(1),e.Oqu(e.lcZ(32,30,"Register")))},dependencies:[g.ez,g.mk,g.O5,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,m.j,m.o,c.hJ,c.Hq,i.Bz,i.yS,d.EV,d.FN,u.aw,u.X$],styles:[".reset-wrapper[_ngcontent-%COMP%]{margin:auto}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-title[_ngcontent-%COMP%]{text-align:center;font-size:20px;text-transform:uppercase}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__field[_ngcontent-%COMP%]{margin-bottom:24px;position:relative}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__field[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.4rem;cursor:pointer}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__field-input[_ngcontent-%COMP%]{font-size:1.6rem;width:100%;height:55px;border-radius:0;font-family:Montserrat,sans-serif!important;background:#ededed;color:#00381a;padding:0 20px;font-weight:500}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__field-input[_ngcontent-%COMP%]:focus{border-radius:0;background:#fff;border-color:#ededed;box-shadow:none}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__field-message[_ngcontent-%COMP%]{position:absolute;top:105%;font-size:1.4rem}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{margin-right:unset;margin-left:unset}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__btn[_ngcontent-%COMP%]{margin:0;text-align:center;font-weight:700;font-family:Montserrat,sans-serif!important;text-transform:uppercase;font-weight:500;border-radius:0}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form__btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:no-drop}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form[_ngcontent-%COMP%]   .link-action-wrapper[_ngcontent-%COMP%]{margin-left:20px;font-size:1.6rem}.reset-wrapper[_ngcontent-%COMP%]   .reset-site[_ngcontent-%COMP%]   .reset-form[_ngcontent-%COMP%]   .link-action-wrapper[_ngcontent-%COMP%]   .link-action[_ngcontent-%COMP%]{font-size:1.6rem;color:#00381a;font-weight:500;padding-bottom:6px;display:inline-block}"]}),r})()},{path:"forgot",component:k}]}]},7060:(v,P,a)=>{a.d(P,{i:()=>i});class i{static match(Z,m){return c=>{const o=c.get(Z),p=c.get(m);return p?.errors&&!p.errors.matching?null:o?.value!==p?.value?(c.get(m)?.setErrors({matching:!0}),{matching:!0}):null}}}}}]);