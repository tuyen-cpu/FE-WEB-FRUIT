<p-toast></p-toast>
<div class="product-item-wrapper">
  <div class="product-img">
    <span *ngIf="product.discount" class="discount-tag">-{{ product.discount }}%</span>
    <a [routerLink]="'/product/' + product.slug" class="product-img__link">
      <picture>
        <img
          class=""
          [alt]="product.name"
          data-src="//product.hstatic.net/200000271661/product/traicay-duaxiem_7ca1dbab69fe45d5a64f9e3b43cbbb01_large.jpg"
          data-lowsrc="//product.hstatic.net/200000271661/product/traicay-duaxiem_7ca1dbab69fe45d5a64f9e3b43cbbb01_large.jpg"
          data-sizes="auto"
          [lazyLoad]="
            product.image
              ? urlImage + '/' + product.image.link
              : 'https://cdn.shopify.com/s/files/1/0644/5639/2960/products/2_7ecb6e3f-f567-40a9-879f-6d8bd41dab25_590X668_crop_center.jpg?v=1655376938'
          "
          sizes="197px" />
      </picture>
    </a>
  </div>
  <div class="product-detail">
    <h3 class="product-detail__name">
      <a class="product-detail__name-link">{{ product.name }}</a>
    </h3>
    <div class="product-detail__price">
      <span class="product-detail__price-new">{{
        (product.price || 0) - ((product.price || 0) * (product.discount || 0)) / 100 | myCurrency : 'VND'
      }}</span>
      <del *ngIf="product.discount" class="product-detail__price-old">{{ product.price | currency : 'VND' }}</del>
    </div>
    <div class="product-wrapper">
      <button class="btn-action" (click)="addCart(product)">Add to Cart</button>
    </div>
  </div>
</div>
