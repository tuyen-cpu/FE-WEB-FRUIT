var Nz=Object.defineProperty,Oz=(Mn,ln,Ye)=>ln in Mn?Nz(Mn,ln,{enumerable:!0,configurable:!0,writable:!0,value:Ye}):Mn[ln]=Ye,Qe=(Mn,ln,Ye)=>(Oz(Mn,"symbol"!=typeof ln?ln+"":ln,Ye),Ye);(self.webpackChunkFE_BAN_HANG=self.webpackChunkFE_BAN_HANG||[]).push([[361],{2361:(Mn,ln,Ye)=>{"use strict";Ye.r(ln),Ye.d(ln,{AdminRoutes:()=>bz});var Xt=Ye(5780),$e=Ye(6895),Ue=Ye(5527),lo=Ye(2038),de=Ye(5593),pe=Ye(2137),O=Ye(2453),ue=Ye(2665),he=Ye(4617),oe=Ye(1740),I=Ye(8396),se=Ye(1997),Ie=Ye(805),h=Ye(8274),Gt=Ye(529);let Gi=(()=>{class t{constructor(n){this.httpClient=n,this.REST_API="http://localhost:3000/api/admin/category"}getAll(n,o){return this.httpClient.get(`${this.REST_API}/all?page=${n}&size=${o}`)}add(n){return this.httpClient.post(`${this.REST_API}/add`,n)}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Gt.eN))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var vn=Ye(666),lt=Ye(4006);const rs=function(){return[10,20,30]};function St(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",16)(1,"div",17)(2,"p-paginator",18),h.NdJ("onPageChange",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onPageChange(s))}),h.qZA()()()}if(2&t){const n=h.oxw(2);h.xp6(2),h.Q6J("rows",n.paginator.pageSize)("totalRecords",n.paginator.totalElements)("first",n.paginator.pageSize*n.paginator.pageNumber)("rowsPerPageOptions",h.DdM(4,rs))}}function Md(t,i){1&t&&h.YNc(0,St,3,5,"ng-template",15)}function ut(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",19)(1,"button",20),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.openNew())}),h.qZA(),h.TgZ(2,"span"),h._uU(3),h.qZA()()}if(2&t){const n=h.oxw();h.xp6(3),h.hij(" Total: ",n.paginator.totalElements," catogories")}}function xt(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",21),h._uU(2,"Id"),h.qZA(),h.TgZ(3,"th",22),h._uU(4,"Category Name"),h.qZA(),h.TgZ(5,"th",23),h._uU(6,"Status"),h.qZA(),h.TgZ(7,"th",21),h._uU(8,"Action"),h.qZA()())}function kt(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"tr")(1,"td",21),h._uU(2),h.qZA(),h.TgZ(3,"td",22)(4,"div",24),h._uU(5),h.qZA()(),h.TgZ(6,"td",23)(7,"span"),h._uU(8),h.qZA()(),h.TgZ(9,"td",21)(10,"button",25),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.editCategory(d))}),h.qZA(),h.TgZ(11,"button",26),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.remove(d))}),h.qZA()()()}if(2&t){const n=i.$implicit;h.xp6(2),h.Oqu(n.id),h.xp6(3),h.Oqu(n.name),h.xp6(2),h.Tol("status-default status-"+n.status),h.xp6(1),h.Oqu(0===n.status?"INACTIVE":"ACTIVE"),h.xp6(3),h.Q6J("disabled",!n.status)}}function Yt(t,i){1&t&&(h.TgZ(0,"tr")(1,"td",27),h._uU(2,"No Category found."),h.qZA()())}function xn(t,i){if(1&t&&(h.TgZ(0,"div",38)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.statusSelected.value),h.xp6(1),h.Oqu(n.statusSelected.label)}}function Cn(t,i){if(1&t&&h.YNc(0,xn,4,3,"div",37),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.statusSelected)}}function ft(t,i){if(1&t&&(h.TgZ(0,"div",39)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function Ao(t,i){1&t&&(h.TgZ(0,"small",40),h._uU(1,"Status name is required."),h.qZA())}function yo(t,i){1&t&&(h.TgZ(0,"small",40),h._uU(1,"Name is required."),h.qZA())}const Mi=function(t){return{"ng-invalid ng-dirty":t}};function or(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",28)(1,"div",29)(2,"label",30),h._uU(3,"Status*"),h.qZA(),h.TgZ(4,"p-dropdown",31),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.statusSelected=s)}),h.YNc(5,Cn,1,1,"ng-template",32),h.YNc(6,ft,4,3,"ng-template",33),h.qZA(),h.YNc(7,Ao,2,0,"small",34),h.qZA(),h.TgZ(8,"div",29)(9,"label",35),h._uU(10,"Name*"),h.qZA(),h.TgZ(11,"input",36),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.category.name=s)}),h.qZA(),h.YNc(12,yo,2,0,"small",34),h.qZA()()}if(2&t){const n=h.oxw();h.xp6(4),h.Q6J("ngClass",h.VKq(8,Mi,n.submitted&&!n.statusSelected.label))("options",n.listStatuses)("ngModel",n.statusSelected),h.xp6(3),h.Q6J("ngIf",n.submitted&&!n.statusSelected.label),h.xp6(4),h.Q6J("ngModel",n.category.name)("maxlength",100)("ngClass",h.VKq(10,Mi,n.submitted&&!n.category.name)),h.xp6(1),h.Q6J("ngIf",n.submitted&&!n.category.name)}}function Vm(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"button",41),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.hideDialog())}),h.qZA(),h.TgZ(1,"button",42),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.saveCategory())}),h.qZA()}if(2&t){const n=h.oxw();h.xp6(1),h.Q6J("loading",n.isLoading)}}const j1=function(){return["id","name","quantity","price","discount","status"]},U1=function(){return{width:"50vw",maxHeight:"92vh",overflowY:"auto"}},Xl=function(){return{"960px":"90vw","640px":"95vw"}};let H1=(()=>{class t{constructor(n,o,s,d,f){this.categoryManagerService=n,this.route=o,this.router=s,this.messageService=d,this.confirmationService=f,this.categories=[],this.isLoadingTable=!1,this.isLoading=!1,this.submitted=!1,this.cateogryDialog=!1,this.paginator={totalElements:0,pageNumber:0,pageSize:10},this.paramsURL={},this.listStatuses=[{label:"ACTIVE",value:1},{label:"INACTIVE",value:0}]}ngOnInit(){this.titleComponent=this.route.snapshot.data.title,this.changeParams()}getCategories(){this.categoryManagerService.getAll(this.paginator.pageNumber,this.paginator.pageSize).pipe((0,Ue.g)(300)).subscribe({next:n=>{this.categories=n.data.content,this.isLoadingTable=!1,this.paginator.totalElements=n.data.totalElements,console.log(this.paginator.totalElements)},error:n=>{this.isLoadingTable=!1}})}openNew(){this.submitted=!1,this.cateogryDialog=!0,this.resetValueForm()}resetValueForm(){this.category={},this.statusSelected={label:"ACTIVE",value:1}}hideDialog(){this.cateogryDialog=!1,this.submitted=!1,this.resetValueForm()}saveCategory(){this.submitted=!0,this.isValid()&&(this.category.status=this.statusSelected.value,this.category.slug=lo(this.category.name),console.log(this.category),this.categoryManagerService.add(this.category).subscribe({next:n=>{console.log(n),this.hideDialog(),this.submitted=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Added category successfully!",life:2e3}),this.getCategories()},error:n=>{this.submitted=!1,this.messageService.add({severity:"error",summary:"Error",detail:n.error.message,life:3e3})}}))}editCategory(n){this.cateogryDialog=!0,this.category=this.pick(n,"id","name","slug","status"),this.statusSelected={label:this.category.status?"ACTIVE":"INACTIVE",value:this.category.status}}pick(n,...o){const s={};return o.forEach(d=>s[d]=n[d]),s}remove(n){this.confirmationService.confirm({message:"Do you want to INACTIVE this category?",header:"Update Confirmation",icon:"pi pi-info-circle",accept:()=>{let o=this.pick(n,"id","name","status","slug");o.status=0,this.categoryManagerService.add(o).subscribe({next:s=>{n.status=0,this.messageService.add({severity:"success",summary:"Confirmed",detail:"Record deleted"})},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:s.error.message})}})}})}changeParams(){this.route.queryParams.subscribe(n=>{this.paginator.pageNumber=null==n.page||+n.page<=0?0:n.page-1,this.paginator.pageSize=Number(n.size)||10,this.getCategories()})}onPageChange(n){this.paginator.pageNumber=n.page,this.paginator.pageSize=n.rows,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}addParams(){console.log("Add params"),this.router.navigate([],{relativeTo:this.route,queryParams:this.paramsURL})}isValid(){return!(!this.category.name||!this.statusSelected.label)}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(Gi),h.Y36(Xt.gz),h.Y36(Xt.F0),h.Y36(Ie.ez),h.Y36(Ie.YP))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-category-manager"]],standalone:!0,features:[h._Bn([Ie.YP,Ie.ez]),h.jDz],decls:17,vars:17,consts:[["header","Confirmation","defaultFocus","none","rejectButtonStyleClass","p-button-secondary p-button-plain","icon","pi pi-exclamation-triangle"],[1,"mt-2"],[1,"text-3xl","font-semibold","mb-4"],[1,"col-12","sm:col-12","md:12","lg:col-12","px-0"],[1,"card"],["dataKey","id","responsiveLayout","scroll","scrollHeight","61vh",3,"loading","value","globalFilterFields","rowHover","showCurrentPageReport","responsive","scrollable"],["dt",""],[4,"ngIf"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Category Product","styleClass","p-fluid",3,"visible","breakpoints","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pTemplate","summary"],[1,"page","grid","align-items-center"],[1,"col-12"],[3,"rows","totalRecords","first","rowsPerPageOptions","onPageChange"],[1,"flex","align-items-center","justify-content-between"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[2,"flex","0.5"],[2,"flex","3"],[2,"flex","1"],[1,""],["pButton","","pRipple","","title","Edit","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","title","Delete","icon","pi pi-ban",1,"p-button-rounded","p-button-warning","mr-2",3,"disabled","click"],["colspan","7"],[1,"formgrid","grid"],[1,"field","col-12"],[1,"font-semibold"],["optionLabel","value","placeholder","Select a Status",3,"ngClass","options","ngModel","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["class","p-error",4,"ngIf"],["for","firstName",1,"font-semibold"],["type","text","pInputText","","id","firstName","required","",3,"ngModel","maxlength","ngClass","ngModelChange"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"status-item"],[1,"p-error"],["pButton","","pRipple","","type","button","label","Cancel",1,"p-button-secondary","p-button-plain",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",3,"loading","click"]],template:function(n,o){1&n&&(h._UZ(0,"p-toast")(1,"p-confirmDialog",0),h.TgZ(2,"div",1)(3,"div",2),h._uU(4),h.qZA(),h.TgZ(5,"div",3)(6,"div",4)(7,"p-table",5,6),h.YNc(9,Md,1,0,null,7),h.YNc(10,ut,4,1,"ng-template",8),h.YNc(11,xt,9,0,"ng-template",9),h.YNc(12,kt,12,6,"ng-template",10),h.YNc(13,Yt,3,0,"ng-template",11),h.qZA()(),h.TgZ(14,"p-dialog",12),h.NdJ("visibleChange",function(d){return o.cateogryDialog=d}),h.YNc(15,or,13,12,"ng-template",13),h.YNc(16,Vm,2,1,"ng-template",14),h.qZA()()()),2&n&&(h.xp6(4),h.Oqu(o.titleComponent),h.xp6(3),h.Q6J("loading",o.isLoadingTable)("value",o.categories)("globalFilterFields",h.DdM(14,j1))("rowHover",!0)("showCurrentPageReport",!0)("responsive",!0)("scrollable",!0),h.xp6(2),h.Q6J("ngIf",!o.categories.length),h.xp6(5),h.Akn(h.DdM(15,U1)),h.Q6J("visible",o.cateogryDialog)("breakpoints",h.DdM(16,Xl))("modal",!0))},dependencies:[$e.ez,$e.mk,$e.O5,Xt.Bz,de.hJ,de.Hq,pe.D,pe.Q,Ie.jx,O.EV,O.FN,ue.O,he.S,he.V,oe.j,oe.o,I.U$,I.iA,se.U,se.D,vn.Lt,lt.Fj,lt.JJ,lt.Q7,lt.nD,lt.On],styles:[".status-default[_ngcontent-%COMP%]{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.status-default.status-1[_ngcontent-%COMP%]{background:#c8e6c9;color:#256029}.status-default.status-0[_ngcontent-%COMP%]{background:#ffcdd2;color:#c63737}.status-default.status-label-1[_ngcontent-%COMP%]{color:#256029}.status-default.status-label-0[_ngcontent-%COMP%]{color:#c63737}"]}),t})();var Gu=Ye(7579),Yu=Ye(3250),Id=Ye(5212),Ar=Ye(3608),os=Ye(1383),An=Ye(7340),gn=Ye(9592),Ii=Ye(982),ec=Ye(1795),To=Ye(3718);function W1(t,i){if(1&t&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Oqu(n.label)}}function Z1(t,i){1&t&&h.GkF(0)}const tc=function(t){return{height:t}},q1=function(t,i){return{"p-highlight":t,"p-disabled":i}},G1=function(t){return{"p-highlight":t}},jm=function(t){return{"pi pi-check":t}},nc=function(t){return{$implicit:t}},Y1=["container"],Zs=["filterInput"],Pd=["in"],Ku=["items"],ic=["scroller"];function K1(t,i){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const n=h.oxw(2);h.xp6(1),h.Oqu(n.valuesAsString||"empty")}}function $u(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"span",18),h.NdJ("click",function(s){h.CHM(n);const d=h.oxw().$implicit,f=h.oxw(3);return h.KtG(f.removeChip(d,s))}),h.qZA()}}function Oa(t,i){if(1&t&&(h.TgZ(0,"div",14,15)(2,"span",16),h._uU(3),h.qZA(),h.YNc(4,$u,1,0,"span",17),h.qZA()),2&t){const n=i.$implicit,o=h.oxw(3);h.xp6(3),h.Oqu(o.findLabelByValue(n)),h.xp6(1),h.Q6J("ngIf",!o.disabled)}}function qs(t,i){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const n=h.oxw(3);h.xp6(1),h.Oqu(n.placeholder||n.defaultLabel||"empty")}}function $1(t,i){if(1&t&&(h.ynx(0),h.YNc(1,Oa,5,2,"div",13),h.YNc(2,qs,2,1,"ng-container",7),h.BQk()),2&t){const n=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",n.value),h.xp6(1),h.Q6J("ngIf",!n.value||0===n.value.length)}}function Um(t,i){if(1&t&&(h.ynx(0),h.YNc(1,K1,2,1,"ng-container",7),h.YNc(2,$1,3,2,"ng-container",7),h.BQk()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf","comma"===n.display),h.xp6(1),h.Q6J("ngIf","chip"===n.display)}}function Q1(t,i){1&t&&h.GkF(0)}function J1(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"i",19),h.NdJ("click",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.clear(s))}),h.qZA()}}function X1(t,i){1&t&&h.GkF(0)}function ev(t,i){1&t&&h.GkF(0)}const tv=function(t){return{options:t}};function nv(t,i){if(1&t&&(h.ynx(0),h.YNc(1,ev,1,0,"ng-container",8),h.BQk()),2&t){const n=h.oxw(3);h.xp6(1),h.Q6J("ngTemplateOutlet",n.filterTemplate)("ngTemplateOutletContext",h.VKq(2,tv,n.filterOptions))}}const iv=function(t){return{"p-checkbox-disabled":t}},Hm=function(t,i,n){return{"p-highlight":t,"p-focus":i,"p-disabled":n}};function Fd(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",34)(1,"div",2)(2,"input",35),h.NdJ("focus",function(){h.CHM(n);const s=h.oxw(4);return h.KtG(s.onHeaderCheckboxFocus())})("blur",function(){h.CHM(n);const s=h.oxw(4);return h.KtG(s.onHeaderCheckboxBlur())})("keydown.space",function(s){h.CHM(n);const d=h.oxw(4);return h.KtG(d.toggleAll(s))}),h.qZA()(),h.TgZ(3,"div",36),h.NdJ("click",function(s){h.CHM(n);const d=h.oxw(4);return h.KtG(d.toggleAll(s))}),h._UZ(4,"span",37),h.qZA()()}if(2&t){const n=h.oxw(4);h.Q6J("ngClass",h.VKq(6,iv,n.disabled||n.toggleAllDisabled)),h.xp6(2),h.Q6J("checked",n.allChecked)("disabled",n.disabled||n.toggleAllDisabled),h.xp6(1),h.Q6J("ngClass",h.kEZ(8,Hm,n.allChecked,n.headerCheckboxFocus,n.disabled||n.toggleAllDisabled)),h.uIk("aria-checked",n.allChecked),h.xp6(1),h.Q6J("ngClass",h.VKq(12,jm,n.allChecked))}}function rv(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",38)(1,"input",39,40),h.NdJ("input",function(s){h.CHM(n);const d=h.oxw(4);return h.KtG(d.onFilterInputChange(s))}),h.qZA(),h._UZ(3,"span",41),h.qZA()}if(2&t){const n=h.oxw(4);h.xp6(1),h.Q6J("value",n.filterValue||"")("disabled",n.disabled),h.uIk("autocomplete",n.autocomplete)("placeholder",n.filterPlaceHolder)("aria-label",n.ariaFilterLabel)}}function Qu(t,i){if(1&t){const n=h.EpF();h.YNc(0,Fd,5,14,"div",30),h.YNc(1,rv,4,5,"div",31),h.TgZ(2,"button",32),h.NdJ("click",function(s){h.CHM(n);const d=h.oxw(3);return h.KtG(d.close(s))}),h._UZ(3,"span",33),h.qZA()}if(2&t){const n=h.oxw(3);h.Q6J("ngIf",n.showToggleAll&&!n.selectionLimit),h.xp6(1),h.Q6J("ngIf",n.filter)}}function ov(t,i){if(1&t&&(h.TgZ(0,"div",26),h.Hsn(1),h.YNc(2,X1,1,0,"ng-container",27),h.YNc(3,nv,2,4,"ng-container",28),h.YNc(4,Qu,4,2,"ng-template",null,29,h.W1O),h.qZA()),2&t){const n=h.MAs(5),o=h.oxw(2);h.xp6(2),h.Q6J("ngTemplateOutlet",o.headerTemplate),h.xp6(1),h.Q6J("ngIf",o.filterTemplate)("ngIfElse",n)}}function Wm(t,i){1&t&&h.GkF(0)}const Zm=function(t,i){return{$implicit:t,options:i}};function yr(t,i){if(1&t&&h.YNc(0,Wm,1,0,"ng-container",8),2&t){const n=i.$implicit,o=i.options;h.oxw(2);const s=h.MAs(6);h.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",h.WLB(2,Zm,n,o))}}function qm(t,i){1&t&&h.GkF(0)}function Gm(t,i){if(1&t&&h.YNc(0,qm,1,0,"ng-container",8),2&t){const n=i.options,o=h.oxw(4);h.Q6J("ngTemplateOutlet",o.loaderTemplate)("ngTemplateOutletContext",h.VKq(2,tv,n))}}function sv(t,i){1&t&&(h.ynx(0),h.YNc(1,Gm,1,4,"ng-template",45),h.BQk())}function av(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-scroller",42,43),h.NdJ("onLazyLoad",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onLazyLoad.emit(s))}),h.YNc(2,yr,1,5,"ng-template",44),h.YNc(3,sv,2,0,"ng-container",7),h.qZA()}if(2&t){const n=h.oxw(2);h.Akn(h.VKq(9,tc,n.scrollHeight)),h.Q6J("items",n.optionsToRender)("itemSize",n.virtualScrollItemSize||n._itemSize)("autoSize",!0)("tabindex",-1)("lazy",n.lazy)("options",n.virtualScrollOptions),h.xp6(3),h.Q6J("ngIf",n.loaderTemplate)}}function Ju(t,i){1&t&&h.GkF(0)}const ji=function(){return{}};function lv(t,i){if(1&t&&(h.ynx(0),h.YNc(1,Ju,1,0,"ng-container",8),h.BQk()),2&t){h.oxw();const n=h.MAs(6),o=h.oxw();h.xp6(1),h.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",h.WLB(3,Zm,o.optionsToRender,h.DdM(2,ji)))}}function Ym(t,i){if(1&t&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&t){const n=h.oxw().$implicit,o=h.oxw(4);h.xp6(1),h.Oqu(o.getOptionGroupLabel(n)||"empty")}}function Km(t,i){1&t&&h.GkF(0)}function $m(t,i){1&t&&h.GkF(0)}function rc(t,i){if(1&t&&(h.TgZ(0,"li",51),h.YNc(1,Ym,2,1,"span",7),h.YNc(2,Km,1,0,"ng-container",8),h.qZA(),h.YNc(3,$m,1,0,"ng-container",8)),2&t){const n=i.$implicit,o=h.oxw(2).options,s=h.MAs(5),d=h.oxw(2);h.Q6J("ngStyle",h.VKq(6,tc,o.itemSize+"px")),h.xp6(1),h.Q6J("ngIf",!d.groupTemplate),h.xp6(1),h.Q6J("ngTemplateOutlet",d.groupTemplate)("ngTemplateOutletContext",h.VKq(8,nc,n)),h.xp6(1),h.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",h.VKq(10,nc,d.getOptionGroupChildren(n)))}}function cn(t,i){if(1&t&&(h.ynx(0),h.YNc(1,rc,4,12,"ng-template",50),h.BQk()),2&t){const n=h.oxw().$implicit;h.xp6(1),h.Q6J("ngForOf",n)}}function cv(t,i){1&t&&h.GkF(0)}function Xu(t,i){if(1&t&&(h.ynx(0),h.YNc(1,cv,1,0,"ng-container",8),h.BQk()),2&t){const n=h.oxw().$implicit,o=h.MAs(5);h.xp6(1),h.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",h.VKq(2,nc,n))}}function Qm(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-multiSelectItem",52),h.NdJ("onClick",function(s){h.CHM(n);const d=h.oxw(4);return h.KtG(d.onOptionClick(s))})("onKeydown",function(s){h.CHM(n);const d=h.oxw(4);return h.KtG(d.onOptionKeydown(s))}),h.qZA()}if(2&t){const n=i.$implicit,o=h.oxw(2).options,s=h.oxw(2);h.Q6J("option",n)("selected",s.isSelected(n))("label",s.getOptionLabel(n))("disabled",s.isOptionDisabled(n))("template",s.itemTemplate)("itemSize",o.itemSize)}}function oc(t,i){1&t&&h.YNc(0,Qm,1,6,"ng-template",50),2&t&&h.Q6J("ngForOf",i.$implicit)}function ef(t,i){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const n=h.oxw(4);h.xp6(1),h.hij(" ",n.emptyFilterMessageLabel," ")}}function Ba(t,i){1&t&&h.GkF(0,null,54)}function Jm(t,i){if(1&t&&(h.TgZ(0,"li",53),h.YNc(1,ef,2,1,"ng-container",28),h.YNc(2,Ba,2,0,"ng-container",27),h.qZA()),2&t){const n=h.oxw().options,o=h.oxw(2);h.Q6J("ngStyle",h.VKq(4,tc,n.itemSize+"px")),h.xp6(1),h.Q6J("ngIf",!o.emptyFilterTemplate&&!o.emptyTemplate)("ngIfElse",o.emptyFilter),h.xp6(1),h.Q6J("ngTemplateOutlet",o.emptyFilterTemplate||o.emptyTemplate)}}function tf(t,i){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const n=h.oxw(4);h.xp6(1),h.hij(" ",n.emptyMessageLabel," ")}}function dv(t,i){1&t&&h.GkF(0,null,55)}function Xm(t,i){if(1&t&&(h.TgZ(0,"li",53),h.YNc(1,tf,2,1,"ng-container",28),h.YNc(2,dv,2,0,"ng-container",27),h.qZA()),2&t){const n=h.oxw().options,o=h.oxw(2);h.Q6J("ngStyle",h.VKq(4,tc,n.itemSize+"px")),h.xp6(1),h.Q6J("ngIf",!o.emptyTemplate)("ngIfElse",o.empty),h.xp6(1),h.Q6J("ngTemplateOutlet",o.emptyTemplate)}}function hv(t,i){if(1&t&&(h.TgZ(0,"ul",46,47),h.YNc(2,cn,2,1,"ng-container",7),h.YNc(3,Xu,2,4,"ng-container",7),h.YNc(4,oc,1,1,"ng-template",null,48,h.W1O),h.YNc(6,Jm,3,6,"li",49),h.YNc(7,Xm,3,6,"li",49),h.qZA()),2&t){const n=i.options,o=h.oxw(2);h.Akn(n.contentStyle),h.Q6J("ngClass",n.contentStyleClass),h.xp6(2),h.Q6J("ngIf",o.group),h.xp6(1),h.Q6J("ngIf",!o.group),h.xp6(3),h.Q6J("ngIf",o.hasFilter()&&o.isEmpty()),h.xp6(1),h.Q6J("ngIf",!o.hasFilter()&&o.isEmpty())}}function nf(t,i){1&t&&h.GkF(0)}function uv(t,i){if(1&t&&(h.TgZ(0,"div",56),h.Hsn(1,1),h.YNc(2,nf,1,0,"ng-container",27),h.qZA()),2&t){const n=h.oxw(2);h.xp6(2),h.Q6J("ngTemplateOutlet",n.footerTemplate)}}const fv=function(){return["p-multiselect-panel p-component"]},pv=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},La=function(t){return{value:"visible",params:t}};function sc(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",20),h.NdJ("@overlayAnimation.start",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onOverlayAnimationStart(s))})("@overlayAnimation.done",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onOverlayAnimationEnd(s))})("keydown",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onKeydown(s))})("click",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onOverlayClick(s))}),h.YNc(1,ov,6,3,"div",21),h.TgZ(2,"div",22),h.YNc(3,av,4,11,"p-scroller",23),h.YNc(4,lv,2,6,"ng-container",7),h.YNc(5,hv,8,7,"ng-template",null,24,h.W1O),h.qZA(),h.YNc(7,uv,3,1,"div",25),h.qZA()}if(2&t){const n=h.oxw();h.Tol(n.panelStyleClass),h.Q6J("ngClass",h.DdM(11,fv))("@overlayAnimation",h.VKq(15,La,h.WLB(12,pv,n.showTransitionOptions,n.hideTransitionOptions)))("ngStyle",n.panelStyle),h.xp6(1),h.Q6J("ngIf",n.showHeader),h.xp6(1),h.Udp("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),h.xp6(1),h.Q6J("ngIf",n.virtualScroll),h.xp6(1),h.Q6J("ngIf",!n.virtualScroll),h.xp6(3),h.Q6J("ngIf",n.footerFacet||n.footerTemplate)}}const Nd=[[["p-header"]],[["p-footer"]]],Od=function(t,i,n,o){return{"p-multiselect p-component":!0,"p-multiselect-open":t,"p-multiselect-chip":i,"p-focus":n,"p-disabled":o}},Bd=function(t,i){return{"p-placeholder":t,"p-multiselect-label-empty":i}},Ra=function(){return{"p-multiselect-trigger":!0}},e0=["p-header","p-footer"],rf={provide:lt.JU,useExisting:(0,h.Gpc)(()=>t0),multi:!0};let on=(()=>{class t{constructor(){this.onClick=new h.vpe,this.onKeydown=new h.vpe}onOptionClick(n){this.onClick.emit({originalEvent:n,option:this.option})}onOptionKeydown(n){this.onKeydown.emit({originalEvent:n,option:this.option})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){1&n&&(h.TgZ(0,"li",0),h.NdJ("click",function(d){return o.onOptionClick(d)})("keydown",function(d){return o.onOptionKeydown(d)}),h.TgZ(1,"div",1)(2,"div",2),h._UZ(3,"span",3),h.qZA()(),h.YNc(4,W1,2,1,"span",4),h.YNc(5,Z1,1,0,"ng-container",5),h.qZA()),2&n&&(h.Q6J("ngStyle",h.VKq(9,tc,o.itemSize+"px"))("ngClass",h.WLB(11,q1,o.selected,o.disabled)),h.uIk("aria-label",o.label)("tabindex",o.disabled?null:"0"),h.xp6(2),h.Q6J("ngClass",h.VKq(14,G1,o.selected)),h.xp6(1),h.Q6J("ngClass",h.VKq(16,jm,o.selected)),h.xp6(1),h.Q6J("ngIf",!o.template),h.xp6(1),h.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",h.VKq(18,nc,o.option)))},dependencies:[$e.mk,$e.O5,$e.tP,$e.PC,ec.H],encapsulation:2}),t})(),t0=(()=>{class t{constructor(n,o,s,d,f,g){this.el=n,this.renderer=o,this.cd=s,this.filterService=d,this.config=f,this.overlayService=g,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.autoZIndex=!0,this.baseZIndex=0,this.scrollHeight="200px",this.lazy=!1,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new h.vpe,this.onFilter=new h.vpe,this.onFocus=new h.vpe,this.onBlur=new h.vpe,this.onClick=new h.vpe,this.onClear=new h.vpe,this.onPanelShow=new h.vpe,this.onPanelHide=new h.vpe,this.onLazyLoad=new h.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}set defaultLabel(n){this._defaultLabel=n,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(n){this._placeholder=n,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(n){this._options=n,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(n){this._filterValue=n,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=n,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:n=>this.onFilterInputChange(n),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"item":default:this.itemTemplate=n.template;break;case"group":this.groupTemplate=n.template;break;case"selectedItems":this.selectedItemsTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"filter":this.filterTemplate=n.template;break;case"emptyfilter":this.emptyFilterTemplate=n.template;break;case"empty":this.emptyTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"loader":this.loaderTemplate=n.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.alignOverlay(),this.filtered=!1)}getOptionLabel(n){return this.optionLabel?Ii.gb.resolveFieldData(n,this.optionLabel):n&&null!=n.label?n.label:n}getOptionValue(n){return this.optionValue?Ii.gb.resolveFieldData(n,this.optionValue):!this.optionLabel&&n&&void 0!==n.value?n.value:n}getOptionGroupLabel(n){return this.optionGroupLabel?Ii.gb.resolveFieldData(n,this.optionGroupLabel):n&&null!=n.label?n.label:n}getOptionGroupChildren(n){return this.optionGroupChildren?Ii.gb.resolveFieldData(n,this.optionGroupChildren):n.items}isOptionDisabled(n){return(this.optionDisabled?Ii.gb.resolveFieldData(n,this.optionDisabled):!(!n||void 0===n.disabled)&&n.disabled)||this.maxSelectionLimitReached&&!this.isSelected(n)}writeValue(n){this.value=n,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}onOptionClick(n){let o=n.option;if(this.isOptionDisabled(o))return;let s=this.getOptionValue(o),d=this.findSelectionIndex(s);-1!=d?(this.value=this.value.filter((f,g)=>g!=d),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],s]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:n.originalEvent,value:this.value,itemValue:s}),this.updateLabel(),this.updateFilledState()}isSelected(n){return-1!=this.findSelectionIndex(this.getOptionValue(n))}findSelectionIndex(n){let o=-1;if(this.value)for(let s=0;s<this.value.length;s++)if(Ii.gb.equals(this.value[s],n,this.dataKey)){o=s;break}return o}get toggleAllDisabled(){let n=this.optionsToRender;if(!n||0===n.length)return!0;for(let o of n)if(!this.isOptionDisabled(o))return!1;return!0}toggleAll(n){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),this.updateFilledState(),this.updateLabel(),n.preventDefault())}checkAll(){let o=[];this.optionsToRender.forEach(s=>{if(this.group){let d=this.getOptionGroupChildren(s);d&&d.forEach(f=>{let g=this.isOptionDisabled(f);(!g||g&&this.isSelected(f))&&o.push(this.getOptionValue(f))})}else{let d=this.isOptionDisabled(s);(!d||d&&this.isSelected(s))&&o.push(this.getOptionValue(s))}}),this.value=o}uncheckAll(){let o=[];this.optionsToRender.forEach(s=>{this.group?s.items&&s.items.forEach(d=>{this.isOptionDisabled(d)&&this.isSelected(d)&&o.push(this.getOptionValue(d))}):this.isOptionDisabled(s)&&this.isSelected(s)&&o.push(this.getOptionValue(s))}),this.value=o}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayClick(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}onOverlayAnimationStart(n){switch(n.toState){case"visible":this.overlay=n.element,this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&Ii.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(n){"void"===n.toState&&Ii.P9.clear(n.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):gn.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=gn.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.overlay&&(this.appendTo?gn.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):gn.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}hide(){this.overlayVisible=!1,this.unbindDocumentClickListener(),this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(n){this.hide(),n.preventDefault(),n.stopPropagation()}clear(n){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),n.stopPropagation()}onMouseclick(n,o){this.disabled||this.readonly||n.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(n),!this.isOverlayClick(n)&&!gn.p.hasClass(n.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():(o.focus(),this.show())))}removeChip(n,o){this.value=this.value.filter(s=>!Ii.gb.equals(s,n,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:o,value:this.value,itemValue:n}),this.updateLabel(),this.updateFilledState()}isOverlayClick(n){let o=n.target;return!!this.overlay&&(this.overlay.isSameNode(o)||this.overlay.contains(o))}isOutsideClicked(n){return!(this.el.nativeElement.isSameNode(n.target)||this.el.nativeElement.contains(n.target)||this.isOverlayClick(n))}onInputFocus(n){this.focus=!0,this.onFocus.emit({originalEvent:n})}onInputBlur(n){this.focus=!1,this.onBlur.emit({originalEvent:n}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(n){if(!this.readonly)switch(n.originalEvent.which){case 40:var o=this.findNextItem(n.originalEvent.target.parentElement);o&&o.focus(),n.originalEvent.preventDefault();break;case 38:var s=this.findPrevItem(n.originalEvent.target.parentElement);s&&s.focus(),n.originalEvent.preventDefault();break;case 13:this.onOptionClick(n),n.originalEvent.preventDefault();break;case 9:this.hide()}}findNextItem(n){let o=n.nextElementSibling;return o?gn.p.hasClass(o.children[0],"p-disabled")||gn.p.isHidden(o.children[0])||gn.p.hasClass(o,"p-multiselect-item-group")?this.findNextItem(o):o.children[0]:null}findPrevItem(n){let o=n.previousElementSibling;return o?gn.p.hasClass(o.children[0],"p-disabled")||gn.p.isHidden(o.children[0])||gn.p.hasClass(o,"p-multiselect-item-group")?this.findPrevItem(o):o.children[0]:null}onKeydown(n){switch(n.which){case 40:!this.overlayVisible&&n.altKey&&(this.show(),n.preventDefault());break;case 32:this.overlayVisible||(this.show(),n.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let n="";for(let o=0;o<this.value.length;o++){let s=this.findLabelByValue(this.value[o]);s&&(n.length>0&&(n+=", "),n+=s)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=n;else{let o=/{(.*?)}/;this.valuesAsString=o.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(o)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(n){if(this.group){let o=null;for(let s=0;s<this.options.length;s++){let d=this.getOptionGroupChildren(this.options[s]);if(d&&(o=this.searchLabelByValue(n,d),o))break}return o}return this.searchLabelByValue(n,this.options)}searchLabelByValue(n,o){let s=null;for(let d=0;d<o.length;d++){let f=o[d],g=this.getOptionValue(f);if(null==n&&null==g||Ii.gb.equals(n,g,this.dataKey)){s=this.getOptionLabel(f);break}}return s}get allChecked(){let n=this.optionsToRender;if(!n||0===n.length)return!1;{let o=0,s=0,d=0,f=this.group?0:this.optionsToRender.length;for(let g of n)if(this.group)for(let _ of this.getOptionGroupChildren(g)){let k=this.isOptionDisabled(_),w=this.isSelected(_);if(k)w?o++:s++;else{if(!w)return!1;d++}f++}else{let _=this.isOptionDisabled(g),k=this.isSelected(g);if(_)k?o++:s++;else{if(!k)return!1;d++}}return f===o||f===d||d&&f===d+s+o}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Ie.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Ie.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(n){this._filterValue=n.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:n,filter:this._filterValue}),this.cd.detectChanges(),this.alignOverlay()}activateFilter(){if(this.hasFilter()&&this._options){let n=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let o=[];for(let s of this.options){let d=this.filterService.filter(this.getOptionGroupChildren(s),n,this.filterValue,this.filterMatchMode,this.filterLocale);d&&d.length&&o.push({...s,[this.optionGroupChildren]:d})}this._filteredOptions=o}else this._filteredOptions=this.filterService.filter(this.options,n,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",o=>{!this.preventDocumentDefault&&this.isOutsideClicked(o)&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!gn.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new gn.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Ii.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Ie.iZ),h.Y36(Ie.b4),h.Y36(Ie.F0))},t.\u0275cmp=h.Xpm({type:t,selectors:[["p-multiSelect"]],contentQueries:function(n,o,s){if(1&n&&(h.Suo(s,Ie.$_,5),h.Suo(s,Ie.h4,5),h.Suo(s,Ie.jx,4)),2&n){let d;h.iGM(d=h.CRH())&&(o.footerFacet=d.first),h.iGM(d=h.CRH())&&(o.headerFacet=d.first),h.iGM(d=h.CRH())&&(o.templates=d)}},viewQuery:function(n,o){if(1&n&&(h.Gf(Y1,5),h.Gf(Zs,5),h.Gf(Pd,5),h.Gf(Ku,5),h.Gf(ic,5)),2&n){let s;h.iGM(s=h.CRH())&&(o.containerViewChild=s.first),h.iGM(s=h.CRH())&&(o.filterInputChild=s.first),h.iGM(s=h.CRH())&&(o.accessibleViewChild=s.first),h.iGM(s=h.CRH())&&(o.itemsViewChild=s.first),h.iGM(s=h.CRH())&&(o.scroller=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,o){2&n&&h.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus||o.overlayVisible)("p-multiselect-clearable",o.showClear&&!o.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[h._Bn([rf])],ngContentSelectors:e0,decls:13,vars:34,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class","keydown","click",4,"ngIf"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown","click"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(n,o){if(1&n){const s=h.EpF();h.F$t(Nd),h.TgZ(0,"div",0,1),h.NdJ("click",function(f){h.CHM(s);const g=h.MAs(4);return h.KtG(o.onMouseclick(f,g))}),h.TgZ(2,"div",2)(3,"input",3,4),h.NdJ("focus",function(f){return o.onInputFocus(f)})("blur",function(f){return o.onInputBlur(f)})("keydown",function(f){return o.onKeydown(f)}),h.qZA()(),h.TgZ(5,"div",5)(6,"div",6),h.YNc(7,Um,3,2,"ng-container",7),h.YNc(8,Q1,1,0,"ng-container",8),h.qZA(),h.YNc(9,J1,1,0,"i",9),h.qZA(),h.TgZ(10,"div",10),h._UZ(11,"span",11),h.qZA(),h.YNc(12,sc,8,17,"div",12),h.qZA()}2&n&&(h.Tol(o.styleClass),h.Q6J("ngClass",h.l5B(23,Od,o.overlayVisible,"chip"===o.display,o.focus,o.disabled))("ngStyle",o.style),h.xp6(3),h.Q6J("disabled",o.disabled),h.uIk("label",o.label)("id",o.inputId)("name",o.name)("tabindex",o.tabindex)("aria-expanded",o.overlayVisible)("aria-labelledby",o.ariaLabelledBy),h.xp6(2),h.Q6J("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),h.xp6(1),h.Q6J("ngClass",h.WLB(28,Bd,o.valuesAsString===(o.defaultLabel||o.placeholder),!(null!=o.valuesAsString&&0!==o.valuesAsString.length||null!=o.placeholder&&0!==o.placeholder.length))),h.xp6(1),h.Q6J("ngIf",!o.selectedItemsTemplate),h.xp6(1),h.Q6J("ngTemplateOutlet",o.selectedItemsTemplate)("ngTemplateOutletContext",h.VKq(31,nc,o.value)),h.xp6(1),h.Q6J("ngIf",null!=o.value&&o.filled&&!o.disabled&&o.showClear),h.xp6(1),h.Q6J("ngClass",h.DdM(33,Ra)),h.xp6(1),h.Q6J("ngClass",o.dropdownIcon),h.xp6(1),h.Q6J("ngIf",o.overlayVisible))},dependencies:[$e.mk,$e.sg,$e.O5,$e.tP,$e.PC,Ie.jx,Ar.u,ec.H,To.T,on],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect .p-multiselect-panel{min-width:100%}.p-multiselect-panel{position:absolute;top:0;left:0}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,An.X$)("overlayAnimation",[(0,An.eR)(":enter",[(0,An.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,An.jt)("{{showTransitionParams}}")]),(0,An.eR)(":leave",[(0,An.jt)("{{hideTransitionParams}}",(0,An.oB)({opacity:0}))])])]},changeDetection:0}),t})(),n0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[$e.ez,Ie.m8,Ar.z,ec.T,To.v,Ie.m8,To.v]}),t})();var ss=Ye(585),of=Ye(3516);const r0=["dt"];function rt(t,i){if(1&t&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&t){const n=h.oxw(2);h.xp6(1),h.hij(" Total: ",n.paginator.totalElements," Users")}}function De(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"i",34),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.clearFilterEmail())}),h.qZA()}}function o0(t,i){if(1&t&&(h.TgZ(0,"div",36)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.roleFilterSelected.value),h.xp6(1),h.Oqu(n.roleFilterSelected.label)}}function vt(t,i){if(1&t&&h.YNc(0,o0,4,3,"div",35),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.roleFilterSelected.label)}}function s0(t,i){if(1&t&&(h.TgZ(0,"div",37)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit,o=h.oxw(2);h.Q6J("hidden",!o.includesRole(o.currentUser,"admin")&&"admin"===n.value),h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function a0(t,i){if(1&t&&(h.TgZ(0,"div",36)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.statusFilterSelected.value),h.xp6(1),h.Oqu(n.statusFilterSelected.label)}}function l0(t,i){if(1&t&&h.YNc(0,a0,4,3,"div",35),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.statusFilterSelected)}}function sf(t,i){if(1&t&&(h.TgZ(0,"div",38)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function gv(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-button",39),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onFilterUser())}),h.qZA()}}function mv(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",15)(1,"button",16),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.openNew())}),h.qZA(),h.YNc(2,rt,2,1,"span",17),h.qZA(),h.TgZ(3,"div",18)(4,"div",19)(5,"label",20),h._uU(6,"Email"),h.qZA(),h.TgZ(7,"span",21),h.YNc(8,De,1,0,"i",22),h.TgZ(9,"input",23),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.filter.email=s)}),h.qZA()()(),h.TgZ(10,"div",24)(11,"label",25),h._uU(12,"Role"),h.qZA(),h.TgZ(13,"p-dropdown",26),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.roleFilterSelected=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangeRoleFilter())}),h.YNc(14,vt,1,1,"ng-template",27),h.YNc(15,s0,4,4,"ng-template",28),h.qZA()(),h.TgZ(16,"div",24)(17,"label",25),h._uU(18,"Status"),h.qZA(),h.TgZ(19,"p-dropdown",29),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.statusFilterSelected=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangeStatusFilter())}),h.YNc(20,l0,1,1,"ng-template",27),h.YNc(21,sf,4,3,"ng-template",28),h.qZA()(),h.TgZ(22,"div",30)(23,"label",25),h._uU(24,"Create Date"),h.qZA(),h.TgZ(25,"p-calendar",31),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.datesFilter=s)})("onSelect",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onSelectDateFilter())})("onClearClick",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onClearDate())}),h.qZA()(),h.TgZ(26,"div",32),h.YNc(27,gv,1,0,"p-button",33),h.qZA()()}if(2&t){const n=h.oxw();h.xp6(2),h.Q6J("ngIf",n.users.length),h.xp6(6),h.Q6J("ngIf",n.filter.email),h.xp6(1),h.Q6J("ngModel",n.filter.email)("maxLength",30),h.xp6(4),h.Q6J("options",n.listRoles)("ngModel",n.roleFilterSelected)("showClear",!0),h.xp6(6),h.Q6J("options",n.listStatuses)("ngModel",n.statusFilterSelected)("showClear",!0),h.xp6(6),h.Q6J("ngModel",n.datesFilter)("showButtonBar",!0)("readonlyInput",!0)("maxDate",n.maxDateValue)("showIcon",!0),h.xp6(2),h.Q6J("ngIf",n.hasValueFilter())}}function c0(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",40),h._uU(2,"Id "),h._UZ(3,"p-sortIcon",41),h.qZA(),h.TgZ(4,"th",42),h._uU(5,"Email "),h._UZ(6,"p-sortIcon",43),h.qZA(),h.TgZ(7,"th",44),h._uU(8,"Last Name"),h.qZA(),h.TgZ(9,"th",44),h._uU(10,"First name"),h.qZA(),h.TgZ(11,"th",45),h._uU(12,"Role"),h.qZA(),h.TgZ(13,"th",45),h._uU(14,"Status"),h.qZA(),h.TgZ(15,"th",45),h._uU(16,"Action"),h.qZA()())}function _v(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"tr")(1,"td",46),h._uU(2),h.qZA(),h.TgZ(3,"td",47),h._UZ(4,"div",48),h.ALo(5,"highlighter"),h.qZA(),h.TgZ(6,"td",44),h._UZ(7,"div",49),h.ALo(8,"highlighter"),h.qZA(),h.TgZ(9,"td",44),h._UZ(10,"div",49),h.ALo(11,"highlighter"),h.qZA(),h.TgZ(12,"td",45)(13,"span",50),h._uU(14),h.qZA()(),h.TgZ(15,"td",45)(16,"span"),h._uU(17),h.qZA()(),h.TgZ(18,"td",45)(19,"button",51),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.editUser(d))}),h.qZA(),h.TgZ(20,"button",52),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.remove(d))}),h.qZA()()()}if(2&t){const n=i.$implicit,o=h.oxw();h.xp6(2),h.Oqu(n.id),h.xp6(2),h.Q6J("innerHTML",h.Dn7(5,10,n.email,o.filter.email,""),h.oJD),h.xp6(3),h.Q6J("innerHTML",h.Dn7(8,14,n.lastName,"",""),h.oJD),h.xp6(3),h.Q6J("innerHTML",h.Dn7(11,18,n.firstName,"",""),h.oJD),h.xp6(4),h.Oqu(null!==n.roles&&n.roles[0]),h.xp6(2),h.Tol("status-default status-"+n.status),h.xp6(1),h.Oqu(0===n.status?"INACTIVE":"ACTIVE"),h.xp6(2),h.Q6J("disabled",!o.includesRole(o.currentUser,"admin")&&o.includesRole(n,"admin")),h.xp6(1),h.Q6J("disabled",!o.includesRole(o.currentUser,"admin")&&o.includesRole(n,"admin")||!n.status)}}const bv=function(){return[10,20,30]};function sr(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",53)(1,"div",54)(2,"p-paginator",55),h.NdJ("onPageChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onPageChange(s))}),h.qZA()()()}if(2&t){const n=h.oxw();h.xp6(2),h.Q6J("rows",n.paginator.pageSize)("totalRecords",n.paginator.totalElements)("first",n.paginator.pageSize*n.paginator.pageNumber)("rowsPerPageOptions",h.DdM(4,bv))}}function kv(t,i){1&t&&(h.TgZ(0,"tr")(1,"td",56),h._uU(2,"No user found."),h.qZA()())}function Ld(t,i){1&t&&(h.TgZ(0,"small",71),h._uU(1,"First name is required."),h.qZA())}function wv(t,i){1&t&&(h.TgZ(0,"small",71),h._uU(1,"Last name is required."),h.qZA())}function vv(t,i){1&t&&(h.TgZ(0,"small",71),h._uU(1,"Email name is required."),h.qZA())}function xv(t,i){1&t&&(h.TgZ(0,"small",71),h._uU(1,"Email is invalid."),h.qZA())}function Cv(t,i){if(1&t&&(h.TgZ(0,"div",36)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.roleSelected.value),h.xp6(1),h.Oqu(n.roleSelected.label)}}function Av(t,i){if(1&t&&h.YNc(0,Cv,4,3,"div",35),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.roleSelected.label)}}function za(t,i){if(1&t&&(h.TgZ(0,"div",37)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit,o=h.oxw(2);h.Q6J("hidden",!o.includesRole(o.currentUser,"admin")&&"admin"===n.value),h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function Rd(t,i){1&t&&(h.TgZ(0,"small",71),h._uU(1,"Role is required."),h.qZA())}function yv(t,i){if(1&t&&(h.TgZ(0,"div",36)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.statusSelected.value),h.xp6(1),h.Oqu(n.statusSelected.label)}}function Tv(t,i){if(1&t&&h.YNc(0,yv,4,3,"div",35),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.statusSelected)}}function Sv(t,i){if(1&t&&(h.TgZ(0,"div",38)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function Ev(t,i){1&t&&(h.TgZ(0,"small",71),h._uU(1,"Status name is required."),h.qZA())}const So=function(t){return{"ng-invalid ng-dirty":t}};function ac(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",57)(1,"div",58)(2,"label",59),h._uU(3,"First name*"),h.qZA(),h.TgZ(4,"input",60),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.user.firstName=s)}),h.qZA(),h.YNc(5,Ld,2,0,"small",61),h.qZA(),h.TgZ(6,"div",58)(7,"label",62),h._uU(8,"Last name*"),h.qZA(),h.TgZ(9,"input",63),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.user.lastName=s)}),h.qZA(),h.YNc(10,wv,2,0,"small",61),h.qZA(),h.TgZ(11,"div",64)(12,"label",65),h._uU(13,"Email*"),h.qZA(),h.TgZ(14,"input",66,67),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.user.email=s)}),h.qZA(),h.YNc(16,vv,2,0,"small",61),h.YNc(17,xv,2,0,"small",61),h.qZA(),h.TgZ(18,"div",68)(19,"label",69),h._uU(20,"Role*"),h.qZA(),h.TgZ(21,"p-dropdown",70),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.roleSelected=s)}),h.YNc(22,Av,1,1,"ng-template",27),h.YNc(23,za,4,4,"ng-template",28),h.qZA(),h.YNc(24,Rd,2,0,"small",61),h.qZA(),h.TgZ(25,"div",68)(26,"label",69),h._uU(27,"Status*"),h.qZA(),h.TgZ(28,"p-dropdown",70),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.statusSelected=s)}),h.YNc(29,Tv,1,1,"ng-template",27),h.YNc(30,Sv,4,3,"ng-template",28),h.qZA(),h.YNc(31,Ev,2,0,"small",61),h.qZA()()}if(2&t){const n=h.MAs(15),o=h.oxw();h.xp6(4),h.Q6J("ngModel",o.user.firstName)("maxLength",20)("ngClass",h.VKq(22,So,o.submitted&&!o.user.firstName)),h.xp6(1),h.Q6J("ngIf",o.submitted&&!o.user.firstName),h.xp6(4),h.Q6J("ngModel",o.user.lastName)("maxLength",20)("ngClass",h.VKq(24,So,o.submitted&&!o.user.lastName)),h.xp6(1),h.Q6J("ngIf",o.submitted&&!o.user.lastName),h.xp6(4),h.Q6J("pattern",o.emailPattern)("ngModel",o.user.email)("disabled",!!o.user.id)("ngClass",h.VKq(26,So,o.submitted&&!o.user.email)),h.xp6(2),h.Q6J("ngIf",o.submitted&&!o.user.email),h.xp6(1),h.Q6J("ngIf",null==n.errors?null:n.errors.pattern),h.xp6(4),h.Q6J("ngClass",h.VKq(28,So,o.submitted&&!o.roleSelected.label))("options",o.listRoles)("ngModel",o.roleSelected),h.xp6(3),h.Q6J("ngIf",o.submitted&&!o.roleSelected.value),h.xp6(4),h.Q6J("ngClass",h.VKq(30,So,o.submitted&&!o.statusSelected.label))("options",o.listStatuses)("ngModel",o.statusSelected),h.xp6(3),h.Q6J("ngIf",o.submitted&&!o.statusSelected.label)}}function Dv(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"button",72),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.hideDialog())}),h.qZA(),h.TgZ(1,"button",73),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.saveUser())}),h.qZA()}if(2&t){const n=h.oxw();h.xp6(1),h.Q6J("loading",n.isLoading)}}const Mv=function(){return["id","firstName","lastName","userName","email"]},Iv=function(){return{width:"450px"}};let Pv=(()=>{class t{constructor(n,o,s,d,f,g,_){this.route=n,this.router=o,this.messageService=s,this.confirmationService=d,this.userInforService=f,this.userManagerService=g,this.datePipe=_,this.isLoading=!1,this.isLoadingTable=!1,this.submitted=!1,this.userDialog=!1,this.users=[],this.paginator={totalElements:0,pageNumber:0,pageSize:10},this.paramsURL={},this.filter={page:0,size:10},this.datesFilter=[],this.subjectKeyup=new Gu.x,this.emailPattern=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.flagFilter=!1,this.maxDateValue=new Date,this.calculatePagesCount=(k,w)=>w<k?1:Math.ceil(w/k)}ngOnInit(){this.titleComponent=this.route.snapshot.data.title,this.currentUser=this.userInforService.user,this.initTable(),this.changeParams()}getUsers(){this.flagFilter=!1,this.isLoadingTable=!0,this.userManagerService.getAll(this.paginator.pageNumber,this.paginator.pageSize).pipe((0,Ue.g)(100)).subscribe({next:n=>{this.users=n.data.content,this.paginator.totalElements=n.data.totalElements,this.isLoadingTable=!1},error:n=>{this.isLoadingTable=!1}})}resetFilterPaginator(){this.filter.page=0,this.filter.size=10}resetPaginator(){this.paginator.pageNumber=0,this.paginator.pageSize=10,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}onChangeRoleFilter(){this.filter.role=this.roleFilterSelected?this.roleFilterSelected.label:void 0,this.checkAllWithoutFilter()}onChangeStatusFilter(){this.filter.status=this.statusFilterSelected?this.statusFilterSelected.value:void 0,this.checkAllWithoutFilter()}clearFilterEmail(){this.filter.email=void 0,this.checkAllWithoutFilter()}onSelectDateFilter(){this.filter.createdAt=this.convertDateToString(this.datesFilter)}onClearDate(){this.filter.createdAt=void 0,this.checkAllWithoutFilter()}hasValueFilter(){return this.statusFilterSelected||this.roleFilterSelected||this.filter.email||this.datesFilter&&this.datesFilter.length}checkAllWithoutFilter(){this.hasValueFilter()||(this.paginator.pageNumber=0,this.paginator.pageSize=10,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams(),this.flagFilter&&this.getUsers())}onFilterUser(){this.resetFilterPaginator(),this.resetPaginator(),this.filterUser()}filterUser(){this.filter.page=this.paginator.pageNumber,this.filter.size=this.paginator.pageSize,this.flagFilter=!0,this.isLoadingTable=!0,this.userManagerService.filter(this.filter).pipe((0,Ue.g)(500)).subscribe({next:n=>{this.users=n.data.content,this.paginator.totalElements=n.data.totalElements,this.isLoadingTable=!1},error:n=>{this.isLoadingTable=!1}})}convertDateToString(n){return n.map(o=>this.datePipe.transform(o,"yyyy-MM-dd"))}openNew(){this.resetValueForm(),this.submitted=!1,this.userDialog=!0}resetValueForm(){this.user={},this.statusSelected={label:"ACTIVE",value:1},this.roleSelected={label:"client",value:"client"}}hideDialog(){this.userDialog=!1,this.submitted=!1,this.resetValueForm()}resetView(){}editUser(n){this.userDialog=!0,this.user={...n},this.roleSelected={label:n.roles[0],value:n.roles[0]},this.statusSelected={label:n.status?"ACTIVE":"INACTIVE",value:n.status}}saveUser(){if(this.submitted=!0,this.isLoading=!0,this.isValid()){if(this.user.status=this.statusSelected.value,this.user.roles=[this.roleSelected.value],this.user.id)return void this.userManagerService.edit(this.user).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:2e3}),n.data.id===this.currentUser.id&&this.updateCurrentUser(n.data),this.hasValueFilter?this.filterUser():this.getUsers(),this.isLoading=!1,this.hideDialog()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:n.error.message,life:2e3}),this.isLoading=!1}});this.userManagerService.add(this.user).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:2e3}),this.hasValueFilter?this.filterUser():this.getUsers(),this.goLastPage(),this.hideDialog()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:n.error.message,life:2e3})}})}}updateCurrentUser(n){const o={...this.userInforService.user,firstName:n.firstName,lastName:n.lastName,roles:n.roles,status:n.status};this.userInforService.user=o,this.currentUser=this.userInforService.user}goLastPage(){this.paginator.pageNumber=this.calculatePagesCount(this.paginator.pageSize,this.paginator.totalElements)}remove(n){this.confirmationService.confirm({message:"Do you want to INACTIVE this user?",header:"Update Confirmation",icon:"pi pi-info-circle",accept:()=>{const o={...n};o.status=0,this.userManagerService.edit(o).subscribe({next:s=>{n.status=0,this.messageService.add({severity:"success",summary:"Confirmed",detail:"Record deleted"})},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:s.error.message})}})}})}applyFilterGlobal(n,o){this.dt.filterGlobal(n.target.value,o)}isValid(){return!!(this.user.firstName&&this.user.lastName&&this.user.email&&this.roleSelected.value&&this.statusSelected.label&&this.emailPattern.test(this.user.email))}initTable(){this.listRoles=this.includesRole(this.currentUser,"admin")?[{label:"client",value:"client"},{label:"manager",value:"manager"},{label:"admin",value:"admin"}]:[{label:"client",value:"client"},{label:"manager",value:"manager"}],this.listStatuses=[{label:"ACTIVE",value:1},{label:"INACTIVE",value:0}]}includesRole(n,o){return n.roles.includes(o)}changeParams(){this.route.queryParams.subscribe(n=>{this.paginator.pageNumber=null==n.page?0:n.page-1,this.paginator.pageSize=Number(n.size)||10,this.hasValueFilter()?this.filterUser():this.getUsers()})}onPageChange(n){this.paginator.pageNumber=n.page,this.paginator.pageSize=n.rows,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}addParams(){this.router.navigate([],{relativeTo:this.route,queryParams:this.paramsURL})}ngOnDestroy(){this.subjectKeyup&&this.subjectKeyup.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(Xt.gz),h.Y36(Xt.F0),h.Y36(Ie.ez),h.Y36(Ie.YP),h.Y36(of.d),h.Y36(Yu.Z),h.Y36($e.uU))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-user"]],viewQuery:function(n,o){if(1&n&&h.Gf(r0,5),2&n){let s;h.iGM(s=h.CRH())&&(o.dt=s.first)}},standalone:!0,features:[h._Bn([Ie.ez,Ie.YP,$e.uU]),h.jDz],decls:17,vars:15,consts:[["header","Confirmation","icon","pi pi-exclamation-triangle","defaultFocus","none","rejectButtonStyleClass","p-button-secondary p-button-plain"],[1,"mt-2"],[1,"text-3xl","font-semibold","mb-4"],[1,"col-12","sm:col-12","md:12","lg:col-12","px-0"],[1,"card"],["dataKey","id","responsiveLayout","scroll","scrollHeight","61vh",3,"loading","value","rows","globalFilterFields","rowHover","showCurrentPageReport","responsive","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","New User","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","align-items-center","justify-content-between"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[4,"ngIf"],[1,"grid","pt-4","p-fluid","align-items-end","filter-bar"],[1,"col-3"],["for","email-filter",1,"block","mb-1"],[1,"p-input-icon-right"],["class","pi pi-times cursor-pointer",3,"click",4,"ngIf"],["type","text","placeholder","Search Email here","pInputText","","id","email-filter",3,"ngModel","maxLength","ngModelChange"],[1,"col-2"],["for","",1,"block","mb-1"],["dateFormat","dd.mm.yy","optionLabel","value","placeholder","Select a Role",3,"options","ngModel","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["optionLabel","value","placeholder","Select a Status",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"col-4"],["placeholder","Select Date here","selectionMode","range","inputId","range","todayButtonStyleClass","p-secondary-button",3,"ngModel","showButtonBar","readonlyInput","maxDate","showIcon","ngModelChange","onSelect","onClearClick"],[1,"col-1"],["label","Filter","styleClass","p-button-sm",3,"click",4,"ngIf"],[1,"pi","pi-times","cursor-pointer",3,"click"],["class","status-item status-item-value",4,"ngIf"],[1,"status-item","status-item-value"],[1,"status-item",3,"hidden"],[1,"status-item"],["label","Filter","styleClass","p-button-sm",3,"click"],["pSortableColumn","id",2,"flex","0.5"],["field","id"],["pSortableColumn","email",2,"flex","5"],["field","email"],[2,"flex","2"],[2,"flex","1"],[2,"flex","0.5"],[2,"flex","5"],[1,"",3,"innerHTML"],[3,"innerHTML"],[1,"capitalize"],["pButton","","pRipple","","title","Edit","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","title","Delete","icon","pi pi-ban",1,"p-button-rounded","p-button-warning","mr-2",3,"disabled","click"],[1,"page","grid","align-items-center"],[1,"col-12"],[3,"rows","totalRecords","first","rowsPerPageOptions","onPageChange"],["colspan","7",1,"justify-content-center"],[1,"formgrid","grid"],[1,"field","col"],["for","firstName",1,"font-semibold"],["type","text","pInputText","","id","firstName","required","",3,"ngModel","maxLength","ngClass","ngModelChange"],["class","p-error",4,"ngIf"],["for","lastName",1,"font-semibold"],["type","text","pInputText","","id","lastName ","required","",3,"ngModel","maxLength","ngClass","ngModelChange"],[1,"field","col-12"],["for","email",1,"font-semibold"],["type","email","pInputText","","id","email ","required","",3,"pattern","ngModel","disabled","ngClass","ngModelChange"],["email","ngModel"],[1,"field","col-6"],[1,"font-semibold"],["optionLabel","value","placeholder","Select a Status",3,"ngClass","options","ngModel","ngModelChange"],[1,"p-error"],["pButton","","pRipple","","type","button","label","Cancel",1,"p-button-secondary","p-button-plain",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",3,"loading","click"]],template:function(n,o){1&n&&(h._UZ(0,"p-toast")(1,"p-confirmDialog",0),h.TgZ(2,"div",1)(3,"div",2),h._uU(4),h.qZA(),h.TgZ(5,"div",3)(6,"div",4)(7,"p-table",5,6),h.YNc(9,mv,28,16,"ng-template",7),h.YNc(10,c0,17,0,"ng-template",8),h.YNc(11,_v,21,22,"ng-template",9),h.YNc(12,sr,3,5,"ng-template",10),h.YNc(13,kv,3,0,"ng-template",11),h.qZA()(),h.TgZ(14,"p-dialog",12),h.NdJ("visibleChange",function(d){return o.userDialog=d}),h.YNc(15,ac,32,32,"ng-template",13),h.YNc(16,Dv,2,1,"ng-template",14),h.qZA()()()),2&n&&(h.xp6(4),h.Oqu(o.titleComponent),h.xp6(3),h.Q6J("loading",o.isLoadingTable)("value",o.users)("rows",10)("globalFilterFields",h.DdM(13,Mv))("rowHover",!0)("showCurrentPageReport",!0)("responsive",!0)("scrollable",!0),h.xp6(7),h.Akn(h.DdM(14,Iv)),h.Q6J("visible",o.userDialog)("modal",!0))},dependencies:[$e.ez,$e.mk,$e.O5,Id.T,I.U$,I.iA,Ie.jx,I.lQ,I.fz,O.EV,O.FN,Xt.Bz,de.hJ,de.Hq,de.zx,he.S,he.V,Ar.z,ue.O,os.V,ss._8,ss.f,vn.kW,vn.Lt,oe.j,oe.o,se.U,se.D,lt.Fj,lt.JJ,lt.Q7,lt.c5,lt.On,n0,pe.D,pe.Q],styles:[".status-default{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.status-default.status-1{background:#c8e6c9;color:#256029}.status-default.status-0{background:#ffcdd2;color:#c63737}.status-default.status-label-1{color:#256029}.status-default.status-label-0{color:#c63737}.p-dialog-content{overflow:unset!important}:host ::ng-deep .p-multiselect{min-width:15rem;width:18rem}:host ::ng-deep .multiselect-custom .p-multiselect-label{padding-top:.5rem;padding-bottom:.5rem}:host ::ng-deep .multiselect-custom .country-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}:host ::ng-deep .multiselect-custom .country-item-value img.flag{width:17px}:host ::ng-deep .multiselect-custom .country-placeholder{padding:.25rem}@media screen and (max-width: 640px){:host ::ng-deep .p-multiselect{width:100%}}.p-column-filter-clear-button{width:3rem;height:3rem}.filter-bar .pi{font-size:1.2rem}.p-datepicker table td>span{width:3rem;height:3rem}.p-datepicker table{font-size:1.4rem}.p-fluid .p-button-icon-only{width:4rem}\n"],encapsulation:2}),t})();var Fv=Ye(1884);let Nv=(()=>{class t{constructor(n){this.elRef=n,this.isOpen=!1}toggleOpen(n){this.isOpen=!!this.elRef.nativeElement.contains(n.target)&&!this.isOpen}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.SBq))},t.\u0275dir=h.lG2({type:t,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(n,o){1&n&&h.NdJ("click",function(d){return o.toggleOpen(d)},!1,h.evT),2&n&&h.ekj("open",o.isOpen)},standalone:!0}),t})();var Ov=Ye(7060),Gs=Ye(8271),d0=Ye(8558);const Bv=["input"];function Lv(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"i",5),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.clear())}),h.qZA()}}function zd(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"i",6),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onMaskToggle())}),h.qZA()}if(2&t){const n=h.oxw();h.Q6J("ngClass",n.toggleIconClass())}}function Rv(t,i){1&t&&h.GkF(0)}function zv(t,i){1&t&&h.GkF(0)}function Vv(t,i){if(1&t&&(h.ynx(0),h.YNc(1,zv,1,0,"ng-container",8),h.BQk()),2&t){const n=h.oxw(2);h.xp6(1),h.Q6J("ngTemplateOutlet",n.contentTemplate)}}const jv=function(t){return{width:t}};function Va(t,i){if(1&t&&(h.TgZ(0,"div",11),h._UZ(1,"div",0),h.qZA(),h.TgZ(2,"div",12),h._uU(3),h.qZA()),2&t){const n=h.oxw(2);h.xp6(1),h.Q6J("ngClass",n.strengthClass())("ngStyle",h.VKq(3,jv,n.meter?n.meter.width:"")),h.xp6(2),h.Oqu(n.infoText)}}function Vd(t,i){1&t&&h.GkF(0)}const Uv=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},ja=function(t){return{value:"visible",params:t}};function lc(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",6,7),h.NdJ("click",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onOverlayClick(s))})("@overlayAnimation.start",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onAnimationStart(s))})("@overlayAnimation.done",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onAnimationEnd(s))}),h.YNc(2,Rv,1,0,"ng-container",8),h.YNc(3,Vv,2,1,"ng-container",9),h.YNc(4,Va,4,5,"ng-template",null,10,h.W1O),h.YNc(6,Vd,1,0,"ng-container",8),h.qZA()}if(2&t){const n=h.MAs(5),o=h.oxw();h.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",h.VKq(9,ja,h.WLB(6,Uv,o.showTransitionOptions,o.hideTransitionOptions))),h.xp6(2),h.Q6J("ngTemplateOutlet",o.headerTemplate),h.xp6(1),h.Q6J("ngIf",o.contentTemplate)("ngIfElse",n),h.xp6(3),h.Q6J("ngTemplateOutlet",o.footerTemplate)}}const Hv={provide:lt.JU,useExisting:(0,h.Gpc)(()=>h0),multi:!0};let h0=(()=>{class t{constructor(n,o,s,d){this.cd=n,this.config=o,this.el=s,this.overlayService=d,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new h.vpe,this.onBlur=new h.vpe,this.onClear=new h.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"content":default:this.contentTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"footer":this.footerTemplate=n.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(n){switch(n.toState){case"visible":this.overlay=n.element,Ii.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(n){"void"===n.toState&&Ii.P9.clear(n.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=gn.p.getOuterWidth(this.input.nativeElement)+"px",gn.p.absolutePosition(this.overlay,this.input.nativeElement)):gn.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(n){this.value=n.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(n){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(n)}onInputBlur(n){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(n)}onKeyDown(n){"Escape"===n.key&&(this.overlayVisible=!1)}onKeyUp(n){this.feedback&&(this.updateUI(n.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(n){let o=null,s=null;switch(this.testStrength(n)){case 1:o=this.weakText(),s={strength:"weak",width:"33.33%"};break;case 2:o=this.mediumText(),s={strength:"medium",width:"66.66%"};break;case 3:o=this.strongText(),s={strength:"strong",width:"100%"};break;default:o=this.promptText(),s=null}this.meter=s,this.infoText=o}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}testStrength(n){let o=0;return this.strongCheckRegExp.test(n)?o=3:this.mediumCheckRegExp.test(n)?o=2:n.length&&(o=1),o}writeValue(n){this.value=void 0===n?null:n,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new gn.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!gn.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(Ie.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(Ie.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(Ie.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(Ie.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(n){return this.config.getTranslation(n)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(Ii.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.sBO),h.Y36(Ie.b4),h.Y36(h.SBq),h.Y36(Ie.F0))},t.\u0275cmp=h.Xpm({type:t,selectors:[["p-password"]],contentQueries:function(n,o,s){if(1&n&&h.Suo(s,Ie.jx,4),2&n){let d;h.iGM(d=h.CRH())&&(o.templates=d)}},viewQuery:function(n,o){if(1&n&&h.Gf(Bv,5),2&n){let s;h.iGM(s=h.CRH())&&(o.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(n,o){2&n&&h.ekj("p-inputwrapper-filled",o.filled())("p-inputwrapper-focus",o.focused)("p-password-clearable",o.showClear)("p-password-mask",o.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[h._Bn([Hv])],decls:6,vars:18,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(n,o){1&n&&(h.TgZ(0,"div",0)(1,"input",1,2),h.NdJ("input",function(d){return o.onInput(d)})("focus",function(d){return o.onInputFocus(d)})("blur",function(d){return o.onInputBlur(d)})("keyup",function(d){return o.onKeyUp(d)})("keydown",function(d){return o.onKeyDown(d)}),h.qZA(),h.YNc(3,Lv,1,0,"i",3),h.YNc(4,zd,1,1,"i",4),h.YNc(5,lc,7,11,"div",4),h.qZA()),2&n&&(h.Tol(o.styleClass),h.Q6J("ngClass",o.containerClass())("ngStyle",o.style),h.xp6(1),h.Tol(o.inputStyleClass),h.Q6J("ngClass",o.inputFieldClass())("ngStyle",o.inputStyle)("value",o.value),h.uIk("label",o.label)("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("id",o.inputId)("type",o.inputType())("placeholder",o.placeholder),h.xp6(2),h.Q6J("ngIf",o.showClear&&null!=o.value),h.xp6(1),h.Q6J("ngIf",o.toggleMask),h.xp6(1),h.Q6J("ngIf",o.overlayVisible))},dependencies:[$e.mk,$e.O5,$e.tP,$e.PC,oe.o],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,An.X$)("overlayAnimation",[(0,An.eR)(":enter",[(0,An.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,An.jt)("{{showTransitionParams}}")]),(0,An.eR)(":leave",[(0,An.jt)("{{hideTransitionParams}}",(0,An.oB)({opacity:0}))])])]},changeDetection:0}),t})(),Wv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[$e.ez,oe.j,Ie.m8]}),t})();var af=Ye(1573),Zv=Ye(7556);function qv(t,i){1&t&&(h.TgZ(0,"small",33),h._uU(1," Password must be at least 6 characters."),h.qZA())}function u0(t,i){1&t&&(h.TgZ(0,"small",33),h._uU(1," Password cannot be more than 40 characters."),h.qZA())}function f0(t,i){if(1&t&&(h.TgZ(0,"small",33),h._uU(1),h.qZA()),2&t){const n=h.oxw(2);h.xp6(1),h.hij(" ",n.errorMessageInvalidPassword,"")}}function p0(t,i){if(1&t&&(h.TgZ(0,"span",31),h.YNc(1,qv,2,0,"small",32),h.YNc(2,u0,2,0,"small",32),h.YNc(3,f0,2,1,"small",32),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",(null==n.getPassword.errors?null:n.getPassword.errors.minlength)||(null==n.getPassword.errors?null:n.getPassword.errors.required)),h.xp6(1),h.Q6J("ngIf",null==n.getPassword.errors?null:n.getPassword.errors.maxlength),h.xp6(1),h.Q6J("ngIf",n.errorMessageInvalidPassword)}}function g0(t,i){1&t&&(h.TgZ(0,"small",33),h._uU(1," Password must be at least 6 characters."),h.qZA())}function m0(t,i){1&t&&(h.TgZ(0,"small",33),h._uU(1," Password cannot be more than 40 characters."),h.qZA())}function _0(t,i){if(1&t&&(h.TgZ(0,"span",31),h.YNc(1,g0,2,0,"small",32),h.YNc(2,m0,2,0,"small",32),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",(null==n.getNewPassword.errors?null:n.getNewPassword.errors.minlength)||(null==n.getNewPassword.errors?null:n.getNewPassword.errors.required)),h.xp6(1),h.Q6J("ngIf",null==n.getNewPassword.errors?null:n.getNewPassword.errors.maxlength)}}function Gv(t,i){1&t&&(h.TgZ(0,"small",33),h._uU(1," Password don't match."),h.qZA())}function b0(t,i){1&t&&(h.TgZ(0,"small",33),h._uU(1," Password is not empty."),h.qZA())}function Yv(t,i){if(1&t&&(h.TgZ(0,"span",31),h.YNc(1,Gv,2,0,"small",32),h.YNc(2,b0,2,0,"small",32),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",null==n.getConfirmPassword.errors?null:n.getConfirmPassword.errors.matching),h.xp6(1),h.Q6J("ngIf",null==n.getConfirmPassword.errors?null:n.getConfirmPassword.errors.required)}}function k0(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-button",34),h.NdJ("onClick",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.changePassword())}),h.qZA()}if(2&t){const n=h.oxw();h.Q6J("disabled",!!n.errorMessageInvalidPassword||n.changePasswordForm.invalid)}}const lf=function(){return{"background-color":"#2196F3",color:"#ffffff"}},Kv=function(){return{width:"40vw"}},w0=function(t){return{"ng-invalid ng-dirty":t}};let v0=(()=>{class t{constructor(n,o,s,d,f,g,_){this.router=n,this.tokenStorageService=o,this.authService=s,this.userInforService=d,this.fb=f,this.messageService=g,this.userManagerService=_,this.newItemEvent=new h.vpe,this.isShowSidebar=!0,this.displayChangePassword=!1,this.isLoading=!1}ngOnInit(){this.currentUser=this.userInforService.user,this.initFormChangePassword(),this.resetFormSubscription=this.changePasswordForm.valueChanges.pipe((0,Fv.x)()).subscribe({next:n=>{this.errorMessageInvalidPassword=""},error:n=>{}})}addClassToParent(){this.isShowSidebar=!this.isShowSidebar,this.newItemEvent.emit(this.isShowSidebar)}initFormChangePassword(){this.changePasswordForm=this.fb.group({password:["",[lt.kI.required,lt.kI.minLength(6),lt.kI.maxLength(40)]],newPassword:["",[lt.kI.required,lt.kI.minLength(6),lt.kI.maxLength(40)]],confirmPassword:["",[lt.kI.required]]},{validators:[Ov.i.match("newPassword","confirmPassword")]})}changePassword(){this.isLoading=!0,this.userManagerService.changePassword({email:this.userInforService.user.email,newPassword:this.changePasswordForm.value.newPassword,password:this.changePasswordForm.value.password}).subscribe({next:n=>{this.isLoading=!1,this.changePasswordForm.reset(),this.errorMessageInvalidPassword="",this.messageService.add({severity:"success",summary:"Successful",detail:"Added product successfully!",life:2e3})},error:n=>{this.isLoading=!1,this.errorMessageInvalidPassword=n.error.message}})}get getChangePasswordForm(){return this.changePasswordForm.controls}get getNewPassword(){return this.changePasswordForm.controls.newPassword}get getPassword(){return this.changePasswordForm.controls.password}get getConfirmPassword(){return this.changePasswordForm.controls.confirmPassword}logout(){this.tokenStorageService.signOut(),this.router.navigate(["/"])}ngOnDestroy(){this.resetFormSubscription&&this.resetFormSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(Xt.F0),h.Y36(af.i),h.Y36(Zv.e),h.Y36(of.d),h.Y36(lt.qu),h.Y36(Ie.ez),h.Y36(Yu.Z))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-header-manager"]],outputs:{newItemEvent:"newItemEvent"},standalone:!0,features:[h._Bn([Ie.ez]),h.jDz],decls:47,vars:23,consts:[[1,"topbar"],[1,"logo-admin-wrapper"],[1,"logo-admin","text-center"],["src","../../../assets/img/logo/logo-admin.svg","alt",""],[1,"logo-admin-mini","text-center"],["src","../../../assets/img/logo/logo-admin-mini.svg","alt",""],[1,"flex","justify-content-between","align-items-center","flex-1","px-3"],[1,""],[1,"p-link","menu-button","topbar-button",3,"click"],[1,"pi","pi-bars"],["appDropdown","",1,"user-link"],["label","V","styleClass","mr-2","size","large","shape","circle"],[1,"user-name"],[1,"dropdown-user-name"],[1,"dropdown-user-name__item",3,"click"],[1,"pi","pi-sign-out"],[1,"pi","pi-key"],[1,"white-space-nowrap"],["routerLink","",1,"dropdown-user-name__item"],[1,"pi","pi-desktop"],["header","Change Password",3,"modal","dismissableMask","visible","onHide","visibleChange"],[1,"grid","p-fluid",3,"formGroup","ngSubmit"],[1,"field","col-12","relative"],["for","password",1,"block","font-semibold"],["styleClass","p-password p-component p-inputwrapper p-input-icon-right","formControlName","password",3,"feedback","ngClass","toggleMask"],["class","error-box",4,"ngIf"],["for","newPassword",1,"block","font-semibold"],["styleClass","p-password p-component p-inputwrapper p-input-icon-right","formControlName","newPassword",3,"toggleMask","feedback"],["for","confirmPassword",1,"block","font-semibold"],["styleClass","p-password p-component p-inputwrapper p-input-icon-right","formControlName","confirmPassword",3,"toggleMask","feedback"],["pTemplate","footer"],[1,"error-box"],["class","change-password-form__field-message p-error block",4,"ngIf"],[1,"change-password-form__field-message","p-error","block"],["icon","pi pi-check","label","Change","styleClass","",3,"disabled","loading","onClick"]],template:function(n,o){1&n&&(h._UZ(0,"p-toast"),h.TgZ(1,"div",0)(2,"div",1)(3,"div",2),h._UZ(4,"img",3),h.qZA(),h.TgZ(5,"div",4),h._UZ(6,"img",5),h.qZA()(),h.TgZ(7,"div",6)(8,"div",7)(9,"a",8),h.NdJ("click",function(){return o.addClassToParent()}),h._UZ(10,"i",9),h.qZA()(),h.TgZ(11,"div",10)(12,"span"),h._UZ(13,"p-avatar",11),h.qZA(),h.TgZ(14,"span",12),h._uU(15),h.qZA(),h.TgZ(16,"div",13)(17,"a",14),h.NdJ("click",function(){return o.logout()}),h._UZ(18,"i",15),h.TgZ(19,"span"),h._uU(20,"Logout"),h.qZA()(),h.TgZ(21,"a",14),h.NdJ("click",function(){return o.displayChangePassword=!0}),h._UZ(22,"i",16),h.TgZ(23,"span",17),h._uU(24,"Change Password"),h.qZA()(),h.TgZ(25,"a",18),h._UZ(26,"i",19),h.TgZ(27,"span"),h._uU(28,"Website"),h.qZA()()()()()(),h.TgZ(29,"p-dialog",20),h.NdJ("onHide",function(){return o.changePasswordForm.reset()})("visibleChange",function(d){return o.displayChangePassword=d}),h.TgZ(30,"form",21),h.NdJ("ngSubmit",function(){return o.changePassword()}),h.TgZ(31,"div",22)(32,"label",23),h._uU(33,"Password"),h.qZA(),h._UZ(34,"p-password",24),h.YNc(35,p0,4,3,"span",25),h.qZA(),h.TgZ(36,"div",22)(37,"label",26),h._uU(38,"New Password"),h.qZA(),h._UZ(39,"p-password",27),h.YNc(40,_0,3,2,"span",25),h.qZA(),h.TgZ(41,"div",22)(42,"label",28),h._uU(43,"Confirm Password"),h.qZA(),h._UZ(44,"p-password",29),h.YNc(45,Yv,3,2,"span",25),h.qZA()(),h.YNc(46,k0,1,1,"ng-template",30),h.qZA()),2&n&&(h.xp6(13),h.Akn(h.DdM(19,lf)),h.xp6(2),h.hij("Hello, ",o.currentUser&&o.currentUser.firstName,""),h.xp6(14),h.Akn(h.DdM(20,Kv)),h.Q6J("modal",!0)("dismissableMask",!0)("visible",o.displayChangePassword),h.xp6(1),h.Q6J("formGroup",o.changePasswordForm),h.xp6(4),h.Q6J("feedback",!1)("ngClass",h.VKq(21,w0,o.errorMessageInvalidPassword))("toggleMask",!0),h.xp6(1),h.Q6J("ngIf",o.getPassword.dirty),h.xp6(4),h.Q6J("toggleMask",!0)("feedback",!1),h.xp6(1),h.Q6J("ngIf",o.getNewPassword.dirty),h.xp6(4),h.Q6J("toggleMask",!0)("feedback",!1),h.xp6(1),h.Q6J("ngIf",o.getConfirmPassword.dirty))},dependencies:[$e.ez,$e.mk,$e.O5,lt.u5,lt._Y,lt.JJ,lt.JL,lt.UX,lt.sg,lt.u,Xt.Bz,Xt.yS,Gs.F,Gs.q,d0.Q,Nv,he.S,he.V,Ie.jx,de.hJ,de.zx,oe.j,Wv,h0,O.EV,O.FN],styles:[".topbar{height:5em;z-index:40;width:100%;background-color:var(--surface-card);transition:left .2s;display:flex;justify-content:space-between;align-items:center;font-size:14px}.topbar .logo-admin-wrapper{transition:width .25s ease,background .25s ease;transition-duration:.25s,.25s;transition-timing-function:ease,ease;transition-delay:0s,0s;transition-property:width,background;width:70px}.topbar .logo-admin-wrapper .logo-admin{display:none}.topbar .logo-admin-wrapper .logo-admin img{width:140px;max-width:100%;height:28px;margin:auto;vertical-align:middle}.topbar .logo-admin-wrapper .logo-admin-mini img{width:20px;max-width:100%;height:28px;margin:auto;vertical-align:middle}.topbar .topbar-button{display:inline-flex;justify-content:center;align-items:center;position:relative;color:var(--text-color-secondary);border-radius:50%;width:3rem;height:3rem;cursor:pointer;transition:background-color .3s}.topbar .topbar-button i{font-size:1.5em}.topbar .topbar-button:focus{outline:0 none;outline-offset:0;transition:box-shadow .2s;box-shadow:var(--focus-ring)}.topbar .topbar-button:hover{color:var(--text-color);background-color:var(--surface-hover)}.topbar .user-link{cursor:pointer;position:relative;padding-right:12px}.topbar .user-link.open .dropdown-user-name{display:block}.topbar .user-link .dropdown-user-name{display:none;position:absolute;top:100%;right:0;z-index:999;margin-left:0;flex-direction:column;background-color:var(--surface-overlay);box-shadow:0 3px 5px #00000005,0 0 2px #0000000d,0 1px 4px #00000014;border-radius:12px;padding:1rem;top:5rem;min-width:10rem;animation:scalein .15s linear}.topbar .user-link .dropdown-user-name__item{color:var(--text-color-secondary);margin-left:0;display:flex;width:100%;height:auto;justify-content:flex-start;border-radius:12px;padding:1rem;text-decoration:none}.topbar .user-link .dropdown-user-name__item i{font-size:1.4rem;margin-right:.6rem}.topbar .user-link .dropdown-user-name__item:hover{color:red}.topbar .user-name{margin-left:4px;width:4em;color:var(--text-color-secondary)}.admin-wrapper.isShowSidebar .topbar .logo-admin-wrapper{width:200px}.admin-wrapper.isShowSidebar .topbar .logo-admin-wrapper .logo-admin{display:block}.admin-wrapper.isShowSidebar .topbar .logo-admin-wrapper .logo-admin-mini{display:none}.error-box{position:absolute;top:97%}.p-password .pi{font-size:1.4rem;cursor:pointer}.p-password .p-inputtext{padding:1rem}.change-password-form__field-message{font-size:90%}input[type=password]:not(:placeholder-shown){font-weight:900;font-family:Verdana;letter-spacing:5px}\n"],encapsulation:2}),t})();const $v=function(){return["home"]},x0=function(){return["category"]},cf=function(){return["product"]},Qv=function(){return["order"]},df=function(){return["user"]};let hf=(()=>{class t{constructor(){this.isShowSidebar=!0}ngOnInit(){}showSidebar(n){this.isShowSidebar=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-admin"]],standalone:!0,features:[h.jDz],decls:26,vars:14,consts:[[1,"admin-wrapper"],[3,"newItemEvent"],[1,"body-content","flex"],[1,"sidebar"],["pTooltip","Home","routerLinkActive","active",1,"p-link","sidebar-item","flex","justify-content-between","mt-4",3,"routerLink"],[1,"pi","pi-home"],["pTooltip","Category","routerLinkActive","active",1,"p-link","sidebar-item","flex","justify-content-between",3,"routerLink"],[1,"pi","pi-th-large"],["pTooltip","Product","routerLinkActive","active",1,"p-link","sidebar-item","flex","justify-content-between",3,"routerLink"],[1,"pi","pi-circle"],["pTooltip","Order","routerLinkActive","active",1,"p-link","sidebar-item","flex","justify-content-between",3,"routerLink"],[1,"pi","pi-shopping-cart"],["pTooltip","User","routerLinkActive","active",1,"p-link","sidebar-item","flex","justify-content-between",3,"routerLink"],[1,"pi","pi-users"],[1,"main-content"]],template:function(n,o){1&n&&(h.TgZ(0,"div",0)(1,"app-header-manager",1),h.NdJ("newItemEvent",function(d){return o.showSidebar(d)}),h.qZA(),h.TgZ(2,"div",2)(3,"div",3)(4,"a",4)(5,"span"),h._uU(6,"Home"),h.qZA(),h._UZ(7,"i",5),h.qZA(),h.TgZ(8,"a",6)(9,"span"),h._uU(10,"Category"),h.qZA(),h._UZ(11,"i",7),h.qZA(),h.TgZ(12,"a",8)(13,"span"),h._uU(14,"Product"),h.qZA(),h._UZ(15,"i",9),h.qZA(),h.TgZ(16,"a",10)(17,"span"),h._uU(18,"Order"),h.qZA(),h._UZ(19,"i",11),h.qZA(),h.TgZ(20,"a",12)(21,"span"),h._uU(22,"User"),h.qZA(),h._UZ(23,"i",13),h.qZA()(),h.TgZ(24,"div",14),h._UZ(25,"router-outlet"),h.qZA()()()),2&n&&(h.ekj("isShowSidebar",o.isShowSidebar),h.xp6(1),h.ekj("isShowSidebar",o.isShowSidebar),h.xp6(3),h.Q6J("routerLink",h.DdM(9,$v)),h.xp6(4),h.Q6J("routerLink",h.DdM(10,x0)),h.xp6(4),h.Q6J("routerLink",h.DdM(11,cf)),h.xp6(4),h.Q6J("routerLink",h.DdM(12,Qv)),h.xp6(4),h.Q6J("routerLink",h.DdM(13,df)))},dependencies:[$e.ez,Xt.Bz,Xt.lC,Xt.yS,Xt.Od,v0,Ar.z,Ar.u],styles:[".admin-wrapper[_ngcontent-%COMP%]{overflow:hidden;background:#eff3f8;position:relative;transition:background .25s ease}.admin-wrapper.isShowSidebar[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{left:1rem;width:200px}.admin-wrapper.isShowSidebar[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{padding:1.5rem 3rem}.admin-wrapper.isShowSidebar[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;transition:display .3s ease;will-change:display}.admin-wrapper.isShowSidebar[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .logo-admin-wrapper[_ngcontent-%COMP%]{width:200px}.admin-wrapper.isShowSidebar[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .logo-admin-wrapper[_ngcontent-%COMP%]   .logo-admin-mini[_ngcontent-%COMP%]{display:none}.admin-wrapper.isShowSidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{width:calc(100% - 200px)}.admin-wrapper[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:70px;z-index:20;overflow-y:auto;-webkit-user-select:none;user-select:none;top:8rem;background-color:var(--surface-overlay);left:0;transition:all .2s linear;will-change:opacity}.admin-wrapper[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{border-radius:0;margin-left:0;display:flex;width:100%;height:auto;justify-content:flex-start;padding:1.5rem 2.7rem;align-items:center;color:var(--text-color-secondary);transition:background-color .2s;text-decoration:none;box-shadow:none}.admin-wrapper[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;margin-right:.6rem}.admin-wrapper[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;display:none;transition:display .3s ease;will-change:display}.admin-wrapper[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]:hover{color:var(--text-color);background-color:#f6f9fc}.admin-wrapper[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item.active[_ngcontent-%COMP%]{color:#6366f1;background-color:#efefef6b}.admin-wrapper[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{transition:width .25s ease,margin .25s ease;flex-grow:1;width:calc(100% - 70px);margin-left:0;padding:2rem 3rem 3rem;flex-direction:column;justify-content:space-between}.p-component[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important}"]}),t})();function as(t){return t+.5|0}const Vr=(t,i,n)=>Math.max(Math.min(t,n),i);function Ua(t){return Vr(as(2.55*t),0,255)}function Eo(t){return Vr(as(255*t),0,255)}function co(t){return Vr(as(t/2.55)/100,0,1)}function uf(t){return Vr(as(100*t),0,100)}const Tr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ff=[..."0123456789ABCDEF"],Xv=t=>ff[15&t],ex=t=>ff[(240&t)>>4]+ff[15&t],jd=t=>(240&t)>>4==(15&t);const Ud=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Hd(t,i,n){const o=i*Math.min(n,1-n),s=(d,f=(d+t/30)%12)=>n-o*Math.max(Math.min(f-3,9-f,1),-1);return[s(0),s(8),s(4)]}function ix(t,i,n){const o=(s,d=(s+t/60)%6)=>n-n*i*Math.max(Math.min(d,4-d,1),0);return[o(5),o(3),o(1)]}function rx(t,i,n){const o=Hd(t,1,.5);let s;for(i+n>1&&(s=1/(i+n),i*=s,n*=s),s=0;s<3;s++)o[s]*=1-i-n,o[s]+=i;return o}function Wd(t){const n=t.r/255,o=t.g/255,s=t.b/255,d=Math.max(n,o,s),f=Math.min(n,o,s),g=(d+f)/2;let _,k,w;return d!==f&&(w=d-f,k=g>.5?w/(2-d-f):w/(d+f),_=function ox(t,i,n,o,s){return t===s?(i-n)/o+(i<n?6:0):i===s?(n-t)/o+2:(t-i)/o+4}(n,o,s,w,d),_=60*_+.5),[0|_,k||0,g]}function Zd(t,i,n,o){return(Array.isArray(i)?t(i[0],i[1],i[2]):t(i,n,o)).map(Eo)}function pf(t,i,n){return Zd(Hd,t,i,n)}function gf(t){return(t%360+360)%360}const mf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},y0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let dc;const T0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Kt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,ls=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jr(t,i,n){if(t){let o=Wd(t);o[i]=Math.max(0,Math.min(o[i]+o[i]*n,0===i?360:1)),o=pf(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function _f(t,i){return t&&Object.assign(i||{},t)}function bf(t){var i={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(i={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(i.a=Eo(t[3]))):(i=_f(t,{r:0,g:0,b:0,a:1})).a=Eo(i.a),i}function ux(t){return"r"===t.charAt(0)?function S0(t){const i=T0.exec(t);let o,s,d,n=255;if(i){if(i[7]!==o){const f=+i[7];n=i[8]?Ua(f):Vr(255*f,0,255)}return o=+i[1],s=+i[3],d=+i[5],o=255&(i[2]?Ua(o):Vr(o,0,255)),s=255&(i[4]?Ua(s):Vr(s,0,255)),d=255&(i[6]?Ua(d):Vr(d,0,255)),{r:o,g:s,b:d,a:n}}}(t):function ax(t){const i=Ud.exec(t);let o,n=255;if(!i)return;i[5]!==o&&(n=i[6]?Ua(+i[5]):Eo(+i[5]));const s=gf(+i[2]),d=+i[3]/100,f=+i[4]/100;return o="hwb"===i[1]?function C0(t,i,n){return Zd(rx,t,i,n)}(s,d,f):"hsv"===i[1]?function sx(t,i,n){return Zd(ix,t,i,n)}(s,d,f):pf(s,d,f),{r:o[0],g:o[1],b:o[2],a:n}}(t)}class wi{constructor(i){if(i instanceof wi)return i;const n=typeof i;let o;"object"===n?o=bf(i):"string"===n&&(o=function cc(t){var n,i=t.length;return"#"===t[0]&&(4===i||5===i?n={r:255&17*Tr[t[1]],g:255&17*Tr[t[2]],b:255&17*Tr[t[3]],a:5===i?17*Tr[t[4]]:255}:(7===i||9===i)&&(n={r:Tr[t[1]]<<4|Tr[t[2]],g:Tr[t[3]]<<4|Tr[t[4]],b:Tr[t[5]]<<4|Tr[t[6]],a:9===i?Tr[t[7]]<<4|Tr[t[8]]:255})),n}(i)||function dx(t){dc||(dc=function cx(){const t={},i=Object.keys(y0),n=Object.keys(mf);let o,s,d,f,g;for(o=0;o<i.length;o++){for(f=g=i[o],s=0;s<n.length;s++)d=n[s],g=g.replace(d,mf[d]);d=parseInt(y0[f],16),t[g]=[d>>16&255,d>>8&255,255&d]}return t}(),dc.transparent=[0,0,0,0]);const i=dc[t.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||ux(i)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var i=_f(this._rgb);return i&&(i.a=co(i.a)),i}set rgb(i){this._rgb=bf(i)}rgbString(){return this._valid?function hx(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${co(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function nx(t){var i=(t=>jd(t.r)&&jd(t.g)&&jd(t.b)&&jd(t.a))(t)?Xv:ex;return t?"#"+i(t.r)+i(t.g)+i(t.b)+((t,i)=>t<255?i(t):"")(t.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function lx(t){if(!t)return;const i=Wd(t),n=i[0],o=uf(i[1]),s=uf(i[2]);return t.a<255?`hsla(${n}, ${o}%, ${s}%, ${co(t.a)})`:`hsl(${n}, ${o}%, ${s}%)`}(this._rgb):void 0}mix(i,n){if(i){const o=this.rgb,s=i.rgb;let d;const f=n===d?.5:n,g=2*f-1,_=o.a-s.a,k=((g*_==-1?g:(g+_)/(1+g*_))+1)/2;d=1-k,o.r=255&k*o.r+d*s.r+.5,o.g=255&k*o.g+d*s.g+.5,o.b=255&k*o.b+d*s.b+.5,o.a=f*o.a+(1-f)*s.a,this.rgb=o}return this}interpolate(i,n){return i&&(this._rgb=function E0(t,i,n){const o=ls(co(t.r)),s=ls(co(t.g)),d=ls(co(t.b));return{r:Eo(Kt(o+n*(ls(co(i.r))-o))),g:Eo(Kt(s+n*(ls(co(i.g))-s))),b:Eo(Kt(d+n*(ls(co(i.b))-d))),a:t.a+n*(i.a-t.a)}}(this._rgb,i._rgb,n)),this}clone(){return new wi(this.rgb)}alpha(i){return this._rgb.a=Eo(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,n=as(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=n,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return jr(this._rgb,2,i),this}darken(i){return jr(this._rgb,2,-i),this}saturate(i){return jr(this._rgb,1,i),this}desaturate(i){return jr(this._rgb,1,-i),this}rotate(i){return function A0(t,i){var n=Wd(t);n[0]=gf(n[0]+i),n=pf(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,i),this}}function Ur(){}const li=(()=>{let t=0;return()=>t++})();function Nt(t){return null===t||typeof t>"u"}function dn(t){if(Array.isArray&&Array.isArray(t))return!0;const i=Object.prototype.toString.call(t);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function yt(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function In(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function lr(t,i){return In(t)?t:i}function ht(t,i){return typeof t>"u"?i:t}const kf=(t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*i:+t;function Bt(t,i,n){if(t&&"function"==typeof t.call)return t.apply(n,i)}function et(t,i,n,o){let s,d,f;if(dn(t))if(d=t.length,o)for(s=d-1;s>=0;s--)i.call(n,t[s],s);else for(s=0;s<d;s++)i.call(n,t[s],s);else if(yt(t))for(f=Object.keys(t),d=f.length,s=0;s<d;s++)i.call(n,t[f[s]],f[s])}function Sr(t,i){let n,o,s,d;if(!t||!i||t.length!==i.length)return!1;for(n=0,o=t.length;n<o;++n)if(s=t[n],d=i[n],s.datasetIndex!==d.datasetIndex||s.index!==d.index)return!1;return!0}function Er(t){if(dn(t))return t.map(Er);if(yt(t)){const i=Object.create(null),n=Object.keys(t),o=n.length;let s=0;for(;s<o;++s)i[n[s]]=Er(t[n[s]]);return i}return t}function Hr(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function D0(t,i,n,o){if(!Hr(t))return;const s=i[t],d=n[t];yt(s)&&yt(d)?Ks(s,d,o):i[t]=Er(d)}function Ks(t,i,n){const o=dn(i)?i:[i],s=o.length;if(!yt(t))return t;const d=(n=n||{}).merger||D0;let f;for(let g=0;g<s;++g){if(f=o[g],!yt(f))continue;const _=Object.keys(f);for(let k=0,w=_.length;k<w;++k)d(_[k],t,f,n)}return t}function cs(t,i){return Ks(t,i,{merger:fx})}function fx(t,i,n){if(!Hr(t))return;const o=i[t],s=n[t];yt(o)&&yt(s)?cs(o,s):Object.prototype.hasOwnProperty.call(i,t)||(i[t]=Er(s))}const M0={"":t=>t,x:t=>t.x,y:t=>t.y};function ds(t,i){return(M0[i]||(M0[i]=function px(t){const i=function wf(t){const i=t.split("."),n=[];let o="";for(const s of i)o+=s,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}(t);return n=>{for(const o of i){if(""===o)break;n=n&&n[o]}return n}}(i)))(t)}function vf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Dr=t=>typeof t<"u",hs=t=>"function"==typeof t,I0=(t,i)=>{if(t.size!==i.size)return!1;for(const n of t)if(!i.has(n))return!1;return!0},hn=Math.PI,un=2*hn,xf=un+hn,Ha=Number.POSITIVE_INFINITY,gx=hn/180,mn=hn/2,us=hn/4,Cf=2*hn/3,fs=Math.log10,ho=Math.sign;function hc(t,i,n){return Math.abs(t-i)<n}function uc(t){const i=Math.round(t);t=hc(t,i,t/1e3)?i:t;const n=Math.pow(10,Math.floor(fs(t))),o=t/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function Wa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function qd(t,i,n){let o,s,d;for(o=0,s=t.length;o<s;o++)d=t[o][n],isNaN(d)||(i.min=Math.min(i.min,d),i.max=Math.max(i.max,d))}function Wr(t){return t*(hn/180)}function yf(t){return t*(180/hn)}function F0(t){if(!In(t))return;let i=1,n=0;for(;Math.round(t*i)/i!==t;)i*=10,n++;return n}function Tf(t,i){const n=i.x-t.x,o=i.y-t.y,s=Math.sqrt(n*n+o*o);let d=Math.atan2(o,n);return d<-.5*hn&&(d+=un),{angle:d,distance:s}}function Sf(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function _x(t,i){return(t-i+xf)%un-hn}function cr(t){return(t%un+un)%un}function fc(t,i,n,o){const s=cr(t),d=cr(i),f=cr(n),g=cr(d-s),_=cr(f-s),k=cr(s-d),w=cr(s-f);return s===d||s===f||o&&d===f||g>_&&k<w}function qn(t,i,n){return Math.max(i,Math.min(n,t))}function Gn(t,i,n,o=1e-6){return t>=Math.min(i,n)-o&&t<=Math.max(i,n)+o}function Gd(t,i,n){n=n||(f=>t[f]<i);let d,o=t.length-1,s=0;for(;o-s>1;)d=s+o>>1,n(d)?s=d:o=d;return{lo:s,hi:o}}const Mr=(t,i,n,o)=>Gd(t,n,o?s=>{const d=t[s][i];return d<n||d===n&&t[s+1][i]===n}:s=>t[s][i]<n),N0=(t,i,n)=>Gd(t,n,o=>t[o][i]>=n),Df=["push","pop","shift","splice","unshift"];function ps(t,i){const n=t._chartjs;if(!n)return;const o=n.listeners,s=o.indexOf(i);-1!==s&&o.splice(s,1),!(o.length>0)&&(Df.forEach(d=>{delete t[d]}),delete t._chartjs)}function Oe(t){const i=new Set;let n,o;for(n=0,o=t.length;n<o;++n)i.add(t[n]);return i.size===o?t:Array.from(i)}const pc=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function Kd(t,i){let n=[],o=!1;return function(...s){n=s,o||(o=!0,pc.call(window,()=>{o=!1,t.apply(i,n)}))}}const gc=t=>"start"===t?"left":"end"===t?"right":"center",Yn=(t,i,n)=>"start"===t?i:"end"===t?n:(i+n)/2;function O0(t,i,n){const o=i.length;let s=0,d=o;if(t._sorted){const{iScale:f,_parsed:g}=t,_=f.axis,{min:k,max:w,minDefined:C,maxDefined:A}=f.getUserBounds();C&&(s=qn(Math.min(Mr(g,f.axis,k).lo,n?o:Mr(i,_,f.getPixelForValue(k)).lo),0,o-1)),d=A?qn(Math.max(Mr(g,f.axis,w,!0).hi+1,n?0:Mr(i,_,f.getPixelForValue(w),!0).hi+1),s,o)-s:o-s}return{start:s,count:d}}function B0(t){const{xScale:i,yScale:n,_scaleRanges:o}=t,s={xmin:i.min,xmax:i.max,ymin:n.min,ymax:n.max};if(!o)return t._scaleRanges=s,!0;const d=o.xmin!==i.min||o.xmax!==i.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,s),d}const gs=t=>0===t||1===t,$s=(t,i,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-i)*un/n),If=(t,i,n)=>Math.pow(2,-10*t)*Math.sin((t-i)*un/n)+1,Qs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*mn),easeOutSine:t=>Math.sin(t*mn),easeInOutSine:t=>-.5*(Math.cos(hn*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>gs(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>gs(t)?t:$s(t,.075,.3),easeOutElastic:t=>gs(t)?t:If(t,.075,.3),easeInOutElastic:t=>gs(t)?t:t<.5?.5*$s(2*t,.1125,.45):.5+.5*If(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let i=1.70158;return(t/=.5)<1?t*t*((1+(i*=1.525))*t-i)*.5:.5*((t-=2)*t*((1+(i*=1.525))*t+i)+2)},easeInBounce:t=>1-Qs.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*Qs.easeInBounce(2*t):.5*Qs.easeOutBounce(2*t-1)+.5};function Za(t){if(t&&"object"==typeof t){const i=t.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function Js(t){return Za(t)?t:new wi(t)}function Pf(t){return Za(t)?t:new wi(t).saturate(.5).darken(.1).hexString()}const Ff=["x","y","borderWidth","radius","tension"],L0=["color","borderColor","backgroundColor"],R0=new Map;function qa(t,i,n){return function $t(t,i){i=i||{};const n=t+JSON.stringify(i);let o=R0.get(n);return o||(o=new Intl.NumberFormat(t,i),R0.set(n,o)),o}(i,n).format(t)}const z0={values:t=>dn(t)?t:""+t,numeric(t,i,n){if(0===t)return"0";const o=this.chart.options.locale;let s,d=t;if(n.length>1){const k=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(k<1e-4||k>1e15)&&(s="scientific"),d=function wx(t,i){let n=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}(t,n)}const f=fs(Math.abs(d)),g=Math.max(Math.min(-1*Math.floor(f),20),0),_={notation:s,minimumFractionDigits:g,maximumFractionDigits:g};return Object.assign(_,this.options.ticks.format),qa(t,o,_)},logarithmic(t,i,n){if(0===t)return"0";const o=n[i].significand||t/Math.pow(10,Math.floor(fs(t)));return[1,2,3,5,10,15].includes(o)||i>.8*n.length?z0.numeric.call(this,t,i,n):""}};var _t={formatters:z0};const Fi=Object.create(null),mc=Object.create(null);function Ga(t,i){if(!i)return t;const n=i.split(".");for(let o=0,s=n.length;o<s;++o){const d=n[o];t=t[d]||(t[d]=Object.create(null))}return t}function _c(t,i,n){return"string"==typeof i?Ks(Ga(t,i),n):Ks(Ga(t,""),i)}class Nf{constructor(i,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,s)=>Pf(s.backgroundColor),this.hoverBorderColor=(o,s)=>Pf(s.borderColor),this.hoverColor=(o,s)=>Pf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(n)}set(i,n){return _c(this,i,n)}get(i){return Ga(this,i)}describe(i,n){return _c(mc,i,n)}override(i,n){return _c(Fi,i,n)}route(i,n,o,s){const d=Ga(this,i),f=Ga(this,o),g="_"+n;Object.defineProperties(d,{[g]:{value:d[n],writable:!0},[n]:{enumerable:!0,get(){const _=this[g],k=f[s];return yt(_)?Object.assign({},k,_):ht(_,k)},set(_){this[g]=_}}})}apply(i){i.forEach(n=>n(this))}}var zn=new Nf({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function kx(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),t.set("animations",{colors:{type:"color",properties:L0},numbers:{type:"number",properties:Ff}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function Xs(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function vx(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,n)=>n.lineWidth,tickColor:(i,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_t.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function bc(t,i,n,o,s){let d=i[s];return d||(d=i[s]=t.measureText(s).width,n.push(s)),d>o&&(o=d),o}function Cx(t,i,n,o){let s=(o=o||{}).data=o.data||{},d=o.garbageCollect=o.garbageCollect||[];o.font!==i&&(s=o.data={},d=o.garbageCollect=[],o.font=i),t.save(),t.font=i;let f=0;const g=n.length;let _,k,w,C,A;for(_=0;_<g;_++)if(C=n[_],null!=C&&!0!==dn(C))f=bc(t,s,d,f,C);else if(dn(C))for(k=0,w=C.length;k<w;k++)A=C[k],null!=A&&!dn(A)&&(f=bc(t,s,d,f,A));t.restore();const T=d.length/2;if(T>n.length){for(_=0;_<T;_++)delete s[d[_]];d.splice(0,T)}return f}function dr(t,i,n){const o=t.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((i-s)*o)/o+s}function Of(t,i){(i=i||t.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,t.width,t.height),i.restore()}function kc(t,i,n,o){V0(t,i,n,o,null)}function V0(t,i,n,o,s){let d,f,g,_,k,w,C,A;const T=i.pointStyle,E=i.rotation,S=i.radius;let M=(E||0)*gx;if(T&&"object"==typeof T&&(d=T.toString(),"[object HTMLImageElement]"===d||"[object HTMLCanvasElement]"===d))return t.save(),t.translate(n,o),t.rotate(M),t.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),void t.restore();if(!(isNaN(S)||S<=0)){switch(t.beginPath(),T){default:s?t.ellipse(n,o,s/2,S,0,0,un):t.arc(n,o,S,0,un),t.closePath();break;case"triangle":w=s?s/2:S,t.moveTo(n+Math.sin(M)*w,o-Math.cos(M)*S),M+=Cf,t.lineTo(n+Math.sin(M)*w,o-Math.cos(M)*S),M+=Cf,t.lineTo(n+Math.sin(M)*w,o-Math.cos(M)*S),t.closePath();break;case"rectRounded":k=.516*S,_=S-k,f=Math.cos(M+us)*_,C=Math.cos(M+us)*(s?s/2-k:_),g=Math.sin(M+us)*_,A=Math.sin(M+us)*(s?s/2-k:_),t.arc(n-C,o-g,k,M-hn,M-mn),t.arc(n+A,o-f,k,M-mn,M),t.arc(n+C,o+g,k,M,M+mn),t.arc(n-A,o+f,k,M+mn,M+hn),t.closePath();break;case"rect":if(!E){_=Math.SQRT1_2*S,w=s?s/2:_,t.rect(n-w,o-_,2*w,2*_);break}M+=us;case"rectRot":C=Math.cos(M)*(s?s/2:S),f=Math.cos(M)*S,g=Math.sin(M)*S,A=Math.sin(M)*(s?s/2:S),t.moveTo(n-C,o-g),t.lineTo(n+A,o-f),t.lineTo(n+C,o+g),t.lineTo(n-A,o+f),t.closePath();break;case"crossRot":M+=us;case"cross":C=Math.cos(M)*(s?s/2:S),f=Math.cos(M)*S,g=Math.sin(M)*S,A=Math.sin(M)*(s?s/2:S),t.moveTo(n-C,o-g),t.lineTo(n+C,o+g),t.moveTo(n+A,o-f),t.lineTo(n-A,o+f);break;case"star":C=Math.cos(M)*(s?s/2:S),f=Math.cos(M)*S,g=Math.sin(M)*S,A=Math.sin(M)*(s?s/2:S),t.moveTo(n-C,o-g),t.lineTo(n+C,o+g),t.moveTo(n+A,o-f),t.lineTo(n-A,o+f),M+=us,C=Math.cos(M)*(s?s/2:S),f=Math.cos(M)*S,g=Math.sin(M)*S,A=Math.sin(M)*(s?s/2:S),t.moveTo(n-C,o-g),t.lineTo(n+C,o+g),t.moveTo(n+A,o-f),t.lineTo(n-A,o+f);break;case"line":f=s?s/2:Math.cos(M)*S,g=Math.sin(M)*S,t.moveTo(n-f,o-g),t.lineTo(n+f,o+g);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(M)*(s?s/2:S),o+Math.sin(M)*S);break;case!1:t.closePath()}t.fill(),i.borderWidth>0&&t.stroke()}}function Ya(t,i,n){return n=n||.5,!i||t&&t.x>i.left-n&&t.x<i.right+n&&t.y>i.top-n&&t.y<i.bottom+n}function Ka(t,i){t.save(),t.beginPath(),t.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),t.clip()}function wc(t){t.restore()}function j0(t,i,n,o,s){if(!i)return t.lineTo(n.x,n.y);if("middle"===s){const d=(i.x+n.x)/2;t.lineTo(d,i.y),t.lineTo(d,n.y)}else"after"===s!=!!o?t.lineTo(i.x,n.y):t.lineTo(n.x,i.y);t.lineTo(n.x,n.y)}function Ax(t,i,n,o){if(!i)return t.lineTo(n.x,n.y);t.bezierCurveTo(o?i.cp1x:i.cp2x,o?i.cp1y:i.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function Do(t,i,n,o,s,d={}){const f=dn(i)?i:[i],g=d.strokeWidth>0&&""!==d.strokeColor;let _,k;for(t.save(),t.font=s.string,function vc(t,i){i.translation&&t.translate(i.translation[0],i.translation[1]),Nt(i.rotation)||t.rotate(i.rotation),i.color&&(t.fillStyle=i.color),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline)}(t,d),_=0;_<f.length;++_)k=f[_],d.backdrop&&vi(t,d.backdrop),g&&(d.strokeColor&&(t.strokeStyle=d.strokeColor),Nt(d.strokeWidth)||(t.lineWidth=d.strokeWidth),t.strokeText(k,n,o,d.maxWidth)),t.fillText(k,n,o,d.maxWidth),U0(t,n,o,k,d),o+=s.lineHeight;t.restore()}function U0(t,i,n,o,s){if(s.strikethrough||s.underline){const d=t.measureText(o),f=i-d.actualBoundingBoxLeft,g=i+d.actualBoundingBoxRight,_=n-d.actualBoundingBoxAscent,k=n+d.actualBoundingBoxDescent,w=s.strikethrough?(_+k)/2:k;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(f,w),t.lineTo(g,w),t.stroke()}}function vi(t,i){const n=t.fillStyle;t.fillStyle=i.color,t.fillRect(i.left,i.top,i.width,i.height),t.fillStyle=n}function $a(t,i){const{x:n,y:o,w:s,h:d,radius:f}=i;t.arc(n+f.topLeft,o+f.topLeft,f.topLeft,-mn,hn,!0),t.lineTo(n,o+d-f.bottomLeft),t.arc(n+f.bottomLeft,o+d-f.bottomLeft,f.bottomLeft,hn,mn,!0),t.lineTo(n+s-f.bottomRight,o+d),t.arc(n+s-f.bottomRight,o+d-f.bottomRight,f.bottomRight,mn,0,!0),t.lineTo(n+s,o+f.topRight),t.arc(n+s-f.topRight,o+f.topRight,f.topRight,0,-mn,!0),t.lineTo(n+f.topLeft,o)}const H0=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,W0=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $d(t,i){const n=(""+t).match(H0);if(!n||"normal"===n[1])return 1.2*i;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return i*t}const hr=t=>+t||0;function Qa(t,i){const n={},o=yt(i),s=o?Object.keys(i):i,d=yt(t)?o?f=>ht(t[f],t[i[f]]):f=>t[f]:()=>t;for(const f of s)n[f]=hr(d(f));return n}function Qd(t){return Qa(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ea(t){return Qa(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xi(t){const i=Qd(t);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Kn(t,i){let n=ht((t=t||{}).size,(i=i||zn.font).size);"string"==typeof n&&(n=parseInt(n,10));let o=ht(t.style,i.style);o&&!(""+o).match(W0)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const s={family:ht(t.family,i.family),lineHeight:$d(ht(t.lineHeight,i.lineHeight),n),size:n,style:o,weight:ht(t.weight,i.weight),string:""};return s.string=function xx(t){return!t||Nt(t.size)||Nt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(s),s}function Ja(t,i,n,o){let d,f,g,s=!0;for(d=0,f=t.length;d<f;++d)if(g=t[d],void 0!==g&&(void 0!==i&&"function"==typeof g&&(g=g(i),s=!1),void 0!==n&&dn(g)&&(g=g[n%g.length],s=!1),void 0!==g))return o&&!s&&(o.cacheable=!1),g}function Mo(t,i){return Object.assign(Object.create(t),i)}function Jd(t,i=[""],n=t,o,s=(()=>t[0])){Dr(o)||(o=G0("_fallback",t));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:o,_getTarget:s,override:f=>Jd([f,...t],i,n,o)};return new Proxy(d,{deleteProperty:(f,g)=>(delete f[g],delete f._keys,delete t[0][g],!0),get:(f,g)=>Bf(f,g,()=>function Dx(t,i,n,o){let s;for(const d of i)if(s=G0(yx(d,t),n),Dr(s))return Xe(t,s)?xc(n,o,t,s):s}(g,i,t,f)),getOwnPropertyDescriptor:(f,g)=>Reflect.getOwnPropertyDescriptor(f._scopes[0],g),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(f,g)=>Cc(f).includes(g),ownKeys:f=>Cc(f),set(f,g,_){const k=f._storage||(f._storage=s());return f[g]=k[g]=_,delete f._keys,!0}})}function qr(t,i,n,o){const s={_cacheable:!1,_proxy:t,_context:i,_subProxy:n,_stack:new Set,_descriptors:ta(t,o),setContext:d=>qr(t,d,n,o),override:d=>qr(t.override(d),i,n,o)};return new Proxy(s,{deleteProperty:(d,f)=>(delete d[f],delete t[f],!0),get:(d,f,g)=>Bf(d,f,()=>function Tx(t,i,n){const{_proxy:o,_context:s,_subProxy:d,_descriptors:f}=t;let g=o[i];return hs(g)&&f.isScriptable(i)&&(g=function Z0(t,i,n,o){const{_proxy:s,_context:d,_subProxy:f,_stack:g}=n;if(g.has(t))throw new Error("Recursion detected: "+Array.from(g).join("->")+"->"+t);return g.add(t),i=i(d,f||o),g.delete(t),Xe(t,i)&&(i=xc(s._scopes,s,t,i)),i}(i,g,t,n)),dn(g)&&g.length&&(g=function q0(t,i,n,o){const{_proxy:s,_context:d,_subProxy:f,_descriptors:g}=n;if(Dr(d.index)&&o(t))i=i[d.index%i.length];else if(yt(i[0])){const _=i,k=s._scopes.filter(w=>w!==_);i=[];for(const w of _){const C=xc(k,s,t,w);i.push(qr(C,d,f&&f[t],g))}}return i}(i,g,t,f.isIndexable)),Xe(i,g)&&(g=qr(g,s,d&&d[i],f)),g}(d,f,g)),getOwnPropertyDescriptor:(d,f)=>d._descriptors.allKeys?Reflect.has(t,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,f),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(d,f)=>Reflect.has(t,f),ownKeys:()=>Reflect.ownKeys(t),set:(d,f,g)=>(t[f]=g,delete d[f],!0)})}function ta(t,i={scriptable:!0,indexable:!0}){const{_scriptable:n=i.scriptable,_indexable:o=i.indexable,_allKeys:s=i.allKeys}=t;return{allKeys:s,scriptable:n,indexable:o,isScriptable:hs(n)?n:()=>n,isIndexable:hs(o)?o:()=>o}}const yx=(t,i)=>t?t+vf(i):i,Xe=(t,i)=>yt(i)&&"adapters"!==t&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function Bf(t,i,n){if(Object.prototype.hasOwnProperty.call(t,i))return t[i];const o=n();return t[i]=o,o}function Lf(t,i,n){return hs(t)?t(i,n):t}const Sx=(t,i)=>!0===t?i:"string"==typeof t?ds(i,t):void 0;function yn(t,i,n,o,s){for(const d of i){const f=Sx(n,d);if(f){t.add(f);const g=Lf(f._fallback,n,s);if(Dr(g)&&g!==n&&g!==o)return g}else if(!1===f&&Dr(o)&&n!==o)return null}return!1}function xc(t,i,n,o){const s=i._rootScopes,d=Lf(i._fallback,n,o),f=[...t,...s],g=new Set;g.add(o);let _=Rf(g,f,n,d||n,o);return!(null===_||Dr(d)&&d!==n&&(_=Rf(g,f,d,_,o),null===_))&&Jd(Array.from(g),[""],s,d,()=>function Ex(t,i,n){const o=t._getTarget();i in o||(o[i]={});const s=o[i];return dn(s)&&yt(n)?n:s||{}}(i,n,o))}function Rf(t,i,n,o,s){for(;n;)n=yn(t,i,n,o,s);return n}function G0(t,i){for(const n of i){if(!n)continue;const o=n[t];if(Dr(o))return o}}function Cc(t){let i=t._keys;return i||(i=t._keys=function Y0(t){const i=new Set;for(const n of t)for(const o of Object.keys(n).filter(s=>!s.startsWith("_")))i.add(o);return Array.from(i)}(t._scopes)),i}function Ac(t,i,n,o){const{iScale:s}=t,{key:d="r"}=this._parsing,f=new Array(o);let g,_,k,w;for(g=0,_=o;g<_;++g)k=g+n,w=i[k],f[g]={r:s.parse(ds(w,d),k)};return f}const K0=Number.EPSILON||1e-14,na=(t,i)=>i<t.length&&!t[i].skip&&t[i],zf=t=>"x"===t?"y":"x";function Xd(t,i,n,o){const s=t.skip?i:t,d=i,f=n.skip?i:n,g=Sf(d,s),_=Sf(f,d);let k=g/(g+_),w=_/(g+_);k=isNaN(k)?0:k,w=isNaN(w)?0:w;const C=o*k,A=o*w;return{previous:{x:d.x-C*(f.x-s.x),y:d.y-C*(f.y-s.y)},next:{x:d.x+A*(f.x-s.x),y:d.y+A*(f.y-s.y)}}}function yc(t,i,n){return Math.max(Math.min(t,n),i)}function Ix(t,i,n,o,s){let d,f,g,_;if(i.spanGaps&&(t=t.filter(k=>!k.skip)),"monotone"===i.cubicInterpolationMode)!function $0(t,i="x"){const n=zf(i),o=t.length,s=Array(o).fill(0),d=Array(o);let f,g,_,k=na(t,0);for(f=0;f<o;++f)if(g=_,_=k,k=na(t,f+1),_){if(k){const w=k[i]-_[i];s[f]=0!==w?(k[n]-_[n])/w:0}d[f]=g?k?ho(s[f-1])!==ho(s[f])?0:(s[f-1]+s[f])/2:s[f-1]:s[f]}(function Mx(t,i,n){const o=t.length;let s,d,f,g,_,k=na(t,0);for(let w=0;w<o-1;++w)if(_=k,k=na(t,w+1),_&&k){if(hc(i[w],0,K0)){n[w]=n[w+1]=0;continue}s=n[w]/i[w],d=n[w+1]/i[w],g=Math.pow(s,2)+Math.pow(d,2),!(g<=9)&&(f=3/Math.sqrt(g),n[w]=s*f*i[w],n[w+1]=d*f*i[w])}})(t,s,d),function Xa(t,i,n="x"){const o=zf(n),s=t.length;let d,f,g,_=na(t,0);for(let k=0;k<s;++k){if(f=g,g=_,_=na(t,k+1),!g)continue;const w=g[n],C=g[o];f&&(d=(w-f[n])/3,g[`cp1${n}`]=w-d,g[`cp1${o}`]=C-d*i[k]),_&&(d=(_[n]-w)/3,g[`cp2${n}`]=w+d,g[`cp2${o}`]=C+d*i[k])}}(t,d,i)}(t,s);else{let k=o?t[t.length-1]:t[0];for(d=0,f=t.length;d<f;++d)g=t[d],_=Xd(k,g,t[Math.min(d+1,f-(o?0:1))%f],i.tension),g.cp1x=_.previous.x,g.cp1y=_.previous.y,g.cp2x=_.next.x,g.cp2y=_.next.y,k=g}i.capBezierPoints&&function uo(t,i){let n,o,s,d,f,g=Ya(t[0],i);for(n=0,o=t.length;n<o;++n)f=d,d=g,g=n<o-1&&Ya(t[n+1],i),d&&(s=t[n],f&&(s.cp1x=yc(s.cp1x,i.left,i.right),s.cp1y=yc(s.cp1y,i.top,i.bottom)),g&&(s.cp2x=yc(s.cp2x,i.left,i.right),s.cp2y=yc(s.cp2y,i.top,i.bottom)))}(t,n)}function Q0(){return typeof window<"u"&&typeof document<"u"}function el(t){let i=t.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function eh(t,i,n){let o;return"string"==typeof t?(o=parseInt(t,10),-1!==t.indexOf("%")&&(o=o/100*i.parentNode[n])):o=t,o}const th=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),J0=["top","right","bottom","left"];function ia(t,i,n){const o={};n=n?"-"+n:"";for(let s=0;s<4;s++){const d=J0[s];o[d]=parseFloat(t[i+"-"+d+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Io(t,i){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:o}=i,s=th(n),d="border-box"===s.boxSizing,f=ia(s,"padding"),g=ia(s,"border","width"),{x:_,y:k,box:w}=function X0(t,i){const n=t.touches,o=n&&n.length?n[0]:t,{offsetX:s,offsetY:d}=o;let g,_,f=!1;if(((t,i,n)=>(t>0||i>0)&&(!n||!n.shadowRoot))(s,d,t.target))g=s,_=d;else{const k=i.getBoundingClientRect();g=o.clientX-k.left,_=o.clientY-k.top,f=!0}return{x:g,y:_,box:f}}(t,n),C=f.left+(w&&g.left),A=f.top+(w&&g.top);let{width:T,height:E}=i;return d&&(T-=f.width+g.width,E-=f.height+g.height),{x:Math.round((_-C)/T*n.width/o),y:Math.round((k-A)/E*n.height/o)}}const nh=t=>Math.round(10*t)/10;function Vf(t,i,n){const o=i||1,s=Math.floor(t.height*o),d=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const f=t.canvas;return f.style&&(n||!f.style.height&&!f.style.width)&&(f.style.height=`${t.height}px`,f.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==o||f.height!==s||f.width!==d)&&(t.currentDevicePixelRatio=o,f.height=s,f.width=d,t.ctx.setTransform(o,0,0,o,0,0),!0)}const e_=function(){let t=!1;try{const i={get passive(){return t=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return t}();function Tc(t,i){const n=function Px(t,i){return th(t).getPropertyValue(i)}(t,i),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _s(t,i,n,o){return{x:t.x+n*(i.x-t.x),y:t.y+n*(i.y-t.y)}}function Bx(t,i,n,o){return{x:t.x+n*(i.x-t.x),y:"middle"===o?n<.5?t.y:i.y:"after"===o?n<1?t.y:i.y:n>0?i.y:t.y}}function t_(t,i,n,o){const s={x:t.cp2x,y:t.cp2y},d={x:i.cp1x,y:i.cp1y},f=_s(t,s,n),g=_s(s,d,n),_=_s(d,i,n),k=_s(f,g,n),w=_s(g,_,n);return _s(k,w,n)}function bs(t,i,n){return t?function(t,i){return{x:n=>t+t+i-n,setWidth(n){i=n},textAlign:n=>"center"===n?n:"right"===n?"left":"right",xPlus:(n,o)=>n-o,leftForLtr:(n,o)=>n-o}}(i,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,i)=>t+i,leftForLtr:(t,i)=>t}}function Po(t,i){let n,o;("ltr"===i||"rtl"===i)&&(n=t.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",i,"important"),t.prevTextDirection=o)}function i_(t,i){void 0!==i&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",i[0],i[1]))}function ih(t){return"angle"===t?{between:fc,compare:_x,normalize:cr}:{between:Gn,compare:(i,n)=>i-n,normalize:i=>i}}function r_({start:t,end:i,count:n,loop:o,style:s}){return{start:t%n,end:i%n,loop:o&&(i-t+1)%n==0,style:s}}function o_(t,i,n){if(!n)return[t];const{property:o,start:s,end:d}=n,f=i.length,{compare:g,between:_,normalize:k}=ih(o),{start:w,end:C,loop:A,style:T}=function Rx(t,i,n){const{property:o,start:s,end:d}=n,{between:f,normalize:g}=ih(o),_=i.length;let A,T,{start:k,end:w,loop:C}=t;if(C){for(k+=_,w+=_,A=0,T=_;A<T&&f(g(i[k%_][o]),s,d);++A)k--,w--;k%=_,w%=_}return w<k&&(w+=_),{start:k,end:w,loop:C,style:t.style}}(t,i,n),E=[];let F,N,L,S=!1,M=null;for(let K=w,te=w;K<=C;++K)N=i[K%f],!N.skip&&(F=k(N[o]),F!==L&&(S=_(F,s,d),null===M&&(S||_(s,L,F)&&0!==g(s,L))&&(M=0===g(F,s)?K:te),null!==M&&(!S||0===g(d,F)||_(d,L,F))&&(E.push(r_({start:M,end:K,loop:A,count:f,style:T})),M=null),te=K,L=F));return null!==M&&E.push(r_({start:M,end:C,loop:A,count:f,style:T})),E}function s_(t,i){const n=[],o=t.segments;for(let s=0;s<o.length;s++){const d=o_(o[s],t.points,i);d.length&&n.push(...d)}return n}function c_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ux(t,i){return i&&JSON.stringify(t)!==JSON.stringify(i)}class tl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,n,o,s){const f=n.duration;n.listeners[s].forEach(g=>g({chart:i,initial:n.initial,numSteps:f,currentStep:Math.min(o-n.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=pc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let n=0;this._charts.forEach((o,s)=>{if(!o.running||!o.items.length)return;const d=o.items;let _,f=d.length-1,g=!1;for(;f>=0;--f)_=d[f],_._active?(_._total>o.duration&&(o.duration=_._total),_.tick(i),g=!0):(d[f]=d[d.length-1],d.pop());g&&(s.draw(),this._notify(s,o,i,"progress")),d.length||(o.running=!1,this._notify(s,o,i,"complete"),o.initial=!1),n+=d.length}),this._lastDate=i,0===n&&(this._running=!1)}_getAnims(i){const n=this._charts;let o=n.get(i);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(i,o)),o}listen(i,n,o){this._getAnims(i).listeners[n].push(o)}add(i,n){!n||!n.length||this._getAnims(i).items.push(...n)}has(i){return this._getAnims(i).items.length>0}start(i){const n=this._charts.get(i);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((o,s)=>Math.max(o,s._duration),0),this._refresh())}running(i){if(!this._running)return!1;const n=this._charts.get(i);return!(!n||!n.running||!n.items.length)}stop(i){const n=this._charts.get(i);if(!n||!n.items.length)return;const o=n.items;let s=o.length-1;for(;s>=0;--s)o[s].cancel();n.items=[],this._notify(i,n,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var Fo=new tl;const d_="transparent",Hx={boolean:(t,i,n)=>n>.5?i:t,color(t,i,n){const o=Js(t||d_),s=o.valid&&Js(i||d_);return s&&s.valid?s.mix(o,n).hexString():i},number:(t,i,n)=>t+(i-t)*n};class Wx{constructor(i,n,o,s){const d=n[o];s=Ja([i.to,s,d,i.from]);const f=Ja([i.from,d,s]);this._active=!0,this._fn=i.fn||Hx[i.type||typeof f],this._easing=Qs[i.easing]||Qs.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=n,this._prop=o,this._from=f,this._to=s,this._promises=void 0}active(){return this._active}update(i,n,o){if(this._active){this._notify(!1);const s=this._target[this._prop],d=o-this._start,f=this._duration-d;this._start=o,this._duration=Math.floor(Math.max(f,i.duration)),this._total+=d,this._loop=!!i.loop,this._to=Ja([i.to,n,s,i.from]),this._from=Ja([i.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const n=i-this._start,o=this._duration,s=this._prop,d=this._from,f=this._loop,g=this._to;let _;if(this._active=d!==g&&(f||n<o),!this._active)return this._target[s]=g,void this._notify(!0);n<0?this._target[s]=d:(_=n/o%2,_=f&&_>1?2-_:_,_=this._easing(Math.min(1,Math.max(0,_))),this._target[s]=this._fn(d,g,_))}wait(){const i=this._promises||(this._promises=[]);return new Promise((n,o)=>{i.push({res:n,rej:o})})}_notify(i){const n=i?"res":"rej",o=this._promises||[];for(let s=0;s<o.length;s++)o[s][n]()}}class h_{constructor(i,n){this._chart=i,this._properties=new Map,this.configure(n)}configure(i){if(!yt(i))return;const n=Object.keys(zn.animation),o=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{const d=i[s];if(!yt(d))return;const f={};for(const g of n)f[g]=d[g];(dn(d.properties)&&d.properties||[s]).forEach(g=>{(g===s||!o.has(g))&&o.set(g,f)})})}_animateOptions(i,n){const o=n.options,s=function rh(t,i){if(!i)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=i}(i,o);if(!s)return[];const d=this._createAnimations(s,o);return o.$shared&&function Zx(t,i){const n=[],o=Object.keys(i);for(let s=0;s<o.length;s++){const d=t[o[s]];d&&d.active()&&n.push(d.wait())}return Promise.all(n)}(i.options.$animations,o).then(()=>{i.options=o},()=>{}),d}_createAnimations(i,n){const o=this._properties,s=[],d=i.$animations||(i.$animations={}),f=Object.keys(n),g=Date.now();let _;for(_=f.length-1;_>=0;--_){const k=f[_];if("$"===k.charAt(0))continue;if("options"===k){s.push(...this._animateOptions(i,n));continue}const w=n[k];let C=d[k];const A=o.get(k);if(C){if(A&&C.active()){C.update(A,w,g);continue}C.cancel()}A&&A.duration?(d[k]=C=new Wx(A,i,k,w),s.push(C)):i[k]=w}return s}update(i,n){if(0===this._properties.size)return void Object.assign(i,n);const o=this._createAnimations(i,n);return o.length?(Fo.add(this._chart,o),!0):void 0}}function jf(t,i){const n=t&&t.options||{},o=n.reverse,s=void 0===n.min?i:0,d=void 0===n.max?i:0;return{start:o?d:s,end:o?s:d}}function Sc(t,i){const n=[],o=t._getSortedDatasetMetas(i);let s,d;for(s=0,d=o.length;s<d;++s)n.push(o[s].index);return n}function Uf(t,i,n,o={}){const s=t.keys,d="single"===o.mode;let f,g,_,k;if(null!==i){for(f=0,g=s.length;f<g;++f){if(_=+s[f],_===n){if(o.all)continue;break}k=t.values[_],In(k)&&(d||0===i||ho(i)===ho(k))&&(i+=k)}return i}}function Hf(t,i){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==i.stack}function p_(t,i,n){const o=t[i]||(t[i]={});return o[n]||(o[n]={})}function Wf(t,i,n,o){for(const s of i.getMatchingVisibleMetas(o).reverse()){const d=t[s.index];if(n&&d>0||!n&&d<0)return s.index}return null}function Zf(t,i){const{chart:n,_cachedMeta:o}=t,s=n._stacks||(n._stacks={}),{iScale:d,vScale:f,index:g}=o,_=d.axis,k=f.axis,w=function f_(t,i,n){return`${t.id}.${i.id}.${n.stack||n.type}`}(d,f,o),C=i.length;let A;for(let T=0;T<C;++T){const E=i[T],{[_]:S,[k]:M}=E;A=(E._stacks||(E._stacks={}))[k]=p_(s,w,S),A[g]=M,A._top=Wf(A,f,!0,o.type),A._bottom=Wf(A,f,!1,o.type),(A._visualValues||(A._visualValues={}))[g]=M}}function oh(t,i){const n=t.scales;return Object.keys(n).filter(o=>n[o].axis===i).shift()}function nl(t,i){const n=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){i=i||t._parsed;for(const s of i){const d=s._stacks;if(!d||void 0===d[o]||void 0===d[o][n])return;delete d[o][n],void 0!==d[o]._visualValues&&void 0!==d[o]._visualValues[n]&&delete d[o]._visualValues[n]}}}const sh=t=>"reset"===t||"none"===t,Xn=(t,i)=>i?t:Object.assign({},t);class Pn{constructor(i,n){this.chart=i,this._ctx=i.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=Hf(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&nl(this._cachedMeta),this.index=i}linkScales(){const i=this.chart,n=this._cachedMeta,o=this.getDataset(),s=(C,A,T,E)=>"x"===C?A:"r"===C?E:T,d=n.xAxisID=ht(o.xAxisID,oh(i,"x")),f=n.yAxisID=ht(o.yAxisID,oh(i,"y")),g=n.rAxisID=ht(o.rAxisID,oh(i,"r")),_=n.indexAxis,k=n.iAxisID=s(_,d,f,g),w=n.vAxisID=s(_,f,d,g);n.xScale=this.getScaleForId(d),n.yScale=this.getScaleForId(f),n.rScale=this.getScaleForId(g),n.iScale=this.getScaleForId(k),n.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){const n=this._cachedMeta;return i===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const i=this._cachedMeta;this._data&&ps(this._data,this),i._stacked&&nl(i)}_dataCheck(){const i=this.getDataset(),n=i.data||(i.data=[]),o=this._data;if(yt(n))this._data=function _n(t){const i=Object.keys(t),n=new Array(i.length);let o,s,d;for(o=0,s=i.length;o<s;++o)d=i[o],n[o]={x:d,y:t[d]};return n}(n);else if(o!==n){if(o){ps(o,this);const s=this._cachedMeta;nl(s),s._parsed=[]}n&&Object.isExtensible(n)&&function bx(t,i){t._chartjs?t._chartjs.listeners.push(i):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Df.forEach(n=>{const o="_onData"+vf(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...d){const f=s.apply(this,d);return t._chartjs.listeners.forEach(g=>{"function"==typeof g[o]&&g[o](...d)}),f}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){const n=this._cachedMeta,o=this.getDataset();let s=!1;this._dataCheck();const d=n._stacked;n._stacked=Hf(n.vScale,n),n.stack!==o.stack&&(s=!0,nl(n),n.stack=o.stack),this._resyncElements(i),(s||d!==n._stacked)&&Zf(this,n._parsed)}configure(){const i=this.chart.config,n=i.datasetScopeKeys(this._type),o=i.getOptionScopes(this.getDataset(),n,!0);this.options=i.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,n){const{_cachedMeta:o,_data:s}=this,{iScale:d,_stacked:f}=o,g=d.axis;let w,C,A,_=0===i&&n===s.length||o._sorted,k=i>0&&o._parsed[i-1];if(!1===this._parsing)o._parsed=s,o._sorted=!0,A=s;else{A=dn(s[i])?this.parseArrayData(o,s,i,n):yt(s[i])?this.parseObjectData(o,s,i,n):this.parsePrimitiveData(o,s,i,n);const T=()=>null===C[g]||k&&C[g]<k[g];for(w=0;w<n;++w)o._parsed[w+i]=C=A[w],_&&(T()&&(_=!1),k=C);o._sorted=_}f&&Zf(this,A)}parsePrimitiveData(i,n,o,s){const{iScale:d,vScale:f}=i,g=d.axis,_=f.axis,k=d.getLabels(),w=d===f,C=new Array(s);let A,T,E;for(A=0,T=s;A<T;++A)E=A+o,C[A]={[g]:w||d.parse(k[E],E),[_]:f.parse(n[E],E)};return C}parseArrayData(i,n,o,s){const{xScale:d,yScale:f}=i,g=new Array(s);let _,k,w,C;for(_=0,k=s;_<k;++_)w=_+o,C=n[w],g[_]={x:d.parse(C[0],w),y:f.parse(C[1],w)};return g}parseObjectData(i,n,o,s){const{xScale:d,yScale:f}=i,{xAxisKey:g="x",yAxisKey:_="y"}=this._parsing,k=new Array(s);let w,C,A,T;for(w=0,C=s;w<C;++w)A=w+o,T=n[A],k[w]={x:d.parse(ds(T,g),A),y:f.parse(ds(T,_),A)};return k}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,n,o){const d=this._cachedMeta,f=n[i.axis];return Uf({keys:Sc(this.chart,!0),values:n._stacks[i.axis]._visualValues},f,d.index,{mode:o})}updateRangeFromParsed(i,n,o,s){const d=o[n.axis];let f=null===d?NaN:d;const g=s&&o._stacks[n.axis];s&&g&&(s.values=g,f=Uf(s,d,this._cachedMeta.index)),i.min=Math.min(i.min,f),i.max=Math.max(i.max,f)}getMinMax(i,n){const o=this._cachedMeta,s=o._parsed,d=o._sorted&&i===o.iScale,f=s.length,g=this._getOtherScale(i),_=((t,i,n)=>t&&!i.hidden&&i._stacked&&{keys:Sc(this.chart,!0),values:null})(n,o),k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:C}=function qx(t){const{min:i,max:n,minDefined:o,maxDefined:s}=t.getUserBounds();return{min:o?i:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(g);let A,T;function E(){T=s[A];const S=T[g.axis];return!In(T[i.axis])||w>S||C<S}for(A=0;A<f&&(E()||(this.updateRangeFromParsed(k,i,T,_),!d));++A);if(d)for(A=f-1;A>=0;--A)if(!E()){this.updateRangeFromParsed(k,i,T,_);break}return k}getAllParsedValues(i){const n=this._cachedMeta._parsed,o=[];let s,d,f;for(s=0,d=n.length;s<d;++s)f=n[s][i.axis],In(f)&&o.push(f);return o}getMaxOverflow(){return!1}getLabelAndValue(i){const n=this._cachedMeta,o=n.iScale,s=n.vScale,d=this.getParsed(i);return{label:o?""+o.getLabelForValue(d[o.axis]):"",value:s?""+s.getLabelForValue(d[s.axis]):""}}_update(i){const n=this._cachedMeta;this.update(i||"default"),n._clip=function Rt(t){let i,n,o,s;return yt(t)?(i=t.top,n=t.right,o=t.bottom,s=t.left):i=n=o=s=t,{top:i,right:n,bottom:o,left:s,disabled:!1===t}}(ht(this.options.clip,function u_(t,i,n){if(!1===n)return!1;const o=jf(t,n),s=jf(i,n);return{top:s.end,right:o.end,bottom:s.start,left:o.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(i){}draw(){const i=this._ctx,o=this._cachedMeta,s=o.data||[],d=this.chart.chartArea,f=[],g=this._drawStart||0,_=this._drawCount||s.length-g,k=this.options.drawActiveElementsOnTop;let w;for(o.dataset&&o.dataset.draw(i,d,g,_),w=g;w<g+_;++w){const C=s[w];C.hidden||(C.active&&k?f.push(C):C.draw(i,d))}for(w=0;w<f.length;++w)f[w].draw(i,d)}getStyle(i,n){const o=n?"active":"default";return void 0===i&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(i||0,o)}getContext(i,n,o){const s=this.getDataset();let d;if(i>=0&&i<this._cachedMeta.data.length){const f=this._cachedMeta.data[i];d=f.$context||(f.$context=function qf(t,i,n){return Mo(t,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:n,index:i,mode:"default",type:"data"})}(this.getContext(),i,f)),d.parsed=this.getParsed(i),d.raw=s.data[i],d.index=d.dataIndex=i}else d=this.$context||(this.$context=function g_(t,i){return Mo(t,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),d.dataset=s,d.index=d.datasetIndex=this.index;return d.active=!!n,d.mode=o,d}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,n){return this._resolveElementOptions(this.dataElementType.id,n,i)}_resolveElementOptions(i,n="default",o){const s="active"===n,d=this._cachedDataOpts,f=i+"-"+n,g=d[f],_=this.enableOptionSharing&&Dr(o);if(g)return Xn(g,_);const k=this.chart.config,w=k.datasetElementScopeKeys(this._type,i),C=s?[`${i}Hover`,"hover",i,""]:[i,""],A=k.getOptionScopes(this.getDataset(),w),T=Object.keys(zn.elements[i]),S=k.resolveNamedOptions(A,T,()=>this.getContext(o,s,n),C);return S.$shared&&(S.$shared=_,d[f]=Object.freeze(Xn(S,_))),S}_resolveAnimations(i,n,o){const s=this.chart,d=this._cachedDataOpts,f=`animation-${n}`,g=d[f];if(g)return g;let _;if(!1!==s.options.animation){const w=this.chart.config,C=w.datasetAnimationScopeKeys(this._type,n),A=w.getOptionScopes(this.getDataset(),C);_=w.createResolver(A,this.getContext(i,o,n))}const k=new h_(s,_&&_.animations);return _&&_._cacheable&&(d[f]=Object.freeze(k)),k}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,n){return!n||sh(i)||this.chart._animationsDisabled}_getSharedOptions(i,n){const o=this.resolveDataElementOptions(i,n),s=this._sharedOptions,d=this.getSharedOptions(o),f=this.includeOptions(n,d)||d!==s;return this.updateSharedOptions(d,n,o),{sharedOptions:d,includeOptions:f}}updateElement(i,n,o,s){sh(s)?Object.assign(i,o):this._resolveAnimations(n,s).update(i,o)}updateSharedOptions(i,n,o){i&&!sh(n)&&this._resolveAnimations(void 0,n).update(i,o)}_setStyle(i,n,o,s){i.active=s;const d=this.getStyle(n,s);this._resolveAnimations(n,o,s).update(i,{options:!s&&this.getSharedOptions(d)||d})}removeHoverStyle(i,n,o){this._setStyle(i,o,"active",!1)}setHoverStyle(i,n,o){this._setStyle(i,o,"active",!0)}_removeDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){const n=this._data,o=this._cachedMeta.data;for(const[g,_,k]of this._syncList)this[g](_,k);this._syncList=[];const s=o.length,d=n.length,f=Math.min(d,s);f&&this.parse(0,f),d>s?this._insertElements(s,d-s,i):d<s&&this._removeElements(d,s-d)}_insertElements(i,n,o=!0){const s=this._cachedMeta,d=s.data,f=i+n;let g;const _=k=>{for(k.length+=n,g=k.length-1;g>=f;g--)k[g]=k[g-n]};for(_(d),g=i;g<f;++g)d[g]=new this.dataElementType;this._parsing&&_(s._parsed),this.parse(i,n),o&&this.updateElements(d,i,n,"reset")}updateElements(i,n,o,s){}_removeElements(i,n){const o=this._cachedMeta;if(this._parsing){const s=o._parsed.splice(i,n);o._stacked&&nl(o,s)}o.data.splice(i,n)}_sync(i){if(this._parsing)this._syncList.push(i);else{const[n,o,s]=i;this[n](o,s)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){const i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,n){n&&this._sync(["_removeElements",i,n]);const o=arguments.length-2;o&&this._sync(["_insertElements",i,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Yx(t){const i=t.iScale,n=function Gx(t,i){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(i);let o=[];for(let s=0,d=n.length;s<d;s++)o=o.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=Oe(o.sort((s,d)=>s-d))}return t._cache.$bar}(i,t.type);let s,d,f,g,o=i._length;const _=()=>{32767===f||-32768===f||(Dr(g)&&(o=Math.min(o,Math.abs(f-g)||o)),g=f)};for(s=0,d=n.length;s<d;++s)f=i.getPixelForValue(n[s]),_();for(g=void 0,s=0,d=i.ticks.length;s<d;++s)f=i.getPixelForTick(s),_();return o}function Gr(t,i,n,o){return dn(t)?function en(t,i,n,o){const s=n.parse(t[0],o),d=n.parse(t[1],o),f=Math.min(s,d),g=Math.max(s,d);let _=f,k=g;Math.abs(f)>Math.abs(g)&&(_=g,k=f),i[n.axis]=k,i._custom={barStart:_,barEnd:k,start:s,end:d,min:f,max:g}}(t,i,n,o):i[n.axis]=n.parse(t,o),i}function oa(t,i,n,o){const s=t.iScale,d=t.vScale,f=s.getLabels(),g=s===d,_=[];let k,w,C,A;for(k=n,w=n+o;k<w;++k)A=i[k],C={},C[s.axis]=g||s.parse(f[k],k),_.push(Gr(A,C,d,k));return _}function zt(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Te(t,i,n,o){let s=i.borderSkipped;const d={};if(!s)return void(t.borderSkipped=d);if(!0===s)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:f,end:g,reverse:_,top:k,bottom:w}=function sa(t){let i,n,o,s,d;return t.horizontal?(i=t.base>t.x,n="left",o="right"):(i=t.base<t.y,n="bottom",o="top"),i?(s="end",d="start"):(s="start",d="end"),{start:n,end:o,reverse:i,top:s,bottom:d}}(t);"middle"===s&&n&&(t.enableBorderRadius=!0,(n._top||0)===o?s=k:(n._bottom||0)===o?s=w:(d[il(w,f,g,_)]=!0,s=k)),d[il(s,f,g,_)]=!0,t.borderSkipped=d}function il(t,i,n,o){return o?(t=function __(t,i,n){return t===i?n:t===n?i:t}(t,i,n),t=Gf(t,n,i)):t=Gf(t,i,n),t}function Gf(t,i,n){return"start"===t?i:"end"===t?n:t}function ke(t,{inflateAmount:i},n){t.inflateAmount="auto"===i?1===n?.33:0:i}Qe(Pn,"defaults",{}),Qe(Pn,"datasetElementType",null),Qe(Pn,"dataElementType",null);class rl extends Pn{parsePrimitiveData(i,n,o,s){return oa(i,n,o,s)}parseArrayData(i,n,o,s){return oa(i,n,o,s)}parseObjectData(i,n,o,s){const{iScale:d,vScale:f}=i,{xAxisKey:g="x",yAxisKey:_="y"}=this._parsing,k="x"===d.axis?g:_,w="x"===f.axis?g:_,C=[];let A,T,E,S;for(A=o,T=o+s;A<T;++A)S=n[A],E={},E[d.axis]=d.parse(ds(S,k),A),C.push(Gr(ds(S,w),E,f,A));return C}updateRangeFromParsed(i,n,o,s){super.updateRangeFromParsed(i,n,o,s);const d=o._custom;d&&n===this._cachedMeta.vScale&&(i.min=Math.min(i.min,d.min),i.max=Math.max(i.max,d.max))}getMaxOverflow(){return 0}getLabelAndValue(i){const n=this._cachedMeta,{iScale:o,vScale:s}=n,d=this.getParsed(i),f=d._custom,g=zt(f)?"["+f.start+", "+f.end+"]":""+s.getLabelForValue(d[s.axis]);return{label:""+o.getLabelForValue(d[o.axis]),value:g}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(i){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,i)}updateElements(i,n,o,s){const d="reset"===s,{index:f,_cachedMeta:{vScale:g}}=this,_=g.getBasePixel(),k=g.isHorizontal(),w=this._getRuler(),{sharedOptions:C,includeOptions:A}=this._getSharedOptions(n,s);for(let T=n;T<n+o;T++){const E=this.getParsed(T),S=d||Nt(E[g.axis])?{base:_,head:_}:this._calculateBarValuePixels(T),M=this._calculateBarIndexPixels(T,w),F=(E._stacks||{})[g.axis],N={horizontal:k,base:S.base,enableBorderRadius:!F||zt(E._custom)||f===F._top||f===F._bottom,x:k?S.head:M.center,y:k?M.center:S.head,height:k?M.size:Math.abs(S.size),width:k?Math.abs(S.size):M.size};A&&(N.options=C||this.resolveDataElementOptions(T,i[T].active?"active":s));const L=N.options||i[T].options;Te(N,L,F,f),ke(N,L,w.ratio),this.updateElement(i[T],T,N,s)}}_getStacks(i,n){const{iScale:o}=this._cachedMeta,s=o.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),d=o.options.stacked,f=[],g=_=>{const k=_.controller.getParsed(n),w=k&&k[_.vScale.axis];if(Nt(w)||isNaN(w))return!0};for(const _ of s)if((void 0===n||!g(_))&&((!1===d||-1===f.indexOf(_.stack)||void 0===d&&void 0===_.stack)&&f.push(_.stack),_.index===i))break;return f.length||f.push(void 0),f}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,n,o){const s=this._getStacks(i,o),d=void 0!==n?s.indexOf(n):-1;return-1===d?s.length-1:d}_getRuler(){const i=this.options,n=this._cachedMeta,o=n.iScale,s=[];let d,f;for(d=0,f=n.data.length;d<f;++d)s.push(o.getPixelForValue(this.getParsed(d)[o.axis],d));const g=i.barThickness;return{min:g||Yx(n),pixels:s,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:i.grouped,ratio:g?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){const{_cachedMeta:{vScale:n,_stacked:o,index:s},options:{base:d,minBarLength:f}}=this,g=d||0,_=this.getParsed(i),k=_._custom,w=zt(k);let E,S,C=_[n.axis],A=0,T=o?this.applyStack(n,_,o):C;T!==C&&(A=T-C,T=C),w&&(C=k.barStart,T=k.barEnd-k.barStart,0!==C&&ho(C)!==ho(k.barEnd)&&(A=0),A+=C);const M=Nt(d)||w?A:d;let F=n.getPixelForValue(M);if(E=this.chart.getDataVisibility(i)?n.getPixelForValue(A+T):F,S=E-F,Math.abs(S)<f){S=function No(t,i,n){return 0!==t?ho(t):(i.isHorizontal()?1:-1)*(i.min>=n?1:-1)}(S,n,g)*f,C===g&&(F-=S/2);const N=n.getPixelForDecimal(0),L=n.getPixelForDecimal(1),W=Math.min(N,L),Z=Math.max(N,L);F=Math.max(Math.min(F,Z),W),E=F+S,o&&!w&&(_._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(F))}if(F===n.getPixelForValue(g)){const N=ho(S)*n.getLineWidthForValue(g)/2;F+=N,S-=N}return{size:S,base:F,head:E,center:E+S/2}}_calculateBarIndexPixels(i,n){const o=n.scale,s=this.options,d=s.skipNull,f=ht(s.maxBarThickness,1/0);let g,_;if(n.grouped){const k=d?this._getStackCount(i):n.stackCount,w="flex"===s.barThickness?function ra(t,i,n,o){const s=i.pixels,d=s[t];let f=t>0?s[t-1]:null,g=t<s.length-1?s[t+1]:null;const _=n.categoryPercentage;null===f&&(f=d-(null===g?i.end-i.start:g-d)),null===g&&(g=d+d-f);const k=d-(d-Math.min(f,g))/2*_;return{chunk:Math.abs(g-f)/2*_/o,ratio:n.barPercentage,start:k}}(i,n,s,k):function m_(t,i,n,o){const s=n.barThickness;let d,f;return Nt(s)?(d=i.min*n.categoryPercentage,f=n.barPercentage):(d=s*o,f=1),{chunk:d/o,ratio:f,start:i.pixels[t]-d/2}}(i,n,s,k),C=this._getStackIndex(this.index,this._cachedMeta.stack,d?i:void 0);g=w.start+w.chunk*C+w.chunk/2,_=Math.min(f,w.chunk*w.ratio)}else g=o.getPixelForValue(this.getParsed(i)[o.axis],i),_=Math.min(f,n.min*n.ratio);return{base:g-_/2,head:g+_/2,center:g,size:_}}draw(){const i=this._cachedMeta,n=i.vScale,o=i.data,s=o.length;let d=0;for(;d<s;++d)null!==this.getParsed(d)[n.axis]&&o[d].draw(this._ctx)}}Qe(rl,"id","bar"),Qe(rl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Qe(rl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ah extends Pn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,n,o,s){const d=super.parsePrimitiveData(i,n,o,s);for(let f=0;f<d.length;f++)d[f]._custom=this.resolveDataElementOptions(f+o).radius;return d}parseArrayData(i,n,o,s){const d=super.parseArrayData(i,n,o,s);for(let f=0;f<d.length;f++)d[f]._custom=ht(n[o+f][2],this.resolveDataElementOptions(f+o).radius);return d}parseObjectData(i,n,o,s){const d=super.parseObjectData(i,n,o,s);for(let f=0;f<d.length;f++){const g=n[o+f];d[f]._custom=ht(g&&g.r&&+g.r,this.resolveDataElementOptions(f+o).radius)}return d}getMaxOverflow(){const i=this._cachedMeta.data;let n=0;for(let o=i.length-1;o>=0;--o)n=Math.max(n,i[o].size(this.resolveDataElementOptions(o))/2);return n>0&&n}getLabelAndValue(i){const n=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:d}=n,f=this.getParsed(i),g=s.getLabelForValue(f.x),_=d.getLabelForValue(f.y),k=f._custom;return{label:o[i]||"",value:"("+g+", "+_+(k?", "+k:"")+")"}}update(i){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,i)}updateElements(i,n,o,s){const d="reset"===s,{iScale:f,vScale:g}=this._cachedMeta,{sharedOptions:_,includeOptions:k}=this._getSharedOptions(n,s),w=f.axis,C=g.axis;for(let A=n;A<n+o;A++){const T=i[A],E=!d&&this.getParsed(A),S={},M=S[w]=d?f.getPixelForDecimal(.5):f.getPixelForValue(E[w]),F=S[C]=d?g.getBasePixel():g.getPixelForValue(E[C]);S.skip=isNaN(M)||isNaN(F),k&&(S.options=_||this.resolveDataElementOptions(A,T.active?"active":s),d&&(S.options.radius=0)),this.updateElement(T,A,S,s)}}resolveDataElementOptions(i,n){const o=this.getParsed(i);let s=super.resolveDataElementOptions(i,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const d=s.radius;return"active"!==n&&(s.radius=0),s.radius+=ht(o&&o._custom,d),s}}Qe(ah,"id","bubble"),Qe(ah,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Qe(ah,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Oo extends Pn{constructor(i,n){super(i,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,n){const o=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=o;else{let f,g,d=_=>+o[_];if(yt(o[i])){const{key:_="value"}=this._parsing;d=k=>+ds(o[k],_)}for(f=i,g=i+n;f<g;++f)s._parsed[f]=d(f)}}_getRotation(){return Wr(this.options.rotation-90)}_getCircumference(){return Wr(this.options.circumference)}_getRotationExtents(){let i=un,n=-un;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const s=this.chart.getDatasetMeta(o).controller,d=s._getRotation(),f=s._getCircumference();i=Math.min(i,d),n=Math.max(n,d+f)}return{rotation:i,circumference:n-i}}update(i){const n=this.chart,{chartArea:o}=n,s=this._cachedMeta,d=s.data,f=this.getMaxBorderWidth()+this.getMaxOffset(d)+this.options.spacing,g=Math.max((Math.min(o.width,o.height)-f)/2,0),_=Math.min(((t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/i)(this.options.cutout,g),1),k=this._getRingWeight(this.index),{circumference:w,rotation:C}=this._getRotationExtents(),{ratioX:A,ratioY:T,offsetX:E,offsetY:S}=function lh(t,i,n){let o=1,s=1,d=0,f=0;if(i<un){const g=t,_=g+i,k=Math.cos(g),w=Math.sin(g),C=Math.cos(_),A=Math.sin(_),T=(L,W,Z)=>fc(L,g,_,!0)?1:Math.max(W,W*n,Z,Z*n),E=(L,W,Z)=>fc(L,g,_,!0)?-1:Math.min(W,W*n,Z,Z*n),S=T(0,k,C),M=T(mn,w,A),F=E(hn,k,C),N=E(hn+mn,w,A);o=(S-F)/2,s=(M-N)/2,d=-(S+F)/2,f=-(M+N)/2}return{ratioX:o,ratioY:s,offsetX:d,offsetY:f}}(C,w,_),N=Math.max(Math.min((o.width-f)/A,(o.height-f)/T)/2,0),L=kf(this.options.radius,N),Z=(L-Math.max(L*_,0))/this._getVisibleDatasetWeightTotal();this.offsetX=E*L,this.offsetY=S*L,s.total=this.calculateTotal(),this.outerRadius=L-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*k,0),this.updateElements(d,0,d.length,i)}_circumference(i,n){const o=this.options,s=this._cachedMeta,d=this._getCircumference();return n&&o.animation.animateRotate||!this.chart.getDataVisibility(i)||null===s._parsed[i]||s.data[i].hidden?0:this.calculateCircumference(s._parsed[i]*d/un)}updateElements(i,n,o,s){const d="reset"===s,f=this.chart,g=f.chartArea,w=(g.left+g.right)/2,C=(g.top+g.bottom)/2,A=d&&f.options.animation.animateScale,T=A?0:this.innerRadius,E=A?0:this.outerRadius,{sharedOptions:S,includeOptions:M}=this._getSharedOptions(n,s);let N,F=this._getRotation();for(N=0;N<n;++N)F+=this._circumference(N,d);for(N=n;N<n+o;++N){const L=this._circumference(N,d),W=i[N],Z={x:w+this.offsetX,y:C+this.offsetY,startAngle:F,endAngle:F+L,circumference:L,outerRadius:E,innerRadius:T};M&&(Z.options=S||this.resolveDataElementOptions(N,W.active?"active":s)),F+=L,this.updateElement(W,N,Z,s)}}calculateTotal(){const i=this._cachedMeta,n=i.data;let s,o=0;for(s=0;s<n.length;s++){const d=i._parsed[s];null!==d&&!isNaN(d)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(o+=Math.abs(d))}return o}calculateCircumference(i){const n=this._cachedMeta.total;return n>0&&!isNaN(i)?un*(Math.abs(i)/n):0}getLabelAndValue(i){const o=this.chart,s=o.data.labels||[],d=qa(this._cachedMeta._parsed[i],o.options.locale);return{label:s[i]||"",value:d}}getMaxBorderWidth(i){let n=0;const o=this.chart;let s,d,f,g,_;if(!i)for(s=0,d=o.data.datasets.length;s<d;++s)if(o.isDatasetVisible(s)){f=o.getDatasetMeta(s),i=f.data,g=f.controller;break}if(!i)return 0;for(s=0,d=i.length;s<d;++s)_=g.resolveDataElementOptions(s),"inner"!==_.borderAlign&&(n=Math.max(n,_.borderWidth||0,_.hoverBorderWidth||0));return n}getMaxOffset(i){let n=0;for(let o=0,s=i.length;o<s;++o){const d=this.resolveDataElementOptions(o);n=Math.max(n,d.offset||0,d.hoverOffset||0)}return n}_getRingWeightOffset(i){let n=0;for(let o=0;o<i;++o)this.chart.isDatasetVisible(o)&&(n+=this._getRingWeight(o));return n}_getRingWeight(i){return Math.max(ht(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Qe(Oo,"id","doughnut"),Qe(Oo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Qe(Oo,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i}),Qe(Oo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const n=i.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:o,color:s}}=i.legend.options;return n.labels.map((d,f)=>{const _=i.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:_.backgroundColor,strokeStyle:_.borderColor,fontColor:s,lineWidth:_.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(f),index:f}})}return[]}},onClick(i,n,o){o.chart.toggleDataVisibility(n.index),o.chart.update()}}}});class ch extends Pn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){const n=this._cachedMeta,{dataset:o,data:s=[],_dataset:d}=n,f=this.chart._animationsDisabled;let{start:g,count:_}=O0(n,s,f);this._drawStart=g,this._drawCount=_,B0(n)&&(g=0,_=s.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!d._decimated,o.points=s;const k=this.resolveDatasetElementOptions(i);this.options.showLine||(k.borderWidth=0),k.segment=this.options.segment,this.updateElement(o,void 0,{animated:!f,options:k},i),this.updateElements(s,g,_,i)}updateElements(i,n,o,s){const d="reset"===s,{iScale:f,vScale:g,_stacked:_,_dataset:k}=this._cachedMeta,{sharedOptions:w,includeOptions:C}=this._getSharedOptions(n,s),A=f.axis,T=g.axis,{spanGaps:E,segment:S}=this.options,M=Wa(E)?E:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||d||"none"===s,N=n+o,L=i.length;let W=n>0&&this.getParsed(n-1);for(let Z=0;Z<L;++Z){const X=i[Z],V=F?X:{};if(Z<n||Z>=N){V.skip=!0;continue}const K=this.getParsed(Z),te=Nt(K[T]),ae=V[A]=f.getPixelForValue(K[A],Z),le=V[T]=d||te?g.getBasePixel():g.getPixelForValue(_?this.applyStack(g,K,_):K[T],Z);V.skip=isNaN(ae)||isNaN(le)||te,V.stop=Z>0&&Math.abs(K[A]-W[A])>M,S&&(V.parsed=K,V.raw=k.data[Z]),C&&(V.options=w||this.resolveDataElementOptions(Z,X.active?"active":s)),F||this.updateElement(X,Z,V,s),W=K}}getMaxOverflow(){const i=this._cachedMeta,n=i.dataset,o=n.options&&n.options.borderWidth||0,s=i.data||[];if(!s.length)return o;const d=s[0].size(this.resolveDataElementOptions(0)),f=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,d,f)/2}draw(){const i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}Qe(ch,"id","line"),Qe(ch,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Qe(ch,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ol extends Pn{constructor(i,n){super(i,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){const o=this.chart,s=o.data.labels||[],d=qa(this._cachedMeta._parsed[i].r,o.options.locale);return{label:s[i]||"",value:d}}parseObjectData(i,n,o,s){return Ac.bind(this)(i,n,o,s)}update(i){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,i)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,s)=>{const d=this.getParsed(s).r;!isNaN(d)&&this.chart.getDataVisibility(s)&&(d<n.min&&(n.min=d),d>n.max&&(n.max=d))}),n}_updateRadius(){const i=this.chart,n=i.chartArea,o=i.options,s=Math.min(n.right-n.left,n.bottom-n.top),d=Math.max(s/2,0),g=(d-Math.max(o.cutoutPercentage?d/100*o.cutoutPercentage:1,0))/i.getVisibleDatasetCount();this.outerRadius=d-g*this.index,this.innerRadius=this.outerRadius-g}updateElements(i,n,o,s){const d="reset"===s,f=this.chart,_=f.options.animation,k=this._cachedMeta.rScale,w=k.xCenter,C=k.yCenter,A=k.getIndexAngle(0)-.5*hn;let E,T=A;const S=360/this.countVisibleElements();for(E=0;E<n;++E)T+=this._computeAngle(E,s,S);for(E=n;E<n+o;E++){const M=i[E];let F=T,N=T+this._computeAngle(E,s,S),L=f.getDataVisibility(E)?k.getDistanceFromCenterForValue(this.getParsed(E).r):0;T=N,d&&(_.animateScale&&(L=0),_.animateRotate&&(F=N=A));const W={x:w,y:C,innerRadius:0,outerRadius:L,startAngle:F,endAngle:N,options:this.resolveDataElementOptions(E,M.active?"active":s)};this.updateElement(M,E,W,s)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((o,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(i,n,o){return this.chart.getDataVisibility(i)?Wr(this.resolveDataElementOptions(i,n).angle||o):0}}Qe(ol,"id","polarArea"),Qe(ol,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Qe(ol,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const n=i.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:o,color:s}}=i.legend.options;return n.labels.map((d,f)=>{const _=i.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:_.backgroundColor,strokeStyle:_.borderColor,fontColor:s,lineWidth:_.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(f),index:f}})}return[]}},onClick(i,n,o){o.chart.toggleDataVisibility(n.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Yr extends Oo{}Qe(Yr,"id","pie"),Qe(Yr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ec extends Pn{getLabelAndValue(i){const n=this._cachedMeta.vScale,o=this.getParsed(i);return{label:n.getLabels()[i],value:""+n.getLabelForValue(o[n.axis])}}parseObjectData(i,n,o,s){return Ac.bind(this)(i,n,o,s)}update(i){const n=this._cachedMeta,o=n.dataset,s=n.data||[],d=n.iScale.getLabels();if(o.points=s,"resize"!==i){const f=this.resolveDatasetElementOptions(i);this.options.showLine||(f.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:d.length===s.length,options:f},i)}this.updateElements(s,0,s.length,i)}updateElements(i,n,o,s){const d=this._cachedMeta.rScale,f="reset"===s;for(let g=n;g<n+o;g++){const _=i[g],k=this.resolveDataElementOptions(g,_.active?"active":s),w=d.getPointPositionForValue(g,this.getParsed(g).r),C=f?d.xCenter:w.x,A=f?d.yCenter:w.y,T={x:C,y:A,angle:w.angle,skip:isNaN(C)||isNaN(A),options:k};this.updateElement(_,g,T,s)}}}Qe(Ec,"id","radar"),Qe(Ec,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Qe(Ec,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dh extends Pn{getLabelAndValue(i){const n=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:d}=n,f=this.getParsed(i),g=s.getLabelForValue(f.x),_=d.getLabelForValue(f.y);return{label:o[i]||"",value:"("+g+", "+_+")"}}update(i){const n=this._cachedMeta,{data:o=[]}=n,s=this.chart._animationsDisabled;let{start:d,count:f}=O0(n,o,s);if(this._drawStart=d,this._drawCount=f,B0(n)&&(d=0,f=o.length),this.options.showLine){const{dataset:g,_dataset:_}=n;g._chart=this.chart,g._datasetIndex=this.index,g._decimated=!!_._decimated,g.points=o;const k=this.resolveDatasetElementOptions(i);k.segment=this.options.segment,this.updateElement(g,void 0,{animated:!s,options:k},i)}this.updateElements(o,d,f,i)}addElements(){const{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,n,o,s){const d="reset"===s,{iScale:f,vScale:g,_stacked:_,_dataset:k}=this._cachedMeta,w=this.resolveDataElementOptions(n,s),C=this.getSharedOptions(w),A=this.includeOptions(s,C),T=f.axis,E=g.axis,{spanGaps:S,segment:M}=this.options,F=Wa(S)?S:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||d||"none"===s;let L=n>0&&this.getParsed(n-1);for(let W=n;W<n+o;++W){const Z=i[W],X=this.getParsed(W),V=N?Z:{},K=Nt(X[E]),te=V[T]=f.getPixelForValue(X[T],W),ae=V[E]=d||K?g.getBasePixel():g.getPixelForValue(_?this.applyStack(g,X,_):X[E],W);V.skip=isNaN(te)||isNaN(ae)||K,V.stop=W>0&&Math.abs(X[T]-L[T])>F,M&&(V.parsed=X,V.raw=k.data[W]),A&&(V.options=C||this.resolveDataElementOptions(W,Z.active?"active":s)),N||this.updateElement(Z,W,V,s),L=X}this.updateSharedOptions(C,s,w)}getMaxOverflow(){const i=this._cachedMeta,n=i.data||[];if(!this.options.showLine){let g=0;for(let _=n.length-1;_>=0;--_)g=Math.max(g,n[_].size(this.resolveDataElementOptions(_))/2);return g>0&&g}const o=i.dataset,s=o.options&&o.options.borderWidth||0;if(!n.length)return s;const d=n[0].size(this.resolveDataElementOptions(0)),f=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,d,f)/2}}Qe(dh,"id","scatter"),Qe(dh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Qe(dh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var b_=Object.freeze({__proto__:null,BarController:rl,BubbleController:ah,DoughnutController:Oo,LineController:ch,PolarAreaController:ol,PieController:Yr,RadarController:Ec,ScatterController:dh});function Bo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ir{static override(i){Object.assign(Ir.prototype,i)}constructor(i){this.options=i||{}}init(){}formats(){return Bo()}parse(){return Bo()}format(){return Bo()}add(){return Bo()}diff(){return Bo()}startOf(){return Bo()}endOf(){return Bo()}}var Kx__date=Ir;function $x(t,i,n,o){const{controller:s,data:d,_sorted:f}=t,g=s._cachedMeta.iScale;if(g&&i===g.axis&&"r"!==i&&f&&d.length){const _=g._reversePixels?N0:Mr;if(!o)return _(d,i,n);if(s._sharedOptions){const k=d[0],w="function"==typeof k.getRange&&k.getRange(i);if(w){const C=_(d,i,n-w),A=_(d,i,n+w);return{lo:C.lo,hi:A.hi}}}}return{lo:0,hi:d.length-1}}function Lo(t,i,n,o,s){const d=t.getSortedVisibleDatasetMetas(),f=n[i];for(let g=0,_=d.length;g<_;++g){const{index:k,data:w}=d[g],{lo:C,hi:A}=$x(d[g],i,f,s);for(let T=C;T<=A;++T){const E=w[T];E.skip||o(E,k,T)}}}function Yf(t,i,n,o,s){const d=[];return!s&&!t.isPointInArea(i)||Lo(t,n,i,function(g,_,k){!s&&!Ya(g,t.chartArea,0)||g.inRange(i.x,i.y,o)&&d.push({element:g,datasetIndex:_,index:k})},!0),d}function ur(t,i,n,o,s,d){return d||t.isPointInArea(i)?"r"!==n||o?function k_(t,i,n,o,s,d){let f=[];const g=function Kr(t){const i=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(o,s){const d=i?Math.abs(o.x-s.x):0,f=n?Math.abs(o.y-s.y):0;return Math.sqrt(Math.pow(d,2)+Math.pow(f,2))}}(n);let _=Number.POSITIVE_INFINITY;return Lo(t,n,i,function k(w,C,A){const T=w.inRange(i.x,i.y,s);if(o&&!T)return;const E=w.getCenterPoint(s);if(!d&&!t.isPointInArea(E)&&!T)return;const M=g(i,E);M<_?(f=[{element:w,datasetIndex:C,index:A}],_=M):M===_&&f.push({element:w,datasetIndex:C,index:A})}),f}(t,i,n,o,s,d):function hh(t,i,n,o){let s=[];return Lo(t,n,i,function d(f,g,_){const{startAngle:k,endAngle:w}=f.getProps(["startAngle","endAngle"],o),{angle:C}=Tf(f,{x:i.x,y:i.y});fc(C,k,w)&&s.push({element:f,datasetIndex:g,index:_})}),s}(t,i,n,s):[]}function w_(t,i,n,o,s){const d=[],f="x"===n?"inXRange":"inYRange";let g=!1;return Lo(t,n,i,(_,k,w)=>{_[f](i[n],s)&&(d.push({element:_,datasetIndex:k,index:w}),g=g||_.inRange(i.x,i.y,s))}),o&&!g?[]:d}var v_={evaluateInteractionItems:Lo,modes:{index(t,i,n,o){const s=Io(i,t),d=n.axis||"x",f=n.includeInvisible||!1,g=n.intersect?Yf(t,s,d,o,f):ur(t,s,d,!1,o,f),_=[];return g.length?(t.getSortedVisibleDatasetMetas().forEach(k=>{const w=g[0].index,C=k.data[w];C&&!C.skip&&_.push({element:C,datasetIndex:k.index,index:w})}),_):[]},dataset(t,i,n,o){const s=Io(i,t),d=n.axis||"xy",f=n.includeInvisible||!1;let g=n.intersect?Yf(t,s,d,o,f):ur(t,s,d,!1,o,f);if(g.length>0){const _=g[0].datasetIndex,k=t.getDatasetMeta(_).data;g=[];for(let w=0;w<k.length;++w)g.push({element:k[w],datasetIndex:_,index:w})}return g},point:(t,i,n,o)=>Yf(t,Io(i,t),n.axis||"xy",o,n.includeInvisible||!1),nearest:(t,i,n,o)=>ur(t,Io(i,t),n.axis||"xy",n.intersect,o,n.includeInvisible||!1),x:(t,i,n,o)=>w_(t,Io(i,t),"x",n.intersect,o),y:(t,i,n,o)=>w_(t,Io(i,t),"y",n.intersect,o)}};const Kf=["left","top","right","bottom"];function sl(t,i){return t.filter(n=>n.pos===i)}function al(t,i){return t.filter(n=>-1===Kf.indexOf(n.pos)&&n.box.axis===i)}function ll(t,i){return t.sort((n,o)=>{const s=i?o:n,d=i?n:o;return s.weight===d.weight?s.index-d.index:s.weight-d.weight})}function Qf(t,i,n,o){return Math.max(t[n],i[n])+Math.max(t[o],i[o])}function y_(t,i){t.top=Math.max(t.top,i.top),t.left=Math.max(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)}function Qx(t,i,n,o){const{pos:s,box:d}=n,f=t.maxPadding;if(!yt(s)){n.size&&(t[s]-=n.size);const C=o[n.stack]||{size:0,count:1};C.size=Math.max(C.size,n.horizontal?d.height:d.width),n.size=C.size/C.count,t[s]+=n.size}d.getPadding&&y_(f,d.getPadding());const g=Math.max(0,i.outerWidth-Qf(f,t,"left","right")),_=Math.max(0,i.outerHeight-Qf(f,t,"top","bottom")),k=g!==t.w,w=_!==t.h;return t.w=g,t.h=_,n.horizontal?{same:k,other:w}:{same:w,other:k}}function S_(t,i){const n=i.maxPadding;return function o(s){const d={left:0,top:0,right:0,bottom:0};return s.forEach(f=>{d[f]=Math.max(i[f],n[f])}),d}(t?["left","right"]:["top","bottom"])}function cl(t,i,n,o){const s=[];let d,f,g,_,k,w;for(d=0,f=t.length,k=0;d<f;++d){g=t[d],_=g.box,_.update(g.width||i.w,g.height||i.h,S_(g.horizontal,i));const{same:C,other:A}=Qx(i,n,g,o);k|=C&&s.length,w=w||A,_.fullSize||s.push(g)}return k&&cl(s,i,n,o)||w}function uh(t,i,n,o,s){t.top=n,t.left=i,t.right=i+o,t.bottom=n+s,t.width=o,t.height=s}function Jf(t,i,n,o){const s=n.padding;let{x:d,y:f}=i;for(const g of t){const _=g.box,k=o[g.stack]||{count:1,placed:0,weight:1},w=g.stackWeight/k.weight||1;if(g.horizontal){const C=i.w*w,A=k.size||_.height;Dr(k.start)&&(f=k.start),_.fullSize?uh(_,s.left,f,n.outerWidth-s.right-s.left,A):uh(_,i.left+k.placed,f,C,A),k.start=f,k.placed+=C,f=_.bottom}else{const C=i.h*w,A=k.size||_.width;Dr(k.start)&&(d=k.start),_.fullSize?uh(_,d,s.top,A,n.outerHeight-s.bottom-s.top):uh(_,d,i.top+k.placed,A,C),k.start=d,k.placed+=C,d=_.right}}i.x=d,i.y=f}var ci={addBox(t,i){t.boxes||(t.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(n){i.draw(n)}}]},t.boxes.push(i)},removeBox(t,i){const n=t.boxes?t.boxes.indexOf(i):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,i,n){i.fullSize=n.fullSize,i.position=n.position,i.weight=n.weight},update(t,i,n,o){if(!t)return;const s=xi(t.options.layout.padding),d=Math.max(i-s.width,0),f=Math.max(n-s.height,0),g=function A_(t){const i=function x_(t){const i=[];let n,o,s,d,f,g;for(n=0,o=(t||[]).length;n<o;++n)s=t[n],({position:d,options:{stack:f,stackWeight:g=1}}=s),i.push({index:n,box:s,pos:d,horizontal:s.isHorizontal(),weight:s.weight,stack:f&&d+f,stackWeight:g});return i}(t),n=ll(i.filter(k=>k.box.fullSize),!0),o=ll(sl(i,"left"),!0),s=ll(sl(i,"right")),d=ll(sl(i,"top"),!0),f=ll(sl(i,"bottom")),g=al(i,"x"),_=al(i,"y");return{fullSize:n,leftAndTop:o.concat(d),rightAndBottom:s.concat(_).concat(f).concat(g),chartArea:sl(i,"chartArea"),vertical:o.concat(s).concat(_),horizontal:d.concat(f).concat(g)}}(t.boxes),_=g.vertical,k=g.horizontal;et(t.boxes,S=>{"function"==typeof S.beforeLayout&&S.beforeLayout()});const w=_.reduce((S,M)=>M.box.options&&!1===M.box.options.display?S:S+1,0)||1,C=Object.freeze({outerWidth:i,outerHeight:n,padding:s,availableWidth:d,availableHeight:f,vBoxMaxWidth:d/2/w,hBoxMaxHeight:f/2}),A=Object.assign({},s);y_(A,xi(o));const T=Object.assign({maxPadding:A,w:d,h:f,x:s.left,y:s.top},s),E=function C_(t,i){const n=function $f(t){const i={};for(const n of t){const{stack:o,pos:s,stackWeight:d}=n;if(!o||!Kf.includes(s))continue;const f=i[o]||(i[o]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=d}return i}(t),{vBoxMaxWidth:o,hBoxMaxHeight:s}=i;let d,f,g;for(d=0,f=t.length;d<f;++d){g=t[d];const{fullSize:_}=g.box,k=n[g.stack],w=k&&g.stackWeight/k.weight;g.horizontal?(g.width=w?w*o:_&&i.availableWidth,g.height=s):(g.width=o,g.height=w?w*s:_&&i.availableHeight)}return n}(_.concat(k),C);cl(g.fullSize,T,C,E),cl(_,T,C,E),cl(k,T,C,E)&&cl(_,T,C,E),function T_(t){const i=t.maxPadding;function n(o){const s=Math.max(i[o]-t[o],0);return t[o]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(T),Jf(g.leftAndTop,T,C,E),T.x+=T.w,T.y+=T.h,Jf(g.rightAndBottom,T,C,E),t.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},et(g.chartArea,S=>{const M=S.box;Object.assign(M,t.chartArea),M.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class fh{acquireContext(i,n){}releaseContext(i){return!1}addEventListener(i,n,o){}removeEventListener(i,n,o){}getDevicePixelRatio(){return 1}getMaximumSize(i,n,o,s){return n=Math.max(0,n||i.width),o=o||i.height,{width:n,height:Math.max(0,s?Math.floor(n/s):o)}}isAttached(i){return!0}updateConfig(i){}}class E_ extends fh{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Dc="$chartjs",D_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xf=t=>null===t||""===t,dl=!!e_&&{passive:!0};function M_(t,i,n){t.canvas.removeEventListener(i,n,dl)}function ph(t,i){for(const n of t)if(n===i||n.contains(i))return!0}function eC(t,i,n){const o=t.canvas,s=new MutationObserver(d=>{let f=!1;for(const g of d)f=f||ph(g.addedNodes,o),f=f&&!ph(g.removedNodes,o);f&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function tC(t,i,n){const o=t.canvas,s=new MutationObserver(d=>{let f=!1;for(const g of d)f=f||ph(g.removedNodes,o),f=f&&!ph(g.addedNodes,o);f&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Mc=new Map;let I_=0;function P_(){const t=window.devicePixelRatio;t!==I_&&(I_=t,Mc.forEach((i,n)=>{n.currentDevicePixelRatio!==t&&i()}))}function rC(t,i,n){const o=t.canvas,s=o&&el(o);if(!s)return;const d=Kd((g,_)=>{const k=s.clientWidth;n(g,_),k<s.clientWidth&&n()},window),f=new ResizeObserver(g=>{const _=g[0],k=_.contentRect.width,w=_.contentRect.height;0===k&&0===w||d(k,w)});return f.observe(s),function nC(t,i){Mc.size||window.addEventListener("resize",P_),Mc.set(t,i)}(t,d),f}function Ro(t,i,n){n&&n.disconnect(),"resize"===i&&function iC(t){Mc.delete(t),Mc.size||window.removeEventListener("resize",P_)}(t)}function oC(t,i,n){const o=t.canvas,s=Kd(d=>{null!==t.ctx&&n(function aa(t,i){const n=D_[t.type]||t.type,{x:o,y:s}=Io(t,i);return{type:n,chart:i,native:t,x:void 0!==o?o:null,y:void 0!==s?s:null}}(d,t))},t);return function Xx(t,i,n){t.addEventListener(i,n,dl)}(o,i,s),s}class sC extends fh{acquireContext(i,n){const o=i&&i.getContext&&i.getContext("2d");return o&&o.canvas===i?(function Jx(t,i){const n=t.style,o=t.getAttribute("height"),s=t.getAttribute("width");if(t[Dc]={initial:{height:o,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Xf(s)){const d=Tc(t,"width");void 0!==d&&(t.width=d)}if(Xf(o))if(""===t.style.height)t.height=t.width/(i||2);else{const d=Tc(t,"height");void 0!==d&&(t.height=d)}}(i,n),o):null}releaseContext(i){const n=i.canvas;if(!n[Dc])return!1;const o=n[Dc].initial;["height","width"].forEach(d=>{const f=o[d];Nt(f)?n.removeAttribute(d):n.setAttribute(d,f)});const s=o.style||{};return Object.keys(s).forEach(d=>{n.style[d]=s[d]}),n.width=n.width,delete n[Dc],!0}addEventListener(i,n,o){this.removeEventListener(i,n),(i.$proxies||(i.$proxies={}))[n]=({attach:eC,detach:tC,resize:rC}[n]||oC)(i,n,o)}removeEventListener(i,n){const o=i.$proxies||(i.$proxies={}),s=o[n];s&&(({attach:Ro,detach:Ro,resize:Ro}[n]||M_)(i,n,s),o[n]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,n,o,s){return function Ox(t,i,n,o){const s=th(t),d=ia(s,"margin"),f=eh(s.maxWidth,t,"clientWidth")||Ha,g=eh(s.maxHeight,t,"clientHeight")||Ha,_=function Nx(t,i,n){let o,s;if(void 0===i||void 0===n){const d=el(t);if(d){const f=d.getBoundingClientRect(),g=th(d),_=ia(g,"border","width"),k=ia(g,"padding");i=f.width-k.width-_.width,n=f.height-k.height-_.height,o=eh(g.maxWidth,d,"clientWidth"),s=eh(g.maxHeight,d,"clientHeight")}else i=t.clientWidth,n=t.clientHeight}return{width:i,height:n,maxWidth:o||Ha,maxHeight:s||Ha}}(t,i,n);let{width:k,height:w}=_;if("content-box"===s.boxSizing){const A=ia(s,"border","width"),T=ia(s,"padding");k-=T.width+A.width,w-=T.height+A.height}return k=Math.max(0,k-d.width),w=Math.max(0,o?k/o:w-d.height),k=nh(Math.min(k,f,_.maxWidth)),w=nh(Math.min(w,g,_.maxHeight)),k&&!w&&(w=nh(k/2)),(void 0!==i||void 0!==n)&&o&&_.height&&w>_.height&&(w=_.height,k=nh(Math.floor(w*o))),{width:k,height:w}}(i,n,o,s)}isAttached(i){const n=el(i);return!(!n||!n.isConnected)}}class Pr{constructor(){Qe(this,"active",!1)}tooltipPosition(i){const{x:n,y:o}=this.getProps(["x","y"],i);return{x:n,y:o}}hasValue(){return Wa(this.x)&&Wa(this.y)}getProps(i,n){const o=this.$animations;if(!n||!o)return this;const s={};return i.forEach(d=>{s[d]=o[d]&&o[d].active()?o[d]._to:this[d]}),s}}function Ic(t,i,n,o,s){const d=ht(o,0),f=Math.min(ht(s,t.length),t.length);let _,k,w,g=0;for(n=Math.ceil(n),s&&(_=s-o,n=_/Math.floor(_/n)),w=d;w<0;)g++,w=Math.round(d+g*n);for(k=Math.max(d,0);k<f;k++)k===w&&(i.push(t[k]),g++,w=Math.round(d+g*n))}Qe(Pr,"defaults",{}),Qe(Pr,"defaultRoutes");const fo=(t,i,n)=>"top"===i||"left"===i?t[i]+n:t[i]-n;function gh(t,i){const n=[],o=t.length/i,s=t.length;let d=0;for(;d<s;d+=o)n.push(t[Math.floor(d)]);return n}function O_(t,i,n){const o=t.ticks.length,s=Math.min(i,o-1),d=t._startPixel,f=t._endPixel,g=1e-6;let k,_=t.getPixelForTick(s);if(!(n&&(k=1===o?Math.max(_-d,f-_):0===i?(t.getPixelForTick(1)-_)/2:(_-t.getPixelForTick(s-1))/2,_+=s<i?k:-k,_<d-g||_>f+g)))return _}function ul(t){return t.drawTicks?t.tickLength:0}function fl(t,i){if(!t.display)return 0;const n=Kn(t.font,i),o=xi(t.padding);return(dn(t.text)?t.text.length:1)*n.lineHeight+o.height}function L_(t,i,n){let o=gc(t);return(n&&"right"!==i||!n&&"right"===i)&&(o=(t=>"left"===t?"right":"right"===t?"left":t)(o)),o}class la extends Pr{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,n){return i}getUserBounds(){let{_userMin:i,_userMax:n,_suggestedMin:o,_suggestedMax:s}=this;return i=lr(i,Number.POSITIVE_INFINITY),n=lr(n,Number.NEGATIVE_INFINITY),o=lr(o,Number.POSITIVE_INFINITY),s=lr(s,Number.NEGATIVE_INFINITY),{min:lr(i,o),max:lr(n,s),minDefined:In(i),maxDefined:In(n)}}getMinMax(i){let f,{min:n,max:o,minDefined:s,maxDefined:d}=this.getUserBounds();if(s&&d)return{min:n,max:o};const g=this.getMatchingVisibleMetas();for(let _=0,k=g.length;_<k;++_)f=g[_].controller.getMinMax(this,i),s||(n=Math.min(n,f.min)),d||(o=Math.max(o,f.max));return n=d&&n>o?o:n,o=s&&n>o?n:o,{min:lr(n,lr(o,n)),max:lr(o,lr(n,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(i,n,o){const{beginAtZero:s,grace:d,ticks:f}=this.options,g=f.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=n,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function ms(t,i,n){const{min:o,max:s}=t,d=kf(i,(s-o)/2),f=(g,_)=>n&&0===g?0:g+_;return{min:f(o,-Math.abs(d)),max:f(s,d)}}(this,d,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const _=g<this.ticks.length;this._convertTicksToLabels(_?gh(this.ticks,g):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||"auto"===f.source)&&(this.ticks=function aC(t,i){const n=t.options.ticks,o=function lC(t){const i=t.options.offset,n=t._tickSize();return Math.floor(Math.min(t._length/n+(i?0:1),t._maxLength/n))}(t),s=Math.min(n.maxTicksLimit||o,o),d=n.major.enabled?function cC(t){const i=[];let n,o;for(n=0,o=t.length;n<o;n++)t[n].major&&i.push(n);return i}(i):[],f=d.length,g=d[0],_=d[f-1],k=[];if(f>s)return function ep(t,i,n,o){let f,s=0,d=n[0];for(o=Math.ceil(o),f=0;f<t.length;f++)f===d&&(i.push(t[f]),s++,d=n[s*o])}(i,k,d,f/s),k;const w=function N_(t,i,n){const o=function hl(t){const i=t.length;let n,o;if(i<2)return!1;for(o=t[0],n=1;n<i;++n)if(t[n]-t[n-1]!==o)return!1;return o}(t),s=i.length/n;if(!o)return Math.max(s,1);const d=function Af(t){const i=[],n=Math.sqrt(t);let o;for(o=1;o<n;o++)t%o==0&&(i.push(o),i.push(t/o));return n===(0|n)&&i.push(n),i.sort((s,d)=>s-d).pop(),i}(o);for(let f=0,g=d.length-1;f<g;f++){const _=d[f];if(_>s)return _}return Math.max(s,1)}(d,i,s);if(f>0){let C,A;const T=f>1?Math.round((_-g)/(f-1)):null;for(Ic(i,k,w,Nt(T)?0:g-T,g),C=0,A=f-1;C<A;C++)Ic(i,k,w,d[C],d[C+1]);return Ic(i,k,w,_,Nt(T)?i.length:_+T),k}return Ic(i,k,w),k}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),_&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n,o,i=this.options.reverse;this.isHorizontal()?(n=this.left,o=this.right):(n=this.top,o=this.bottom,i=!i),this._startPixel=n,this._endPixel=o,this._reversePixels=i,this._length=o-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Bt(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const n=this.options.ticks;let o,s,d;for(o=0,s=i.length;o<s;o++)d=i[o],d.label=Bt(n.callback,[d.value,o,i],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,n=i.ticks,o=this.ticks.length,s=n.minRotation||0,d=n.maxRotation;let g,_,k,f=s;if(!this._isVisible()||!n.display||s>=d||o<=1||!this.isHorizontal())return void(this.labelRotation=s);const w=this._getLabelSizes(),C=w.widest.width,A=w.highest.height,T=qn(this.chart.width-C,0,this.maxWidth);g=i.offset?this.maxWidth/o:T/(o-1),C+6>g&&(g=T/(o-(i.offset?.5:1)),_=this.maxHeight-ul(i.grid)-n.padding-fl(i.title,this.chart.options.font),k=Math.sqrt(C*C+A*A),f=yf(Math.min(Math.asin(qn((w.highest.height+6)/g,-1,1)),Math.asin(qn(_/k,-1,1))-Math.asin(qn(A/k,-1,1)))),f=Math.max(s,Math.min(d,f))),this.labelRotation=f}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:n,options:{ticks:o,title:s,grid:d}}=this,f=this._isVisible(),g=this.isHorizontal();if(f){const _=fl(s,n.options.font);if(g?(i.width=this.maxWidth,i.height=ul(d)+_):(i.height=this.maxHeight,i.width=ul(d)+_),o.display&&this.ticks.length){const{first:k,last:w,widest:C,highest:A}=this._getLabelSizes(),T=2*o.padding,E=Wr(this.labelRotation),S=Math.cos(E),M=Math.sin(E);g?i.height=Math.min(this.maxHeight,i.height+(o.mirror?0:M*C.width+S*A.height)+T):i.width=Math.min(this.maxWidth,i.width+(o.mirror?0:S*C.width+M*A.height)+T),this._calculatePadding(k,w,M,S)}}this._handleMargins(),g?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,n,o,s){const{ticks:{align:d,padding:f},position:g}=this.options,_=0!==this.labelRotation,k="top"!==g&&"x"===this.axis;if(this.isHorizontal()){const w=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,T=0;_?k?(A=s*i.width,T=o*n.height):(A=o*i.height,T=s*n.width):"start"===d?T=n.width:"end"===d?A=i.width:"inner"!==d&&(A=i.width/2,T=n.width/2),this.paddingLeft=Math.max((A-w+f)*this.width/(this.width-w),0),this.paddingRight=Math.max((T-C+f)*this.width/(this.width-C),0)}else{let w=n.height/2,C=i.height/2;"start"===d?(w=0,C=i.height):"end"===d&&(w=n.height,C=0),this.paddingTop=w+f,this.paddingBottom=C+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:n}=this.options;return"top"===n||"bottom"===n||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let n,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),n=0,o=i.length;n<o;n++)Nt(i[n].label)&&(i.splice(n,1),o--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const n=this.options.ticks.sampleSize;let o=this.ticks;n<o.length&&(o=gh(o,n)),this._labelSizes=i=this._computeLabelSizes(o,o.length)}return i}_computeLabelSizes(i,n){const{ctx:o,_longestTextCache:s}=this,d=[],f=[];let k,w,C,A,T,E,S,M,F,N,L,g=0,_=0;for(k=0;k<n;++k){if(A=i[k].label,T=this._resolveTickFontOptions(k),o.font=E=T.string,S=s[E]=s[E]||{data:{},gc:[]},M=T.lineHeight,F=N=0,Nt(A)||dn(A)){if(dn(A))for(w=0,C=A.length;w<C;++w)L=A[w],!Nt(L)&&!dn(L)&&(F=bc(o,S.data,S.gc,F,L),N+=M)}else F=bc(o,S.data,S.gc,F,A),N=M;d.push(F),f.push(N),g=Math.max(F,g),_=Math.max(N,_)}!function Pc(t,i){et(t,n=>{const o=n.gc,s=o.length/2;let d;if(s>i){for(d=0;d<s;++d)delete n.data[o[d]];o.splice(0,s)}})}(s,n);const W=d.indexOf(g),Z=f.indexOf(_),X=V=>({width:d[V]||0,height:f[V]||0});return{first:X(0),last:X(n-1),widest:X(W),highest:X(Z),widths:d,heights:f}}getLabelForValue(i){return i}getPixelForValue(i,n){return NaN}getValueForPixel(i){}getPixelForTick(i){const n=this.ticks;return i<0||i>n.length-1?null:this.getPixelForValue(n[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const n=this._startPixel+i*this._length;return function Ef(t){return qn(t,-32768,32767)}(this._alignToPixels?dr(this.chart,n,0):n)}getDecimalForPixel(i){const n=(i-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:n}=this;return i<0&&n<0?n:i>0&&n>0?i:0}getContext(i){const n=this.ticks||[];if(i>=0&&i<n.length){const o=n[i];return o.$context||(o.$context=function B_(t,i,n){return Mo(t,{tick:n,index:i,type:"tick"})}(this.getContext(),i,o))}return this.$context||(this.$context=function Fc(t,i){return Mo(t,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,n=Wr(this.labelRotation),o=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),d=this._getLabelSizes(),f=i.autoSkipPadding||0,g=d?d.widest.width+f:0,_=d?d.highest.height+f:0;return this.isHorizontal()?_*o>g*s?g/o:_/s:_*s<g*o?_/o:g/s}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const n=this.axis,o=this.chart,s=this.options,{grid:d,position:f,border:g}=s,_=d.offset,k=this.isHorizontal(),C=this.ticks.length+(_?1:0),A=ul(d),T=[],E=g.setContext(this.getContext()),S=E.display?E.width:0,M=S/2,F=function(qe){return dr(o,qe,S)};let N,L,W,Z,X,V,K,te,ae,le,re,Me;if("top"===f)N=F(this.bottom),V=this.bottom-A,te=N-M,le=F(i.top)+M,Me=i.bottom;else if("bottom"===f)N=F(this.top),le=i.top,Me=F(i.bottom)-M,V=N+M,te=this.top+A;else if("left"===f)N=F(this.right),X=this.right-A,K=N-M,ae=F(i.left)+M,re=i.right;else if("right"===f)N=F(this.left),ae=i.left,re=F(i.right)-M,X=N+M,K=this.left+A;else if("x"===n){if("center"===f)N=F((i.top+i.bottom)/2+.5);else if(yt(f)){const qe=Object.keys(f)[0];N=F(this.chart.scales[qe].getPixelForValue(f[qe]))}le=i.top,Me=i.bottom,V=N+M,te=V+A}else if("y"===n){if("center"===f)N=F((i.left+i.right)/2);else if(yt(f)){const qe=Object.keys(f)[0];N=F(this.chart.scales[qe].getPixelForValue(f[qe]))}X=N-M,K=X-A,ae=i.left,re=i.right}const He=ht(s.ticks.maxTicksLimit,C),Se=Math.max(1,Math.ceil(C/He));for(L=0;L<C;L+=Se){const qe=this.getContext(L),ze=d.setContext(qe),dt=g.setContext(qe),Fe=ze.lineWidth,nt=ze.color,ye=dt.dash||[],Q=dt.dashOffset,fe=ze.tickWidth,ie=ze.tickColor,ne=ze.tickBorderDash||[],ve=ze.tickBorderDashOffset;W=O_(this,L,_),void 0!==W&&(Z=dr(o,W,Fe),k?X=K=ae=re=Z:V=te=le=Me=Z,T.push({tx1:X,ty1:V,tx2:K,ty2:te,x1:ae,y1:le,x2:re,y2:Me,width:Fe,color:nt,borderDash:ye,borderDashOffset:Q,tickWidth:fe,tickColor:ie,tickBorderDash:ne,tickBorderDashOffset:ve}))}return this._ticksLength=C,this._borderValue=N,T}_computeLabelItems(i){const n=this.axis,o=this.options,{position:s,ticks:d}=o,f=this.isHorizontal(),g=this.ticks,{align:_,crossAlign:k,padding:w,mirror:C}=d,A=ul(o.grid),T=A+w,E=C?-w:T,S=-Wr(this.labelRotation),M=[];let F,N,L,W,Z,X,V,K,te,ae,le,re,Me="middle";if("top"===s)X=this.bottom-E,V=this._getXAxisLabelAlignment();else if("bottom"===s)X=this.top+E,V=this._getXAxisLabelAlignment();else if("left"===s){const Se=this._getYAxisLabelAlignment(A);V=Se.textAlign,Z=Se.x}else if("right"===s){const Se=this._getYAxisLabelAlignment(A);V=Se.textAlign,Z=Se.x}else if("x"===n){if("center"===s)X=(i.top+i.bottom)/2+T;else if(yt(s)){const Se=Object.keys(s)[0];X=this.chart.scales[Se].getPixelForValue(s[Se])+T}V=this._getXAxisLabelAlignment()}else if("y"===n){if("center"===s)Z=(i.left+i.right)/2-T;else if(yt(s)){const Se=Object.keys(s)[0];Z=this.chart.scales[Se].getPixelForValue(s[Se])}V=this._getYAxisLabelAlignment(A).textAlign}"y"===n&&("start"===_?Me="top":"end"===_&&(Me="bottom"));const He=this._getLabelSizes();for(F=0,N=g.length;F<N;++F){L=g[F],W=L.label;const Se=d.setContext(this.getContext(F));K=this.getPixelForTick(F)+d.labelOffset,te=this._resolveTickFontOptions(F),ae=te.lineHeight,le=dn(W)?W.length:1;const qe=le/2,ze=Se.color,dt=Se.textStrokeColor,Fe=Se.textStrokeWidth;let ye,nt=V;if(f?(Z=K,"inner"===V&&(nt=F===N-1?this.options.reverse?"left":"right":0===F?this.options.reverse?"right":"left":"center"),re="top"===s?"near"===k||0!==S?-le*ae+ae/2:"center"===k?-He.highest.height/2-qe*ae+ae:ae/2-He.highest.height:"near"===k||0!==S?ae/2:"center"===k?He.highest.height/2-qe*ae:He.highest.height-le*ae,C&&(re*=-1),0!==S&&!Se.showLabelBackdrop&&(Z+=ae/2*Math.sin(S))):(X=K,re=(1-le)*ae/2),Se.showLabelBackdrop){const Q=xi(Se.backdropPadding),fe=He.heights[F],ie=He.widths[F];let ne=re-Q.top,ve=0-Q.left;switch(Me){case"middle":ne-=fe/2;break;case"bottom":ne-=fe}switch(V){case"center":ve-=ie/2;break;case"right":ve-=ie}ye={left:ve,top:ne,width:ie+Q.width,height:fe+Q.height,color:Se.backdropColor}}M.push({label:W,font:te,textOffset:re,options:{rotation:S,color:ze,strokeColor:dt,strokeWidth:Fe,textAlign:nt,textBaseline:Me,translation:[Z,X],backdrop:ye}})}return M}_getXAxisLabelAlignment(){const{position:i,ticks:n}=this.options;if(-Wr(this.labelRotation))return"top"===i?"left":"right";let s="center";return"start"===n.align?s="left":"end"===n.align?s="right":"inner"===n.align&&(s="inner"),s}_getYAxisLabelAlignment(i){const{position:n,ticks:{crossAlign:o,mirror:s,padding:d}}=this.options,g=i+d,_=this._getLabelSizes().widest.width;let k,w;return"left"===n?s?(w=this.right+d,"near"===o?k="left":"center"===o?(k="center",w+=_/2):(k="right",w+=_)):(w=this.right-g,"near"===o?k="right":"center"===o?(k="center",w-=_/2):(k="left",w=this.left)):"right"===n?s?(w=this.left+d,"near"===o?k="right":"center"===o?(k="center",w-=_/2):(k="left",w-=_)):(w=this.left+g,"near"===o?k="left":"center"===o?(k="center",w+=_/2):(k="right",w=this.right)):k="right",{textAlign:k,x:w}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,n=this.options.position;return"left"===n||"right"===n?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===n||"bottom"===n?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:n},left:o,top:s,width:d,height:f}=this;n&&(i.save(),i.fillStyle=n,i.fillRect(o,s,d,f),i.restore())}getLineWidthForValue(i){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(d=>d.value===i);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(i){const n=this.options.grid,o=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let d,f;const g=(_,k,w)=>{!w.width||!w.color||(o.save(),o.lineWidth=w.width,o.strokeStyle=w.color,o.setLineDash(w.borderDash||[]),o.lineDashOffset=w.borderDashOffset,o.beginPath(),o.moveTo(_.x,_.y),o.lineTo(k.x,k.y),o.stroke(),o.restore())};if(n.display)for(d=0,f=s.length;d<f;++d){const _=s[d];n.drawOnChartArea&&g({x:_.x1,y:_.y1},{x:_.x2,y:_.y2},_),n.drawTicks&&g({x:_.tx1,y:_.ty1},{x:_.tx2,y:_.ty2},{color:_.tickColor,width:_.tickWidth,borderDash:_.tickBorderDash,borderDashOffset:_.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:n,options:{border:o,grid:s}}=this,d=o.setContext(this.getContext()),f=o.display?d.width:0;if(!f)return;const g=s.setContext(this.getContext(0)).lineWidth,_=this._borderValue;let k,w,C,A;this.isHorizontal()?(k=dr(i,this.left,f)-f/2,w=dr(i,this.right,g)+g/2,C=A=_):(C=dr(i,this.top,f)-f/2,A=dr(i,this.bottom,g)+g/2,k=w=_),n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.beginPath(),n.moveTo(k,C),n.lineTo(w,A),n.stroke(),n.restore()}drawLabels(i){if(!this.options.ticks.display)return;const o=this.ctx,s=this._computeLabelArea();s&&Ka(o,s);const d=this.getLabelItems(i);for(const f of d)Do(o,f.label,0,f.textOffset,f.font,f.options);s&&wc(o)}drawTitle(){const{ctx:i,options:{position:n,title:o,reverse:s}}=this;if(!o.display)return;const d=Kn(o.font),f=xi(o.padding),g=o.align;let _=d.lineHeight/2;"bottom"===n||"center"===n||yt(n)?(_+=f.bottom,dn(o.text)&&(_+=d.lineHeight*(o.text.length-1))):_+=f.top;const{titleX:k,titleY:w,maxWidth:C,rotation:A}=function Vn(t,i,n,o){const{top:s,left:d,bottom:f,right:g,chart:_}=t,{chartArea:k,scales:w}=_;let A,T,E,C=0;const S=f-s,M=g-d;if(t.isHorizontal()){if(T=Yn(o,d,g),yt(n)){const F=Object.keys(n)[0];E=w[F].getPixelForValue(n[F])+S-i}else E="center"===n?(k.bottom+k.top)/2+S-i:fo(t,n,i);A=g-d}else{if(yt(n)){const F=Object.keys(n)[0];T=w[F].getPixelForValue(n[F])-M+i}else T="center"===n?(k.left+k.right)/2-M+i:fo(t,n,i);E=Yn(o,f,s),C="left"===n?-mn:mn}return{titleX:T,titleY:E,maxWidth:A,rotation:C}}(this,_,n,g);Do(i,o.text,0,0,d,{color:o.color,maxWidth:C,rotation:A,textAlign:L_(g,n,s),textBaseline:"middle",translation:[k,w]})}draw(i){!this._isVisible()||(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,n=i.ticks&&i.ticks.z||0,o=ht(i.grid&&i.grid.z,-1),s=ht(i.border&&i.border.z,0);return this._isVisible()&&this.draw===la.prototype.draw?[{z:o,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:d=>{this.drawLabels(d)}}]:[{z:n,draw:d=>{this.draw(d)}}]}getMatchingVisibleMetas(i){const n=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",s=[];let d,f;for(d=0,f=n.length;d<f;++d){const g=n[d];g[o]===this.id&&(!i||g.type===i)&&s.push(g)}return s}_resolveTickFontOptions(i){return Kn(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Lt{constructor(i,n,o){this.type=i,this.scope=n,this.override=o,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const n=Object.getPrototypeOf(i);let o;(function Ki(t){return"id"in t&&"defaults"in t})(n)&&(o=this.register(n));const s=this.items,d=i.id,f=this.scope+"."+d;if(!d)throw new Error("class does not have id: "+i);return d in s||(s[d]=i,function di(t,i,n){const o=Ks(Object.create(null),[n?zn.get(n):{},zn.get(i),t.defaults]);zn.set(i,o),t.defaultRoutes&&function Yi(t,i){Object.keys(i).forEach(n=>{const o=n.split("."),s=o.pop(),d=[t].concat(o).join("."),f=i[n].split("."),g=f.pop(),_=f.join(".");zn.route(d,s,_,g)})}(i,t.defaultRoutes),t.descriptors&&zn.describe(i,t.descriptors)}(i,f,o),this.override&&zn.override(i.id,i.overrides)),f}get(i){return this.items[i]}unregister(i){const n=this.items,o=i.id,s=this.scope;o in n&&delete n[o],s&&o in zn[s]&&(delete zn[s][o],this.override&&delete Fi[o])}}class zo{constructor(){this.controllers=new Lt(Pn,"datasets",!0),this.elements=new Lt(Pr,"elements"),this.plugins=new Lt(Object,"plugins"),this.scales=new Lt(la,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,n,o){[...n].forEach(s=>{const d=o||this._getRegistryForType(s);o||d.isForType(s)||d===this.plugins&&s.id?this._exec(i,d,s):et(s,f=>{const g=o||this._getRegistryForType(f);this._exec(i,g,f)})})}_exec(i,n,o){const s=vf(i);Bt(o["before"+s],[],o),n[i](o),Bt(o["after"+s],[],o)}_getRegistryForType(i){for(let n=0;n<this._typedRegistries.length;n++){const o=this._typedRegistries[n];if(o.isForType(i))return o}return this.plugins}_get(i,n,o){const s=n.get(i);if(void 0===s)throw new Error('"'+i+'" is not a registered '+o+".");return s}}var Zt=new zo;class sn{constructor(){this._init=[]}notify(i,n,o,s){"beforeInit"===n&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const d=s?this._descriptors(i).filter(s):this._descriptors(i),f=this._notify(d,i,n,o);return"afterDestroy"===n&&(this._notify(d,i,"stop"),this._notify(this._init,i,"uninstall")),f}_notify(i,n,o,s){s=s||{};for(const d of i){const f=d.plugin;if(!1===Bt(f[o],[n,s,d.options],f)&&s.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),n}_createDescriptors(i,n){const o=i&&i.config,s=ht(o.options&&o.options.plugins,{}),d=function tp(t){const i={},n=[],o=Object.keys(Zt.plugins.items);for(let d=0;d<o.length;d++)n.push(Zt.getPlugin(o[d]));const s=t.plugins||[];for(let d=0;d<s.length;d++){const f=s[d];-1===n.indexOf(f)&&(n.push(f),i[f.id]=!0)}return{plugins:n,localIds:i}}(o);return!1!==s||n?function R_(t,{plugins:i,localIds:n},o,s){const d=[],f=t.getContext();for(const g of i){const _=g.id,k=dC(o[_],s);null!==k&&d.push({plugin:g,options:z_(t.config,{plugin:g,local:n[_]},k,f)})}return d}(i,d,s,n):[]}_notifyStateChanges(i){const n=this._oldCache||[],o=this._cache,s=(d,f)=>d.filter(g=>!f.some(_=>g.plugin.id===_.plugin.id));this._notify(s(n,o),i,"stop"),this._notify(s(o,n),i,"start")}}function dC(t,i){return i||!1!==t?!0===t?{}:t:null}function z_(t,{plugin:i,local:n},o,s){const d=t.pluginScopeKeys(i),f=t.getOptionScopes(o,d);return n&&i.defaults&&f.push(i.defaults),t.createResolver(f,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ca(t,i){return((i.datasets||{})[t]||{}).indexAxis||i.indexAxis||(zn.datasets[t]||{}).indexAxis||"x"}function Nc(t,i){if("x"===t||"y"===t||"r"===t||(t=i.axis||function uC(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}(i.position)||t.length>1&&Nc(t[0].toLowerCase(),i)))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function j_(t){const i=t.options||(t.options={});i.plugins=ht(i.plugins,{}),i.scales=function fC(t,i){const n=Fi[t.type]||{scales:{}},o=i.scales||{},s=ca(t.type,i),d=Object.create(null);return Object.keys(o).forEach(f=>{const g=o[f];if(!yt(g))return console.error(`Invalid scale configuration for scale: ${f}`);if(g._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const _=Nc(f,g),k=function V_(t,i){return t===i?"_index_":"_value_"}(_,s),w=n.scales||{};d[f]=cs(Object.create(null),[{axis:_},g,w[_],w[k]])}),t.data.datasets.forEach(f=>{const g=f.type||t.type,_=f.indexAxis||ca(g,i),w=(Fi[g]||{}).scales||{};Object.keys(w).forEach(C=>{const A=function hC(t,i){let n=t;return"_index_"===t?n=i:"_value_"===t&&(n="x"===i?"y":"x"),n}(C,_),T=f[A+"AxisID"]||A;d[T]=d[T]||Object.create(null),cs(d[T],[{axis:A},o[T],w[C]])})}),Object.keys(d).forEach(f=>{const g=d[f];cs(g,[zn.scales[g.type],zn.scale])}),d}(t,i)}function U_(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const np=new Map,W_=new Set;function mh(t,i){let n=np.get(t);return n||(n=i(),np.set(t,n),W_.add(n)),n}const da=(t,i,n)=>{const o=ds(i,n);void 0!==o&&t.add(o)};class Z_{constructor(i){this._config=function H_(t){return(t=t||{}).data=U_(t.data),j_(t),t}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=U_(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),j_(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return mh(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,n){return mh(`${i}.transition.${n}`,()=>[[`datasets.${i}.transitions.${n}`,`transitions.${n}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,n){return mh(`${i}-${n}`,()=>[[`datasets.${i}.elements.${n}`,`datasets.${i}`,`elements.${n}`,""]])}pluginScopeKeys(i){const n=i.id;return mh(`${this.type}-plugin-${n}`,()=>[[`plugins.${n}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,n){const o=this._scopeCache;let s=o.get(i);return(!s||n)&&(s=new Map,o.set(i,s)),s}getOptionScopes(i,n,o){const{options:s,type:d}=this,f=this._cachedScopes(i,o),g=f.get(n);if(g)return g;const _=new Set;n.forEach(w=>{i&&(_.add(i),w.forEach(C=>da(_,i,C))),w.forEach(C=>da(_,s,C)),w.forEach(C=>da(_,Fi[d]||{},C)),w.forEach(C=>da(_,zn,C)),w.forEach(C=>da(_,mc,C))});const k=Array.from(_);return 0===k.length&&k.push(Object.create(null)),W_.has(n)&&f.set(n,k),k}chartOptionScopes(){const{options:i,type:n}=this;return[i,Fi[n]||{},zn.datasets[n]||{},{type:n},zn,mc]}resolveNamedOptions(i,n,o,s=[""]){const d={$shared:!0},{resolver:f,subPrefixes:g}=ip(this._resolverCache,i,s);let _=f;(function pl(t,i){const{isScriptable:n,isIndexable:o}=ta(t);for(const s of i){const d=n(s),f=o(s),g=(f||d)&&t[s];if(d&&(hs(g)||q_(g))||f&&dn(g))return!0}return!1})(f,n)&&(d.$shared=!1,_=qr(f,o=hs(o)?o():o,this.createResolver(i,o,g)));for(const k of n)d[k]=_[k];return d}createResolver(i,n,o=[""],s){const{resolver:d}=ip(this._resolverCache,i,o);return yt(n)?qr(d,n,void 0,s):d}}function ip(t,i,n){let o=t.get(i);o||(o=new Map,t.set(i,o));const s=n.join();let d=o.get(s);return d||(d={resolver:Jd(i,n),subPrefixes:n.filter(g=>!g.toLowerCase().includes("hover"))},o.set(s,d)),d}const q_=t=>yt(t)&&Object.getOwnPropertyNames(t).reduce((i,n)=>i||hs(t[n]),!1),$r=["top","bottom","left","right","chartArea"];function ui(t,i){return"top"===t||"bottom"===t||-1===$r.indexOf(t)&&"x"===i}function G_(t,i){return function(n,o){return n[t]===o[t]?n[i]-o[i]:n[t]-o[t]}}function Y_(t){const i=t.chart,n=i.options.animation;i.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[t],i)}function pC(t){const i=t.chart,n=i.options.animation;Bt(n&&n.onProgress,[t],i)}function rp(t){return Q0()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _h={},K_=t=>{const i=rp(t);return Object.values(_h).filter(n=>n.canvas===i).pop()};function $_(t,i,n){const o=Object.keys(t);for(const s of o){const d=+s;if(d>=i){const f=t[s];delete t[s],(n>0||d>i)&&(t[d+n]=f)}}}class po{static register(...i){Zt.add(...i),sp()}static unregister(...i){Zt.remove(...i),sp()}constructor(i,n){const o=this.config=new Z_(n),s=rp(i),d=K_(s);if(d)throw new Error("Canvas is already in use. Chart with ID '"+d.id+"' must be destroyed before the canvas with ID '"+d.canvas.id+"' can be reused.");const f=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function F_(t){return!Q0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?E_:sC}(s)),this.platform.updateConfig(o);const g=this.platform.acquireContext(s,f.aspectRatio),_=g&&g.canvas,k=_&&_.height,w=_&&_.width;this.id=li(),this.ctx=g,this.canvas=_,this.width=w,this.height=k,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Zr(t,i){let n;return function(...o){return i?(clearTimeout(n),n=setTimeout(t,i,o)):t.apply(this,o),i}}(C=>this.update(C),f.resizeDelay||0),this._dataChanges=[],_h[this.id]=this,g&&_?(Fo.listen(this,"complete",Y_),Fo.listen(this,"progress",pC),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:n},width:o,height:s,_aspectRatio:d}=this;return Nt(i)?n&&d?d:s?o/s:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return Zt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Vf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Of(this.canvas,this.ctx),this}stop(){return Fo.stop(this),this}resize(i,n){Fo.running(this)?this._resizeBeforeDraw={width:i,height:n}:this._resize(i,n)}_resize(i,n){const o=this.options,f=this.platform.getMaximumSize(this.canvas,i,n,o.maintainAspectRatio&&this.aspectRatio),g=o.devicePixelRatio||this.platform.getDevicePixelRatio(),_=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,Vf(this,g,!0)&&(this.notifyPlugins("resize",{size:f}),Bt(o.onResize,[this,f],this),this.attached&&this._doResize(_)&&this.render())}ensureScalesHaveIDs(){et(this.options.scales||{},(o,s)=>{o.id=s})}buildOrUpdateScales(){const i=this.options,n=i.scales,o=this.scales,s=Object.keys(o).reduce((f,g)=>(f[g]=!1,f),{});let d=[];n&&(d=d.concat(Object.keys(n).map(f=>{const g=n[f],_=Nc(f,g),k="r"===_,w="x"===_;return{options:g,dposition:k?"chartArea":w?"bottom":"left",dtype:k?"radialLinear":w?"category":"linear"}}))),et(d,f=>{const g=f.options,_=g.id,k=Nc(_,g),w=ht(g.type,f.dtype);(void 0===g.position||ui(g.position,k)!==ui(f.dposition))&&(g.position=f.dposition),s[_]=!0;let C=null;_ in o&&o[_].type===w?C=o[_]:(C=new(Zt.getScale(w))({id:_,type:w,ctx:this.ctx,chart:this}),o[C.id]=C),C.init(g,i)}),et(s,(f,g)=>{f||delete o[g]}),et(o,f=>{ci.configure(this,f,f.options),ci.addBox(this,f)})}_updateMetasets(){const i=this._metasets,n=this.data.datasets.length,o=i.length;if(i.sort((s,d)=>s.index-d.index),o>n){for(let s=n;s<o;++s)this._destroyDatasetMeta(s);i.splice(n,o-n)}this._sortedMetasets=i.slice(0).sort(G_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:n}}=this;i.length>n.length&&delete this._stacks,i.forEach((o,s)=>{0===n.filter(d=>d===o._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const i=[],n=this.data.datasets;let o,s;for(this._removeUnreferencedMetasets(),o=0,s=n.length;o<s;o++){const d=n[o];let f=this.getDatasetMeta(o);const g=d.type||this.config.type;if(f.type&&f.type!==g&&(this._destroyDatasetMeta(o),f=this.getDatasetMeta(o)),f.type=g,f.indexAxis=d.indexAxis||ca(g,this.options),f.order=d.order||0,f.index=o,f.label=""+d.label,f.visible=this.isDatasetVisible(o),f.controller)f.controller.updateIndex(o),f.controller.linkScales();else{const _=Zt.getController(g),{datasetElementType:k,dataElementType:w}=zn.datasets[g];Object.assign(_,{dataElementType:Zt.getElement(w),datasetElementType:k&&Zt.getElement(k)}),f.controller=new _(this,o),i.push(f.controller)}}return this._updateMetasets(),i}_resetElements(){et(this.data.datasets,(i,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const n=this.config;n.update();const o=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const d=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let k=0,w=this.data.datasets.length;k<w;k++){const{controller:C}=this.getDatasetMeta(k),A=!s&&-1===d.indexOf(C);C.buildOrUpdateElements(A),f=Math.max(+C.getMaxOverflow(),f)}f=this._minPadding=o.layout.autoPadding?f:0,this._updateLayout(f),s||et(d,k=>{k.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(G_("z","_idx"));const{_active:g,_lastEvent:_}=this;_?this._eventHandler(_,!0):g.length&&this._updateHoverStyles(g,g,!0),this.render()}_updateScales(){et(this.scales,i=>{ci.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,n=new Set(Object.keys(this._listeners)),o=new Set(i.events);(!I0(n,o)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,n=this._getUniformDataChanges()||[];for(const{method:o,start:s,count:d}of n)$_(i,s,"_removeElements"===o?-d:d)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const n=this.data.datasets.length,o=d=>new Set(i.filter(f=>f[0]===d).map((f,g)=>g+","+f.splice(1).join(","))),s=o(0);for(let d=1;d<n;d++)if(!I0(s,o(d)))return;return Array.from(s).map(d=>d.split(",")).map(d=>({method:d[1],start:+d[2],count:+d[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ci.update(this,this.width,this.height,i);const n=this.chartArea,o=n.width<=0||n.height<=0;this._layers=[],et(this.boxes,s=>{o&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,d)=>{s._idx=d}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let n=0,o=this.data.datasets.length;n<o;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,o=this.data.datasets.length;n<o;++n)this._updateDataset(n,hs(i)?i({datasetIndex:n}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,n){const o=this.getDatasetMeta(i),s={meta:o,index:i,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(o.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Fo.has(this)?this.attached&&!Fo.running(this)&&Fo.start(this):(this.draw(),Y_({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:o,height:s}=this._resizeBeforeDraw;this._resize(o,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(i=0;i<n.length&&n[i].z<=0;++i)n[i].draw(this.chartArea);for(this._drawDatasets();i<n.length;++i)n[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const n=this._sortedMetasets,o=[];let s,d;for(s=0,d=n.length;s<d;++s){const f=n[s];(!i||f.visible)&&o.push(f)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n)this._drawDataset(i[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const n=this.ctx,o=i._clip,s=!o.disabled,d=function op(t){const{xScale:i,yScale:n}=t;if(i&&n)return{left:i.left,right:i.right,top:n.top,bottom:n.bottom}}(i)||this.chartArea,f={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",f)&&(s&&Ka(n,{left:!1===o.left?0:d.left-o.left,right:!1===o.right?this.width:d.right+o.right,top:!1===o.top?0:d.top-o.top,bottom:!1===o.bottom?this.height:d.bottom+o.bottom}),i.controller.draw(),s&&wc(n),f.cancelable=!1,this.notifyPlugins("afterDatasetDraw",f))}isPointInArea(i){return Ya(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,n,o,s){const d=v_.modes[n];return"function"==typeof d?d(this,i,o,s):[]}getDatasetMeta(i){const n=this.data.datasets[i],o=this._metasets;let s=o.filter(d=>d&&d._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:i,_dataset:n,_parsed:[],_sorted:!1},o.push(s)),s}getContext(){return this.$context||(this.$context=Mo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const n=this.data.datasets[i];if(!n)return!1;const o=this.getDatasetMeta(i);return"boolean"==typeof o.hidden?!o.hidden:!n.hidden}setDatasetVisibility(i,n){this.getDatasetMeta(i).hidden=!n}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,n,o){const s=o?"show":"hide",d=this.getDatasetMeta(i),f=d.controller._resolveAnimations(void 0,s);Dr(n)?(d.data[n].hidden=!o,this.update()):(this.setDatasetVisibility(i,o),f.update(d,{visible:o}),this.update(g=>g.datasetIndex===i?s:void 0))}hide(i,n){this._updateVisibility(i,n,!1)}show(i,n){this._updateVisibility(i,n,!0)}_destroyDatasetMeta(i){const n=this._metasets[i];n&&n.controller&&n.controller._destroy(),delete this._metasets[i]}_stop(){let i,n;for(this.stop(),Fo.remove(this),i=0,n=this.data.datasets.length;i<n;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:n}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Of(i,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _h[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,n=this.platform,o=(d,f)=>{n.addEventListener(this,d,f),i[d]=f},s=(d,f,g)=>{d.offsetX=f,d.offsetY=g,this._eventHandler(d)};et(this.options.events,d=>o(d,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,n=this.platform,o=(_,k)=>{n.addEventListener(this,_,k),i[_]=k},s=(_,k)=>{i[_]&&(n.removeEventListener(this,_,k),delete i[_])},d=(_,k)=>{this.canvas&&this.resize(_,k)};let f;const g=()=>{s("attach",g),this.attached=!0,this.resize(),o("resize",d),o("detach",f)};f=()=>{this.attached=!1,s("resize",d),this._stop(),this._resize(0,0),o("attach",g)},n.isAttached(this.canvas)?g():f()}unbindEvents(){et(this._listeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._listeners={},et(this._responsiveListeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,n,o){const s=o?"set":"remove";let d,f,g,_;for("dataset"===n&&(d=this.getDatasetMeta(i[0].datasetIndex),d.controller["_"+s+"DatasetHoverStyle"]()),g=0,_=i.length;g<_;++g){f=i[g];const k=f&&this.getDatasetMeta(f.datasetIndex).controller;k&&k[s+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const n=this._active||[],o=i.map(({datasetIndex:d,index:f})=>{const g=this.getDatasetMeta(d);if(!g)throw new Error("No dataset found at index "+d);return{datasetIndex:d,element:g.data[f],index:f}});!Sr(o,n)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,n))}notifyPlugins(i,n,o){return this._plugins.notify(this,i,n,o)}isPluginEnabled(i){return 1===this._plugins._cache.filter(n=>n.plugin.id===i).length}_updateHoverStyles(i,n,o){const s=this.options.hover,d=(_,k)=>_.filter(w=>!k.some(C=>w.datasetIndex===C.datasetIndex&&w.index===C.index)),f=d(n,i),g=o?i:d(i,n);f.length&&this.updateHoverStyle(f,s.mode,!1),g.length&&s.mode&&this.updateHoverStyle(g,s.mode,!0)}_eventHandler(i,n){const o={event:i,replay:n,cancelable:!0,inChartArea:this.isPointInArea(i)},s=f=>(f.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",o,s))return;const d=this._handleEvent(i,n,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,s),(d||o.changed)&&this.render(),this}_handleEvent(i,n,o){const{_active:s=[],options:d}=this,g=this._getActiveElements(i,s,o,n),_=function P0(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(i),k=function Q_(t,i,n,o){return n&&"mouseout"!==t.type?o?i:t:null}(i,this._lastEvent,o,_);o&&(this._lastEvent=null,Bt(d.onHover,[i,g,this],this),_&&Bt(d.onClick,[i,g,this],this));const w=!Sr(g,s);return(w||n)&&(this._active=g,this._updateHoverStyles(g,s,n)),this._lastEvent=k,w}_getActiveElements(i,n,o,s){if("mouseout"===i.type)return[];if(!o)return n;const d=this.options.hover;return this.getElementsAtEventForMode(i,d.mode,d,s)}}function sp(){return et(po.instances,t=>t._plugins.invalidate())}function gl(t,i,n,o){return{x:n+t*Math.cos(i),y:o+t*Math.sin(i)}}function bh(t,i,n,o,s,d){const{x:f,y:g,startAngle:_,pixelMargin:k,innerRadius:w}=i,C=Math.max(i.outerRadius+o+n-k,0),A=w>0?w+o+n+k:0;let T=0;const E=s-_;if(o){const ze=((w>0?w-o:0)+(C>0?C-o:0))/2;T=(E-(0!==ze?E*ze/(ze+o):E))/2}const M=(E-Math.max(.001,E*C-n/hn)/C)/2,F=_+M+T,N=s-M-T,{outerStart:L,outerEnd:W,innerStart:Z,innerEnd:X}=function mC(t,i,n,o){const s=function gC(t){return Qa(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),d=(n-i)/2,f=Math.min(d,o*i/2),g=_=>{const k=(n-Math.min(d,_))*o/2;return qn(_,0,Math.min(d,k))};return{outerStart:g(s.outerStart),outerEnd:g(s.outerEnd),innerStart:qn(s.innerStart,0,f),innerEnd:qn(s.innerEnd,0,f)}}(i,A,C,N-F),V=C-L,K=C-W,te=F+L/V,ae=N-W/K,le=A+Z,re=A+X,Me=F+Z/le,He=N-X/re;if(t.beginPath(),d){const Se=(te+ae)/2;if(t.arc(f,g,C,te,Se),t.arc(f,g,C,Se,ae),W>0){const Fe=gl(K,ae,f,g);t.arc(Fe.x,Fe.y,W,ae,N+mn)}const qe=gl(re,N,f,g);if(t.lineTo(qe.x,qe.y),X>0){const Fe=gl(re,He,f,g);t.arc(Fe.x,Fe.y,X,N+mn,He+Math.PI)}const ze=(N-X/A+(F+Z/A))/2;if(t.arc(f,g,A,N-X/A,ze,!0),t.arc(f,g,A,ze,F+Z/A,!0),Z>0){const Fe=gl(le,Me,f,g);t.arc(Fe.x,Fe.y,Z,Me+Math.PI,F-mn)}const dt=gl(V,F,f,g);if(t.lineTo(dt.x,dt.y),L>0){const Fe=gl(V,te,f,g);t.arc(Fe.x,Fe.y,L,F-mn,te)}}else{t.moveTo(f,g);const Se=Math.cos(te)*C+f,qe=Math.sin(te)*C+g;t.lineTo(Se,qe);const ze=Math.cos(ae)*C+f,dt=Math.sin(ae)*C+g;t.lineTo(ze,dt)}t.closePath()}Qe(po,"defaults",zn),Qe(po,"instances",_h),Qe(po,"overrides",Fi),Qe(po,"registry",Zt),Qe(po,"version","4.1.1"),Qe(po,"getChart",K_);class kh extends Pr{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,n,o){const s=this.getProps(["x","y"],o),{angle:d,distance:f}=Tf(s,{x:i,y:n}),{startAngle:g,endAngle:_,innerRadius:k,outerRadius:w,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),A=this.options.spacing/2,E=ht(C,_-g)>=un||fc(d,g,_),S=Gn(f,k+A,w+A);return E&&S}getCenterPoint(i){const{x:n,y:o,startAngle:s,endAngle:d,innerRadius:f,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:_,spacing:k}=this.options,w=(s+d)/2,C=(f+g+k+_)/2;return{x:n+Math.cos(w)*C,y:o+Math.sin(w)*C}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:n,circumference:o}=this,s=(n.offset||0)/4,d=(n.spacing||0)/2,f=n.circular;if(this.pixelMargin="inner"===n.borderAlign?.33:0,this.fullCircles=o>un?Math.floor(o/un):0,0===o||this.innerRadius<0||this.outerRadius<0)return;i.save();const g=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(g)*s,Math.sin(g)*s);const k=s*(1-Math.sin(Math.min(hn,o||0)));i.fillStyle=n.backgroundColor,i.strokeStyle=n.borderColor,function X_(t,i,n,o,s){const{fullCircles:d,startAngle:f,circumference:g}=i;let _=i.endAngle;if(d){bh(t,i,n,o,_,s);for(let k=0;k<d;++k)t.fill();isNaN(g)||(_=f+(g%un||un))}bh(t,i,n,o,_,s),t.fill()}(i,this,k,d,f),function _C(t,i,n,o,s){const{fullCircles:d,startAngle:f,circumference:g,options:_}=i,{borderWidth:k,borderJoinStyle:w}=_,C="inner"===_.borderAlign;if(!k)return;C?(t.lineWidth=2*k,t.lineJoin=w||"round"):(t.lineWidth=k,t.lineJoin=w||"bevel");let A=i.endAngle;if(d){bh(t,i,n,o,A,s);for(let T=0;T<d;++T)t.stroke();isNaN(g)||(A=f+(g%un||un))}C&&function J_(t,i,n){const{startAngle:o,pixelMargin:s,x:d,y:f,outerRadius:g,innerRadius:_}=i;let k=s/g;t.beginPath(),t.arc(d,f,g,o-k,n+k),_>s?(k=s/_,t.arc(d,f,_,n+k,o-k,!0)):t.arc(d,f,s,n+mn,o-mn),t.closePath(),t.clip()}(t,i,A),d||(bh(t,i,n,o,A,s),t.stroke())}(i,this,k,d,f),i.restore()}}function ap(t,i,n=i){t.lineCap=ht(n.borderCapStyle,i.borderCapStyle),t.setLineDash(ht(n.borderDash,i.borderDash)),t.lineDashOffset=ht(n.borderDashOffset,i.borderDashOffset),t.lineJoin=ht(n.borderJoinStyle,i.borderJoinStyle),t.lineWidth=ht(n.borderWidth,i.borderWidth),t.strokeStyle=ht(n.borderColor,i.borderColor)}function eb(t,i,n){t.lineTo(n.x,n.y)}function nb(t,i,n={}){const o=t.length,{start:s=0,end:d=o-1}=n,{start:f,end:g}=i,_=Math.max(s,f),k=Math.min(d,g);return{count:o,start:_,loop:i.loop,ilen:k<_&&!(s<f&&d<f||s>g&&d>g)?o+k-_:k-_}}function ib(t,i,n,o){const{points:s,options:d}=i,{count:f,start:g,loop:_,ilen:k}=nb(s,n,o),w=function tb(t){return t.stepped?j0:t.tension||"monotone"===t.cubicInterpolationMode?Ax:eb}(d);let T,E,S,{move:C=!0,reverse:A}=o||{};for(T=0;T<=k;++T)E=s[(g+(A?k-T:T))%f],!E.skip&&(C?(t.moveTo(E.x,E.y),C=!1):w(t,S,E,A,d.stepped),S=E);return _&&(E=s[(g+(A?k:0))%f],w(t,S,E,A,d.stepped)),!!_}function bC(t,i,n,o){const s=i.points,{count:d,start:f,ilen:g}=nb(s,n,o),{move:_=!0,reverse:k}=o||{};let A,T,E,S,M,F,w=0,C=0;const N=W=>(f+(k?g-W:W))%d,L=()=>{S!==M&&(t.lineTo(w,M),t.lineTo(w,S),t.lineTo(w,F))};for(_&&(T=s[N(0)],t.moveTo(T.x,T.y)),A=0;A<=g;++A){if(T=s[N(A)],T.skip)continue;const W=T.x,Z=T.y,X=0|W;X===E?(Z<S?S=Z:Z>M&&(M=Z),w=(C*w+W)/++C):(L(),t.lineTo(W,Z),E=X,C=0,S=M=Z),F=Z}L()}function Oc(t){const i=t.options;return t._decimated||t._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?ib:bC}Qe(kh,"id","arc"),Qe(kh,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Qe(kh,"defaultRoutes",{backgroundColor:"backgroundColor"});const vC="function"==typeof Path2D;class Vo extends Pr{constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,n){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(Ix(this._points,o,i,o.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function jx(t,i){const n=t.points,o=t.options.spanGaps,s=n.length;if(!s)return[];const d=!!t._loop,{start:f,end:g}=function zx(t,i,n,o){let s=0,d=i-1;if(n&&!o)for(;s<i&&!t[s].skip;)s++;for(;s<i&&t[s].skip;)s++;for(s%=i,n&&(d+=s);d>s&&t[d%i].skip;)d--;return d%=i,{start:s,end:d}}(n,s,d,o);return function a_(t,i,n,o){return o&&o.setContext&&n?function l_(t,i,n,o){const s=t._chart.getContext(),d=c_(t.options),{_datasetIndex:f,options:{spanGaps:g}}=t,_=n.length,k=[];let w=d,C=i[0].start,A=C;function T(E,S,M,F){const N=g?-1:1;if(E!==S){for(E+=_;n[E%_].skip;)E-=N;for(;n[S%_].skip;)S+=N;E%_!=S%_&&(k.push({start:E%_,end:S%_,loop:M,style:F}),w=F,C=S%_)}}for(const E of i){C=g?C:E.start;let M,S=n[C%_];for(A=C+1;A<=E.end;A++){const F=n[A%_];M=c_(o.setContext(Mo(s,{type:"segment",p0:S,p1:F,p0DataIndex:(A-1)%_,p1DataIndex:A%_,datasetIndex:f}))),Ux(M,w)&&T(C,A-1,E.loop,w),S=F,w=M}C<A-1&&T(C,A-1,E.loop,w)}return k}(t,i,n,o):i}(t,!0===o?[{start:f,end:g,loop:d}]:function Vx(t,i,n,o){const s=t.length,d=[];let _,f=i,g=t[i];for(_=i+1;_<=n;++_){const k=t[_%s];k.skip||k.stop?g.skip||(d.push({start:i%s,end:(_-1)%s,loop:o=!1}),i=f=k.stop?_:null):(f=_,g.skip&&(i=_)),g=k}return null!==f&&d.push({start:i%s,end:f%s,loop:o}),d}(n,f,g<f?g+s:g,!!t._fullLoop&&0===f&&g===s-1),n,i)}(this,this.options.segment))}first(){const i=this.segments;return i.length&&this.points[i[0].start]}last(){const i=this.segments,o=i.length;return o&&this.points[i[o-1].end]}interpolate(i,n){const o=this.options,s=i[n],d=this.points,f=s_(this,{property:n,start:s,end:s});if(!f.length)return;const g=[],_=function rb(t){return t.stepped?Bx:t.tension||"monotone"===t.cubicInterpolationMode?t_:_s}(o);let k,w;for(k=0,w=f.length;k<w;++k){const{start:C,end:A}=f[k],T=d[C],E=d[A];if(T===E){g.push(T);continue}const M=_(T,E,Math.abs((s-T[n])/(E[n]-T[n])),o.stepped);M[n]=i[n],g.push(M)}return 1===g.length?g[0]:g}pathSegment(i,n,o){return Oc(this)(i,this,n,o)}path(i,n,o){const s=this.segments,d=Oc(this);let f=this._loop;n=n||0,o=o||this.points.length-n;for(const g of s)f&=d(i,this,g,{start:n,end:n+o-1});return!!f}draw(i,n,o,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(i.save(),function ob(t,i,n,o){vC&&!i.options.segment?function kC(t,i,n,o){let s=i._path;s||(s=i._path=new Path2D,i.path(s,n,o)&&s.closePath()),ap(t,i.options),t.stroke(s)}(t,i,n,o):function wC(t,i,n,o){const{segments:s,options:d}=i,f=Oc(i);for(const g of s)ap(t,d,g.style),t.beginPath(),f(t,i,g,{start:n,end:n+o-1})&&t.closePath(),t.stroke()}(t,i,n,o)}(i,this,o,s),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Et(t,i,n,o){const s=t.options,{[n]:d}=t.getProps([n],o);return Math.abs(i-d)<s.radius+s.hitRadius}Qe(Vo,"id","line"),Qe(Vo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Qe(Vo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Qe(Vo,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i});class ks extends Pr{constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,o){const s=this.options,{x:d,y:f}=this.getProps(["x","y"],o);return Math.pow(i-d,2)+Math.pow(n-f,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(i,n){return Et(this,i,"x",n)}inYRange(i,n){return Et(this,i,"y",n)}getCenterPoint(i){const{x:n,y:o}=this.getProps(["x","y"],i);return{x:n,y:o}}size(i){let n=(i=i||this.options||{}).radius||0;return n=Math.max(n,n&&i.hoverRadius||0),2*(n+(n&&i.borderWidth||0))}draw(i,n){const o=this.options;this.skip||o.radius<.1||!Ya(this,n,this.size(o)/2)||(i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.fillStyle=o.backgroundColor,kc(i,o,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}function wh(t,i){const{x:n,y:o,base:s,width:d,height:f}=t.getProps(["x","y","base","width","height"],i);let g,_,k,w,C;return t.horizontal?(C=f/2,g=Math.min(n,s),_=Math.max(n,s),k=o-C,w=o+C):(C=d/2,g=n-C,_=n+C,k=Math.min(o,s),w=Math.max(o,s)),{left:g,top:k,right:_,bottom:w}}function Nr(t,i,n,o){return t?0:qn(i,n,o)}function it(t,i,n,o){const s=null===i,d=null===n,g=t&&!(s&&d)&&wh(t,o);return g&&(s||Gn(i,g.left,g.right))&&(d||Gn(n,g.top,g.bottom))}function Bc(t,i){t.rect(i.x,i.y,i.w,i.h)}function lp(t,i,n={}){const o=t.x!==n.x?-i:0,s=t.y!==n.y?-i:0;return{x:t.x+o,y:t.y+s,w:t.w+((t.x+t.w!==n.x+n.w?i:0)-o),h:t.h+((t.y+t.h!==n.y+n.h?i:0)-s),radius:t.radius}}Qe(ks,"id","point"),Qe(ks,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Qe(ks,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Lc extends Pr{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:n,options:{borderColor:o,backgroundColor:s}}=this,{inner:d,outer:f}=function xC(t){const i=wh(t),n=i.right-i.left,o=i.bottom-i.top,s=function jo(t,i,n){const s=t.borderSkipped,d=Qd(t.options.borderWidth);return{t:Nr(s.top,d.top,0,n),r:Nr(s.right,d.right,0,i),b:Nr(s.bottom,d.bottom,0,n),l:Nr(s.left,d.left,0,i)}}(t,n/2,o/2),d=function sb(t,i,n){const{enableBorderRadius:o}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,d=ea(s),f=Math.min(i,n),g=t.borderSkipped,_=o||yt(s);return{topLeft:Nr(!_||g.top||g.left,d.topLeft,0,f),topRight:Nr(!_||g.top||g.right,d.topRight,0,f),bottomLeft:Nr(!_||g.bottom||g.left,d.bottomLeft,0,f),bottomRight:Nr(!_||g.bottom||g.right,d.bottomRight,0,f)}}(t,n/2,o/2);return{outer:{x:i.left,y:i.top,w:n,h:o,radius:d},inner:{x:i.left+s.l,y:i.top+s.t,w:n-s.l-s.r,h:o-s.t-s.b,radius:{topLeft:Math.max(0,d.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,d.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,d.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,d.bottomRight-Math.max(s.b,s.r))}}}}(this),g=function fr(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(f.radius)?$a:Bc;i.save(),(f.w!==d.w||f.h!==d.h)&&(i.beginPath(),g(i,lp(f,n,d)),i.clip(),g(i,lp(d,-n,f)),i.fillStyle=o,i.fill("evenodd")),i.beginPath(),g(i,lp(d,n)),i.fillStyle=s,i.fill(),i.restore()}inRange(i,n,o){return it(this,i,n,o)}inXRange(i,n){return it(this,i,null,n)}inYRange(i,n){return it(this,null,i,n)}getCenterPoint(i){const{x:n,y:o,base:s,horizontal:d}=this.getProps(["x","y","base","horizontal"],i);return{x:d?(n+s)/2:n,y:d?o:(o+s)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}Qe(Lc,"id","bar"),Qe(Lc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Qe(Lc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var vh=Object.freeze({__proto__:null,ArcElement:kh,LineElement:Vo,PointElement:ks,BarElement:Lc});const xh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ab=xh.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function lb(t){return xh[t%xh.length]}function cb(t){return ab[t%ab.length]}function cp(t){let i;for(i in t)if(t[i].borderColor||t[i].backgroundColor)return!0;return!1}var pb={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,i,n){if(!n.enabled)return;const{options:{elements:o},data:{datasets:s}}=t.config;if(!n.forceOverride&&(cp(s)||o&&cp(o)))return;const d=function fb(t){let i=0;return(n,o)=>{const s=t.getDatasetMeta(o).controller;s instanceof Oo?i=function hb(t,i){return t.backgroundColor=t.data.map(()=>lb(i++)),i}(n,i):s instanceof ol?i=function ub(t,i){return t.backgroundColor=t.data.map(()=>cb(i++)),i}(n,i):s&&(i=function db(t,i){return t.borderColor=lb(i),t.backgroundColor=cb(i),++i}(n,i))}}(t);s.forEach(d)}};function Ah(t){if(t._decimated){const i=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:i})}}function yh(t){t.data.datasets.forEach(i=>{Ah(i)})}var mb={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,i,n)=>{if(!n.enabled)return void yh(t);const o=t.width;t.data.datasets.forEach((s,d)=>{const{_data:f,indexAxis:g}=s,_=t.getDatasetMeta(d),k=f||s.data;if("y"===Ja([g,t.options.indexAxis])||!_.controller.supportsDecimation)return;const w=t.scales[_.xAxisID];if("linear"!==w.type&&"time"!==w.type||t.options.parsing)return;let E,{start:C,count:A}=function gb(t,i){const n=i.length;let s,o=0;const{iScale:d}=t,{min:f,max:g,minDefined:_,maxDefined:k}=d.getUserBounds();return _&&(o=qn(Mr(i,d.axis,f).lo,0,n-1)),s=k?qn(Mr(i,d.axis,g).hi+1,o,n)-o:n-o,{start:o,count:s}}(_,k);if(A<=(n.threshold||4*o))Ah(s);else{switch(Nt(f)&&(s._data=k,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}})),n.algorithm){case"lttb":E=function ml(t,i,n,o,s){const d=s.samples||o;if(d>=n)return t.slice(i,i+n);const f=[],g=(n-2)/(d-2);let _=0;const k=i+n-1;let C,A,T,E,S,w=i;for(f[_++]=t[w],C=0;C<d-2;C++){let N,M=0,F=0;const L=Math.floor((C+1)*g)+1+i,W=Math.min(Math.floor((C+2)*g)+1,n)+i,Z=W-L;for(N=L;N<W;N++)M+=t[N].x,F+=t[N].y;M/=Z,F/=Z;const X=Math.floor(C*g)+1+i,V=Math.min(Math.floor((C+1)*g)+1,n)+i,{x:K,y:te}=t[w];for(T=E=-1,N=X;N<V;N++)E=.5*Math.abs((K-M)*(t[N].y-te)-(K-t[N].x)*(F-te)),E>T&&(T=E,A=t[N],S=N);f[_++]=A,w=S}return f[_++]=t[k],f}(k,C,A,o,n);break;case"min-max":E=function Ch(t,i,n,o){let f,g,_,k,w,C,A,T,E,S,s=0,d=0;const M=[],N=t[i].x,W=t[i+n-1].x-N;for(f=i;f<i+n;++f){g=t[f],_=(g.x-N)/W*o,k=g.y;const Z=0|_;if(Z===w)k<E?(E=k,C=f):k>S&&(S=k,A=f),s=(d*s+g.x)/++d;else{const X=f-1;if(!Nt(C)&&!Nt(A)){const V=Math.min(C,A),K=Math.max(C,A);V!==T&&V!==X&&M.push({...t[V],x:s}),K!==T&&K!==X&&M.push({...t[K],x:s})}f>0&&X!==T&&M.push(t[X]),M.push(g),w=Z,d=0,E=S=k,C=A=T=f}}return M}(k,C,A,o);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E}})},destroy(t){yh(t)}};function Th(t,i,n,o){if(o)return;let s=i[t],d=n[t];return"angle"===t&&(s=cr(s),d=cr(d)),{property:t,start:s,end:d}}function _l(t,i,n){for(;i>t;i--){const o=n[i];if(!isNaN(o.x)&&!isNaN(o.y))break}return i}function dp(t,i,n,o){return t&&i?o(t[n],i[n]):t?t[n]:i?i[n]:0}function _b(t,i){let n=[],o=!1;return dn(t)?(o=!0,n=t):n=function AC(t,i){const{x:n=null,y:o=null}=t||{},s=i.points,d=[];return i.segments.forEach(({start:f,end:g})=>{g=_l(f,g,s);const _=s[f],k=s[g];null!==o?(d.push({x:_.x,y:o}),d.push({x:k.x,y:o})):null!==n&&(d.push({x:n,y:_.y}),d.push({x:n,y:k.y}))}),d}(t,i),n.length?new Vo({points:n,options:{tension:0},_loop:o,_fullLoop:o}):null}function hp(t){return t&&!1!==t.fill}function bb(t,i,n){let s=t[i].fill;const d=[i];let f;if(!n)return s;for(;!1!==s&&-1===d.indexOf(s);){if(!In(s))return s;if(f=t[s],!f)return!1;if(f.visible)return s;d.push(s),s=f.fill}return!1}function yC(t,i,n){const o=function up(t){const i=t.options,n=i.fill;let o=ht(n&&n.target,n);return void 0===o&&(o=!!i.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(t);if(yt(o))return!isNaN(o.value)&&o;let s=parseFloat(o);return In(s)&&Math.floor(s)===s?function Pt(t,i,n,o){return("-"===t||"+"===t)&&(n=i+n),!(n===i||n<0||n>=o)&&n}(o[0],i,s,n):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function SC(t,i,n){const o=[];for(let s=0;s<n.length;s++){const d=n[s],{first:f,last:g,point:_}=EC(d,i,"x");if(!(!_||f&&g))if(f)o.unshift(_);else if(t.push(_),!g)break}t.push(...o)}function EC(t,i,n){const o=t.interpolate(i,n);if(!o)return{};const s=o[n],d=t.segments,f=t.points;let g=!1,_=!1;for(let k=0;k<d.length;k++){const w=d[k],C=f[w.start][n],A=f[w.end][n];if(Gn(s,C,A)){g=s===C,_=s===A;break}}return{first:g,last:_,point:o}}class fp{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,n,o){const{x:s,y:d,radius:f}=this;return i.arc(s,d,f,(n=n||{start:0,end:un}).end,n.start,!0),!o.bounds}interpolate(i){const{x:n,y:o,radius:s}=this,d=i.angle;return{x:n+Math.cos(d)*s,y:o+Math.sin(d)*s,angle:d}}}function Dh(t,i,n){const o=function Uo(t){const{chart:i,fill:n,line:o}=t;if(In(n))return function pp(t,i){const n=t.getDatasetMeta(i);return n&&t.isDatasetVisible(i)?n.dataset:null}(i,n);if("stack"===n)return function Sh(t){const{scale:i,index:n,line:o}=t,s=[],d=o.segments,f=o.points,g=function Eh(t,i){const n=[],o=t.getMatchingVisibleMetas("line");for(let s=0;s<o.length;s++){const d=o[s];if(d.index===i)break;d.hidden||n.unshift(d.dataset)}return n}(i,n);g.push(_b({x:null,y:i.bottom},o));for(let _=0;_<d.length;_++){const k=d[_];for(let w=k.start;w<=k.end;w++)SC(s,f[w],g)}return new Vo({points:s,options:{}})}(t);if("shape"===n)return!0;const s=function wb(t){return(t.scale||{}).getPointPositionForValue?function MC(t){const{scale:i,fill:n}=t,o=i.options,s=i.getLabels().length,d=o.reverse?i.max:i.min,f=function TC(t,i,n){let o;return o="start"===t?n:"end"===t?i.options.reverse?i.min:i.max:yt(t)?t.value:i.getBaseValue(),o}(n,i,d),g=[];if(o.grid.circular){const _=i.getPointPositionForValue(0,d);return new fp({x:_.x,y:_.y,radius:i.getDistanceFromCenterForValue(f)})}for(let _=0;_<s;++_)g.push(i.getPointPositionForValue(_,f));return g}(t):function DC(t){const{scale:i={},fill:n}=t,o=function kb(t,i){let n=null;return"start"===t?n=i.bottom:"end"===t?n=i.top:yt(t)?n=i.getPixelForValue(t.value):i.getBasePixel&&(n=i.getBasePixel()),n}(n,i);if(In(o)){const s=i.isHorizontal();return{x:s?o:null,y:s?null:o}}return null}(t)}(t);return s instanceof fp?s:_b(s,o)}(i),{line:s,scale:d,axis:f}=i,g=s.options,_=g.fill,k=g.backgroundColor,{above:w=k,below:C=k}=_||{};o&&s.points.length&&(Ka(t,n),function gp(t,i){const{line:n,target:o,above:s,below:d,area:f,scale:g}=i,_=n._loop?"angle":i.axis;t.save(),"x"===_&&d!==s&&(mp(t,o,f.top),vb(t,{line:n,target:o,color:s,scale:g,property:_}),t.restore(),t.save(),mp(t,o,f.bottom)),vb(t,{line:n,target:o,color:d,scale:g,property:_}),t.restore()}(t,{line:s,target:o,above:w,below:C,area:n,scale:d,axis:f}),wc(t))}function mp(t,i,n){const{segments:o,points:s}=i;let d=!0,f=!1;t.beginPath();for(const g of o){const{start:_,end:k}=g,w=s[_],C=s[_l(_,k,s)];d?(t.moveTo(w.x,w.y),d=!1):(t.lineTo(w.x,n),t.lineTo(w.x,w.y)),f=!!i.pathSegment(t,g,{move:f}),f?t.closePath():t.lineTo(C.x,n)}t.lineTo(i.first().x,n),t.closePath(),t.clip()}function vb(t,i){const{line:n,target:o,property:s,color:d,scale:f}=i,g=function CC(t,i,n){const o=t.segments,s=t.points,d=i.points,f=[];for(const g of o){let{start:_,end:k}=g;k=_l(_,k,s);const w=Th(n,s[_],s[k],g.loop);if(!i.segments){f.push({source:g,target:w,start:s[_],end:s[k]});continue}const C=s_(i,w);for(const A of C){const T=Th(n,d[A.start],d[A.end],A.loop),E=o_(g,s,T);for(const S of E)f.push({source:S,target:A,start:{[n]:dp(w,T,"start",Math.max)},end:{[n]:dp(w,T,"end",Math.min)}})}}return f}(n,o,s);for(const{source:_,target:k,start:w,end:C}of g){const{style:{backgroundColor:A=d}={}}=_,T=!0!==o;t.save(),t.fillStyle=A,xb(t,f,T&&Th(s,w,C)),t.beginPath();const E=!!n.pathSegment(t,_);let S;if(T){E?t.closePath():Cb(t,o,C,s);const M=!!o.pathSegment(t,k,{move:E,reverse:!0});S=E&&M,S||Cb(t,o,w,s)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function xb(t,i,n){const{top:o,bottom:s}=i.chart.chartArea,{property:d,start:f,end:g}=n||{};"x"===d&&(t.beginPath(),t.rect(f,o,g-f,s-o),t.clip())}function Cb(t,i,n,o){const s=i.interpolate(n,o);s&&t.lineTo(s.x,s.y)}var Ab={id:"filler",afterDatasetsUpdate(t,i,n){const o=(t.data.datasets||[]).length,s=[];let d,f,g,_;for(f=0;f<o;++f)d=t.getDatasetMeta(f),g=d.dataset,_=null,g&&g.options&&g instanceof Vo&&(_={visible:t.isDatasetVisible(f),index:f,fill:yC(g,f,o),chart:t,axis:d.controller.options.indexAxis,scale:d.vScale,line:g}),d.$filler=_,s.push(_);for(f=0;f<o;++f)_=s[f],_&&!1!==_.fill&&(_.fill=bb(s,f,n.propagate))},beforeDraw(t,i,n){const o="beforeDraw"===n.drawTime,s=t.getSortedVisibleDatasetMetas(),d=t.chartArea;for(let f=s.length-1;f>=0;--f){const g=s[f].$filler;!g||(g.line.updateControlPoints(d,g.axis),o&&g.fill&&Dh(t.ctx,g,d))}},beforeDatasetsDraw(t,i,n){if("beforeDatasetsDraw"!==n.drawTime)return;const o=t.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s){const d=o[s].$filler;hp(d)&&Dh(t.ctx,d,t.chartArea)}},beforeDatasetDraw(t,i,n){const o=i.meta.$filler;!hp(o)||"beforeDatasetDraw"!==n.drawTime||Dh(t.ctx,o,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yb=(t,i)=>{let{boxHeight:n=i,boxWidth:o=i}=t;return t.usePointStyle&&(n=Math.min(n,i),o=t.pointStyleWidth||Math.min(o,i)),{boxWidth:o,boxHeight:n,itemHeight:Math.max(i,n)}};class _p extends Pr{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,n,o){this.maxWidth=i,this.maxHeight=n,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let n=Bt(i.generateLabels,[this.chart],this)||[];i.filter&&(n=n.filter(o=>i.filter(o,this.chart.data))),i.sort&&(n=n.sort((o,s)=>i.sort(o,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:i,ctx:n}=this;if(!i.display)return void(this.width=this.height=0);const o=i.labels,s=Kn(o.font),d=s.size,f=this._computeTitleHeight(),{boxWidth:g,itemHeight:_}=yb(o,d);let k,w;n.font=s.string,this.isHorizontal()?(k=this.maxWidth,w=this._fitRows(f,d,g,_)+10):(w=this.maxHeight,k=this._fitCols(f,s,g,_)+10),this.width=Math.min(k,i.maxWidth||this.maxWidth),this.height=Math.min(w,i.maxHeight||this.maxHeight)}_fitRows(i,n,o,s){const{ctx:d,maxWidth:f,options:{labels:{padding:g}}}=this,_=this.legendHitBoxes=[],k=this.lineWidths=[0],w=s+g;let C=i;d.textAlign="left",d.textBaseline="middle";let A=-1,T=-w;return this.legendItems.forEach((E,S)=>{const M=o+n/2+d.measureText(E.text).width;(0===S||k[k.length-1]+M+2*g>f)&&(C+=w,k[k.length-(S>0?0:1)]=0,T+=w,A++),_[S]={left:0,top:T,row:A,width:M,height:s},k[k.length-1]+=M+g}),C}_fitCols(i,n,o,s){const{ctx:d,maxHeight:f,options:{labels:{padding:g}}}=this,_=this.legendHitBoxes=[],k=this.columnSizes=[],w=f-i;let C=g,A=0,T=0,E=0,S=0;return this.legendItems.forEach((M,F)=>{const{itemWidth:N,itemHeight:L}=function bp(t,i,n,o,s){const d=function bl(t,i,n,o){let s=t.text;return s&&"string"!=typeof s&&(s=s.reduce((d,f)=>d.length>f.length?d:f)),i+n.size/2+o.measureText(s).width}(o,t,i,n),f=function Sb(t,i,n){let o=t;return"string"!=typeof i.text&&(o=Eb(i,n)),o}(s,o,i.lineHeight);return{itemWidth:d,itemHeight:f}}(o,n,d,M,s);F>0&&T+L+2*g>w&&(C+=A+g,k.push({width:A,height:T}),E+=A+g,S++,A=T=0),_[F]={left:E,top:T,col:S,width:N,height:L},A=Math.max(A,N),T+=L+g}),C+=A,k.push({width:A,height:T}),C}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:o,labels:{padding:s},rtl:d}}=this,f=bs(d,this.left,this.width);if(this.isHorizontal()){let g=0,_=Yn(o,this.left+s,this.right-this.lineWidths[g]);for(const k of n)g!==k.row&&(g=k.row,_=Yn(o,this.left+s,this.right-this.lineWidths[g])),k.top+=this.top+i+s,k.left=f.leftForLtr(f.x(_),k.width),_+=k.width+s}else{let g=0,_=Yn(o,this.top+i+s,this.bottom-this.columnSizes[g].height);for(const k of n)k.col!==g&&(g=k.col,_=Yn(o,this.top+i+s,this.bottom-this.columnSizes[g].height)),k.top=_,k.left+=this.left+s,k.left=f.leftForLtr(f.x(k.left),k.width),_+=k.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;Ka(i,this),this._draw(),wc(i)}}_draw(){const{options:i,columnSizes:n,lineWidths:o,ctx:s}=this,{align:d,labels:f}=i,g=zn.color,_=bs(i.rtl,this.left,this.width),k=Kn(f.font),{padding:w}=f,C=k.size,A=C/2;let T;this.drawTitle(),s.textAlign=_.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=k.string;const{boxWidth:E,boxHeight:S,itemHeight:M}=yb(f,C),L=this.isHorizontal(),W=this._computeTitleHeight();T=L?{x:Yn(d,this.left+w,this.right-o[0]),y:this.top+w+W,line:0}:{x:this.left+w,y:Yn(d,this.top+W+w,this.bottom-n[0].height),line:0},Po(this.ctx,i.textDirection);const Z=M+w;this.legendItems.forEach((X,V)=>{s.strokeStyle=X.fontColor,s.fillStyle=X.fontColor;const K=s.measureText(X.text).width,te=_.textAlign(X.textAlign||(X.textAlign=f.textAlign)),ae=E+A+K;let le=T.x,re=T.y;_.setWidth(this.width),L?V>0&&le+ae+w>this.right&&(re=T.y+=Z,T.line++,le=T.x=Yn(d,this.left+w,this.right-o[T.line])):V>0&&re+Z>this.bottom&&(le=T.x=le+n[T.line].width+w,T.line++,re=T.y=Yn(d,this.top+W+w,this.bottom-n[T.line].height)),function(X,V,K){if(isNaN(E)||E<=0||isNaN(S)||S<0)return;s.save();const te=ht(K.lineWidth,1);if(s.fillStyle=ht(K.fillStyle,g),s.lineCap=ht(K.lineCap,"butt"),s.lineDashOffset=ht(K.lineDashOffset,0),s.lineJoin=ht(K.lineJoin,"miter"),s.lineWidth=te,s.strokeStyle=ht(K.strokeStyle,g),s.setLineDash(ht(K.lineDash,[])),f.usePointStyle){const ae={radius:S*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:te},le=_.xPlus(X,E/2);V0(s,ae,le,V+A,f.pointStyleWidth&&E)}else{const ae=V+Math.max((C-S)/2,0),le=_.leftForLtr(X,E),re=ea(K.borderRadius);s.beginPath(),Object.values(re).some(Me=>0!==Me)?$a(s,{x:le,y:ae,w:E,h:S,radius:re}):s.rect(le,ae,E,S),s.fill(),0!==te&&s.stroke()}s.restore()}(_.x(le),re,X),le=((t,i,n,o)=>t===(o?"left":"right")?n:"center"===t?(i+n)/2:i)(te,le+E+A,L?le+ae:this.right,i.rtl),function(X,V,K){Do(s,K.text,X,V+M/2,k,{strikethrough:K.hidden,textAlign:_.textAlign(K.textAlign)})}(_.x(le),re,X),L?T.x+=ae+w:T.y+="string"!=typeof X.text?Eb(X,k.lineHeight):Z}),i_(this.ctx,i.textDirection)}drawTitle(){const i=this.options,n=i.title,o=Kn(n.font),s=xi(n.padding);if(!n.display)return;const d=bs(i.rtl,this.left,this.width),f=this.ctx,g=n.position,k=s.top+o.size/2;let w,C=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),w=this.top+k,C=Yn(i.align,C,this.right-A);else{const E=this.columnSizes.reduce((S,M)=>Math.max(S,M.height),0);w=k+Yn(i.align,this.top,this.bottom-E-i.labels.padding-this._computeTitleHeight())}const T=Yn(g,C,C+A);f.textAlign=d.textAlign(gc(g)),f.textBaseline="middle",f.strokeStyle=n.color,f.fillStyle=n.color,f.font=o.string,Do(f,n.text,T,w,o)}_computeTitleHeight(){const i=this.options.title,n=Kn(i.font),o=xi(i.padding);return i.display?n.lineHeight+o.height:0}_getLegendItemAt(i,n){let o,s,d;if(Gn(i,this.left,this.right)&&Gn(n,this.top,this.bottom))for(d=this.legendHitBoxes,o=0;o<d.length;++o)if(s=d[o],Gn(i,s.left,s.left+s.width)&&Gn(n,s.top,s.top+s.height))return this.legendItems[o];return null}handleEvent(i){const n=this.options;if(!function Db(t,i){return!(("mousemove"!==t&&"mouseout"!==t||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==t&&"mouseup"!==t))}(i.type,n))return;const o=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const s=this._hoveredItem,d=((t,i)=>null!==t&&null!==i&&t.datasetIndex===i.datasetIndex&&t.index===i.index)(s,o);s&&!d&&Bt(n.onLeave,[i,s,this],this),this._hoveredItem=o,o&&!d&&Bt(n.onHover,[i,o,this],this)}else o&&Bt(n.onClick,[i,o,this],this)}}function Eb(t,i){return i*(t.text?t.text.length+.5:0)}var Mb={id:"legend",_element:_p,start(t,i,n){const o=t.legend=new _p({ctx:t.ctx,options:n,chart:t});ci.configure(t,o,n),ci.addBox(t,o)},stop(t){ci.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,i,n){const o=t.legend;ci.configure(t,o,n),o.options=n},afterUpdate(t){const i=t.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(t,i){i.replay||t.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,i,n){const o=i.datasetIndex,s=n.chart;s.isDatasetVisible(o)?(s.hide(o),i.hidden=!0):(s.show(o),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const i=t.data.datasets,{labels:{usePointStyle:n,pointStyle:o,textAlign:s,color:d,useBorderRadius:f,borderRadius:g}}=t.legend.options;return t._getSortedDatasetMetas().map(_=>{const k=_.controller.getStyle(n?0:void 0),w=xi(k.borderWidth);return{text:i[_.index].label,fillStyle:k.backgroundColor,fontColor:d,hidden:!_.visible,lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:(w.width+w.height)/4,strokeStyle:k.borderColor,pointStyle:o||k.pointStyle,rotation:k.rotation,textAlign:s||k.textAlign,borderRadius:f&&(g||k.borderRadius),datasetIndex:_.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class kp extends Pr{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,n){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=n;const s=dn(o.text)?o.text.length:1;this._padding=xi(o.padding);const d=s*Kn(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=d:this.width=d}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:n,left:o,bottom:s,right:d,options:f}=this,g=f.align;let k,w,C,_=0;return this.isHorizontal()?(w=Yn(g,o,d),C=n+i,k=d-o):("left"===f.position?(w=o+i,C=Yn(g,s,n),_=-.5*hn):(w=d-i,C=Yn(g,n,s),_=.5*hn),k=s-n),{titleX:w,titleY:C,maxWidth:k,rotation:_}}draw(){const i=this.ctx,n=this.options;if(!n.display)return;const o=Kn(n.font),d=o.lineHeight/2+this._padding.top,{titleX:f,titleY:g,maxWidth:_,rotation:k}=this._drawArgs(d);Do(i,n.text,0,0,o,{color:n.color,maxWidth:_,rotation:k,textAlign:gc(n.align),textBaseline:"middle",translation:[f,g]})}}var IC={id:"title",_element:kp,start(t,i,n){!function kl(t,i){const n=new kp({ctx:t.ctx,options:i,chart:t});ci.configure(t,n,i),ci.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){ci.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,i,n){const o=t.titleBlock;ci.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mh=new WeakMap;var PC={id:"subtitle",start(t,i,n){const o=new kp({ctx:t.ctx,options:n,chart:t});ci.configure(t,o,n),ci.addBox(t,o),Mh.set(t,o)},stop(t){ci.removeBox(t,Mh.get(t)),Mh.delete(t)},beforeUpdate(t,i,n){const o=Mh.get(t);ci.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wl={average(t){if(!t.length)return!1;let i,n,o=0,s=0,d=0;for(i=0,n=t.length;i<n;++i){const f=t[i].element;if(f&&f.hasValue()){const g=f.tooltipPosition();o+=g.x,s+=g.y,++d}}return{x:o/d,y:s/d}},nearest(t,i){if(!t.length)return!1;let d,f,g,n=i.x,o=i.y,s=Number.POSITIVE_INFINITY;for(d=0,f=t.length;d<f;++d){const _=t[d].element;if(_&&_.hasValue()){const w=Sf(i,_.getCenterPoint());w<s&&(s=w,g=_)}}if(g){const _=g.tooltipPosition();n=_.x,o=_.y}return{x:n,y:o}}};function go(t,i){return i&&(dn(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function Ho(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function FC(t,i){const{element:n,datasetIndex:o,index:s}=i,d=t.getDatasetMeta(o).controller,{label:f,value:g}=d.getLabelAndValue(s);return{chart:t,label:f,parsed:d.getParsed(s),raw:t.data.datasets[o].data[s],formattedValue:g,dataset:d.getDataset(),dataIndex:s,datasetIndex:o,element:n}}function Ib(t,i){const n=t.chart.ctx,{body:o,footer:s,title:d}=t,{boxWidth:f,boxHeight:g}=i,_=Kn(i.bodyFont),k=Kn(i.titleFont),w=Kn(i.footerFont),C=d.length,A=s.length,T=o.length,E=xi(i.padding);let S=E.height,M=0,F=o.reduce((W,Z)=>W+Z.before.length+Z.lines.length+Z.after.length,0);F+=t.beforeBody.length+t.afterBody.length,C&&(S+=C*k.lineHeight+(C-1)*i.titleSpacing+i.titleMarginBottom),F&&(S+=T*(i.displayColors?Math.max(g,_.lineHeight):_.lineHeight)+(F-T)*_.lineHeight+(F-1)*i.bodySpacing),A&&(S+=i.footerMarginTop+A*w.lineHeight+(A-1)*i.footerSpacing);let N=0;const L=function(W){M=Math.max(M,n.measureText(W).width+N)};return n.save(),n.font=k.string,et(t.title,L),n.font=_.string,et(t.beforeBody.concat(t.afterBody),L),N=i.displayColors?f+2+i.boxPadding:0,et(o,W=>{et(W.before,L),et(W.lines,L),et(W.after,L)}),N=0,n.font=w.string,et(t.footer,L),n.restore(),M+=E.width,{width:M,height:S}}function Fb(t,i,n,o){const{x:s,width:d}=n,{width:f,chartArea:{left:g,right:_}}=t;let k="center";return"center"===o?k=s<=(g+_)/2?"left":"right":s<=d/2?k="left":s>=f-d/2&&(k="right"),function NC(t,i,n,o){const{x:s,width:d}=o,f=n.caretSize+n.caretPadding;if("left"===t&&s+d+f>i.width||"right"===t&&s-d-f<0)return!0}(k,t,i,n)&&(k="center"),k}function Nb(t,i,n){const o=n.yAlign||i.yAlign||function Pb(t,i){const{y:n,height:o}=i;return n<o/2?"top":n>t.height-o/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||i.xAlign||Fb(t,i,n,o),yAlign:o}}function vl(t,i,n,o){const{caretSize:s,caretPadding:d,cornerRadius:f}=t,{xAlign:g,yAlign:_}=n,k=s+d,{topLeft:w,topRight:C,bottomLeft:A,bottomRight:T}=ea(f);let E=function Qr(t,i){let{x:n,width:o}=t;return"right"===i?n-=o:"center"===i&&(n-=o/2),n}(i,g);const S=function wp(t,i,n){let{y:o,height:s}=t;return"top"===i?o+=n:o-="bottom"===i?s+n:s/2,o}(i,_,k);return"center"===_?"left"===g?E+=k:"right"===g&&(E-=k):"left"===g?E-=Math.max(w,A)+s:"right"===g&&(E+=Math.max(C,T)+s),{x:qn(E,0,o.width-i.width),y:qn(S,0,o.height-i.height)}}function Rc(t,i,n){const o=xi(n.padding);return"center"===i?t.x+t.width/2:"right"===i?t.x+t.width-o.right:t.x+o.left}function Ob(t){return go([],Ho(t))}function vp(t,i){const n=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return n?t.override(n):t}const Bb={beforeTitle:Ur,title(t){if(t.length>0){const i=t[0],n=i.chart.data.labels,o=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(o>0&&i.dataIndex<o)return n[i.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let i=t.dataset.label||"";i&&(i+=": ");const n=t.formattedValue;return Nt(n)||(i+=n),i},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function Tn(t,i,n,o){const s=t[i].call(n,o);return typeof s>"u"?Bb[i].call(n,o):s}class xp extends Pr{constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const i=this._cachedAnimations;if(i)return i;const n=this.chart,o=this.options.setContext(this.getContext()),s=o.enabled&&n.options.animation&&o.animations,d=new h_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(d)),d}getContext(){return this.$context||(this.$context=function OC(t,i,n){return Mo(t,{tooltip:i,tooltipItems:n,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,n){const{callbacks:o}=n,s=Tn(o,"beforeTitle",this,i),d=Tn(o,"title",this,i),f=Tn(o,"afterTitle",this,i);let g=[];return g=go(g,Ho(s)),g=go(g,Ho(d)),g=go(g,Ho(f)),g}getBeforeBody(i,n){return Ob(Tn(n.callbacks,"beforeBody",this,i))}getBody(i,n){const{callbacks:o}=n,s=[];return et(i,d=>{const f={before:[],lines:[],after:[]},g=vp(o,d);go(f.before,Ho(Tn(g,"beforeLabel",this,d))),go(f.lines,Tn(g,"label",this,d)),go(f.after,Ho(Tn(g,"afterLabel",this,d))),s.push(f)}),s}getAfterBody(i,n){return Ob(Tn(n.callbacks,"afterBody",this,i))}getFooter(i,n){const{callbacks:o}=n,s=Tn(o,"beforeFooter",this,i),d=Tn(o,"footer",this,i),f=Tn(o,"afterFooter",this,i);let g=[];return g=go(g,Ho(s)),g=go(g,Ho(d)),g=go(g,Ho(f)),g}_createItems(i){const n=this._active,o=this.chart.data,s=[],d=[],f=[];let _,k,g=[];for(_=0,k=n.length;_<k;++_)g.push(FC(this.chart,n[_]));return i.filter&&(g=g.filter((w,C,A)=>i.filter(w,C,A,o))),i.itemSort&&(g=g.sort((w,C)=>i.itemSort(w,C,o))),et(g,w=>{const C=vp(i.callbacks,w);s.push(Tn(C,"labelColor",this,w)),d.push(Tn(C,"labelPointStyle",this,w)),f.push(Tn(C,"labelTextColor",this,w))}),this.labelColors=s,this.labelPointStyles=d,this.labelTextColors=f,this.dataPoints=g,g}update(i,n){const o=this.options.setContext(this.getContext()),s=this._active;let d,f=[];if(s.length){const g=wl[o.position].call(this,s,this._eventPosition);f=this._createItems(o),this.title=this.getTitle(f,o),this.beforeBody=this.getBeforeBody(f,o),this.body=this.getBody(f,o),this.afterBody=this.getAfterBody(f,o),this.footer=this.getFooter(f,o);const _=this._size=Ib(this,o),k=Object.assign({},g,_),w=Nb(this.chart,o,k),C=vl(o,k,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,d={opacity:1,x:C.x,y:C.y,width:_.width,height:_.height,caretX:g.x,caretY:g.y}}else 0!==this.opacity&&(d={opacity:0});this._tooltipItems=f,this.$context=void 0,d&&this._resolveAnimations().update(this,d),i&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(i,n,o,s){const d=this.getCaretPosition(i,o,s);n.lineTo(d.x1,d.y1),n.lineTo(d.x2,d.y2),n.lineTo(d.x3,d.y3)}getCaretPosition(i,n,o){const{xAlign:s,yAlign:d}=this,{caretSize:f,cornerRadius:g}=o,{topLeft:_,topRight:k,bottomLeft:w,bottomRight:C}=ea(g),{x:A,y:T}=i,{width:E,height:S}=n;let M,F,N,L,W,Z;return"center"===d?(W=T+S/2,"left"===s?(M=A,F=M-f,L=W+f,Z=W-f):(M=A+E,F=M+f,L=W-f,Z=W+f),N=M):(F="left"===s?A+Math.max(_,w)+f:"right"===s?A+E-Math.max(k,C)-f:this.caretX,"top"===d?(L=T,W=L-f,M=F-f,N=F+f):(L=T+S,W=L+f,M=F+f,N=F-f),Z=L),{x1:M,x2:F,x3:N,y1:L,y2:W,y3:Z}}drawTitle(i,n,o){const s=this.title,d=s.length;let f,g,_;if(d){const k=bs(o.rtl,this.x,this.width);for(i.x=Rc(this,o.titleAlign,o),n.textAlign=k.textAlign(o.titleAlign),n.textBaseline="middle",f=Kn(o.titleFont),g=o.titleSpacing,n.fillStyle=o.titleColor,n.font=f.string,_=0;_<d;++_)n.fillText(s[_],k.x(i.x),i.y+f.lineHeight/2),i.y+=f.lineHeight+g,_+1===d&&(i.y+=o.titleMarginBottom-g)}}_drawColorBox(i,n,o,s,d){const f=this.labelColors[o],g=this.labelPointStyles[o],{boxHeight:_,boxWidth:k,boxPadding:w}=d,C=Kn(d.bodyFont),A=Rc(this,"left",d),T=s.x(A),S=n.y+(_<C.lineHeight?(C.lineHeight-_)/2:0);if(d.usePointStyle){const M={radius:Math.min(k,_)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},F=s.leftForLtr(T,k)+k/2,N=S+_/2;i.strokeStyle=d.multiKeyBackground,i.fillStyle=d.multiKeyBackground,kc(i,M,F,N),i.strokeStyle=f.borderColor,i.fillStyle=f.backgroundColor,kc(i,M,F,N)}else{i.lineWidth=yt(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,i.strokeStyle=f.borderColor,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset||0;const M=s.leftForLtr(T,k-w),F=s.leftForLtr(s.xPlus(T,1),k-w-2),N=ea(f.borderRadius);Object.values(N).some(L=>0!==L)?(i.beginPath(),i.fillStyle=d.multiKeyBackground,$a(i,{x:M,y:S,w:k,h:_,radius:N}),i.fill(),i.stroke(),i.fillStyle=f.backgroundColor,i.beginPath(),$a(i,{x:F,y:S+1,w:k-2,h:_-2,radius:N}),i.fill()):(i.fillStyle=d.multiKeyBackground,i.fillRect(M,S,k,_),i.strokeRect(M,S,k,_),i.fillStyle=f.backgroundColor,i.fillRect(F,S+1,k-2,_-2))}i.fillStyle=this.labelTextColors[o]}drawBody(i,n,o){const{body:s}=this,{bodySpacing:d,bodyAlign:f,displayColors:g,boxHeight:_,boxWidth:k,boxPadding:w}=o,C=Kn(o.bodyFont);let A=C.lineHeight,T=0;const E=bs(o.rtl,this.x,this.width),S=function(K){n.fillText(K,E.x(i.x+T),i.y+A/2),i.y+=A+d},M=E.textAlign(f);let F,N,L,W,Z,X,V;for(n.textAlign=f,n.textBaseline="middle",n.font=C.string,i.x=Rc(this,M,o),n.fillStyle=o.bodyColor,et(this.beforeBody,S),T=g&&"right"!==M?"center"===f?k/2+w:k+2+w:0,W=0,X=s.length;W<X;++W){for(F=s[W],N=this.labelTextColors[W],n.fillStyle=N,et(F.before,S),L=F.lines,g&&L.length&&(this._drawColorBox(n,i,W,E,o),A=Math.max(C.lineHeight,_)),Z=0,V=L.length;Z<V;++Z)S(L[Z]),A=C.lineHeight;et(F.after,S)}T=0,A=C.lineHeight,et(this.afterBody,S),i.y-=d}drawFooter(i,n,o){const s=this.footer,d=s.length;let f,g;if(d){const _=bs(o.rtl,this.x,this.width);for(i.x=Rc(this,o.footerAlign,o),i.y+=o.footerMarginTop,n.textAlign=_.textAlign(o.footerAlign),n.textBaseline="middle",f=Kn(o.footerFont),n.fillStyle=o.footerColor,n.font=f.string,g=0;g<d;++g)n.fillText(s[g],_.x(i.x),i.y+f.lineHeight/2),i.y+=f.lineHeight+o.footerSpacing}}drawBackground(i,n,o,s){const{xAlign:d,yAlign:f}=this,{x:g,y:_}=i,{width:k,height:w}=o,{topLeft:C,topRight:A,bottomLeft:T,bottomRight:E}=ea(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(g+C,_),"top"===f&&this.drawCaret(i,n,o,s),n.lineTo(g+k-A,_),n.quadraticCurveTo(g+k,_,g+k,_+A),"center"===f&&"right"===d&&this.drawCaret(i,n,o,s),n.lineTo(g+k,_+w-E),n.quadraticCurveTo(g+k,_+w,g+k-E,_+w),"bottom"===f&&this.drawCaret(i,n,o,s),n.lineTo(g+T,_+w),n.quadraticCurveTo(g,_+w,g,_+w-T),"center"===f&&"left"===d&&this.drawCaret(i,n,o,s),n.lineTo(g,_+C),n.quadraticCurveTo(g,_,g+C,_),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(i){const n=this.chart,o=this.$animations,s=o&&o.x,d=o&&o.y;if(s||d){const f=wl[i.position].call(this,this._active,this._eventPosition);if(!f)return;const g=this._size=Ib(this,i),_=Object.assign({},f,this._size),k=Nb(n,i,_),w=vl(i,_,k,n);(s._to!==w.x||d._to!==w.y)&&(this.xAlign=k.xAlign,this.yAlign=k.yAlign,this.width=g.width,this.height=g.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(i){const n=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},d={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const f=xi(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(i.save(),i.globalAlpha=o,this.drawBackground(d,i,s,n),Po(i,n.textDirection),d.y+=f.top,this.drawTitle(d,i,n),this.drawBody(d,i,n),this.drawFooter(d,i,n),i_(i,n.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,n){const o=this._active,s=i.map(({datasetIndex:g,index:_})=>{const k=this.chart.getDatasetMeta(g);if(!k)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:k.data[_],index:_}}),d=!Sr(o,s),f=this._positionChanged(s,n);(d||f)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,n,o=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,d=this._active||[],f=this._getActiveElements(i,d,n,o),g=this._positionChanged(f,i),_=n||!Sr(f,d)||g;return _&&(this._active=f,(s.enabled||s.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,n))),_}_getActiveElements(i,n,o,s){const d=this.options;if("mouseout"===i.type)return[];if(!s)return n;const f=this.chart.getElementsAtEventForMode(i,d.mode,d,o);return d.reverse&&f.reverse(),f}_positionChanged(i,n){const{caretX:o,caretY:s,options:d}=this,f=wl[d.position].call(this,i,n);return!1!==f&&(o!==f.x||s!==f.y)}}Qe(xp,"positioners",wl);var BC={id:"tooltip",_element:xp,positioners:wl,afterInit(t,i,n){n&&(t.tooltip=new xp({chart:t,options:n}))},beforeUpdate(t,i,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,i,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const i=t.tooltip;if(i&&i._willRender()){const n={tooltip:i};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,i){t.tooltip&&t.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,i)=>i.bodyFont.size,boxWidth:(t,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},LC=Object.freeze({__proto__:null,Colors:pb,Decimation:mb,Filler:Ab,Legend:Mb,SubTitle:PC,Title:IC,Tooltip:BC});function Cp(t){const i=this.getLabels();return t>=0&&t<i.length?i[t]:t}class Ap extends la{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const n=this._addedLabels;if(n.length){const o=this.getLabels();for(const{index:s,label:d}of n)o[s]===d&&o.splice(s,1);this._addedLabels=[]}super.init(i)}parse(i,n){if(Nt(i))return null;const o=this.getLabels();return((t,i)=>null===t?null:qn(Math.round(t),0,i))(n=isFinite(n)&&o[n]===i?n:function RC(t,i,n,o){const s=t.indexOf(i);return-1===s?((t,i,n,o)=>("string"==typeof i?(n=t.push(i)-1,o.unshift({index:n,label:i})):isNaN(i)&&(n=null),n))(t,i,n,o):s!==t.lastIndexOf(i)?n:s}(o,i,ht(n,i),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:o,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(o=0),n||(s=this.getLabels().length-1)),this.min=o,this.max=s}buildTicks(){const i=this.min,n=this.max,o=this.options.offset,s=[];let d=this.getLabels();d=0===i&&n===d.length-1?d:d.slice(i,n+1),this._valueRange=Math.max(d.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let f=i;f<=n;f++)s.push({value:f});return s}getLabelForValue(i){return Cp.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const n=this.ticks;return i<0||i>n.length-1?null:this.getPixelForValue(n[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function yp(t,i,{horizontal:n,minRotation:o}){const s=Wr(o),d=(n?Math.sin(s):Math.cos(s))||.001;return Math.min(i/d,.75*i*(""+t).length)}Qe(Ap,"id","category"),Qe(Ap,"defaults",{ticks:{callback:Cp}});class zc extends la{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,n){return Nt(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:n,maxDefined:o}=this.getUserBounds();let{min:s,max:d}=this;const f=_=>s=n?s:_,g=_=>d=o?d:_;if(i){const _=ho(s),k=ho(d);_<0&&k<0?g(0):_>0&&k>0&&f(0)}if(s===d){let _=0===d?1:Math.abs(.05*d);g(d+_),i||f(s-_)}this.min=s,this.max=d}getTickLimit(){const i=this.options.ticks;let s,{maxTicksLimit:n,stepSize:o}=i;return o?(s=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,n=i.ticks;let o=this.getTickLimit();o=Math.max(2,o);const f=function zC(t,i){const n=[],{bounds:s,step:d,min:f,max:g,precision:_,count:k,maxTicks:w,maxDigits:C,includeBounds:A}=t,T=d||1,E=w-1,{min:S,max:M}=i,F=!Nt(f),N=!Nt(g),L=!Nt(k),W=(M-S)/(C+1);let X,V,K,te,Z=uc((M-S)/E/T)*T;if(Z<1e-14&&!F&&!N)return[{value:S},{value:M}];te=Math.ceil(M/Z)-Math.floor(S/Z),te>E&&(Z=uc(te*Z/E/T)*T),Nt(_)||(X=Math.pow(10,_),Z=Math.ceil(Z*X)/X),"ticks"===s?(V=Math.floor(S/Z)*Z,K=Math.ceil(M/Z)*Z):(V=S,K=M),F&&N&&d&&function mx(t,i){const n=Math.round(t);return n-i<=t&&n+i>=t}((g-f)/d,Z/1e3)?(te=Math.round(Math.min((g-f)/Z,w)),Z=(g-f)/te,V=f,K=g):L?(V=F?f:V,K=N?g:K,te=k-1,Z=(K-V)/te):(te=(K-V)/Z,te=hc(te,Math.round(te),Z/1e3)?Math.round(te):Math.ceil(te));const ae=Math.max(F0(Z),F0(V));X=Math.pow(10,Nt(_)?ae:_),V=Math.round(V*X)/X,K=Math.round(K*X)/X;let le=0;for(F&&(A&&V!==f?(n.push({value:f}),V<f&&le++,hc(Math.round((V+le*Z)*X)/X,f,yp(f,W,t))&&le++):V<f&&le++);le<te;++le)n.push({value:Math.round((V+le*Z)*X)/X});return N&&A&&K!==g?n.length&&hc(n[n.length-1].value,g,yp(g,W,t))?n[n.length-1].value=g:n.push({value:g}):(!N||K===g)&&n.push({value:K}),n}({maxTicks:o,bounds:i.bounds,min:i.min,max:i.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},this._range||this);return"ticks"===i.bounds&&qd(f,this,"value"),i.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}configure(){const i=this.ticks;let n=this.min,o=this.max;if(super.configure(),this.options.offset&&i.length){const s=(o-n)/Math.max(i.length-1,1)/2;n-=s,o+=s}this._startValue=n,this._endValue=o,this._valueRange=o-n}getLabelForValue(i){return qa(i,this.chart.options.locale,this.options.ticks.format)}}class Tp extends zc{determineDataLimits(){const{min:i,max:n}=this.getMinMax(!0);this.min=In(i)?i:0,this.max=In(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),n=i?this.width:this.height,o=Wr(this.options.ticks.minRotation),s=(i?Math.sin(o):Math.cos(o))||.001,d=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,d.lineHeight/s))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}Qe(Tp,"id","linear"),Qe(Tp,"defaults",{ticks:{callback:_t.formatters.numeric}});const $n=t=>Math.floor(fs(t)),Ni=(t,i)=>Math.pow(10,$n(t)+i);function Sp(t){return t/Math.pow(10,$n(t))==1}function Ep(t,i,n){const o=Math.pow(10,n),s=Math.floor(t/o);return Math.ceil(i/o)-s}class Ih extends la{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,n){const o=zc.prototype.parse.apply(this,[i,n]);if(0!==o)return In(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:i,max:n}=this.getMinMax(!0);this.min=In(i)?Math.max(0,i):null,this.max=In(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!In(this._userMin)&&(this.min=i===Ni(this.min,0)?Ni(this.min,-1):Ni(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:n}=this.getUserBounds();let o=this.min,s=this.max;const d=g=>o=i?o:g,f=g=>s=n?s:g;o===s&&(o<=0?(d(1),f(10)):(d(Ni(o,-1)),f(Ni(s,1)))),o<=0&&d(Ni(s,-1)),s<=0&&f(Ni(o,1)),this.min=o,this.max=s}buildTicks(){const i=this.options,o=function xl(t,{min:i,max:n}){i=lr(t.min,i);const o=[],s=$n(i);let d=function Vc(t,i){let o=$n(i-t);for(;Ep(t,i,o)>10;)o++;for(;Ep(t,i,o)<10;)o--;return Math.min(o,$n(t))}(i,n),f=d<0?Math.pow(10,Math.abs(d)):1;const g=Math.pow(10,d),_=s>d?Math.pow(10,s):0,k=Math.round((i-_)*f)/f,w=Math.floor((i-_)/g/10)*g*10;let C=Math.floor((k-w)/Math.pow(10,d)),A=lr(t.min,Math.round((_+w+C*Math.pow(10,d))*f)/f);for(;A<n;)o.push({value:A,major:Sp(A),significand:C}),C>=10?C=C<15?15:20:C++,C>=20&&(d++,C=2,f=d>=0?1:f),A=Math.round((_+w+C*Math.pow(10,d))*f)/f;const T=lr(t.max,A);return o.push({value:T,major:Sp(T),significand:C}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&qd(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(i){return void 0===i?"0":qa(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=fs(i),this._valueRange=fs(this.max)-fs(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(fs(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const n=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+n*this._valueRange)}}function Dp(t){const i=t.ticks;if(i.display&&t.display){const n=xi(i.backdropPadding);return ht(i.font&&i.font.size,zn.font.size)+n.height}return 0}function zb(t,i,n){return n=dn(n)?n:[n],{w:Cx(t,i.string,n),h:n.length*i.lineHeight}}function Mp(t,i,n,o,s){return t===o||t===s?{start:i-n/2,end:i+n/2}:t<o||t>s?{start:i-n,end:i}:{start:i,end:i+n}}function Ip(t,i,n,o,s){const d=Math.abs(Math.sin(n)),f=Math.abs(Math.cos(n));let g=0,_=0;o.start<i.l?(g=(i.l-o.start)/d,t.l=Math.min(t.l,i.l-g)):o.end>i.r&&(g=(o.end-i.r)/d,t.r=Math.max(t.r,i.r+g)),s.start<i.t?(_=(i.t-s.start)/f,t.t=Math.min(t.t,i.t-_)):s.end>i.b&&(_=(s.end-i.b)/f,t.b=Math.max(t.b,i.b+_))}function VC(t){return 0===t||180===t?"center":t<180?"left":"right"}function jb(t,i,n){return"right"===n?t-=i:"center"===n&&(t-=i/2),t}function jC(t,i,n){return 90===n||270===n?t-=i/2:(n>270||n<90)&&(t-=i),t}function Wo(t,i,n,o){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,i,0,un);else{let d=t.getPointPosition(0,i);s.moveTo(d.x,d.y);for(let f=1;f<o;f++)d=t.getPointPosition(f,i),s.lineTo(d.x,d.y)}}Qe(Ih,"id","logarithmic"),Qe(Ih,"defaults",{ticks:{callback:_t.formatters.logarithmic,major:{enabled:!0}}});class Cl extends zc{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=xi(Dp(this.options)/2),n=this.width=this.maxWidth-i.width,o=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+n/2+i.left),this.yCenter=Math.floor(this.top+o/2+i.top),this.drawingArea=Math.floor(Math.min(n,o)/2)}determineDataLimits(){const{min:i,max:n}=this.getMinMax(!1);this.min=In(i)&&!isNaN(i)?i:0,this.max=In(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dp(this.options))}generateTickLabels(i){zc.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((n,o)=>{const s=Bt(this.options.pointLabels.callback,[n,o],this);return s||0===s?s:""}).filter((n,o)=>this.chart.getDataVisibility(o))}fit(){const i=this.options;i.display&&i.pointLabels.display?function Hi(t){const i={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},i),o=[],s=[],d=t._pointLabels.length,f=t.options.pointLabels,g=f.centerPointLabels?hn/d:0;for(let _=0;_<d;_++){const k=f.setContext(t.getPointLabelContext(_));s[_]=k.padding;const w=t.getPointPosition(_,t.drawingArea+s[_],g),C=Kn(k.font),A=zb(t.ctx,C,t._pointLabels[_]);o[_]=A;const T=cr(t.getIndexAngle(_)+g),E=Math.round(yf(T));Ip(n,i,T,Mp(E,w.x,A.w,0,180),Mp(E,w.y,A.h,90,270))}t.setCenterPoint(i.l-n.l,n.r-i.r,i.t-n.t,n.b-i.b),t._pointLabelItems=function Vb(t,i,n){const o=[],s=t._pointLabels.length,d=t.options,f=Dp(d)/2,g=t.drawingArea,_=d.pointLabels.centerPointLabels?hn/s:0;for(let k=0;k<s;k++){const w=t.getPointPosition(k,g+f+n[k],_),C=Math.round(yf(cr(w.angle+mn))),A=i[k],T=jC(w.y,A.h,C),E=VC(C),S=jb(w.x,A.w,E);o.push({x:w.x,y:T,textAlign:E,left:S,top:T,right:S+A.w,bottom:T+A.h})}return o}(t,o,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,n,o,s){this.xCenter+=Math.floor((i-n)/2),this.yCenter+=Math.floor((o-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,n,o,s))}getIndexAngle(i){return cr(i*(un/(this._pointLabels.length||1))+Wr(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Nt(i))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*n:(i-this.min)*n}getValueForDistanceFromCenter(i){if(Nt(i))return NaN;const n=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(i){const n=this._pointLabels||[];if(i>=0&&i<n.length){const o=n[i];return function HC(t,i,n){return Mo(t,{label:n,index:i,type:"pointLabel"})}(this.getContext(),i,o)}}getPointPosition(i,n,o=0){const s=this.getIndexAngle(i)-mn+o;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(i,n){return this.getPointPosition(i,this.getDistanceFromCenterForValue(n))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:n,top:o,right:s,bottom:d}=this._pointLabelItems[i];return{left:n,top:o,right:s,bottom:d}}drawBackground(){const{backgroundColor:i,grid:{circular:n}}=this.options;if(i){const o=this.ctx;o.save(),o.beginPath(),Wo(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),o.closePath(),o.fillStyle=i,o.fill(),o.restore()}}drawGrid(){const i=this.ctx,n=this.options,{angleLines:o,grid:s,border:d}=n,f=this._pointLabels.length;let g,_,k;if(n.pointLabels.display&&function Ph(t,i){const{ctx:n,options:{pointLabels:o}}=t;for(let s=i-1;s>=0;s--){const d=o.setContext(t.getPointLabelContext(s)),f=Kn(d.font),{x:g,y:_,textAlign:k,left:w,top:C,right:A,bottom:T}=t._pointLabelItems[s],{backdropColor:E}=d;if(!Nt(E)){const S=ea(d.borderRadius),M=xi(d.backdropPadding);n.fillStyle=E;const F=w-M.left,N=C-M.top,L=A-w+M.width,W=T-C+M.height;Object.values(S).some(Z=>0!==Z)?(n.beginPath(),$a(n,{x:F,y:N,w:L,h:W,radius:S}),n.fill()):n.fillRect(F,N,L,W)}Do(n,t._pointLabels[s],g,_+f.lineHeight/2,f,{color:d.color,textAlign:k,textBaseline:"middle"})}}(this,f),s.display&&this.ticks.forEach((w,C)=>{if(0!==C){_=this.getDistanceFromCenterForValue(w.value);const A=this.getContext(C),T=s.setContext(A),E=d.setContext(A);!function UC(t,i,n,o,s){const d=t.ctx,f=i.circular,{color:g,lineWidth:_}=i;!f&&!o||!g||!_||n<0||(d.save(),d.strokeStyle=g,d.lineWidth=_,d.setLineDash(s.dash),d.lineDashOffset=s.dashOffset,d.beginPath(),Wo(t,n,f,o),d.closePath(),d.stroke(),d.restore())}(this,T,_,f,E)}}),o.display){for(i.save(),g=f-1;g>=0;g--){const w=o.setContext(this.getPointLabelContext(g)),{color:C,lineWidth:A}=w;!A||!C||(i.lineWidth=A,i.strokeStyle=C,i.setLineDash(w.borderDash),i.lineDashOffset=w.borderDashOffset,_=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),k=this.getPointPosition(g,_),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(k.x,k.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,n=this.options,o=n.ticks;if(!o.display)return;const s=this.getIndexAngle(0);let d,f;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((g,_)=>{if(0===_&&!n.reverse)return;const k=o.setContext(this.getContext(_)),w=Kn(k.font);if(d=this.getDistanceFromCenterForValue(this.ticks[_].value),k.showLabelBackdrop){i.font=w.string,f=i.measureText(g.label).width,i.fillStyle=k.backdropColor;const C=xi(k.backdropPadding);i.fillRect(-f/2-C.left,-d-w.size/2-C.top,f+C.width,w.size+C.height)}Do(i,g.label,0,-d,w,{color:k.color})}),i.restore()}drawTitle(){}}Qe(Cl,"id","radialLinear"),Qe(Cl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_t.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:i=>i,padding:5,centerPointLabels:!1}}),Qe(Cl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Qe(Cl,"descriptors",{angleLines:{_fallback:"grid"}});const Fh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fi=Object.keys(Fh);function WC(t,i){return t-i}function Pp(t,i){if(Nt(i))return null;const n=t._adapter,{parser:o,round:s,isoWeekday:d}=t._parseOpts;let f=i;return"function"==typeof o&&(f=o(f)),In(f)||(f="string"==typeof o?n.parse(f,o):n.parse(f)),null===f?null:(s&&(f="week"!==s||!Wa(d)&&!0!==d?n.startOf(f,s):n.startOf(f,"isoWeek",d)),+f)}function Ub(t,i,n,o){const s=fi.length;for(let d=fi.indexOf(t);d<s-1;++d){const f=Fh[fi[d]],g=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((n-i)/(g*f.size))<=o)return fi[d]}return fi[s-1]}function jc(t,i,n){if(n){if(n.length){const{lo:o,hi:s}=Gd(n,i);t[n[o]>=i?n[o]:n[s]]=!0}}else t[i]=!0}function Zb(t,i,n){const o=[],s={},d=i.length;let f,g;for(f=0;f<d;++f)g=i[f],s[g]=f,o.push({value:g,major:!1});return 0!==d&&n?function Wb(t,i,n,o){const s=t._adapter,d=+s.startOf(i[0].value,o),f=i[i.length-1].value;let g,_;for(g=d;g<=f;g=+s.add(g,1,o))_=n[g],_>=0&&(i[_].major=!0);return i}(t,o,s,n):o}class Al extends la{constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,n={}){const o=i.time||(i.time={}),s=this._adapter=new Kx__date(i.adapters.date);s.init(n),cs(o.displayFormats,s.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(i),this._normalized=n.normalized}parse(i,n){return void 0===i?null:Pp(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const i=this.options,n=this._adapter,o=i.time.unit||"day";let{min:s,max:d,minDefined:f,maxDefined:g}=this.getUserBounds();function _(k){!f&&!isNaN(k.min)&&(s=Math.min(s,k.min)),!g&&!isNaN(k.max)&&(d=Math.max(d,k.max))}(!f||!g)&&(_(this._getLabelBounds()),("ticks"!==i.bounds||"labels"!==i.ticks.source)&&_(this.getMinMax(!1))),s=In(s)&&!isNaN(s)?s:+n.startOf(Date.now(),o),d=In(d)&&!isNaN(d)?d:+n.endOf(Date.now(),o)+1,this.min=Math.min(s,d-1),this.max=Math.max(s+1,d)}_getLabelBounds(){const i=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return i.length&&(n=i[0],o=i[i.length-1]),{min:n,max:o}}buildTicks(){const i=this.options,n=i.time,o=i.ticks,s="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===i.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const d=this.min,g=function Yd(t,i,n){let o=0,s=t.length;for(;o<s&&t[o]<i;)o++;for(;s>o&&t[s-1]>n;)s--;return o>0||s<t.length?t.slice(o,s):t}(s,d,this.max);return this._unit=n.unit||(o.autoSkip?Ub(n.minUnit,this.min,this.max,this._getLabelCapacity(d)):function Hb(t,i,n,o,s){for(let d=fi.length-1;d>=fi.indexOf(n);d--){const f=fi[d];if(Fh[f].common&&t._adapter.diff(s,o,f)>=i-1)return f}return fi[n?fi.indexOf(n):0]}(this,g.length,n.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function ZC(t){for(let i=fi.indexOf(t)+1,n=fi.length;i<n;++i)if(Fh[fi[i]].common)return fi[i]}(this._unit):void 0,this.initOffsets(s),i.reverse&&g.reverse(),Zb(this,g,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let s,d,n=0,o=0;this.options.offset&&i.length&&(s=this.getDecimalForValue(i[0]),n=1===i.length?1-s:(this.getDecimalForValue(i[1])-s)/2,d=this.getDecimalForValue(i[i.length-1]),o=1===i.length?d:(d-this.getDecimalForValue(i[i.length-2]))/2);const f=i.length<3?.5:.25;n=qn(n,0,f),o=qn(o,0,f),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const i=this._adapter,n=this.min,o=this.max,s=this.options,d=s.time,f=d.unit||Ub(d.minUnit,n,o,this._getLabelCapacity(n)),g=ht(s.ticks.stepSize,1),_="week"===f&&d.isoWeekday,k=Wa(_)||!0===_,w={};let A,T,C=n;if(k&&(C=+i.startOf(C,"isoWeek",_)),C=+i.startOf(C,k?"day":f),i.diff(o,n,f)>1e5*g)throw new Error(n+" and "+o+" are too far apart with stepSize of "+g+" "+f);const E="data"===s.ticks.source&&this.getDataTimestamps();for(A=C,T=0;A<o;A=+i.add(A,g,f),T++)jc(w,A,E);return(A===o||"ticks"===s.bounds||1===T)&&jc(w,A,E),Object.keys(w).sort((S,M)=>S-M).map(S=>+S)}getLabelForValue(i){const o=this.options.time;return this._adapter.format(i,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}_tickFormatFunction(i,n,o,s){const d=this.options,f=d.ticks.callback;if(f)return Bt(f,[i,n,o],this);const g=d.time.displayFormats,_=this._unit,k=this._majorUnit,C=k&&g[k],A=o[n];return this._adapter.format(i,s||(k&&C&&A&&A.major?C:_&&g[_]))}generateTickLabels(i){let n,o,s;for(n=0,o=i.length;n<o;++n)s=i[n],s.label=this._tickFormatFunction(s.value,n,i)}getDecimalForValue(i){return null===i?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){const n=this._offsets,o=this.getDecimalForValue(i);return this.getPixelForDecimal((n.start+o)*n.factor)}getValueForPixel(i){const n=this._offsets,o=this.getDecimalForPixel(i)/n.factor-n.end;return this.min+o*(this.max-this.min)}_getLabelSize(i){const n=this.options.ticks,o=this.ctx.measureText(i).width,s=Wr(this.isHorizontal()?n.maxRotation:n.minRotation),d=Math.cos(s),f=Math.sin(s),g=this._resolveTickFontOptions(0).size;return{w:o*d+g*f,h:o*f+g*d}}_getLabelCapacity(i){const n=this.options.time,o=n.displayFormats,s=o[n.unit]||o.millisecond,d=this._tickFormatFunction(i,0,Zb(this,[i],this._majorUnit),s),f=this._getLabelSize(d),g=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return g>0?g:1}getDataTimestamps(){let n,o,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,o=s.length;n<o;++n)i=i.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const i=this._cache.labels||[];let n,o;if(i.length)return i;const s=this.getLabels();for(n=0,o=s.length;n<o;++n)i.push(Pp(this,s[n]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Oe(i.sort(WC))}}function Uc(t,i,n){let d,f,g,_,o=0,s=t.length-1;n?(i>=t[o].pos&&i<=t[s].pos&&({lo:o,hi:s}=Mr(t,"pos",i)),({pos:d,time:g}=t[o]),({pos:f,time:_}=t[s])):(i>=t[o].time&&i<=t[s].time&&({lo:o,hi:s}=Mr(t,"time",i)),({time:d,pos:g}=t[o]),({time:f,pos:_}=t[s]));const k=f-d;return k?g+(_-g)*(i-d)/k:g}Qe(Al,"id","time"),Qe(Al,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Fp extends Al{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(i);this._minPos=Uc(n,this.min),this._tableRange=Uc(n,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:n,max:o}=this,s=[],d=[];let f,g,_,k,w;for(f=0,g=i.length;f<g;++f)k=i[f],k>=n&&k<=o&&s.push(k);if(s.length<2)return[{time:n,pos:0},{time:o,pos:1}];for(f=0,g=s.length;f<g;++f)w=s[f+1],_=s[f-1],k=s[f],Math.round((w+_)/2)!==k&&d.push({time:k,pos:f/(g-1)});return d}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const n=this.getDataTimestamps(),o=this.getLabelTimestamps();return i=n.length&&o.length?this.normalize(n.concat(o)):n.length?n:o,i=this._cache.all=i,i}getDecimalForValue(i){return(Uc(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const n=this._offsets,o=this.getDecimalForPixel(i)/n.factor-n.end;return Uc(this._table,o*this._tableRange+this._minPos,!0)}}Qe(Fp,"id","timeseries"),Qe(Fp,"defaults",Al.defaults),po.register(b_,vh,LC,Object.freeze({__proto__:null,CategoryScale:Ap,LinearScale:Tp,LogarithmicScale:Ih,RadialLinearScale:Cl,TimeScale:Al,TimeSeriesScale:Fp}));const qC=po;let qb=(()=>{class t{constructor(n){this.el=n,this.plugins=[],this.responsive=!0,this.onDataSelect=new h.vpe,this._options={}}get data(){return this._data}set data(n){this._data=n,this.reinit()}get options(){return this._options}set options(n){this._options=n,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(n){if(this.chart){const o=this.chart.getElementsAtEventForMode(n,"nearest",{intersect:!0},!1),s=this.chart.getElementsAtEventForMode(n,"dataset",{intersect:!0},!1);o&&o[0]&&s&&this.onDataSelect.emit({originalEvent:n,element:o[0],dataset:s})}}initChart(){let n=this.options||{};n.responsive=this.responsive,n.responsive&&(this.height||this.width)&&(n.maintainAspectRatio=!1),this.chart=new qC(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.SBq))},t.\u0275cmp=h.Xpm({type:t,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(n,o){1&n&&(h.TgZ(0,"div",0)(1,"canvas",1),h.NdJ("click",function(d){return o.onCanvasClick(d)}),h.qZA()()),2&n&&(h.Udp("width",o.responsive&&!o.width?null:o.width)("height",o.responsive&&!o.height?null:o.height),h.xp6(1),h.uIk("width",o.responsive&&!o.width?null:o.width)("height",o.responsive&&!o.height?null:o.height))},encapsulation:2,changeDetection:0}),t})(),GC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[$e.ez]}),t})();var Gb=Ye(1989),yl_version="0.18.5",$i=1200,ws=1252,Yb=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vs={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Nh=function(t){-1!=Yb.indexOf(t)&&(ws=vs[0]=t)},Ci=function(t){$i=t,Nh(t)};var Ft,Hc=function(i){return String.fromCharCode(i)},Rh=function(i){return String.fromCharCode(i)},xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Wc(t){for(var i="",n=0,o=0,s=0,d=0,f=0,g=0,_=0,k=0;k<t.length;)d=(n=t.charCodeAt(k++))>>2,f=(3&n)<<4|(o=t.charCodeAt(k++))>>4,g=(15&o)<<2|(s=t.charCodeAt(k++))>>6,_=63&s,isNaN(o)?g=_=64:isNaN(s)&&(_=64),i+=xs.charAt(d)+xs.charAt(f)+xs.charAt(g)+xs.charAt(_);return i}function pr(t){var i="",d=0,f=0,g=0,_=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var k=0;k<t.length;)d=xs.indexOf(t.charAt(k++)),f=xs.indexOf(t.charAt(k++)),i+=String.fromCharCode(d<<2|f>>4),64!==(g=xs.indexOf(t.charAt(k++)))&&(i+=String.fromCharCode((15&f)<<4|g>>2)),64!==(_=xs.indexOf(t.charAt(k++)))&&(i+=String.fromCharCode((3&g)<<6|_));return i}var Ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Zo=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(i,n){return n?new Buffer(i,n):new Buffer(i)}:Buffer.from.bind(Buffer)}return function(){}}();function Cs(t){return Ct?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function $b(t){return Ct?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var gr=function(i){return Ct?Zo(i,"binary"):i.split("").map(function(n){return 255&n.charCodeAt(0)})};function qo(t){if(typeof ArrayBuffer>"u")return gr(t);for(var i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o!=t.length;++o)n[o]=255&t.charCodeAt(o);return i}function Jr(t){if(Array.isArray(t))return t.map(function(o){return String.fromCharCode(o)}).join("");for(var i=[],n=0;n<t.length;++n)i[n]=String.fromCharCode(t[n]);return i.join("")}var ei=Ct?function(t){return Buffer.concat(t.map(function(i){return Buffer.isBuffer(i)?i:Zo(i)}))}:function(t){if(typeof Uint8Array<"u"){var i=0,n=0;for(i=0;i<t.length;++i)n+=t[i].length;var o=new Uint8Array(n),s=0;for(i=0,n=0;i<t.length;n+=s,++i)if(s=t[i].length,t[i]instanceof Uint8Array)o.set(t[i],n);else{if("string"==typeof t[i])throw"wtf";o.set(new Uint8Array(t[i]),n)}return o}return[].concat.apply([],t.map(function(d){return Array.isArray(d)?d:[].slice.call(d)}))},Ai=/\u0000/g,qc=/[\u0001-\u0006]/g;function Go(t){for(var i="",n=t.length-1;n>=0;)i+=t.charAt(n--);return i}function mr(t,i){var n=""+t;return n.length>=i?n:On("0",i-n.length)+n}function Op(t,i){var n=""+t;return n.length>=i?n:On(" ",i-n.length)+n}function Wi(t,i){var n=""+t;return n.length>=i?n:n+On(" ",i-n.length)}var Bp=Math.pow(2,32);function Yo(t,i){return t>Bp||t<-Bp?function zh(t,i){var n=""+Math.round(t);return n.length>=i?n:On("0",i-n.length)+n}(t,i):function Gc(t,i){var n=""+t;return n.length>=i?n:On("0",i-n.length)+n}(Math.round(t),i)}function Ko(t,i){return t.length>=7+(i=i||0)&&103==(32|t.charCodeAt(i))&&101==(32|t.charCodeAt(i+1))&&110==(32|t.charCodeAt(i+2))&&101==(32|t.charCodeAt(i+3))&&114==(32|t.charCodeAt(i+4))&&97==(32|t.charCodeAt(i+5))&&108==(32|t.charCodeAt(i+6))}var Qb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Lp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],ot={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},Xb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Rp={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Yc(t,i,n){for(var o=t<0?-1:1,s=t*o,d=0,f=1,g=0,_=1,k=0,w=0,C=Math.floor(s);k<i&&(g=(C=Math.floor(s))*f+d,w=C*k+_,!(s-C<5e-8));)s=1/(s-C),d=f,f=g,_=k,k=w;if(w>i&&(k>i?(w=_,g=d):(w=k,g=f)),!n)return[0,o*g,w];var A=Math.floor(o*g/w);return[A,o*g-A*w,w]}function As(t,i,n){if(t>2958465||t<0)return null;var o=0|t,s=Math.floor(86400*(t-o)),d=0,f=[],g={D:o,T:s,u:86400*(t-o)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(g.u)<1e-6&&(g.u=0),i&&i.date1904&&(o+=1462),g.u>.9999&&(g.u=0,86400==++s&&(g.T=s=0,++o,++g.D)),60===o)f=n?[1317,10,29]:[1900,2,29],d=3;else if(0===o)f=n?[1317,8,29]:[1900,1,0],d=6;else{o>60&&--o;var _=new Date(1900,0,1);_.setDate(_.getDate()+o-1),f=[_.getFullYear(),_.getMonth()+1,_.getDate()],d=_.getDay(),o<60&&(d=(d+6)%7),n&&(d=function XC(t,i){i[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}(_,f))}return g.y=f[0],g.m=f[1],g.d=f[2],g.S=s%60,s=Math.floor(s/60),g.M=s%60,s=Math.floor(s/60),g.H=s,g.q=d,g}var zp=new Date(1899,11,31,0,0,0),QC=zp.getTime(),ek=new Date(1900,2,1,0,0,0);function Vp(t,i){var n=t.getTime();return i?n-=1262304e5:t>=ek&&(n+=864e5),(n-(QC+6e4*(t.getTimezoneOffset()-zp.getTimezoneOffset())))/864e5}function Vh(t){return-1==t.indexOf(".")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ys(t,i){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(0|t)===t?t.toString(10):function Sl(t){var n,i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return n=i>=-4&&i<=-1?t.toPrecision(10+i):Math.abs(i)<=9?function tk(t){var i=t<0?12:11,n=Vh(t.toFixed(12));return n.length<=i||(n=t.toPrecision(10)).length<=i?n:t.toExponential(5)}(t):10===i?t.toFixed(10).substr(0,12):function nk(t){var i=Vh(t.toFixed(11));return i.length>(t<0?12:11)||"0"===i||"-0"===i?t.toPrecision(6):i}(t),Vh(function JC(t){return-1==t.indexOf("E")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(n.toUpperCase()))}(t);case"undefined":return"";case"object":if(null==t)return"";if(t instanceof Date)return _r(14,Vp(t,i&&i.date1904),i)}throw new Error("unsupported value in General format: "+t)}function Ts(t,i,n,o){var _,s="",d=0,f=0,g=n.y,k=0;switch(t){case 98:g=n.y+543;case 121:switch(i.length){case 1:case 2:_=g%100,k=2;break;default:_=g%1e4,k=4}break;case 109:switch(i.length){case 1:case 2:_=n.m,k=i.length;break;case 3:return Lp[n.m-1][1];case 5:return Lp[n.m-1][0];default:return Lp[n.m-1][2]}break;case 100:switch(i.length){case 1:case 2:_=n.d,k=i.length;break;case 3:return Qb[n.q][0];default:return Qb[n.q][1]}break;case 104:switch(i.length){case 1:case 2:_=1+(n.H+11)%12,k=i.length;break;default:throw"bad hour format: "+i}break;case 72:switch(i.length){case 1:case 2:_=n.H,k=i.length;break;default:throw"bad hour format: "+i}break;case 77:switch(i.length){case 1:case 2:_=n.M,k=i.length;break;default:throw"bad minute format: "+i}break;case 115:if("s"!=i&&"ss"!=i&&".0"!=i&&".00"!=i&&".000"!=i)throw"bad second format: "+i;return 0!==n.u||"s"!=i&&"ss"!=i?(f=o>=2?3===o?1e3:100:1===o?10:1,(d=Math.round(f*(n.S+n.u)))>=60*f&&(d=0),"s"===i?0===d?"0":""+d/f:(s=mr(d,2+o),"ss"===i?s.substr(0,2):"."+s.substr(2,i.length-1))):mr(n.S,i.length);case 90:switch(i){case"[h]":case"[hh]":_=24*n.D+n.H;break;case"[m]":case"[mm]":_=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":_=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+i}k=3===i.length?1:2;break;case 101:_=g,k=1}return k>0?mr(_,k):""}function Ss(t){if(t.length<=3)return t;for(var n=t.length%3,o=t.substr(0,n);n!=t.length;n+=3)o+=(o.length>0?",":"")+t.substr(n,3);return o}var jp=/%/g;function jh(t,i){var n,o=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+jh(t,-i);var s=t.indexOf(".");-1===s&&(s=t.indexOf("E"));var d=Math.floor(Math.log(i)*Math.LOG10E)%s;if(d<0&&(d+=s),-1===(n=(i/Math.pow(10,d)).toPrecision(o+1+(s+d)%s)).indexOf("e")){var f=Math.floor(Math.log(i)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(f-n.length+d):n+="E+"+(f-d);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,_,k,w){return _+k+w.substr(0,(s+d)%s)+"."+w.substr(d)+"E"})}else n=i.toExponential(o);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Uh=/# (\?+)( ?)\/( ?)(\d+)/,Hp=/^#*0*\.([0#]+)/,rk=/\).*[0#]/,ok=/\(###\) ###\\?-####/;function Zi(t){for(var n,i="",o=0;o!=t.length;++o)switch(n=t.charCodeAt(o)){case 35:break;case 63:i+=" ";break;case 48:i+="0";break;default:i+=String.fromCharCode(n)}return i}function Wp(t,i){var n=Math.pow(10,i);return""+Math.round(t*n)/n}function sk(t,i){var n=t-Math.floor(t),o=Math.pow(10,i);return i<(""+Math.round(n*o)).length?0:Math.round(n*o)}function Or(t,i,n){if(40===t.charCodeAt(0)&&!i.match(rk)){var o=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Or("n",o,n):"("+Or("n",o,-n)+")"}if(44===i.charCodeAt(i.length-1))return function ik(t,i,n){for(var o=i.length-1;44===i.charCodeAt(o-1);)--o;return Qi(t,i.substr(0,o),n/Math.pow(10,3*(i.length-o)))}(t,i,n);if(-1!==i.indexOf("%"))return function Up(t,i,n){var o=i.replace(jp,""),s=i.length-o.length;return Qi(t,o,n*Math.pow(10,2*s))+On("%",s)}(t,i,n);if(-1!==i.indexOf("E"))return jh(i,n);if(36===i.charCodeAt(0))return"$"+Or(t,i.substr(" "==i.charAt(1)?2:1),n);var s,d,f,g,_=Math.abs(n),k=n<0?"-":"";if(i.match(/^00+$/))return k+Yo(_,i.length);if(i.match(/^[#?]+$/))return"0"===(s=Yo(n,0))&&(s=""),s.length>i.length?s:Zi(i.substr(0,i.length-s.length))+s;if(d=i.match(Uh))return function Hh(t,i,n){var o=parseInt(t[4],10),s=Math.round(i*o),d=Math.floor(s/o),f=s-d*o,g=o;return n+(0===d?"":""+d)+" "+(0===f?On(" ",t[1].length+1+t[4].length):Op(f,t[1].length)+t[2]+"/"+t[3]+mr(g,t[4].length))}(d,_,k);if(i.match(/^#+0+$/))return k+Yo(_,i.length-i.indexOf("0"));if(d=i.match(Hp))return s=Wp(n,d[1].length).replace(/^([^\.]+)$/,"$1."+Zi(d[1])).replace(/\.$/,"."+Zi(d[1])).replace(/\.(\d*)$/,function(E,S){return"."+S+On("0",Zi(d[1]).length-S.length)}),-1!==i.indexOf("0.")?s:s.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),d=i.match(/^(0*)\.(#*)$/))return k+Wp(_,d[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,d[1].length?"0.":".");if(d=i.match(/^#{1,3},##0(\.?)$/))return k+Ss(Yo(_,0));if(d=i.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Or(t,i,-n):Ss(""+(Math.floor(n)+function eA(t,i){return i<(""+Math.round((t-Math.floor(t))*Math.pow(10,i))).length?1:0}(n,d[1].length)))+"."+mr(sk(n,d[1].length),d[1].length);if(d=i.match(/^#,#*,#0/))return Or(t,i.replace(/^#,#*,/,""),n);if(d=i.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Go(Or(t,i.replace(/[\\-]/g,""),n)),f=0,Go(Go(i.replace(/\\/g,"")).replace(/[0#]/g,function(E){return f<s.length?s.charAt(f++):"0"===E?"0":""}));if(i.match(ok))return"("+(s=Or(t,"##########",n)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var w="";if(d=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return f=Math.min(d[4].length,7),g=Yc(_,Math.pow(10,f)-1,!1),s=""+k," "==(w=Qi("n",d[1],g[1])).charAt(w.length-1)&&(w=w.substr(0,w.length-1)+"0"),s+=w+d[2]+"/"+d[3],(w=Wi(g[2],f)).length<d[4].length&&(w=Zi(d[4].substr(d[4].length-w.length))+w),s+=w;if(d=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return f=Math.min(Math.max(d[1].length,d[4].length),7),k+((g=Yc(_,Math.pow(10,f)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Op(g[1],f)+d[2]+"/"+d[3]+Wi(g[2],f):On(" ",2*f+1+d[2].length+d[3].length));if(d=i.match(/^[#0?]+$/))return s=Yo(n,0),i.length<=s.length?s:Zi(i.substr(0,i.length-s.length))+s;if(d=i.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(d[2].length,10)).replace(/([^0])0+$/,"$1"),f=s.indexOf(".");var C=i.indexOf(".")-f,A=i.length-s.length-C;return Zi(i.substr(0,C)+s+i.substr(i.length-A))}if(d=i.match(/^00,000\.([#0]*0)$/))return f=sk(n,d[1].length),n<0?"-"+Or(t,i,-n):Ss(function tA(t){return t<2147483647&&t>-2147483648?""+(t>=0?0|t:t-1|0):""+Math.floor(t)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?mr(0,3-E.length):"")+E})+"."+mr(f,d[1].length);switch(i){case"###,##0.00":return Or(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var T=Ss(Yo(_,0));return"0"!==T?k+T:"";case"###,###.00":return Or(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Or(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+i+"|")}function Zp(t,i){var n,o=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+Zp(t,-i);var s=t.indexOf(".");-1===s&&(s=t.indexOf("E"));var d=Math.floor(Math.log(i)*Math.LOG10E)%s;if(d<0&&(d+=s),!(n=(i/Math.pow(10,d)).toPrecision(o+1+(s+d)%s)).match(/[Ee]/)){var f=Math.floor(Math.log(i)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(f-n.length+d):n+="E+"+(f-d),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,_,k,w){return _+k+w.substr(0,(s+d)%s)+"."+w.substr(d)+"E"})}else n=i.toExponential(o);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function yi(t,i,n){if(40===t.charCodeAt(0)&&!i.match(rk)){var o=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?yi("n",o,n):"("+yi("n",o,-n)+")"}if(44===i.charCodeAt(i.length-1))return function El(t,i,n){for(var o=i.length-1;44===i.charCodeAt(o-1);)--o;return Qi(t,i.substr(0,o),n/Math.pow(10,3*(i.length-o)))}(t,i,n);if(-1!==i.indexOf("%"))return function Dl(t,i,n){var o=i.replace(jp,""),s=i.length-o.length;return Qi(t,o,n*Math.pow(10,2*s))+On("%",s)}(t,i,n);if(-1!==i.indexOf("E"))return Zp(i,n);if(36===i.charCodeAt(0))return"$"+yi(t,i.substr(" "==i.charAt(1)?2:1),n);var s,d,f,g,_=Math.abs(n),k=n<0?"-":"";if(i.match(/^00+$/))return k+mr(_,i.length);if(i.match(/^[#?]+$/))return s=""+n,0===n&&(s=""),s.length>i.length?s:Zi(i.substr(0,i.length-s.length))+s;if(d=i.match(Uh))return function Wh(t,i,n){return n+(0===i?"":""+i)+On(" ",t[1].length+2+t[4].length)}(d,_,k);if(i.match(/^#+0+$/))return k+mr(_,i.length-i.indexOf("0"));if(d=i.match(Hp))return s=(s=(""+n).replace(/^([^\.]+)$/,"$1."+Zi(d[1])).replace(/\.$/,"."+Zi(d[1]))).replace(/\.(\d*)$/,function(E,S){return"."+S+On("0",Zi(d[1]).length-S.length)}),-1!==i.indexOf("0.")?s:s.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),d=i.match(/^(0*)\.(#*)$/))return k+(""+_).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,d[1].length?"0.":".");if(d=i.match(/^#{1,3},##0(\.?)$/))return k+Ss(""+_);if(d=i.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+yi(t,i,-n):Ss(""+n)+"."+On("0",d[1].length);if(d=i.match(/^#,#*,#0/))return yi(t,i.replace(/^#,#*,/,""),n);if(d=i.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Go(yi(t,i.replace(/[\\-]/g,""),n)),f=0,Go(Go(i.replace(/\\/g,"")).replace(/[0#]/g,function(E){return f<s.length?s.charAt(f++):"0"===E?"0":""}));if(i.match(ok))return"("+(s=yi(t,"##########",n)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var w="";if(d=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return f=Math.min(d[4].length,7),g=Yc(_,Math.pow(10,f)-1,!1),s=""+k," "==(w=Qi("n",d[1],g[1])).charAt(w.length-1)&&(w=w.substr(0,w.length-1)+"0"),s+=w+d[2]+"/"+d[3],(w=Wi(g[2],f)).length<d[4].length&&(w=Zi(d[4].substr(d[4].length-w.length))+w),s+=w;if(d=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return f=Math.min(Math.max(d[1].length,d[4].length),7),k+((g=Yc(_,Math.pow(10,f)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Op(g[1],f)+d[2]+"/"+d[3]+Wi(g[2],f):On(" ",2*f+1+d[2].length+d[3].length));if(d=i.match(/^[#0?]+$/))return i.length<=(s=""+n).length?s:Zi(i.substr(0,i.length-s.length))+s;if(d=i.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(d[2].length,10)).replace(/([^0])0+$/,"$1"),f=s.indexOf(".");var C=i.indexOf(".")-f,A=i.length-s.length-C;return Zi(i.substr(0,C)+s+i.substr(i.length-A))}if(d=i.match(/^00,000\.([#0]*0)$/))return n<0?"-"+yi(t,i,-n):Ss(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?mr(0,3-E.length):"")+E})+"."+mr(0,d[1].length);switch(i){case"###,###":case"##,###":case"#,###":var T=Ss(""+_);return"0"!==T?k+T:"";default:if(i.match(/\.[0#?]*$/))return yi(t,i.slice(0,i.lastIndexOf(".")),n)+Zi(i.slice(i.lastIndexOf(".")))}throw new Error("unsupported format |"+i+"|")}function Qi(t,i,n){return(0|n)===n?yi(t,i,n):Or(t,i,n)}var Kc=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ua(t){for(var i=0,n="",o="";i<t.length;)switch(n=t.charAt(i)){case"G":Ko(t,i)&&(i+=6),i++;break;case'"':for(;34!==t.charCodeAt(++i)&&i<t.length;);++i;break;case"\\":case"_":i+=2;break;case"@":++i;break;case"B":case"b":if("1"===t.charAt(i+1)||"2"===t.charAt(i+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===t.substr(i,3).toUpperCase()||"AM/PM"===t.substr(i,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===t.substr(i,5).toUpperCase())return!0;++i;break;case"[":for(o=n;"]"!==t.charAt(i++)&&i<t.length;)o+=t.charAt(i);if(o.match(Kc))return!0;break;case".":case"0":case"#":for(;i<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++i))>-1||"\\"==n&&"-"==t.charAt(i+1)&&"0#".indexOf(t.charAt(i+2))>-1););break;case"?":for(;t.charAt(++i)===n;);break;case"*":++i,(" "==t.charAt(i)||"*"==t.charAt(i))&&++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;);break;default:++i}return!1}var qp=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Gp(t,i){if(null==i)return!1;var n=parseFloat(i[2]);switch(i[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0}return!1}function _r(t,i,n){null==n&&(n={});var o="";switch(typeof t){case"string":o="m/d/yy"==t&&n.dateNF?n.dateNF:t;break;case"number":null==(o=14==t&&n.dateNF?n.dateNF:(null!=n.table?n.table:ot)[t])&&(o=n.table&&n.table[Xb[t]]||ot[Xb[t]]),null==o&&(o=Rp[t]||"General")}if(Ko(o,0))return ys(i,n);i instanceof Date&&(i=Vp(i,n.date1904));var s=function Zh(t,i){var n=function ak(t){for(var i=[],n=!1,o=0,s=0;o<t.length;++o)switch(t.charCodeAt(o)){case 34:n=!n;break;case 95:case 42:case 92:++o;break;case 59:i[i.length]=t.substr(s,o-s),s=o+1}if(i[i.length]=t.substr(s),!0===n)throw new Error("Format |"+t+"| unterminated string ");return i}(t),o=n.length,s=n[o-1].indexOf("@");if(o<4&&s>-1&&--o,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof i)return[4,4===n.length||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var d=i>0?n[0]:i<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[o,d];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var f=n[0].match(qp),g=n[1].match(qp);return Gp(i,f)?[o,n[0]]:Gp(i,g)?[o,n[1]]:[o,n[null!=f&&null!=g?2:1]]}return[o,d]}(o,i);if(Ko(s[1]))return ys(i,n);if(!0===i)i="TRUE";else if(!1===i)i="FALSE";else if(""===i||null==i)return"";return function nA(t,i,n,o){for(var k,w,C,s=[],d="",f=0,g="",_="t",A="H";f<t.length;)switch(g=t.charAt(f)){case"G":if(!Ko(t,f))throw new Error("unrecognized character "+g+" in "+t);s[s.length]={t:"G",v:"General"},f+=7;break;case'"':for(d="";34!==(C=t.charCodeAt(++f))&&f<t.length;)d+=String.fromCharCode(C);s[s.length]={t:"t",v:d},++f;break;case"\\":var T=t.charAt(++f);s[s.length]={t:"("===T||")"===T?T:"t",v:T},++f;break;case"_":s[s.length]={t:"t",v:" "},f+=2;break;case"@":s[s.length]={t:"T",v:i},++f;break;case"B":case"b":if("1"===t.charAt(f+1)||"2"===t.charAt(f+1)){if(null==k&&null==(k=As(i,n,"2"===t.charAt(f+1))))return"";s[s.length]={t:"X",v:t.substr(f,2)},_=g,f+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":g=g.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(i<0||null==k&&null==(k=As(i,n)))return"";for(d=g;++f<t.length&&t.charAt(f).toLowerCase()===g;)d+=g;"m"===g&&"h"===_.toLowerCase()&&(g="M"),"h"===g&&(g=A),s[s.length]={t:g,v:d},_=g;break;case"A":case"a":case"\u4e0a":var S={t:g,v:g};if(null==k&&(k=As(i,n)),"A/P"===t.substr(f,3).toUpperCase()?(null!=k&&(S.v=k.H>=12?"P":"A"),S.t="T",A="h",f+=3):"AM/PM"===t.substr(f,5).toUpperCase()?(null!=k&&(S.v=k.H>=12?"PM":"AM"),S.t="T",f+=5,A="h"):"\u4e0a\u5348/\u4e0b\u5348"===t.substr(f,5).toUpperCase()?(null!=k&&(S.v=k.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),S.t="T",f+=5,A="h"):(S.t="t",++f),null==k&&"T"===S.t)return"";s[s.length]=S,_=g;break;case"[":for(d=g;"]"!==t.charAt(f++)&&f<t.length;)d+=t.charAt(f);if("]"!==d.slice(-1))throw'unterminated "[" block: |'+d+"|";if(d.match(Kc)){if(null==k&&null==(k=As(i,n)))return"";s[s.length]={t:"Z",v:d.toLowerCase()},_=d.charAt(1)}else d.indexOf("$")>-1&&(d=(d.match(/\$([^-\[\]]*)/)||[])[1]||"$",ua(t)||(s[s.length]={t:"t",v:d}));break;case".":if(null!=k){for(d=g;++f<t.length&&"0"===(g=t.charAt(f));)d+=g;s[s.length]={t:"s",v:d};break}case"0":case"#":for(d=g;++f<t.length&&"0#?.,E+-%".indexOf(g=t.charAt(f))>-1;)d+=g;s[s.length]={t:"n",v:d};break;case"?":for(d=g;t.charAt(++f)===g;)d+=g;s[s.length]={t:g,v:d},_=g;break;case"*":++f,(" "==t.charAt(f)||"*"==t.charAt(f))&&++f;break;case"(":case")":s[s.length]={t:1===o?"t":g,v:g},++f;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(d=g;f<t.length&&"0123456789".indexOf(t.charAt(++f))>-1;)d+=t.charAt(f);s[s.length]={t:"D",v:d};break;case" ":s[s.length]={t:g,v:g},++f;break;case"$":s[s.length]={t:"t",v:"$"},++f;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(g))throw new Error("unrecognized character "+g+" in "+t);s[s.length]={t:"t",v:g},++f}var N,M=0,F=0;for(f=s.length-1,_="t";f>=0;--f)switch(s[f].t){case"h":case"H":s[f].t=A,_="h",M<1&&(M=1);break;case"s":(N=s[f].v.match(/\.0+$/))&&(F=Math.max(F,N[0].length-1)),M<3&&(M=3);case"d":case"y":case"M":case"e":_=s[f].t;break;case"m":"s"===_&&(s[f].t="M",M<2&&(M=2));break;case"X":break;case"Z":M<1&&s[f].v.match(/[Hh]/)&&(M=1),M<2&&s[f].v.match(/[Mm]/)&&(M=2),M<3&&s[f].v.match(/[Ss]/)&&(M=3)}switch(M){case 0:break;case 1:k.u>=.5&&(k.u=0,++k.S),k.S>=60&&(k.S=0,++k.M),k.M>=60&&(k.M=0,++k.H);break;case 2:k.u>=.5&&(k.u=0,++k.S),k.S>=60&&(k.S=0,++k.M)}var W,L="";for(f=0;f<s.length;++f)switch(s[f].t){case"t":case"T":case" ":case"D":break;case"X":s[f].v="",s[f].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[f].v=Ts(s[f].t.charCodeAt(0),s[f].v,k,F),s[f].t="t";break;case"n":case"?":for(W=f+1;null!=s[W]&&("?"===(g=s[W].t)||"D"===g||(" "===g||"t"===g)&&null!=s[W+1]&&("?"===s[W+1].t||"t"===s[W+1].t&&"/"===s[W+1].v)||"("===s[f].t&&(" "===g||"n"===g||")"===g)||"t"===g&&("/"===s[W].v||" "===s[W].v&&null!=s[W+1]&&"?"==s[W+1].t));)s[f].v+=s[W].v,s[W]={v:"",t:";"},++W;L+=s[f].v,f=W-1;break;case"G":s[f].t="t",s[f].v=ys(i,n)}var X,V,Z="";if(L.length>0){40==L.charCodeAt(0)?(X=i<0&&45===L.charCodeAt(0)?-i:i,V=Qi("n",L,X)):(V=Qi("n",L,X=i<0&&o>1?-i:i),X<0&&s[0]&&"t"==s[0].t&&(V=V.substr(1),s[0].v="-"+s[0].v)),W=V.length-1;var K=s.length;for(f=0;f<s.length;++f)if(null!=s[f]&&"t"!=s[f].t&&s[f].v.indexOf(".")>-1){K=f;break}var te=s.length;if(K===s.length&&-1===V.indexOf("E")){for(f=s.length-1;f>=0;--f)null==s[f]||-1==="n?".indexOf(s[f].t)||(W>=s[f].v.length-1?s[f].v=V.substr(1+(W-=s[f].v.length),s[f].v.length):W<0?s[f].v="":(s[f].v=V.substr(0,W+1),W=-1),s[f].t="t",te=f);W>=0&&te<s.length&&(s[te].v=V.substr(0,W+1)+s[te].v)}else if(K!==s.length&&-1===V.indexOf("E")){for(W=V.indexOf(".")-1,f=K;f>=0;--f)if(null!=s[f]&&-1!=="n?".indexOf(s[f].t)){for(w=s[f].v.indexOf(".")>-1&&f===K?s[f].v.indexOf(".")-1:s[f].v.length-1,Z=s[f].v.substr(w+1);w>=0;--w)W>=0&&("0"===s[f].v.charAt(w)||"#"===s[f].v.charAt(w))&&(Z=V.charAt(W--)+Z);s[f].v=Z,s[f].t="t",te=f}for(W>=0&&te<s.length&&(s[te].v=V.substr(0,W+1)+s[te].v),W=V.indexOf(".")+1,f=K;f<s.length;++f)if(null!=s[f]&&(-1!=="n?(".indexOf(s[f].t)||f===K)){for(w=s[f].v.indexOf(".")>-1&&f===K?s[f].v.indexOf(".")+1:0,Z=s[f].v.substr(0,w);w<s[f].v.length;++w)W<V.length&&(Z+=V.charAt(W++));s[f].v=Z,s[f].t="t",te=f}}}for(f=0;f<s.length;++f)null!=s[f]&&"n?".indexOf(s[f].t)>-1&&(s[f].v=Qi(s[f].t,s[f].v,X=o>1&&i<0&&f>0&&"-"===s[f-1].v?-i:i),s[f].t="t");var ae="";for(f=0;f!==s.length;++f)null!=s[f]&&(ae+=s[f].v);return ae}(s[1],i,n,s[0])}function Xr(t,i){if("number"!=typeof i){i=+i||-1;for(var n=0;n<392;++n)if(null!=ot[n]){if(ot[n]==t){i=n;break}}else i<0&&(i=n);i<0&&(i=391)}return ot[i]=t,i}function fa(t){for(var i=0;392!=i;++i)void 0!==t[i]&&Xr(t[i],i)}function Ml(){ot=function Jb(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',t}()}var Yp=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,ck=function(){var t={version:"1.2.0"},n=function i(){for(var V=0,K=new Array(256),te=0;256!=te;++te)K[te]=V=1&(V=1&(V=1&(V=1&(V=1&(V=1&(V=1&(V=1&(V=te)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1)?-306674912^V>>>1:V>>>1;return typeof Int32Array<"u"?new Int32Array(K):K}(),s=function o(V){var K=0,te=0,ae=0,le=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ae=0;256!=ae;++ae)le[ae]=V[ae];for(ae=0;256!=ae;++ae)for(te=V[ae],K=256+ae;K<4096;K+=256)te=le[K]=te>>>8^V[255&te];var re=[];for(ae=1;16!=ae;++ae)re[ae-1]=typeof Int32Array<"u"?le.subarray(256*ae,256*ae+256):le.slice(256*ae,256*ae+256);return re}(n),d=s[0],f=s[1],g=s[2],_=s[3],k=s[4],w=s[5],C=s[6],A=s[7],T=s[8],E=s[9],S=s[10],M=s[11],F=s[12],N=s[13],L=s[14];return t.table=n,t.bstr=function W(V,K){for(var te=-1^K,ae=0,le=V.length;ae<le;)te=te>>>8^n[255&(te^V.charCodeAt(ae++))];return~te},t.buf=function Z(V,K){for(var te=-1^K,ae=V.length-15,le=0;le<ae;)te=L[V[le++]^255&te]^N[V[le++]^te>>8&255]^F[V[le++]^te>>16&255]^M[V[le++]^te>>>24]^S[V[le++]]^E[V[le++]]^T[V[le++]]^A[V[le++]]^C[V[le++]]^w[V[le++]]^k[V[le++]]^_[V[le++]]^g[V[le++]]^f[V[le++]]^d[V[le++]]^n[V[le++]];for(ae+=15;le<ae;)te=te>>>8^n[255&(te^V[le++])];return~te},t.str=function X(V,K){for(var te=-1^K,ae=0,le=V.length,re=0,Me=0;ae<le;)(re=V.charCodeAt(ae++))<128?te=te>>>8^n[255&(te^re)]:re<2048?te=(te=te>>>8^n[255&(te^(192|re>>6&31))])>>>8^n[255&(te^(128|63&re))]:re>=55296&&re<57344?(re=64+(1023&re),Me=1023&V.charCodeAt(ae++),te=(te=(te=(te=te>>>8^n[255&(te^(240|re>>8&7))])>>>8^n[255&(te^(128|re>>2&63))])>>>8^n[255&(te^(128|Me>>6&15|(3&re)<<4))])>>>8^n[255&(te^(128|63&Me))]):te=(te=(te=te>>>8^n[255&(te^(224|re>>12&15))])>>>8^n[255&(te^(128|re>>6&63))])>>>8^n[255&(te^(128|63&re))];return~te},t}(),tt=function(){var _,i={};function o(z){if("/"==z.charAt(z.length-1))return-1===z.slice(0,-1).indexOf("/")?z:o(z.slice(0,-1));var q=z.lastIndexOf("/");return-1===q?z:z.slice(0,q+1)}function s(z){if("/"==z.charAt(z.length-1))return s(z.slice(0,-1));var q=z.lastIndexOf("/");return-1===q?z:z.slice(q+1)}function d(z,q){"string"==typeof q&&(q=new Date(q));var j=q.getHours();j=(j=j<<6|q.getMinutes())<<5|q.getSeconds()>>>1,z.write_shift(2,j);var U=q.getFullYear()-1980;U=(U=U<<4|q.getMonth()+1)<<5|q.getDate(),z.write_shift(2,U)}function g(z){_i(z,0);for(var q={},j=0;z.l<=z.length-4;){var U=z.read_shift(2),G=z.read_shift(2),Y=z.l+G,ge={};21589===U&&(1&(j=z.read_shift(1))&&(ge.mtime=z.read_shift(4)),G>5&&(2&j&&(ge.atime=z.read_shift(4)),4&j&&(ge.ctime=z.read_shift(4))),ge.mtime&&(ge.mt=new Date(1e3*ge.mtime))),z.l=Y,q[U]=ge}return q}function k(){return _||(_={})}function w(z,q){if(80==z[0]&&75==z[1])return eE(z,q);if(109==(32|z[0])&&105==(32|z[1]))return function Ez(z,q){if("mime-version:"!=Fe(z.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var j=q&&q.root||"",U=(Ct&&Buffer.isBuffer(z)?z.toString("binary"):Fe(z)).split("\r\n"),G=0,Y="";for(G=0;G<U.length;++G)if(/^Content-Location:/i.test(Y=U[G])&&(Y=Y.slice(Y.indexOf("file")),j||(j=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,j.length)!=j))for(;j.length>0&&(j=(j=j.slice(0,j.length-1)).slice(0,j.lastIndexOf("/")+1),Y.slice(0,j.length)!=j););var ge=(U[1]||"").match(/boundary="(.*?)"/);if(!ge)throw new Error("MAD cannot find boundary");var xe="--"+(ge[1]||""),be={FileIndex:[],FullPaths:[]};V(be);var Pe,Ve=0;for(G=0;G<U.length;++G){var Je=U[G];Je!==xe&&Je!==xe+"--"||(Ve++&&Sz(be,U.slice(Pe,G),j),Pe=G)}return be}(z,q);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var j,G,Y,ge,xe,_e,U=512,me=[],be=z.slice(0,512);_i(be,0);var Pe=function C(z){if(80==z[z.l]&&75==z[z.l+1])return[0,0];z.chk(He,"Header Signature: "),z.l+=16;var q=z.read_shift(2,"u");return[z.read_shift(2,"u"),q]}(be);switch(j=Pe[0]){case 3:U=512;break;case 4:U=4096;break;case 0:if(0==Pe[1])return eE(z,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}512!==U&&_i(be=z.slice(0,U),28);var Ve=z.slice(0,U);!function A(z,q){var j;switch(z.l+=2,j=z.read_shift(2)){case 9:if(3!=q)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(4!=q)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}(be,j);var Je=be.read_shift(4,"i");if(3===j&&0!==Je)throw new Error("# Directory Sectors: Expected 0 saw "+Je);be.l+=4,ge=be.read_shift(4,"i"),be.l+=4,be.chk("00100000","Mini Stream Cutoff Size: "),xe=be.read_shift(4,"i"),G=be.read_shift(4,"i"),_e=be.read_shift(4,"i"),Y=be.read_shift(4,"i");for(var je=-1,We=0;We<109&&!((je=be.read_shift(4,"i"))<0);++We)me[We]=je;var bt=function T(z,q){for(var j=Math.ceil(z.length/q)-1,U=[],G=1;G<j;++G)U[G-1]=z.slice(G*q,(G+1)*q);return U[j-1]=z.slice(j*q),U}(z,U);M(_e,Y,bt,U,me);var Dn=function N(z,q,j,U){var G=z.length,Y=[],ge=[],xe=[],_e=[],me=U-1,be=0,Pe=0,Ve=0,Je=0;for(be=0;be<G;++be)if(xe=[],(Ve=be+q)>=G&&(Ve-=G),!ge[Ve]){_e=[];var je=[];for(Pe=Ve;Pe>=0;){je[Pe]=!0,ge[Pe]=!0,xe[xe.length]=Pe,_e.push(z[Pe]);var We=j[Math.floor(4*Pe/U)];if(U<4+(Je=4*Pe&me))throw new Error("FAT boundary crossed: "+Pe+" 4 "+U);if(!z[We]||je[Pe=Fs(z[We],Je)])break}Y[Ve]={nodes:xe,data:Bl([_e])}}return Y}(bt,ge,me,U);Dn[ge].name="!Directory",G>0&&xe!==Me&&(Dn[xe].name="!MiniFAT"),Dn[me[0]].name="!FAT",Dn.fat_addrs=me,Dn.ssz=U;var ki=[],ao=[],Rm=[];(function L(z,q,j,U,G,Y,ge,xe){for(var Je,_e=0,me=U.length?2:0,be=q[z].data,Pe=0,Ve=0;Pe<be.length;Pe+=128){var je=be.slice(Pe,Pe+128);_i(je,64),Ve=je.read_shift(2),Je=td(je,0,Ve-me),U.push(Je);var We={name:Je,type:je.read_shift(1),color:je.read_shift(1),L:je.read_shift(4,"i"),R:je.read_shift(4,"i"),C:je.read_shift(4,"i"),clsid:je.read_shift(16),state:je.read_shift(4,"i"),start:0,size:0};0!==je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2)&&(We.ct=W(je,je.l-8)),0!==je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2)&&(We.mt=W(je,je.l-8)),We.start=je.read_shift(4,"i"),We.size=je.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=Me,We.name=""),5===We.type?(_e=We.start,G>0&&_e!==Me&&(q[_e].name="!StreamData")):We.size>=4096?(We.storage="fat",void 0===q[We.start]&&(q[We.start]=F(j,We.start,q.fat_addrs,q.ssz)),q[We.start].name=We.name,We.content=q[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:_e!==Me&&We.start!==Me&&q[_e]&&(We.content=S(We,q[_e].data,(q[xe]||{}).data))),We.content&&_i(We.content,0),Y[Je]=We,ge.push(We)}})(ge,Dn,bt,ki,G,{},ao,xe),function E(z,q,j){for(var U=0,G=0,Y=0,ge=0,xe=0,_e=j.length,me=[],be=[];U<_e;++U)me[U]=be[U]=U,q[U]=j[U];for(;xe<be.length;++xe)G=z[U=be[xe]].L,Y=z[U].R,ge=z[U].C,me[U]===U&&(-1!==G&&me[G]!==G&&(me[U]=me[G]),-1!==Y&&me[Y]!==Y&&(me[U]=me[Y])),-1!==ge&&(me[ge]=U),-1!==G&&U!=me[U]&&(me[G]=me[U],be.lastIndexOf(G)<xe&&be.push(G)),-1!==Y&&U!=me[U]&&(me[Y]=me[U],be.lastIndexOf(Y)<xe&&be.push(Y));for(U=1;U<_e;++U)me[U]===U&&(-1!==Y&&me[Y]!==Y?me[U]=me[Y]:-1!==G&&me[G]!==G&&(me[U]=me[G]));for(U=1;U<_e;++U)if(0!==z[U].type){if((xe=U)!=me[xe])do{q[U]=q[xe=me[xe]]+"/"+q[U]}while(0!==xe&&-1!==me[xe]&&xe!=me[xe]);me[U]=-1}for(q[0]+="/",U=1;U<_e;++U)2!==z[U].type&&(q[U]+="/")}(ao,Rm,ki),ki.shift();var zm={FileIndex:ao,FullPaths:Rm};return q&&q.raw&&(zm.raw={header:Ve,sectors:bt}),zm}function S(z,q,j){for(var G=z.size,Y=[],ge=z.start;j&&G>0&&ge>=0;)Y.push(q.slice(ge*re,ge*re+re)),G-=re,ge=Fs(j,4*ge);return 0===Y.length?we(0):ei(Y).slice(0,z.size)}function M(z,q,j,U,G){var Y=Me;if(z===Me){if(0!==q)throw new Error("DIFAT chain shorter than expected")}else if(-1!==z){var ge=j[z],xe=(U>>>2)-1;if(!ge)return;for(var _e=0;_e<xe&&(Y=Fs(ge,4*_e))!==Me;++_e)G.push(Y);M(Fs(ge,U-4),q-1,j,U,G)}}function F(z,q,j,U,G){var Y=[],ge=[];G||(G=[]);var xe=U-1,_e=0,me=0;for(_e=q;_e>=0;){G[_e]=!0,Y[Y.length]=_e,ge.push(z[_e]);var be=j[Math.floor(4*_e/U)];if(U<4+(me=4*_e&xe))throw new Error("FAT boundary crossed: "+_e+" 4 "+U);if(!z[be])break;_e=Fs(z[be],me)}return{nodes:Y,data:Bl([ge])}}function W(z,q){return new Date(1e3*(mi(z,q+4)/1e7*Math.pow(2,32)+mi(z,q)/1e7-11644473600))}function V(z,q){var j=q||{},U=j.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");0===z.FullPaths.length&&(z.FullPaths[0]=U+"/",z.FileIndex[0]={name:U,type:5}),j.CLSID&&(z.FileIndex[0].clsid=j.CLSID),function K(z){var q="\x01Sh33tJ5";if(!tt.find(z,"/"+q)){var j=we(4);j[0]=55,j[1]=j[3]=50,j[2]=54,z.FileIndex.push({name:q,type:2,content:j,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+q),te(z)}}(z)}function te(z,q){V(z);for(var j=!1,U=!1,G=z.FullPaths.length-1;G>=0;--G){var Y=z.FileIndex[G];switch(Y.type){case 0:U?j=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(Y.R*Y.L*Y.C)&&(j=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(j=!0);break;default:j=!0}}if(j||q){var ge=new Date(1987,1,19),xe=0,_e=Object.create?Object.create(null):{},me=[];for(G=0;G<z.FullPaths.length;++G)_e[z.FullPaths[G]]=!0,0!==z.FileIndex[G].type&&me.push([z.FullPaths[G],z.FileIndex[G]]);for(G=0;G<me.length;++G){var be=o(me[G][0]);(U=_e[be])||(me.push([be,{name:s(be).replace("/",""),type:1,clsid:qe,ct:ge,mt:ge,content:null}]),_e[be]=!0)}for(me.sort(function(Je,je){return function n(z,q){for(var j=z.split("/"),U=q.split("/"),G=0,Y=0,ge=Math.min(j.length,U.length);G<ge;++G){if(Y=j[G].length-U[G].length)return Y;if(j[G]!=U[G])return j[G]<U[G]?-1:1}return j.length-U.length}(Je[0],je[0])}),z.FullPaths=[],z.FileIndex=[],G=0;G<me.length;++G)z.FullPaths[G]=me[G][0],z.FileIndex[G]=me[G][1];for(G=0;G<me.length;++G){var Pe=z.FileIndex[G],Ve=z.FullPaths[G];if(Pe.name=s(Ve).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||qe,0===G)Pe.C=me.length>1?1:-1,Pe.size=0,Pe.type=5;else if("/"==Ve.slice(-1)){for(xe=G+1;xe<me.length&&o(z.FullPaths[xe])!=Ve;++xe);for(Pe.C=xe>=me.length?-1:xe,xe=G+1;xe<me.length&&o(z.FullPaths[xe])!=o(Ve);++xe);Pe.R=xe>=me.length?-1:xe,Pe.type=1}else o(z.FullPaths[G+1]||"")==o(Ve)&&(Pe.R=G+1),Pe.type=2}}}function ae(z,q){var j=q||{};if("mad"==j.fileType)return function Dz(z,q){for(var j=q||{},U=j.boundary||"SheetJS",G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(U="------="+U).slice(2)+'"',"","",""],Y=z.FullPaths[0],ge=Y,xe=z.FileIndex[0],_e=1;_e<z.FullPaths.length;++_e)if(ge=z.FullPaths[_e].slice(Y.length),(xe=z.FileIndex[_e]).size&&xe.content&&"\x01Sh33tJ5"!=ge){ge=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(bt){return"_x"+bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(bt){return"_u"+bt.charCodeAt(0).toString(16)+"_"});for(var me=xe.content,be=Ct&&Buffer.isBuffer(me)?me.toString("binary"):Fe(me),Pe=0,Ve=Math.min(1024,be.length),Je=0,je=0;je<=Ve;++je)(Je=be.charCodeAt(je))>=32&&Je<128&&++Pe;var We=Pe>=4*Ve/5;G.push(U),G.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+ge),G.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),G.push("Content-Type: "+Cz(xe,ge)),G.push(""),G.push(We?yz(be):Az(be))}return G.push(U+"--\r\n"),G.join("\r\n")}(z,j);if("zip"===(te(z),j.fileType))return function xz(z,q){var j=q||{},U=[],G=[],Y=we(1),ge=j.compression?8:0,me=0,be=0,Pe=0,Ve=0,Je=z.FullPaths[0],je=Je,We=z.FileIndex[0],bt=[],Dn=0;for(me=1;me<z.FullPaths.length;++me)if(je=z.FullPaths[me].slice(Je.length),(We=z.FileIndex[me]).size&&We.content&&"\x01Sh33tJ5"!=je){var zr=Pe,ki=we(je.length);for(be=0;be<je.length;++be)ki.write_shift(1,127&je.charCodeAt(be));ki=ki.slice(0,ki.l),bt[Ve]=ck.buf(We.content,0);var ao=We.content;8==ge&&(ao=ie(ao)),(Y=we(30)).write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,0),Y.write_shift(2,ge),We.mt?d(Y,We.mt):Y.write_shift(4,0),Y.write_shift(-4,bt[Ve]),Y.write_shift(4,ao.length),Y.write_shift(4,We.content.length),Y.write_shift(2,ki.length),Y.write_shift(2,0),Pe+=Y.length,U.push(Y),Pe+=ki.length,U.push(ki),Pe+=ao.length,U.push(ao),(Y=we(46)).write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,0),Y.write_shift(2,ge),Y.write_shift(4,0),Y.write_shift(-4,bt[Ve]),Y.write_shift(4,ao.length),Y.write_shift(4,We.content.length),Y.write_shift(2,ki.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,zr),Dn+=Y.l,G.push(Y),Dn+=ki.length,G.push(ki),++Ve}return(Y=we(22)).write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ve),Y.write_shift(2,Ve),Y.write_shift(4,Dn),Y.write_shift(4,Pe),Y.write_shift(2,0),ei([ei(U),ei(G),Y])}(z,j);var U=function(Je){for(var je=0,We=0,bt=0;bt<Je.FileIndex.length;++bt){var Dn=Je.FileIndex[bt];if(Dn.content){var zr=Dn.content.length;zr>0&&(zr<4096?je+=zr+63>>6:We+=zr+511>>9)}}for(var ki=Je.FullPaths.length+3>>2,Rm=je+127>>7,zm=(je+7>>3)+We+ki+Rm,Dd=zm+127>>7,B2=Dd<=109?0:Math.ceil((Dd-109)/127);zm+Dd+B2+127>>7>Dd;)B2=++Dd<=109?0:Math.ceil((Dd-109)/127);var Na=[1,B2,Dd,Rm,ki,We,je,0];return Je.FileIndex[0].size=je<<6,Na[7]=(Je.FileIndex[0].start=Na[0]+Na[1]+Na[2]+Na[3]+Na[4]+Na[5])+(Na[6]+7>>3),Na}(z),G=we(U[7]<<9),Y=0,ge=0;for(Y=0;Y<8;++Y)G.write_shift(1,Se[Y]);for(Y=0;Y<8;++Y)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),Y=0;Y<3;++Y)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,U[2]),G.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:Me),G.write_shift(4,U[3]),G.write_shift(-4,U[1]?U[0]-1:Me),G.write_shift(4,U[1]),Y=0;Y<109;++Y)G.write_shift(-4,Y<U[2]?U[1]+Y:-1);if(U[1])for(ge=0;ge<U[1];++ge){for(;Y<236+127*ge;++Y)G.write_shift(-4,Y<U[2]?U[1]+Y:-1);G.write_shift(-4,ge===U[1]-1?Me:ge+1)}var xe=function(Je){for(ge+=Je;Y<ge-1;++Y)G.write_shift(-4,Y+1);Je&&(++Y,G.write_shift(-4,Me))};for(ge=Y=0,ge+=U[1];Y<ge;++Y)G.write_shift(-4,ze.DIFSECT);for(ge+=U[2];Y<ge;++Y)G.write_shift(-4,ze.FATSECT);xe(U[3]),xe(U[4]);for(var _e=0,me=0,be=z.FileIndex[0];_e<z.FileIndex.length;++_e)(be=z.FileIndex[_e]).content&&!((me=be.content.length)<4096)&&(be.start=ge,xe(me+511>>9));for(xe(U[6]+7>>3);511&G.l;)G.write_shift(-4,ze.ENDOFCHAIN);for(ge=Y=0,_e=0;_e<z.FileIndex.length;++_e)(be=z.FileIndex[_e]).content&&(me=be.content.length)&&!(me>=4096)&&(be.start=ge,xe(me+63>>6));for(;511&G.l;)G.write_shift(-4,ze.ENDOFCHAIN);for(Y=0;Y<U[4]<<2;++Y){var Pe=z.FullPaths[Y];if(Pe&&0!==Pe.length){be=z.FileIndex[Y],0===Y&&(be.start=be.size?be.start-1:Me);var Ve=0===Y&&j.root||be.name;if(me=2*(Ve.length+1),G.write_shift(64,Ve,"utf16le"),G.write_shift(2,me),G.write_shift(1,be.type),G.write_shift(1,be.color),G.write_shift(-4,be.L),G.write_shift(-4,be.R),G.write_shift(-4,be.C),be.clsid)G.write_shift(16,be.clsid,"hex");else for(_e=0;_e<4;++_e)G.write_shift(4,0);G.write_shift(4,be.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,be.start),G.write_shift(4,be.size),G.write_shift(4,0)}else{for(_e=0;_e<17;++_e)G.write_shift(4,0);for(_e=0;_e<3;++_e)G.write_shift(4,-1);for(_e=0;_e<12;++_e)G.write_shift(4,0)}}for(Y=1;Y<z.FileIndex.length;++Y)if((be=z.FileIndex[Y]).size>=4096)if(G.l=be.start+1<<9,Ct&&Buffer.isBuffer(be.content))be.content.copy(G,G.l,0,be.size),G.l+=be.size+511&-512;else{for(_e=0;_e<be.size;++_e)G.write_shift(1,be.content[_e]);for(;511&_e;++_e)G.write_shift(1,0)}for(Y=1;Y<z.FileIndex.length;++Y)if((be=z.FileIndex[Y]).size>0&&be.size<4096)if(Ct&&Buffer.isBuffer(be.content))be.content.copy(G,G.l,0,be.size),G.l+=be.size+63&-64;else{for(_e=0;_e<be.size;++_e)G.write_shift(1,be.content[_e]);for(;63&_e;++_e)G.write_shift(1,0)}if(Ct)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}i.version="1.2.1";var ye,re=64,Me=-2,He="d0cf11e0a1b11ae1",Se=[208,207,17,224,161,177,26,225],qe="00000000000000000000000000000000",ze={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Me,FREESECT:-1,HEADER_SIGNATURE:He,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:qe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Fe(z){for(var q=new Array(z.length),j=0;j<z.length;++j)q[j]=String.fromCharCode(z[j]);return q.join("")}function ie(z){return ye?ye.deflateRawSync(z):Dt(z)}for(var z,q,ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ze=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Le=typeof Uint8Array<"u",Ee=Le?new Uint8Array(256):[],At=0;At<256;++At)Ee[At]=(void 0,255&((q=139536&((z=At)<<1|z<<11)|558144&(z<<5|z<<15))>>16|q>>8|q));function J(z,q){var j=Ee[255&z];return q<=8?j>>>8-q:(j=j<<8|Ee[z>>8&255],q<=16?j>>>16-q:(j=j<<8|Ee[z>>16&255])>>>24-q)}function nn(z,q){var j=7&q,U=q>>>3;return(z[U]|(j<=6?0:z[U+1]<<8))>>>j&3}function Mt(z,q){var j=7&q,U=q>>>3;return(z[U]|(j<=5?0:z[U+1]<<8))>>>j&7}function It(z,q){var j=7&q,U=q>>>3;return(z[U]|(j<=3?0:z[U+1]<<8))>>>j&31}function Ge(z,q){var j=7&q,U=q>>>3;return(z[U]|(j<=1?0:z[U+1]<<8))>>>j&127}function si(z,q,j){var U=7&q,G=q>>>3,ge=z[G]>>>U;return j<8-U||(ge|=z[G+1]<<8-U,j<16-U)||(ge|=z[G+2]<<16-U,j<24-U)||(ge|=z[G+3]<<24-U),ge&(1<<j)-1}function xo(z,q,j){var U=7&q,G=q>>>3;return U<=5?z[G]|=(7&j)<<U:(z[G]|=j<<U&255,z[G+1]=(7&j)>>8-U),q+3}function Hs(z,q,j){return z[q>>>3]|=j=(1&j)<<(7&q),q+1}function Pa(z,q,j){var G=q>>>3;return z[G]|=255&(j<<=7&q),z[G+1]=j>>>=8,q+8}function Bm(z,q,j){var G=q>>>3;return z[G]|=255&(j<<=7&q),z[G+1]=255&(j>>>=8),z[G+2]=j>>>8,q+16}function Ql(z,q){var j=z.length,U=2*j>q?2*j:q+5,G=0;if(j>=q)return z;if(Ct){var Y=$b(U);if(z.copy)z.copy(Y);else for(;G<z.length;++G)Y[G]=z[G];return Y}if(Le){var ge=new Uint8Array(U);if(ge.set)ge.set(z);else for(;G<j;++G)ge[G]=z[G];return ge}return z.length=U,z}function so(z){for(var q=new Array(z),j=0;j<z;++j)q[j]=0;return q}function Fa(z,q,j){var U=1,G=0,Y=0,ge=0,xe=0,_e=z.length,me=Le?new Uint16Array(32):so(32);for(Y=0;Y<32;++Y)me[Y]=0;for(Y=_e;Y<j;++Y)z[Y]=0;_e=z.length;var be=Le?new Uint16Array(_e):so(_e);for(Y=0;Y<_e;++Y)me[G=z[Y]]++,U<G&&(U=G),be[Y]=0;for(me[0]=0,Y=1;Y<=U;++Y)me[Y+16]=xe=xe+me[Y-1]<<1;for(Y=0;Y<_e;++Y)0!=(xe=z[Y])&&(be[Y]=me[xe+16]++);var Pe=0;for(Y=0;Y<_e;++Y)if(0!=(Pe=z[Y]))for(xe=J(be[Y],U)>>U-Pe,ge=(1<<U+4-Pe)-1;ge>=0;--ge)q[xe|ge<<Pe]=15&Pe|Y<<4;return U}var Jl=Le?new Uint16Array(512):so(512),Lm=Le?new Uint16Array(32):so(32);if(!Le){for(var Cr=0;Cr<512;++Cr)Jl[Cr]=0;for(Cr=0;Cr<32;++Cr)Lm[Cr]=0}!function(){for(var z=[],q=0;q<32;q++)z.push(5);Fa(z,Lm,32);var j=[];for(q=0;q<=143;q++)j.push(8);for(;q<=255;q++)j.push(9);for(;q<=279;q++)j.push(7);for(;q<=287;q++)j.push(8);Fa(j,Jl,288)}();var Ws=function(){for(var q=Le?new Uint8Array(32768):[],j=0,U=0;j<Ze.length-1;++j)for(;U<Ze[j+1];++U)q[U]=j;for(;U<32768;++U)q[U]=29;var G=Le?new Uint8Array(259):[];for(j=0,U=0;j<ve.length-1;++j)for(;U<ve[j+1];++U)G[U]=j;return function(_e,me){return _e.length<8?function Y(xe,_e){for(var me=0;me<xe.length;){var be=Math.min(65535,xe.length-me);for(_e.write_shift(1,+(me+be==xe.length)),_e.write_shift(2,be),_e.write_shift(2,65535&~be);be-- >0;)_e[_e.l++]=xe[me++]}return _e.l}(_e,me):function ge(xe,_e){for(var me=0,be=0,Pe=Le?new Uint16Array(32768):[];be<xe.length;){var Ve=Math.min(65535,xe.length-be);if(Ve<10){for(7&(me=xo(_e,me,+(be+Ve==xe.length)))&&(me+=8-(7&me)),_e.l=me/8|0,_e.write_shift(2,Ve),_e.write_shift(2,65535&~Ve);Ve-- >0;)_e[_e.l++]=xe[be++];me=8*_e.l}else{me=xo(_e,me,+(be+Ve==xe.length)+2);for(var Je=0;Ve-- >0;){var je=xe[be],We=-1,bt=0;if((We=Pe[Je=32767&(Je<<5^je)])&&((We|=-32768&be)>be&&(We-=32768),We<be))for(;xe[We+bt]==xe[be+bt]&&bt<250;)++bt;if(bt>2){(je=G[bt])<=22?me=Pa(_e,me,Ee[je+1]>>1)-1:(Pa(_e,me,3),Pa(_e,me+=5,Ee[je-23]>>5),me+=3);var Dn=je<8?0:je-4>>2;Dn>0&&(Bm(_e,me,bt-ve[je]),me+=Dn),me=Pa(_e,me,Ee[je=q[be-We]]>>3),me-=3;var zr=je<4?0:je-2>>1;zr>0&&(Bm(_e,me,be-We-Ze[je]),me+=zr);for(var ki=0;ki<bt;++ki)Pe[Je]=32767&be,Je=32767&(Je<<5^xe[be]),++be;Ve-=bt-1}else je<=143?je+=48:me=Hs(_e,me,1),me=Pa(_e,me,Ee[je]),Pe[Je]=32767&be,++be}me=Pa(_e,me,0)-1}}return _e.l=(me+7)/8|0,_e.l}(_e,me)}}();function Dt(z){var q=we(50+Math.floor(1.1*z.length)),j=Ws(z,q);return q.slice(0,j)}var ai=Le?new Uint16Array(32768):so(32768),Co=Le?new Uint16Array(32768):so(32768),Di=Le?new Uint16Array(128):so(128),Ed=1,QS=1;function kz(z,q){var j=It(z,q)+257,U=It(z,q+=5)+1,G=function rn(z,q){var j=7&q,U=q>>>3;return(z[U]|(j<=4?0:z[U+1]<<8))>>>j&15}(z,q+=5)+4;q+=4;for(var Y=0,ge=Le?new Uint8Array(19):so(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,me=Le?new Uint8Array(8):so(8),be=Le?new Uint8Array(8):so(8),Pe=ge.length,Ve=0;Ve<G;++Ve)ge[ne[Ve]]=Y=Mt(z,q),_e<Y&&(_e=Y),me[Y]++,q+=3;var Je=0;for(me[0]=0,Ve=1;Ve<=_e;++Ve)be[Ve]=Je=Je+me[Ve-1]<<1;for(Ve=0;Ve<Pe;++Ve)0!=(Je=ge[Ve])&&(xe[Ve]=be[Je]++);var je=0;for(Ve=0;Ve<Pe;++Ve)if(0!=(je=ge[Ve])){Je=Ee[xe[Ve]]>>8-je;for(var We=(1<<7-je)-1;We>=0;--We)Di[Je|We<<je]=7&je|Ve<<3}var bt=[];for(_e=1;bt.length<j+U;)switch(Je=Di[Ge(z,q)],q+=7&Je,Je>>>=3){case 16:for(Y=3+nn(z,q),q+=2,Je=bt[bt.length-1];Y-- >0;)bt.push(Je);break;case 17:for(Y=3+Mt(z,q),q+=3;Y-- >0;)bt.push(0);break;case 18:for(Y=11+Ge(z,q),q+=7;Y-- >0;)bt.push(0);break;default:bt.push(Je),_e<Je&&(_e=Je)}var Dn=bt.slice(0,j),zr=bt.slice(j);for(Ve=j;Ve<286;++Ve)Dn[Ve]=0;for(Ve=U;Ve<30;++Ve)zr[Ve]=0;return Ed=Fa(Dn,ai,286),QS=Fa(zr,Co,30),q}function JS(z,q){var U=function wz(z,q){if(3==z[0]&&!(3&z[1]))return[Cs(q),2];for(var j=0,U=0,G=$b(q||1<<18),Y=0,ge=G.length>>>0,xe=0,_e=0;0==(1&U);)if(U=Mt(z,j),j+=3,U>>>1!=0)for(U>>1==1?(xe=9,_e=5):(j=kz(z,j),xe=Ed,_e=QS);;){!q&&ge<Y+32767&&(ge=(G=Ql(G,Y+32767)).length);var be=si(z,j,xe),Pe=U>>>1==1?Jl[be]:ai[be];if(j+=15&Pe,0==((Pe>>>=4)>>>8&255))G[Y++]=Pe;else{if(256==Pe)break;var Ve=(Pe-=257)<8?0:Pe-4>>2;Ve>5&&(Ve=0);var Je=Y+ve[Pe];Ve>0&&(Je+=si(z,j,Ve),j+=Ve),be=si(z,j,_e),j+=15&(Pe=U>>>1==1?Lm[be]:Co[be]);var je=(Pe>>>=4)<4?0:Pe-2>>1,We=Ze[Pe];for(je>0&&(We+=si(z,j,je),j+=je),!q&&ge<Je&&(ge=(G=Ql(G,Je+100)).length);Y<Je;)G[Y]=G[Y-We],++Y}}else{7&j&&(j+=8-(7&j));var me=z[j>>>3]|z[1+(j>>>3)]<<8;if(j+=32,me>0)for(!q&&ge<Y+me&&(ge=(G=Ql(G,Y+me)).length);me-- >0;)G[Y++]=z[j>>>3],j+=8}return q?[G,j+7>>>3]:[G.slice(0,Y),j+7>>>3]}(z.slice(z.l||0),q);return z.l+=U[1],U[0]}function XS(z,q){if(!z)throw new Error(q);typeof console<"u"&&console.error(q)}function eE(z,q){var j=z;_i(j,0);var Y={FileIndex:[],FullPaths:[]};V(Y,{root:q.root});for(var ge=j.length-4;(80!=j[ge]||75!=j[ge+1]||5!=j[ge+2]||6!=j[ge+3])&&ge>=0;)--ge;j.l=ge+4,j.l+=4;var xe=j.read_shift(2);j.l+=6;var _e=j.read_shift(4);for(j.l=_e,ge=0;ge<xe;++ge){j.l+=20;var me=j.read_shift(4),be=j.read_shift(4),Pe=j.read_shift(2),Ve=j.read_shift(2),Je=j.read_shift(2);j.l+=8;var je=j.read_shift(4),We=g(j.slice(j.l+Pe,j.l+Pe+Ve));j.l+=Pe+Ve+Je;var bt=j.l;j.l=je+4,vz(j,me,be,Y,We),j.l=bt}return Y}function vz(z,q,j,U,G){z.l+=2;var Y=z.read_shift(2),ge=z.read_shift(2),xe=function f(z){var q=65535&z.read_shift(2),j=65535&z.read_shift(2),U=new Date,G=31&j,Y=15&(j>>>=5);j>>>=4,U.setMilliseconds(0),U.setFullYear(j+1980),U.setMonth(Y-1),U.setDate(G);var ge=31&q,xe=63&(q>>>=5);return U.setHours(q>>>=6),U.setMinutes(xe),U.setSeconds(ge<<1),U}(z);if(8257&Y)throw new Error("Unsupported ZIP encryption");z.read_shift(4);for(var me=z.read_shift(4),be=z.read_shift(4),Pe=z.read_shift(2),Ve=z.read_shift(2),Je="",je=0;je<Pe;++je)Je+=String.fromCharCode(z[z.l++]);if(Ve){var We=g(z.slice(z.l,z.l+Ve));(We[21589]||{}).mt&&(xe=We[21589].mt),((G||{})[21589]||{}).mt&&(xe=G[21589].mt)}z.l+=Ve;var bt=z.slice(z.l,z.l+me);switch(ge){case 8:bt=function fe(z,q){if(!ye)return JS(z,q);var U=new(0,ye.InflateRaw),G=U._processChunk(z.slice(z.l),U._finishFlushFlag);return z.l+=U.bytesRead,G}(z,be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ge)}var Dn=!1;8&Y&&(134695760==z.read_shift(4)&&(z.read_shift(4),Dn=!0),me=z.read_shift(4),be=z.read_shift(4)),me!=q&&XS(Dn,"Bad compressed size: "+q+" != "+me),be!=j&&XS(Dn,"Bad uncompressed size: "+j+" != "+be),O2(U,Je,bt,{unsafe:!0,mt:xe})}var V1={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Cz(z,q){if(z.ctype)return z.ctype;var j=z.name||"",U=j.match(/\.([^\.]+)$/);return U&&V1[U[1]]||q&&(U=(j=q).match(/[\.\\]([^\.\\])+$/))&&V1[U[1]]?V1[U[1]]:"application/octet-stream"}function Az(z){for(var q=Wc(z),j=[],U=0;U<q.length;U+=76)j.push(q.slice(U,U+76));return j.join("\r\n")+"\r\n"}function yz(z){var q=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(me){var be=me.charCodeAt(0).toString(16).toUpperCase();return"="+(1==be.length?"0"+be:be)});"\n"==(q=q.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(q="=0D"+q.slice(1));for(var j=[],U=(q=q.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),G=0;G<U.length;++G){var Y=U[G];if(0!=Y.length)for(var ge=0;ge<Y.length;){var xe=76,_e=Y.slice(ge,ge+xe);"="==_e.charAt(xe-1)?xe--:"="==_e.charAt(xe-2)?xe-=2:"="==_e.charAt(xe-3)&&(xe-=3),_e=Y.slice(ge,ge+xe),(ge+=xe)<Y.length&&(_e+="="),j.push(_e)}else j.push("")}return j.join("\r\n")}function Sz(z,q,j){for(var ge,U="",G="",Y="",xe=0;xe<10;++xe){var _e=q[xe];if(!_e||_e.match(/^\s*$/))break;var me=_e.match(/^(.*?):\s*([^\s].*)$/);if(me)switch(me[1].toLowerCase()){case"content-location":U=me[2].trim();break;case"content-type":Y=me[2].trim();break;case"content-transfer-encoding":G=me[2].trim()}}switch(++xe,G.toLowerCase()){case"base64":ge=gr(pr(q.slice(xe).join("")));break;case"quoted-printable":ge=function Tz(z){for(var q=[],j=0;j<z.length;++j){for(var U=z[j];j<=z.length&&"="==U.charAt(U.length-1);)U=U.slice(0,U.length-1)+z[++j];q.push(U)}for(var G=0;G<q.length;++G)q[G]=q[G].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return gr(q.join("\r\n"))}(q.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var be=O2(z,U.slice(j.length),ge,{unsafe:!0});Y&&(be.ctype=Y)}function O2(z,q,j,U){var G=U&&U.unsafe;G||V(z);var Y=!G&&tt.find(z,q);if(!Y){var ge=z.FullPaths[0];q.slice(0,ge.length)==ge?ge=q:("/"!=ge.slice(-1)&&(ge+="/"),ge=(ge+q).replace("//","/")),Y={name:s(q),type:2},z.FileIndex.push(Y),z.FullPaths.push(ge),G||tt.utils.cfb_gc(z)}return Y.content=j,Y.size=j?j.length:0,U&&(U.CLSID&&(Y.clsid=U.CLSID),U.mt&&(Y.mt=U.mt),U.ct&&(Y.ct=U.ct)),Y}return i.find=function le(z,q){var j=z.FullPaths.map(function(_e){return _e.toUpperCase()}),U=j.map(function(_e){var me=_e.split("/");return me[me.length-("/"==_e.slice(-1)?2:1)]}),G=!1;47===q.charCodeAt(0)?(G=!0,q=j[0].slice(0,-1)+q):G=-1!==q.indexOf("/");var Y=q.toUpperCase(),ge=!0===G?j.indexOf(Y):U.indexOf(Y);if(-1!==ge)return z.FileIndex[ge];var xe=!Y.match(qc);for(Y=Y.replace(Ai,""),xe&&(Y=Y.replace(qc,"!")),ge=0;ge<j.length;++ge)if((xe?j[ge].replace(qc,"!"):j[ge]).replace(Ai,"")==Y||(xe?U[ge].replace(qc,"!"):U[ge]).replace(Ai,"")==Y)return z.FileIndex[ge];return null},i.read=function X(z,q){var j=q&&q.type;switch(j||Ct&&Buffer.isBuffer(z)&&(j="buffer"),j||"base64"){case"file":return function Z(z,q){return k(),w(_.readFileSync(z),q)}(z,q);case"base64":return w(gr(pr(z)),q);case"binary":return w(gr(z),q)}return w(z,q)},i.parse=w,i.write=function nt(z,q){var j=ae(z,q);switch(q&&q.type||"buffer"){case"file":return k(),_.writeFileSync(q.filename,j),j;case"binary":return"string"==typeof j?j:Fe(j);case"base64":return Wc("string"==typeof j?j:Fe(j));case"buffer":if(Ct)return Buffer.isBuffer(j)?j:Zo(j);case"array":return"string"==typeof j?gr(j):j}return j},i.writeFile=function dt(z,q,j){k();var U=ae(z,j);_.writeFileSync(q,U)},i.utils={cfb_new:function Mz(z){var q={};return V(q,z),q},cfb_add:O2,cfb_del:function Iz(z,q){V(z);var j=tt.find(z,q);if(j)for(var U=0;U<z.FileIndex.length;++U)if(z.FileIndex[U]==j)return z.FileIndex.splice(U,1),z.FullPaths.splice(U,1),!0;return!1},cfb_mov:function Pz(z,q,j){V(z);var U=tt.find(z,q);if(U)for(var G=0;G<z.FileIndex.length;++G)if(z.FileIndex[G]==U)return z.FileIndex[G].name=s(j),z.FullPaths[G]=j,!0;return!1},cfb_gc:function Fz(z){te(z,!0)},ReadShift:zl,CheckField:vg,prep_blob:_i,bconcat:ei,use_zlib:function Q(z){try{var j=new(0,z.InflateRaw);if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),!j.bytesRead)throw new Error("zlib does not expose bytesRead");ye=z}catch(U){console.error("cannot use native zlib: "+(U.message||U))}},_deflateRaw:Dt,_inflateRaw:JS,consts:ze},i}();function Il(t){return"string"==typeof t?qo(t):Array.isArray(t)?function KC(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}(t):t}function $c(t,i,n){if(typeof Deno<"u"){if(n&&"string"==typeof i)switch(n){case"utf8":i=new TextEncoder(n).encode(i);break;case"binary":i=qo(i);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,i)}var o="utf8"==n?mo(i):i;if(typeof IE_SaveFile<"u")return IE_SaveFile(o,t);if(typeof Blob<"u"){var s=new Blob([Il(o)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var d=URL.createObjectURL(s);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(d)},6e4),chrome.downloads.download({url:d,filename:t,saveAs:!0});var f=document.createElement("a");if(null!=f.download)return f.download=t,f.href=d,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(d)},6e4),d}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var g=File(t);return g.open("w"),g.encoding="binary",Array.isArray(i)&&(i=Jr(i)),g.write(i),g.close(),i}catch(_){if(!_.message||!_.message.match(/onstruct/))throw _}throw new Error("cannot save file "+t)}function Nn(t){for(var i=Object.keys(t),n=[],o=0;o<i.length;++o)Object.prototype.hasOwnProperty.call(t,i[o])&&n.push(i[o]);return n}function $p(t,i){for(var n=[],o=Nn(t),s=0;s!==o.length;++s)null==n[t[o[s]][i]]&&(n[t[o[s]][i]]=o[s]);return n}function br(t){for(var i=[],n=Nn(t),o=0;o!==n.length;++o)i[t[n[o]]]=n[o];return i}function Pl(t){for(var i=[],n=Nn(t),o=0;o!==n.length;++o)i[t[n[o]]]=parseInt(n[o],10);return i}var Gh=new Date(1899,11,30,0,0,0);function pi(t,i){var n=t.getTime();return i&&(n-=1263168e5),(n-(Gh.getTime()+6e4*(t.getTimezoneOffset()-Gh.getTimezoneOffset())))/864e5}var Qp=new Date,dk=Gh.getTime()+6e4*(Qp.getTimezoneOffset()-Gh.getTimezoneOffset()),hk=Qp.getTimezoneOffset();function Jp(t){var i=new Date;return i.setTime(24*t*60*60*1e3+dk),i.getTimezoneOffset()!==hk&&i.setTime(i.getTime()+6e4*(i.getTimezoneOffset()-hk)),i}var eg=new Date("2017-02-19T19:06:09.000Z"),Qc=isNaN(eg.getFullYear())?new Date("2/19/17"):eg,aA=2017==Qc.getFullYear();function fn(t,i){var n=new Date(t);if(aA)return i>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):i<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(t instanceof Date)return t;if(1917==Qc.getFullYear()&&!isNaN(n.getFullYear())){var o=n.getFullYear();return t.indexOf(""+o)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],d=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(d=new Date(d.getTime()-60*d.getTimezoneOffset()*1e3)),d}function Ds(t,i){if(Ct&&Buffer.isBuffer(t)){if(i){if(255==t[0]&&254==t[1])return mo(t.slice(2).toString("utf16le"));if(254==t[1]&&255==t[2])return mo(function Kb(t){for(var i=[],n=0;n<t.length>>1;++n)i[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return i.join("")}(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(i){if(255==t[0]&&254==t[1])return mo(new TextDecoder("utf-16le").decode(t.slice(2)));if(254==t[0]&&255==t[1])return mo(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(d){return n[d]||d})}catch{}for(var o=[],s=0;s!=t.length;++s)o.push(String.fromCharCode(t[s]));return o.join("")}function tn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"!=typeof t||null==t)return t;if(t instanceof Date)return new Date(t.getTime());var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=tn(t[n]));return i}function On(t,i){for(var n="";n.length<i;)n+=t;return n}function eo(t){var i=Number(t);if(!isNaN(i))return isFinite(i)?i:NaN;if(!/\d/.test(t))return i;var n=1,o=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(i=Number(o))&&(o=o.replace(/[(](.*)[)]/,function(s,d){return n=-n,d}),isNaN(i=Number(o)))?i:i/n}var tg=["january","february","march","april","may","june","july","august","september","october","november","december"];function pa(t){var i=new Date(t),n=new Date(NaN),o=i.getYear(),s=i.getMonth(),d=i.getDate();if(isNaN(d))return n;var f=t.toLowerCase();if(f.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((f=f.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==tg.indexOf(f))return n}else if(f.match(/[a-z]/))return n;return o<0||o>8099?n:(s>0||d>1)&&101!=o?i:t.match(/[^-0-9:,\/\\]/)?n:i}function wt(t,i,n){if(t.FullPaths){var o;if("string"==typeof n)return o=Ct?Zo(n):function $C(t){for(var i=[],n=0,o=t.length+250,s=Cs(t.length+255),d=0;d<t.length;++d){var f=t.charCodeAt(d);if(f<128)s[n++]=f;else if(f<2048)s[n++]=192|f>>6&31,s[n++]=128|63&f;else if(f>=55296&&f<57344){f=64+(1023&f);var g=1023&t.charCodeAt(++d);s[n++]=240|f>>8&7,s[n++]=128|f>>2&63,s[n++]=128|g>>6&15|(3&f)<<4,s[n++]=128|63&g}else s[n++]=224|f>>12&15,s[n++]=128|f>>6&63,s[n++]=128|63&f;n>o&&(i.push(s.slice(0,n)),n=0,s=Cs(65535),o=65530)}return i.push(s.slice(0,n)),ei(i)}(n),tt.utils.cfb_add(t,i,o);tt.utils.cfb_add(t,i,n)}else t.file(i,n)}function rg(){return tt.utils.cfb_new()}var Sn='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Kh=br({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),sg=/[&<>'"]/g,mk=/[\u0000-\u0008\u000b-\u001f]/g;function jt(t){return(t+"").replace(sg,function(n){return Kh[n]}).replace(mk,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ag(t){return jt(t).replace(/ /g,"_x0020_")}var _k=/[\u0000-\u001f]/g;function Nl(t){return(t+"").replace(sg,function(n){return Kh[n]}).replace(/\n/g,"<br/>").replace(_k,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function cg(t){for(var i="",n=0,o=0,s=0,d=0,f=0,g=0;n<t.length;)(o=t.charCodeAt(n++))<128?i+=String.fromCharCode(o):(s=t.charCodeAt(n++),o>191&&o<224?(f=(31&o)<<6,f|=63&s,i+=String.fromCharCode(f)):(d=t.charCodeAt(n++),o<240?i+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&d):(g=((7&o)<<18|(63&s)<<12|(63&d)<<6|63&(f=t.charCodeAt(n++)))-65536,i+=String.fromCharCode(55296+(g>>>10&1023)),i+=String.fromCharCode(56320+(1023&g)))));return i}function dg(t){var n,o,g,i=Cs(2*t.length),s=1,d=0,f=0;for(o=0;o<t.length;o+=s)s=1,(g=t.charCodeAt(o))<128?n=g:g<224?(n=64*(31&g)+(63&t.charCodeAt(o+1)),s=2):g<240?(n=4096*(15&g)+64*(63&t.charCodeAt(o+1))+(63&t.charCodeAt(o+2)),s=3):(s=4,n=262144*(7&g)+4096*(63&t.charCodeAt(o+1))+64*(63&t.charCodeAt(o+2))+(63&t.charCodeAt(o+3)),f=55296+((n-=65536)>>>10&1023),n=56320+(1023&n)),0!==f&&(i[d++]=255&f,i[d++]=f>>>8,f=0),i[d++]=n%256,i[d++]=n>>>8;return i.slice(0,d).toString("ucs2")}function hg(t){return Zo(t,"binary").toString("utf8")}var Xc="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",an=Ct&&(hg(Xc)==cg(Xc)&&hg||dg(Xc)==cg(Xc)&&dg)||cg,mo=Ct?function(t){return Zo(t,"utf8").toString("binary")}:function(t){for(var i=[],n=0,o=0,s=0;n<t.length;)switch(o=t.charCodeAt(n++),!0){case o<128:i.push(String.fromCharCode(o));break;case o<2048:i.push(String.fromCharCode(192+(o>>6))),i.push(String.fromCharCode(128+(63&o)));break;case o>=55296&&o<57344:o-=55296,s=t.charCodeAt(n++)-56320+(o<<10),i.push(String.fromCharCode(240+(s>>18&7))),i.push(String.fromCharCode(144+(s>>12&63))),i.push(String.fromCharCode(128+(s>>6&63))),i.push(String.fromCharCode(128+(63&s)));break;default:i.push(String.fromCharCode(224+(o>>12))),i.push(String.fromCharCode(128+(o>>6&63))),i.push(String.fromCharCode(128+(63&o)))}return i.join("")},wk=function(){var t=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(i){return[new RegExp("&"+i[0]+";","ig"),i[1]]});return function(n){for(var o=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),s=0;s<t.length;++s)o=o.replace(t[s][0],t[s][1]);return o}}(),Ck=/(^\s|\s$|\n)/;function gi(t,i){return"<"+t+(i.match(Ck)?' xml:space="preserve"':"")+">"+i+"</"+t+">"}function ed(t){return Nn(t).map(function(i){return" "+i+'="'+t[i]+'"'}).join("")}function Ne(t,i,n){return"<"+t+(null!=n?ed(n):"")+(null!=i?(i.match(Ck)?' xml:space="preserve"':"")+">"+i+"</"+t:"/")+">"}function ug(t,i){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(i)throw n}return""}var jn_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",jn_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",jn_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",jn_xsi="http://www.w3.org/2001/XMLSchema-instance",Is=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xi_o="urn:schemas-microsoft-com:office:office",Xi_x="urn:schemas-microsoft-com:office:excel",Xi_ss="urn:schemas-microsoft-com:office:spreadsheet",yk=function(t){for(var i=[],o=0;o<t[0].length;++o)if(t[0][o])for(var s=0,d=t[0][o].length;s<d;s+=10240)i.push.apply(i,t[0][o].slice(s,s+10240));return i},Bl=Ct?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(i){return Buffer.isBuffer(i)?i:Zo(i)})):yk(t)}:yk,Tk=function(t,i,n){for(var o=[],s=i;s<n;s+=2)o.push(String.fromCharCode(ti(t,s)));return o.join("").replace(Ai,"")},td=Ct?function(t,i,n){return Buffer.isBuffer(t)?t.toString("utf16le",i,n).replace(Ai,""):Tk(t,i,n)}:Tk,$h=function(t,i,n){for(var o=[],s=i;s<i+n;++s)o.push(("0"+t[s].toString(16)).slice(-2));return o.join("")},Sk=Ct?function(t,i,n){return Buffer.isBuffer(t)?t.toString("hex",i,i+n):$h(t,i,n)}:$h,pg=function(t,i,n){for(var o=[],s=i;s<n;s++)o.push(String.fromCharCode(Ps(t,s)));return o.join("")},Ll=Ct?function(i,n,o){return Buffer.isBuffer(i)?i.toString("utf8",n,o):pg(i,n,o)}:pg,Ek=function(t,i){var n=mi(t,i);return n>0?Ll(t,i+4,i+4+n-1):""},Rl=Ek,gg=function(t,i){var n=mi(t,i);return n>0?Ll(t,i+4,i+4+n-1):""},Qh=gg,mg=function(t,i){var n=2*mi(t,i);return n>0?Ll(t,i+4,i+4+n-1):""},_g=mg,Dk=function(i,n){var o=mi(i,n);return o>0?td(i,n+4,n+4+o):""},nd=Dk,bg=function(t,i){var n=mi(t,i);return n>0?Ll(t,i+4,i+4+n):""},kg=bg,id=function(t,i){return function fA(t,i){for(var n=1-2*(t[i+7]>>>7),o=((127&t[i+7])<<4)+(t[i+6]>>>4&15),s=15&t[i+6],d=5;d>=0;--d)s=256*s+t[i+d];return 2047==o?0==s?n*(1/0):NaN:(0==o?o=-1022:(o-=1023,s+=Math.pow(2,52)),n*Math.pow(2,o-52)*s)}(t,i)},Jh=id,Xh=function(i){return Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array};Ct&&(Rl=function(i,n){if(!Buffer.isBuffer(i))return Ek(i,n);var o=i.readUInt32LE(n);return o>0?i.toString("utf8",n+4,n+4+o-1):""},Qh=function(i,n){if(!Buffer.isBuffer(i))return gg(i,n);var o=i.readUInt32LE(n);return o>0?i.toString("utf8",n+4,n+4+o-1):""},_g=function(i,n){if(!Buffer.isBuffer(i))return mg(i,n);var o=2*i.readUInt32LE(n);return i.toString("utf16le",n+4,n+4+o-1)},nd=function(i,n){if(!Buffer.isBuffer(i))return Dk(i,n);var o=i.readUInt32LE(n);return i.toString("utf16le",n+4,n+4+o)},kg=function(i,n){if(!Buffer.isBuffer(i))return bg(i,n);var o=i.readUInt32LE(n);return i.toString("utf8",n+4,n+4+o)},Jh=function(i,n){return Buffer.isBuffer(i)?i.readDoubleLE(n):id(i,n)},Xh=function(i){return Buffer.isBuffer(i)||Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array});var Ps=function(t,i){return t[i]},ti=function(t,i){return 256*t[i+1]+t[i]},Mk=function(t,i){var n=256*t[i+1]+t[i];return n<32768?n:-1*(65535-n+1)},mi=function(t,i){return t[i+3]*(1<<24)+(t[i+2]<<16)+(t[i+1]<<8)+t[i]},Fs=function(t,i){return t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]},pA=function(t,i){return t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]};function zl(t,i){var o,s,f,g,_,k,n="",d=[];switch(i){case"dbcs":if(k=this.l,Ct&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(_=0;_<t;++_)n+=String.fromCharCode(ti(this,k)),k+=2;t*=2;break;case"utf8":n=Ll(this,this.l,this.l+t);break;case"utf16le":n=td(this,this.l,this.l+(t*=2));break;case"wstr":return zl.call(this,t,"dbcs");case"lpstr-ansi":n=Rl(this,this.l),t=4+mi(this,this.l);break;case"lpstr-cp":n=Qh(this,this.l),t=4+mi(this,this.l);break;case"lpwstr":n=_g(this,this.l),t=4+2*mi(this,this.l);break;case"lpp4":t=4+mi(this,this.l),n=nd(this,this.l),2&t&&(t+=2);break;case"8lpp4":t=4+mi(this,this.l),n=kg(this,this.l),3&t&&(t+=4-(3&t));break;case"cstr":for(t=0,n="";0!==(f=Ps(this,this.l+t++));)d.push(Hc(f));n=d.join("");break;case"_wstr":for(t=0,n="";0!==(f=ti(this,this.l+t));)d.push(Hc(f)),t+=2;t+=2,n=d.join("");break;case"dbcs-cont":for(n="",k=this.l,_=0;_<t;++_){if(this.lens&&-1!==this.lens.indexOf(k))return f=Ps(this,k),this.l=k+1,g=zl.call(this,t-_,f?"dbcs-cont":"sbcs-cont"),d.join("")+g;d.push(Hc(ti(this,k))),k+=2}n=d.join(""),t*=2;break;case"cpstr":0;case"sbcs-cont":for(n="",k=this.l,_=0;_!=t;++_){if(this.lens&&-1!==this.lens.indexOf(k))return f=Ps(this,k),this.l=k+1,g=zl.call(this,t-_,f?"dbcs-cont":"sbcs-cont"),d.join("")+g;d.push(Hc(Ps(this,k))),k+=1}n=d.join("");break;default:switch(t){case 1:return o=Ps(this,this.l),this.l++,o;case 2:return o=("i"===i?Mk:ti)(this,this.l),this.l+=2,o;case 4:case-4:return"i"===i||0==(128&this[this.l+3])?(o=(t>0?Fs:pA)(this,this.l),this.l+=4,o):(s=mi(this,this.l),this.l+=4,s);case 8:case-8:if("f"===i)return s=8==t?Jh(this,this.l):Jh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=Sk(this,this.l,t)}}return this.l+=t,n}var Ik=function(t,i,n){t[n]=255&i,t[n+1]=i>>>8&255};function _A(t,i,n){var o=0,s=0;if("dbcs"===n){for(s=0;s!=i.length;++s)Ik(this,i.charCodeAt(s),this.l+2*s);o=2*i.length}else if("sbcs"===n){for(i=i.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=i.length;++s)this[this.l+s]=255&i.charCodeAt(s);o=i.length}else{if("hex"===n){for(;s<t;++s)this[this.l++]=parseInt(i.slice(2*s,2*s+2),16)||0;return this}if("utf16le"===n){var f=Math.min(this.l+t,this.length);for(s=0;s<Math.min(i.length,t);++s){var g=i.charCodeAt(s);this[this.l++]=255&g,this[this.l++]=g>>8}for(;this.l<f;)this[this.l++]=0;return this}switch(t){case 1:o=1,this[this.l]=255&i;break;case 2:o=2,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8);break;case 3:o=3,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8),this[this.l+2]=255&(i>>>=8);break;case 4:o=4,function(t,i,n){t[n]=255&i,t[n+1]=i>>>8&255,t[n+2]=i>>>16&255,t[n+3]=i>>>24&255}(this,i,this.l);break;case 8:if(o=8,"f"===n){!function Ak(t,i,n){var o=(i<0||1/i==-1/0?1:0)<<7,s=0,d=0,f=o?-i:i;isFinite(f)?0==f?s=d=0:(s=Math.floor(Math.log(f)/Math.LN2),d=f*Math.pow(2,52-s),s<=-1023&&(!isFinite(d)||d<Math.pow(2,52))?s=-1022:(d-=Math.pow(2,52),s+=1023)):(s=2047,d=isNaN(i)?26985:0);for(var g=0;g<=5;++g,d/=256)t[n+g]=255&d;t[n+6]=(15&s)<<4|15&d,t[n+7]=s>>4|o}(this,i,this.l);break}case 16:break;case-4:o=4,function(t,i,n){t[n]=255&i,t[n+1]=i>>8&255,t[n+2]=i>>16&255,t[n+3]=i>>24&255}(this,i,this.l)}}return this.l+=o,this}function vg(t,i){var n=Sk(this,this.l,t.length>>1);if(n!==t)throw new Error(i+"Expected "+t+" saw "+n);this.l+=t.length>>1}function _i(t,i){t.l=i,t.read_shift=zl,t.chk=vg,t.write_shift=_A}function ni(t,i){t.l+=i}function we(t){var i=Cs(t);return _i(i,0),i}function Oi(){var t=[],i=Ct?256:2048,n=function(k){var w=we(k);return _i(w,0),w},o=n(i),s=function(){!o||(o.length>o.l&&((o=o.slice(0,o.l)).l=o.length),o.length>0&&t.push(o),o=null)},d=function(k){return o&&k<o.length-o.l?o:(s(),o=n(Math.max(k+1,i)))};return{next:d,push:function(k){s(),null==(o=k).l&&(o.l=o.length),d(i)},end:function(){return s(),ei(t)},_bufs:t}}function Ae(t,i,n,o){var d,s=+i;if(!isNaN(s)){o||(o=Tm[s].p||(n||[]).length||0),d=1+(s>=128?1:0)+1,o>=128&&++d,o>=16384&&++d,o>=2097152&&++d;var f=t.next(d);s<=127?f.write_shift(1,s):(f.write_shift(1,128+(127&s)),f.write_shift(1,s>>7));for(var g=0;4!=g;++g){if(!(o>=128)){f.write_shift(1,o);break}f.write_shift(1,128+(127&o)),o>>=7}o>0&&Xh(n)&&t.push(n)}}function Vl(t,i,n){var o=tn(t);if(i.s?(o.cRel&&(o.c+=i.s.c),o.rRel&&(o.r+=i.s.r)):(o.cRel&&(o.c+=i.c),o.rRel&&(o.r+=i.r)),!n||n.biff<12){for(;o.c>=256;)o.c-=256;for(;o.r>=65536;)o.r-=65536}return o}function xg(t,i,n){var o=tn(t);return o.s=Vl(o.s,i.s,n),o.e=Vl(o.e,i.s,n),o}function rd(t,i){if(t.cRel&&t.c<0)for(t=tn(t);t.c<0;)t.c+=i>8?16384:256;if(t.rRel&&t.r<0)for(t=tn(t);t.r<0;)t.r+=i>8?1048576:i>5?65536:16384;var n=st(t);return!t.cRel&&null!=t.cRel&&(n=function Fk(t){return t.replace(/^([A-Z])/,"$$$1")}(n)),!t.rRel&&null!=t.rRel&&(n=function bA(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function Cg(t,i){return 0!=t.s.r||t.s.rRel||t.e.r!=(i.biff>=12?1048575:i.biff>=8?65536:16384)||t.e.rRel?0!=t.s.c||t.s.cRel||t.e.c!=(i.biff>=12?16383:255)||t.e.cRel?rd(t.s,i.biff)+":"+rd(t.e,i.biff):(t.s.rRel?"":"$")+Ln(t.s.r)+":"+(t.e.rRel?"":"$")+Ln(t.e.r):(t.s.cRel?"":"$")+pn(t.s.c)+":"+(t.e.cRel?"":"$")+pn(t.e.c)}function Ag(t){return parseInt(function Pk(t){return t.replace(/\$(\d+)$/,"$1")}(t),10)-1}function Ln(t){return""+(t+1)}function yg(t){for(var i=function kA(t){return t.replace(/^\$([A-Z])/,"$1")}(t),n=0,o=0;o!==i.length;++o)n=26*n+i.charCodeAt(o)-64;return n-1}function pn(t){if(t<0)throw new Error("invalid column "+t);var i="";for(++t;t;t=Math.floor((t-1)/26))i=String.fromCharCode((t-1)%26+65)+i;return i}function Un(t){for(var i=0,n=0,o=0;o<t.length;++o){var s=t.charCodeAt(o);s>=48&&s<=57?i=10*i+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:i-1}}function st(t){for(var i=t.c+1,n="";i;i=(i-1)/26|0)n=String.fromCharCode((i-1)%26+65)+n;return n+(t.r+1)}function Bi(t){var i=t.indexOf(":");return-1==i?{s:Un(t),e:Un(t)}:{s:Un(t.slice(0,i)),e:Un(t.slice(i+1))}}function pt(t,i){return typeof i>"u"||"number"==typeof i?pt(t.s,t.e):("string"!=typeof t&&(t=st(t)),"string"!=typeof i&&(i=st(i)),t==i?t:t+":"+i)}function Tt(t){var i={s:{c:0,r:0},e:{c:0,r:0}},n=0,o=0,s=0,d=t.length;for(n=0;o<d&&!((s=t.charCodeAt(o)-64)<1||s>26);++o)n=26*n+s;for(i.s.c=--n,n=0;o<d&&!((s=t.charCodeAt(o)-48)<0||s>9);++o)n=10*n+s;if(i.s.r=--n,o===d||10!=s)return i.e.c=i.s.c,i.e.r=i.s.r,i;for(++o,n=0;o!=d&&!((s=t.charCodeAt(o)-64)<1||s>26);++o)n=26*n+s;for(i.e.c=--n,n=0;o!=d&&!((s=t.charCodeAt(o)-48)<0||s>9);++o)n=10*n+s;return i.e.r=--n,i}function io(t,i,n){return null==t||null==t.t||"z"==t.t?"":void 0!==t.w?t.w:("d"==t.t&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),"e"==t.t?Jo[t.v]||t.v:function Tg(t,i){var n="d"==t.t&&i instanceof Date;if(null!=t.z)try{return t.w=_r(t.z,n?pi(i):i)}catch{}try{return t.w=_r((t.XF||{}).numFmtId||(n?14:0),n?pi(i):i)}catch{return""+i}}(t,i??t.v))}function ro(t,i){var n=i&&i.sheet?i.sheet:"Sheet1",o={};return o[n]=t,{SheetNames:[n],Sheets:o}}function Sg(t,i,n){var o=n||{},s=t?Array.isArray(t):o.dense,d=t||(s?[]:{}),f=0,g=0;if(d&&null!=o.origin){if("number"==typeof o.origin)f=o.origin;else{var _="string"==typeof o.origin?Un(o.origin):o.origin;f=_.r,g=_.c}d["!ref"]||(d["!ref"]="A1:A1")}var k={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(d["!ref"]){var w=Tt(d["!ref"]);k.s.c=w.s.c,k.s.r=w.s.r,k.e.c=Math.max(k.e.c,w.e.c),k.e.r=Math.max(k.e.r,w.e.r),-1==f&&(k.e.r=f=w.e.r+1)}for(var C=0;C!=i.length;++C)if(i[C]){if(!Array.isArray(i[C]))throw new Error("aoa_to_sheet expects an array of arrays");for(var A=0;A!=i[C].length;++A)if(!(typeof i[C][A]>"u")){var T={v:i[C][A]},E=f+C,S=g+A;if(k.s.r>E&&(k.s.r=E),k.s.c>S&&(k.s.c=S),k.e.r<E&&(k.e.r=E),k.e.c<S&&(k.e.c=S),!i[C][A]||"object"!=typeof i[C][A]||Array.isArray(i[C][A])||i[C][A]instanceof Date)if(Array.isArray(T.v)&&(T.f=i[C][A][1],T.v=T.v[0]),null===T.v)if(T.f)T.t="n";else if(o.nullError)T.t="e",T.v=0;else{if(!o.sheetStubs)continue;T.t="z"}else"number"==typeof T.v?T.t="n":"boolean"==typeof T.v?T.t="b":T.v instanceof Date?(T.z=o.dateNF||ot[14],o.cellDates?(T.t="d",T.w=_r(T.z,pi(T.v))):(T.t="n",T.v=pi(T.v),T.w=_r(T.z,T.v))):T.t="s";else T=i[C][A];if(s)d[E]||(d[E]=[]),d[E][S]&&d[E][S].z&&(T.z=d[E][S].z),d[E][S]=T;else{var M=st({c:S,r:E});d[M]&&d[M].z&&(T.z=d[M].z),d[M]=T}}}return k.s.c<1e7&&(d["!ref"]=pt(k)),d}function ga(t,i){return Sg(null,t,i)}function kr(t,i){return i||(i=we(4)),i.write_shift(4,t),i}function Ti(t){var i=t.read_shift(4);return 0===i?"":t.read_shift(i,"dbcs")}function ii(t,i){var n=!1;return null==i&&(n=!0,i=we(4+2*t.length)),i.write_shift(4,t.length),t.length>0&&i.write_shift(0,t,"dbcs"),n?i.slice(0,i.l):i}function Ok(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Eg(t,i){var n=t.l,o=t.read_shift(1),s=Ti(t),d=[],f={t:s,h:s};if(0!=(1&o)){for(var g=t.read_shift(4),_=0;_!=g;++_)d.push(Ok(t));f.r=d}else f.r=[{ich:0,ifnt:0}];return t.l=n+i,f}var Lk=Eg;function wr(t){var i=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:i,iStyleRef:n}}function ma(t,i){return null==i&&(i=we(8)),i.write_shift(-4,t.c),i.write_shift(3,t.iStyleRef||t.s),i.write_shift(1,0),i}function Ns(t){var i=t.read_shift(2);return i+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:i}}function _a(t,i){return null==i&&(i=we(4)),i.write_shift(3,t.iStyleRef||t.s),i.write_shift(1,0),i}var zk=Ti,Vk=ii;function eu(t){var i=t.read_shift(4);return 0===i||4294967295===i?"":t.read_shift(i,"dbcs")}function tu(t,i){var n=!1;return null==i&&(n=!0,i=we(127)),i.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&i.write_shift(0,t,"dbcs"),n?i.slice(0,i.l):i}var jk=Ti,Dg=eu,Mg=tu;function nu(t){var i=t.slice(t.l,t.l+4),n=1&i[0],o=2&i[0];t.l+=4;var s=0===o?Jh([0,0,0,0,252&i[0],i[1],i[2],i[3]],0):Fs(i,0)>>2;return n?s/100:s}function Ig(t,i){null==i&&(i=we(4));var n=0,o=0,s=100*t;if(t==(0|t)&&t>=-(1<<29)&&t<1<<29?o=1:s==(0|s)&&s>=-(1<<29)&&s<1<<29&&(o=1,n=1),!o)throw new Error("unsupported RkNumber "+t);i.write_shift(-4,((n?s:t)<<2)+(n+2))}function Pg(t){var i={s:{},e:{}};return i.s.r=t.read_shift(4),i.e.r=t.read_shift(4),i.s.c=t.read_shift(4),i.e.c=t.read_shift(4),i}var Os=Pg,jl=function Uk(t,i){return i||(i=we(16)),i.write_shift(4,t.s.r),i.write_shift(4,t.e.r),i.write_shift(4,t.s.c),i.write_shift(4,t.e.c),i};function Li(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ba(t,i){return(i||we(8)).write_shift(8,t,"f")}function od(t,i){if(i||(i=we(8)),!t||t.auto)return i.write_shift(4,0),i.write_shift(4,0),i;null!=t.index?(i.write_shift(1,2),i.write_shift(1,t.index)):null!=t.theme?(i.write_shift(1,6),i.write_shift(1,t.theme)):(i.write_shift(1,5),i.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),i.write_shift(2,n),t.rgb&&null==t.theme){var o=t.rgb||"FFFFFF";"number"==typeof o&&(o=("000000"+o.toString(16)).slice(-6)),i.write_shift(1,parseInt(o.slice(0,2),16)),i.write_shift(1,parseInt(o.slice(2,4),16)),i.write_shift(1,parseInt(o.slice(4,6),16)),i.write_shift(1,255)}else i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);return i}var Rg={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},zg={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function EA(t){return t.map(function(i){return[i>>16&255,i>>8&255,255&i]})}var wa=tn(EA([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Jo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ad={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ld={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jg(t,i){var s,n=function sA(t){for(var i=[],n=Nn(t),o=0;o!==n.length;++o)null==i[t[n[o]]]&&(i[t[n[o]]]=[]),i[t[n[o]]].push(n[o]);return i}(ad),o=[];o[o.length]=Sn,o[o.length]=Ne("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":jn_xsi}),o=o.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(_){return Ne("Default",null,{Extension:_[0],ContentType:_[1]})}));var d=function(_){t[_]&&t[_].length>0&&(o[o.length]=Ne("Override",null,{PartName:("/"==(s=t[_][0])[0]?"":"/")+s,ContentType:ld[_][i.bookType]||ld[_].xlsx}))},f=function(_){(t[_]||[]).forEach(function(k){o[o.length]=Ne("Override",null,{PartName:("/"==k[0]?"":"/")+k,ContentType:ld[_][i.bookType]||ld[_].xlsx})})},g=function(_){(t[_]||[]).forEach(function(k){o[o.length]=Ne("Override",null,{PartName:("/"==k[0]?"":"/")+k,ContentType:n[_][0]})})};return d("workbooks"),f("sheets"),f("charts"),g("themes"),["strs","styles"].forEach(d),["coreprops","extprops","custprops"].forEach(g),g("vba"),g("comments"),g("threadedcomments"),g("drawings"),f("metadata"),g("people"),o.length>2&&(o[o.length]="</Types>",o[1]=o[1].replace("/>",">")),o.join("")}var mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function cd(t){var i=t.lastIndexOf("/");return t.slice(0,i+1)+"_rels/"+t.slice(i+1)+".rels"}function va(t){var i=[Sn,Ne("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return Nn(t["!id"]).forEach(function(n){i[i.length]=Ne("Relationship",null,t["!id"][n])}),i.length>2&&(i[i.length]="</Relationships>",i[1]=i[1].replace("/>",">")),i.join("")}function Vt(t,i,n,o,s,d){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),i<0)for(i=t["!idx"];t["!id"]["rId"+i];++i);if(t["!idx"]=i+1,s.Id="rId"+i,s.Type=o,s.Target=n,d?s.TargetMode=d:[mt.HLINK,mt.XPATH,mt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+i);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,i}function Kk(t,i,n){return['  <rdf:Description rdf:about="'+t+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+i+'"/>\n',"  </rdf:Description>\n"].join("")}function Ug(t,i){return['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+i+'"/>\n',"  </rdf:Description>\n"].join("")}function su(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+yl_version+"</meta:generator></office:meta></office:document-meta>"}var _o=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function au(t,i,n,o,s){null!=s[t]||null==i||""===i||(s[t]=i,i=jt(i),o[o.length]=n?Ne(t,i,n):gi(t,i))}function Jk(t,i){var n=i||{},o=[Sn,Ne("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":jn_xsi})],s={};if(!t&&!n.Props)return o.join("");t&&(null!=t.CreatedDate&&au("dcterms:created","string"==typeof t.CreatedDate?t.CreatedDate:ug(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},o,s),null!=t.ModifiedDate&&au("dcterms:modified","string"==typeof t.ModifiedDate?t.ModifiedDate:ug(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},o,s));for(var d=0;d!=_o.length;++d){var f=_o[d],g=n.Props&&null!=n.Props[f[1]]?n.Props[f[1]]:t?t[f[1]]:null;!0===g?g="1":!1===g?g="0":"number"==typeof g&&(g=String(g)),null!=g&&au(f[0],g,null,o,s)}return o.length>2&&(o[o.length]="</cp:coreProperties>",o[1]=o[1].replace("/>",">")),o.join("")}var xa=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],oo=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ew(t){var i=[],n=Ne;return t||(t={}),t.Application="SheetJS",i[i.length]=Sn,i[i.length]=Ne("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":jn_vt}),xa.forEach(function(o){if(void 0!==t[o[1]]){var s;switch(o[2]){case"string":s=jt(String(t[o[1]]));break;case"bool":s=t[o[1]]?"true":"false"}void 0!==s&&(i[i.length]=n(o[0],s))}}),i[i.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),i[i.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(o){return"<vt:lpstr>"+jt(o)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}function Wg(t){var i=[Sn,Ne("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":jn_vt})];if(!t)return i.join("");var n=1;return Nn(t).forEach(function(s){++n,i[i.length]=Ne("property",function uA(t,i){switch(typeof t){case"string":var n=Ne("vt:lpwstr",jt(t));return i&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Ne((0|t)==t?"vt:i4":"vt:r8",jt(String(t)));case"boolean":return Ne("vt:bool",t?"true":"false")}if(t instanceof Date)return Ne("vt:filetime",ug(t));throw new Error("Unable to serialize "+t)}(t[s],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:jt(s)})}),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}var lu={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function cw(t,i){var n=we(4),o=we(4);switch(n.write_shift(4,80==t?31:t),t){case 3:o.write_shift(-4,i);break;case 5:(o=we(8)).write_shift(8,i,"f");break;case 11:o.write_shift(4,i?1:0);break;case 64:o=function rw(t){var n=("string"==typeof t?new Date(Date.parse(t)):t).getTime()/1e3+11644473600,o=n%Math.pow(2,32),s=(n-o)/Math.pow(2,32);s*=1e7;var d=(o*=1e7)/Math.pow(2,32)|0;d>0&&(o%=Math.pow(2,32),s+=d);var f=we(8);return f.write_shift(4,o),f.write_shift(4,s),f}(i);break;case 31:case 80:for((o=we(4+2*(i.length+1)+(i.length%2?0:2))).write_shift(4,i.length+1),o.write_shift(0,i,"dbcs");o.l!=o.length;)o.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}return ei([n,o])}var Ca=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VA(t){switch(typeof t){case"boolean":return 11;case"number":return(0|t)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64}return-1}function uu(t,i,n){var o=we(8),s=[],d=[],f=8,g=0,_=we(8),k=we(8);if(_.write_shift(4,2),_.write_shift(4,1200),k.write_shift(4,1),d.push(_),s.push(k),f+=8+_.length,!i){(k=we(8)).write_shift(4,0),s.unshift(k);var w=[we(4)];for(w[0].write_shift(4,t.length),g=0;g<t.length;++g){var C=t[g][0];for((_=we(8+2*(C.length+1)+(C.length%2?0:2))).write_shift(4,g+2),_.write_shift(4,C.length+1),_.write_shift(0,C,"dbcs");_.l!=_.length;)_.write_shift(1,0);w.push(_)}_=ei(w),d.unshift(_),f+=8+_.length}for(g=0;g<t.length;++g)if((!i||i[t[g][0]])&&!(Ca.indexOf(t[g][0])>-1||oo.indexOf(t[g][0])>-1)&&null!=t[g][1]){var A=t[g][1],T=0;if(i){var E=n[T=+i[t[g][0]]];if("version"==E.p&&"string"==typeof A){var S=A.split(".");A=(+S[0]<<16)+(+S[1]||0)}_=cw(E.t,A)}else{var M=VA(A);-1==M&&(M=31,A=String(A)),_=cw(M,A)}d.push(_),(k=we(8)).write_shift(4,i?T:2+g),s.push(k),f+=8+_.length}var F=8*(d.length+1);for(g=0;g<d.length;++g)s[g].write_shift(4,F),F+=d[g].length;return o.write_shift(4,f),o.write_shift(4,d.length),ei([o].concat(s).concat(d))}function Kg(t,i,n,o,s,d){var f=we(s?68:48),g=[f];f.write_shift(2,65534),f.write_shift(2,0),f.write_shift(4,842412599),f.write_shift(16,tt.utils.consts.HEADER_CLSID,"hex"),f.write_shift(4,s?2:1),f.write_shift(16,i,"hex"),f.write_shift(4,s?68:48);var _=uu(t,n,o);if(g.push(_),s){var k=uu(s,null,null);f.write_shift(16,d,"hex"),f.write_shift(4,68+_.length),g.push(k)}return ei(g)}function qi(t,i){return i||(i=we(2)),i.write_shift(2,+!!t),i}function Wn(t){return t.read_shift(2,"u")}function vr(t,i){return i||(i=we(2)),i.write_shift(2,t),i}function pw(t,i,n){return n||(n=we(2)),n.write_shift(1,"e"==i?+t:+!!t),n.write_shift(1,"e"==i?1:0),n}function hd(t,i,n){var o=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont",d=$i;n&&n.biff>=8&&($i=1200),n&&8!=n.biff?12==n.biff&&(s="wstr"):t.read_shift(1)&&(s="dbcs-cont"),n.biff>=2&&n.biff<=5&&(s="cpstr");var g=o?t.read_shift(o,s):"";return $i=d,g}function jA(t){var i=t.t||"",o=we(3);o.write_shift(2,i.length),o.write_shift(1,1);var s=we(2*i.length);return s.write_shift(2*i.length,i,"utf16le"),ei([o,s])}function mw(t,i,n){return n||(n=we(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function bw(t,i){i||(i=we(6+2*t.length)),i.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)i.write_shift(2,t.charCodeAt(n));return i.write_shift(2,0),i}function qA(t){var i=we(512),n=0,o=t.Target;"file://"==o.slice(0,7)&&(o=o.slice(7));var s=o.indexOf("#"),d=s>-1?31:23;switch(o.charAt(0)){case"#":d=28;break;case".":d&=-3}i.write_shift(4,2),i.write_shift(4,d);var f=[8,6815827,6619237,4849780,83];for(n=0;n<f.length;++n)i.write_shift(4,f[n]);if(28==d)bw(o=o.slice(1),i);else if(2&d){for(f="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<f.length;++n)i.write_shift(1,parseInt(f[n],16));var g=s>-1?o.slice(0,s):o;for(i.write_shift(4,2*(g.length+1)),n=0;n<g.length;++n)i.write_shift(2,g.charCodeAt(n));i.write_shift(2,0),8&d&&bw(s>-1?o.slice(s+1):"",i)}else{for(f="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<f.length;++n)i.write_shift(1,parseInt(f[n],16));for(var _=0;"../"==o.slice(3*_,3*_+3)||"..\\"==o.slice(3*_,3*_+3);)++_;for(i.write_shift(2,_),i.write_shift(4,o.length-3*_+1),n=0;n<o.length-3*_;++n)i.write_shift(1,255&o.charCodeAt(n+3*_));for(i.write_shift(1,0),i.write_shift(2,65535),i.write_shift(2,57005),n=0;n<6;++n)i.write_shift(4,0)}return i.slice(0,i.l)}function Ls(t,i,n,o){return o||(o=we(6)),o.write_shift(2,t),o.write_shift(2,i),o.write_shift(2,n||0),o}function ya(t,i,n){var o=n.biff>8?4:2;return[t.read_shift(o),t.read_shift(o,"i"),t.read_shift(o,"i")]}function fd(t){var i=t.read_shift(2),n=t.read_shift(2);return{s:{c:t.read_shift(2),r:i},e:{c:t.read_shift(2),r:n}}}function vw(t,i){return i||(i=we(8)),i.write_shift(2,t.s.r),i.write_shift(2,t.e.r),i.write_shift(2,t.s.c),i.write_shift(2,t.e.c),i}function mu(t,i,n){var o=1536,s=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":o=1280,s=8;break;case"biff4":o=4,s=6;break;case"biff3":o=3,s=6;break;case"biff2":o=2,s=4;break;default:throw new Error("unsupported BIFF version")}var d=we(s);return d.write_shift(2,o),d.write_shift(2,i),s>4&&d.write_shift(2,29282),s>6&&d.write_shift(2,1997),s>8&&(d.write_shift(2,49161),d.write_shift(2,1),d.write_shift(2,1798),d.write_shift(2,0)),d}function Mw(t,i){var n=!i||i.biff>=8?2:1,o=we(8+n*t.name.length);o.write_shift(4,t.pos),o.write_shift(1,t.hs||0),o.write_shift(1,t.dt),o.write_shift(1,t.name.length),i.biff>=8&&o.write_shift(1,1),o.write_shift(n*t.name.length,t.name,i.biff<8?"sbcs":"utf16le");var s=o.slice(0,o.l);return s.l=o.l,s}function Ow(t,i,n,o){var s=n&&5==n.biff;o||(o=we(s?3+i.length:5+2*i.length)),o.write_shift(2,t),o.write_shift(s?1:2,i.length),s||o.write_shift(1,1),o.write_shift((s?1:2)*i.length,i,s?"sbcs":"utf16le");var d=o.length>o.l?o.slice(0,o.l):o;return null==d.l&&(d.l=d.length),d}function nm(t,i,n,o){var s=n&&5==n.biff;o||(o=we(s?16:20)),o.write_shift(2,0),t.style?(o.write_shift(2,t.numFmtId||0),o.write_shift(2,65524)):(o.write_shift(2,t.numFmtId||0),o.write_shift(2,i<<4));var d=0;return t.numFmtId>0&&s&&(d|=1024),o.write_shift(4,d),o.write_shift(4,0),s||o.write_shift(4,0),o.write_shift(2,0),o}function wy(t){var i=we(24),n=Un(t[0]);i.write_shift(2,n.r),i.write_shift(2,n.r),i.write_shift(2,n.c),i.write_shift(2,n.c);for(var o="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)i.write_shift(1,parseInt(o[s],16));return ei([i,qA(t[1])])}function bu(t){var i=t[1].Tooltip,n=we(10+2*(i.length+1));n.write_shift(2,2048);var o=Un(t[0]);n.write_shift(2,o.r),n.write_shift(2,o.r),n.write_shift(2,o.c),n.write_shift(2,o.c);for(var s=0;s<i.length;++s)n.write_shift(2,i.charCodeAt(s));return n.write_shift(2,0),n}var pm=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},i=br({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function o(g,_){var k=_||{};k.dateNF||(k.dateNF="yyyymmdd");var w=ga(function n(g,_){var k=[],w=Cs(1);switch(_.type){case"base64":w=gr(pr(g));break;case"binary":w=gr(g);break;case"buffer":case"array":w=g}_i(w,0);var C=w.read_shift(1),A=!!(136&C),T=!1,E=!1;switch(C){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:T=!0,A=!0;break;case 140:E=!0;break;default:throw new Error("DBF Unsupported Version: "+C.toString(16))}var S=0,M=521;2==C&&(S=w.read_shift(2)),w.l+=3,2!=C&&(S=w.read_shift(4)),S>1048576&&(S=1e6),2!=C&&(M=w.read_shift(2));var F=w.read_shift(2),N=_.codepage||1252;2!=C&&(w.l+=16,w.read_shift(1),0!==w[w.l]&&(N=t[w[w.l]]),w.l+=1,w.l+=2),E&&(w.l+=36);for(var L=[],W={},Z=Math.min(w.length,2==C?521:M-10-(T?264:0)),X=E?32:11;w.l<Z&&13!=w[w.l];)switch(W={},W.name=Ft.utils.decode(N,w.slice(w.l,w.l+X)).replace(/[\u0000\r\n].*$/g,""),w.l+=X,W.type=String.fromCharCode(w.read_shift(1)),2!=C&&!E&&(W.offset=w.read_shift(4)),W.len=w.read_shift(1),2==C&&(W.offset=w.read_shift(2)),W.dec=w.read_shift(1),W.name.length&&L.push(W),2!=C&&(w.l+=E?13:14),W.type){case"B":(!T||8!=W.len)&&_.WTF&&console.log("Skipping "+W.name+":"+W.type);break;case"G":case"P":_.WTF&&console.log("Skipping "+W.name+":"+W.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+W.type)}if(13!==w[w.l]&&(w.l=M-1),13!==w.read_shift(1))throw new Error("DBF Terminator not found "+w.l+" "+w[w.l]);w.l=M;var V=0,K=0;for(k[0]=[],K=0;K!=L.length;++K)k[0][K]=L[K].name;for(;S-- >0;)if(42!==w[w.l])for(++w.l,k[++V]=[],K=0,K=0;K!=L.length;++K){var te=w.slice(w.l,w.l+L[K].len);w.l+=L[K].len,_i(te,0);var ae=Ft.utils.decode(N,te);switch(L[K].type){case"C":ae.trim().length&&(k[V][K]=ae.replace(/\s+$/,""));break;case"D":k[V][K]=8===ae.length?new Date(+ae.slice(0,4),+ae.slice(4,6)-1,+ae.slice(6,8)):ae;break;case"F":k[V][K]=parseFloat(ae.trim());break;case"+":case"I":k[V][K]=E?2147483648^te.read_shift(-4,"i"):te.read_shift(4,"i");break;case"L":switch(ae.trim().toUpperCase()){case"Y":case"T":k[V][K]=!0;break;case"N":case"F":k[V][K]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ae+"|")}break;case"M":if(!A)throw new Error("DBF Unexpected MEMO for type "+C.toString(16));k[V][K]="##MEMO##"+(E?parseInt(ae.trim(),10):te.read_shift(4));break;case"N":(ae=ae.replace(/\u0000/g,"").trim())&&"."!=ae&&(k[V][K]=+ae||0);break;case"@":k[V][K]=new Date(te.read_shift(-8,"f")-621356832e5);break;case"T":k[V][K]=new Date(864e5*(te.read_shift(4)-2440588)+te.read_shift(4));break;case"Y":k[V][K]=te.read_shift(4,"i")/1e4+te.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":k[V][K]=-te.read_shift(-8,"f");break;case"B":if(T&&8==L[K].len){k[V][K]=te.read_shift(8,"f");break}case"G":case"P":te.l+=L[K].len;break;case"0":if("_NullFlags"===L[K].name)break;default:throw new Error("DBF Unsupported data type "+L[K].type)}}else w.l+=F;if(2!=C&&w.l<w.length&&26!=w[w.l++])throw new Error("DBF EOF Marker missing "+(w.l-1)+" of "+w.length+" "+w[w.l-1].toString(16));return _&&_.sheetRows&&(k=k.slice(0,_.sheetRows)),_.DBF=L,k}(g,k),k);return w["!cols"]=k.DBF.map(function(C){return{wch:C.len,DBF:C}}),delete k.DBF,w}var d={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function s(g,_){try{return ro(o(g,_),_)}catch(k){if(_&&_.WTF)throw k}return{SheetNames:[],Sheets:{}}},to_sheet:o,from_sheet:function f(g,_){var k=_||{};if(+k.codepage>=0&&Ci(+k.codepage),"string"==k.type)throw new Error("Cannot write DBF to JS string");var w=Oi(),C=P1(g,{header:1,raw:!0,cellDates:!0}),A=C[0],T=C.slice(1),E=g["!cols"]||[],S=0,M=0,F=0,N=1;for(S=0;S<A.length;++S)if(((E[S]||{}).DBF||{}).name)A[S]=E[S].DBF.name,++F;else if(null!=A[S]){if(++F,"number"==typeof A[S]&&(A[S]=A[S].toString(10)),"string"!=typeof A[S])throw new Error("DBF Invalid column name "+A[S]+" |"+typeof A[S]+"|");if(A.indexOf(A[S])!==S)for(M=0;M<1024;++M)if(-1==A.indexOf(A[S]+"_"+M)){A[S]+="_"+M;break}}var L=Tt(g["!ref"]),W=[],Z=[],X=[];for(S=0;S<=L.e.c-L.s.c;++S){var V="",K="",te=0,ae=[];for(M=0;M<T.length;++M)null!=T[M][S]&&ae.push(T[M][S]);if(0!=ae.length&&null!=A[S]){for(M=0;M<ae.length;++M){switch(typeof ae[M]){case"number":K="B";break;case"string":default:K="C";break;case"boolean":K="L";break;case"object":K=ae[M]instanceof Date?"D":"C"}te=Math.max(te,String(ae[M]).length),V=V&&V!=K?"C":K}te>250&&(te=250),"C"==(K=((E[S]||{}).DBF||{}).type)&&E[S].DBF.len>te&&(te=E[S].DBF.len),"B"==V&&"N"==K&&(V="N",X[S]=E[S].DBF.dec,te=E[S].DBF.len),Z[S]="C"==V||"N"==K?te:d[V]||0,N+=Z[S],W[S]=V}else W[S]="?"}var le=w.next(32);for(le.write_shift(4,318902576),le.write_shift(4,T.length),le.write_shift(2,296+32*F),le.write_shift(2,N),S=0;S<4;++S)le.write_shift(4,0);for(le.write_shift(4,0|(+i[ws]||3)<<8),S=0,M=0;S<A.length;++S)if(null!=A[S]){var re=w.next(32),Me=(A[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);re.write_shift(1,Me,"sbcs"),re.write_shift(1,"?"==W[S]?"C":W[S],"sbcs"),re.write_shift(4,M),re.write_shift(1,Z[S]||d[W[S]]||0),re.write_shift(1,X[S]||0),re.write_shift(1,2),re.write_shift(4,0),re.write_shift(1,0),re.write_shift(4,0),re.write_shift(4,0),M+=Z[S]||d[W[S]]||0}var He=w.next(264);for(He.write_shift(4,13),S=0;S<65;++S)He.write_shift(4,0);for(S=0;S<T.length;++S){var Se=w.next(N);for(Se.write_shift(1,0),M=0;M<A.length;++M)if(null!=A[M])switch(W[M]){case"L":Se.write_shift(1,null==T[S][M]?63:T[S][M]?84:70);break;case"B":Se.write_shift(8,T[S][M]||0,"f");break;case"N":var qe="0";for("number"==typeof T[S][M]&&(qe=T[S][M].toFixed(X[M]||0)),F=0;F<Z[M]-qe.length;++F)Se.write_shift(1,32);Se.write_shift(1,qe,"sbcs");break;case"D":T[S][M]?(Se.write_shift(4,("0000"+T[S][M].getFullYear()).slice(-4),"sbcs"),Se.write_shift(2,("00"+(T[S][M].getMonth()+1)).slice(-2),"sbcs"),Se.write_shift(2,("00"+T[S][M].getDate()).slice(-2),"sbcs")):Se.write_shift(8,"00000000","sbcs");break;case"C":var ze=String(null!=T[S][M]?T[S][M]:"").slice(0,Z[M]);for(Se.write_shift(1,ze,"sbcs"),F=0;F<Z[M]-ze.length;++F)Se.write_shift(1,32)}}return w.next(1).write_shift(1,26),w.end()}}}(),Qw=function(){var t={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},i=new RegExp("\x1bN("+Nn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(A,T){var E=t[T];return"number"==typeof E?Rh(E):E},o=function(A,T,E){var S=T.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return 59==S?A:Rh(S)};function d(A,T){var le,E=A.split(/[\n\r]+/),S=-1,M=-1,F=0,N=0,L=[],W=[],Z=null,X={},V=[],K=[],te=[],ae=0;for(+T.codepage>=0&&Ci(+T.codepage);F!==E.length;++F){ae=0;var Se,re=E[F].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,o).replace(i,n),Me=re.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")});if(re.length>0)switch(Me[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Me[1].charAt(0)&&W.push(re.slice(3).replace(/;;/g,";"));break;case"C":var qe=!1,ze=!1,dt=!1,Fe=!1,nt=-1,ye=-1;for(N=1;N<Me.length;++N)switch(Me[N].charAt(0)){case"A":case"G":break;case"X":M=parseInt(Me[N].slice(1))-1,ze=!0;break;case"Y":for(S=parseInt(Me[N].slice(1))-1,ze||(M=0),le=L.length;le<=S;++le)L[le]=[];break;case"K":'"'===(Se=Me[N].slice(1)).charAt(0)?Se=Se.slice(1,Se.length-1):"TRUE"===Se?Se=!0:"FALSE"===Se?Se=!1:isNaN(eo(Se))?isNaN(pa(Se).getDate())||(Se=fn(Se)):(Se=eo(Se),null!==Z&&ua(Z)&&(Se=Jp(Se))),qe=!0;break;case"E":Fe=!0;var Q=Bu(Me[N].slice(1),{r:S,c:M});L[S][M]=[L[S][M],Q];break;case"S":dt=!0,L[S][M]=[L[S][M],"S5S"];break;case"R":nt=parseInt(Me[N].slice(1))-1;break;case"C":ye=parseInt(Me[N].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+re)}if(qe&&(L[S][M]&&2==L[S][M].length?L[S][M][0]=Se:L[S][M]=Se,Z=null),dt){if(Fe)throw new Error("SYLK shared formula cannot have own formula");var fe=nt>-1&&L[nt][ye];if(!fe||!fe[1])throw new Error("SYLK shared formula cannot find base");L[S][M][1]=K2(fe[1],{r:S-nt,c:M-ye})}break;case"F":var ie=0;for(N=1;N<Me.length;++N)switch(Me[N].charAt(0)){case"X":M=parseInt(Me[N].slice(1))-1,++ie;break;case"Y":for(S=parseInt(Me[N].slice(1))-1,le=L.length;le<=S;++le)L[le]=[];break;case"M":ae=parseInt(Me[N].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Z=W[parseInt(Me[N].slice(1))];break;case"W":for(te=Me[N].slice(1).split(" "),le=parseInt(te[0],10);le<=parseInt(te[1],10);++le)ae=parseInt(te[2],10),K[le-1]=0===ae?{hidden:!0}:{wch:ae},zs(K[le-1]);break;case"C":K[M=parseInt(Me[N].slice(1))-1]||(K[M]={});break;case"R":V[S=parseInt(Me[N].slice(1))-1]||(V[S]={}),ae>0?(V[S].hpt=ae,V[S].hpx=vd(ae)):0===ae&&(V[S].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+re)}ie<1&&(Z=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+re)}}return V.length>0&&(X["!rows"]=V),K.length>0&&(X["!cols"]=K),T&&T.sheetRows&&(L=L.slice(0,T.sheetRows)),[L,X]}function f(A,T){var E=function s(A,T){switch(T.type){case"base64":return d(pr(A),T);case"binary":return d(A,T);case"buffer":return d(Ct&&Buffer.isBuffer(A)?A.toString("binary"):Jr(A),T);case"array":return d(Ds(A),T)}throw new Error("Unrecognized type "+T.type)}(A,T),M=E[1],F=ga(E[0],T);return Nn(M).forEach(function(N){F[N]=M[N]}),F}function _(A,T,E,S){var M="C;Y"+(E+1)+";X"+(S+1)+";K";switch(A.t){case"n":M+=A.v||0,A.f&&!A.F&&(M+=";E"+Zy(A.f,{r:E,c:S}));break;case"b":M+=A.v?"TRUE":"FALSE";break;case"e":M+=A.w||A.v;break;case"d":M+='"'+(A.w||A.v)+'"';break;case"s":M+='"'+A.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return M}return t["|"]=254,{to_workbook:function g(A,T){return ro(f(A,T),T)},to_sheet:f,from_sheet:function C(A,T){var F,E=["ID;PWXL;N;E"],S=[],M=Tt(A["!ref"]),N=Array.isArray(A),L="\r\n";E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),A["!cols"]&&function k(A,T){T.forEach(function(E,S){var M="F;W"+(S+1)+" "+(S+1)+" ";E.hidden?M+="0":("number"==typeof E.width&&!E.wpx&&(E.wpx=kd(E.width)),"number"==typeof E.wpx&&!E.wch&&(E.wch=wd(E.wpx)),"number"==typeof E.wch&&(M+=Math.round(E.wch)))," "!=M.charAt(M.length-1)&&A.push(M)})}(E,A["!cols"]),A["!rows"]&&function w(A,T){T.forEach(function(E,S){var M="F;";E.hidden?M+="M0;":E.hpt?M+="M"+20*E.hpt+";":E.hpx&&(M+="M"+20*Wl(E.hpx)+";"),M.length>2&&A.push(M+"R"+(S+1))})}(E,A["!rows"]),E.push("B;Y"+(M.e.r-M.s.r+1)+";X"+(M.e.c-M.s.c+1)+";D"+[M.s.c,M.s.r,M.e.c,M.e.r].join(" "));for(var W=M.s.r;W<=M.e.r;++W)for(var Z=M.s.c;Z<=M.e.c;++Z){var X=st({r:W,c:Z});(F=N?(A[W]||[])[Z]:A[X])&&(null!=F.v||F.f&&!F.F)&&S.push(_(F,0,W,Z))}return E.join(L)+L+S.join(L)+L+"E"+L}}}(),Jw=function(){function i(d,f){for(var g=d.split("\n"),_=-1,k=-1,w=0,C=[];w!==g.length;++w)if("BOT"!==g[w].trim()){if(!(_<0)){for(var A=g[w].trim().split(","),T=A[0],E=A[1],S=g[++w]||"";1&(S.match(/["]/g)||[]).length&&w<g.length-1;)S+="\n"+g[++w];switch(S=S.trim(),+T){case-1:if("BOT"===S){C[++_]=[],k=0;continue}if("EOD"!==S)throw new Error("Unrecognized DIF special command "+S);break;case 0:C[_][k]="TRUE"===S||"FALSE"!==S&&(isNaN(eo(E))?isNaN(pa(E).getDate())?E:fn(E):eo(E)),++k;break;case 1:(S=(S=S.slice(1,S.length-1)).replace(/""/g,'"'))&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),C[_][k++]=""!==S?S:null}if("EOD"===S)break}}else C[++_]=[],k=0;return f&&f.sheetRows&&(C=C.slice(0,f.sheetRows)),C}function n(d,f){return ga(function t(d,f){switch(f.type){case"base64":return i(pr(d),f);case"binary":return i(d,f);case"buffer":return i(Ct&&Buffer.isBuffer(d)?d.toString("binary"):Jr(d),f);case"array":return i(Ds(d),f)}throw new Error("Unrecognized type "+f.type)}(d,f),f)}return{to_workbook:function o(d,f){return ro(n(d,f),f)},to_sheet:n,from_sheet:function(){var d=function(_,k,w,C,A){_.push(k),_.push(w+","+C),_.push('"'+A.replace(/"/g,'""')+'"')},f=function(_,k,w,C){_.push(k+","+w),_.push(1==k?'"'+C.replace(/"/g,'""')+'"':C)};return function(_){var C,k=[],w=Tt(_["!ref"]),A=Array.isArray(_);d(k,"TABLE",0,1,"sheetjs"),d(k,"VECTORS",0,w.e.r-w.s.r+1,""),d(k,"TUPLES",0,w.e.c-w.s.c+1,""),d(k,"DATA",0,0,"");for(var T=w.s.r;T<=w.e.r;++T){f(k,-1,0,"BOT");for(var E=w.s.c;E<=w.e.c;++E){var S=st({r:T,c:E});if(C=A?(_[T]||[])[E]:_[S])switch(C.t){case"n":var M=C.w;!M&&null!=C.v&&(M=C.v),null==M?f(k,1,0,C.f&&!C.F?"="+C.f:""):f(k,0,M,"V");break;case"b":f(k,0,C.v?1:0,C.v?"TRUE":"FALSE");break;case"s":f(k,1,0,isNaN(C.v)?C.v:'="'+C.v+'"');break;case"d":C.w||(C.w=_r(C.z||ot[14],pi(fn(C.v)))),f(k,0,C.w,"V");break;default:f(k,1,0,"")}else f(k,1,0,"")}}return f(k,-1,0,"EOD"),k.join("\r\n")}}()}}(),Xw=function(){function t(C){return C.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function i(C){return C.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function o(C,A){return ga(function n(C,A){for(var T=C.split("\n"),E=-1,S=-1,M=0,F=[];M!==T.length;++M){var N=T[M].trim().split(":");if("cell"===N[0]){var L=Un(N[1]);if(F.length<=L.r)for(E=F.length;E<=L.r;++E)F[E]||(F[E]=[]);switch(E=L.r,S=L.c,N[2]){case"t":F[E][S]=t(N[3]);break;case"v":F[E][S]=+N[3];break;case"vtf":var W=N[N.length-1];case"vtc":F[E][S]="nl"===N[3]?!!+N[4]:+N[4],"vtf"==N[2]&&(F[E][S]=[F[E][S],W])}}}return A&&A.sheetRows&&(F=F.slice(0,A.sheetRows)),F}(C,A),A)}var d=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),f=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",g=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),_="--SocialCalcSpreadsheetControlSave--";function k(C){if(!C||!C["!ref"])return"";for(var E,A=[],T=[],S="",M=Bi(C["!ref"]),F=Array.isArray(C),N=M.s.r;N<=M.e.r;++N)for(var L=M.s.c;L<=M.e.c;++L)if(S=st({r:N,c:L}),(E=F?(C[N]||[])[L]:C[S])&&null!=E.v&&"z"!==E.t){switch(T=["cell",S,"t"],E.t){case"s":case"str":T.push(i(E.v));break;case"n":E.f?(T[2]="vtf",T[3]="n",T[4]=E.v,T[5]=i(E.f)):(T[2]="v",T[3]=E.v);break;case"b":T[2]="vt"+(E.f?"f":"c"),T[3]="nl",T[4]=E.v?"1":"0",T[5]=i(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var W=pi(fn(E.v));T[2]="vtc",T[3]="nd",T[4]=""+W,T[5]=E.w||_r(E.z||ot[14],W);break;case"e":continue}A.push(T.join(":"))}return A.push("sheet:c:"+(M.e.c-M.s.c+1)+":r:"+(M.e.r-M.s.r+1)+":tvf:1"),A.push("valueformat:1:text-wiki"),A.join("\n")}return{to_workbook:function s(C,A){return ro(o(C,A),A)},to_sheet:o,from_sheet:function w(C){return[d,f,g,f,k(C),_].join("\n")}}}(),Hl=function(){function t(w,C,A,T,E){E.raw?C[A][T]=w:""===w||(C[A][T]="TRUE"===w||"FALSE"!==w&&(isNaN(eo(w))?isNaN(pa(w).getDate())?w:fn(w):eo(w)))}var n={44:",",9:"\t",59:";",124:"|"},o={44:3,9:2,59:1,124:0};function s(w){for(var C={},A=!1,T=0,E=0;T<w.length;++T)34==(E=w.charCodeAt(T))?A=!A:!A&&E in n&&(C[E]=(C[E]||0)+1);for(T in E=[],C)Object.prototype.hasOwnProperty.call(C,T)&&E.push([C[T],T]);if(!E.length)for(T in C=o)Object.prototype.hasOwnProperty.call(C,T)&&E.push([C[T],T]);return E.sort(function(S,M){return S[0]-M[0]||o[S[1]]-o[M[1]]}),n[E.pop()[1]]||44}function f(w,C){return!C||!C.PRN||C.FS||"sep="==w.slice(0,4)||w.indexOf("\t")>=0||w.indexOf(",")>=0||w.indexOf(";")>=0?function d(w,C){var A=C||{},T="",E=A.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};"sep="==w.slice(0,4)?13==w.charCodeAt(5)&&10==w.charCodeAt(6)?(T=w.charAt(4),w=w.slice(7)):13==w.charCodeAt(5)||10==w.charCodeAt(5)?(T=w.charAt(4),w=w.slice(6)):T=s(w.slice(0,1024)):T=A&&A.FS?A.FS:s(w.slice(0,1024));var M=0,F=0,N=0,L=0,W=0,Z=T.charCodeAt(0),X=!1,V=0,K=w.charCodeAt(0);w=w.replace(/\r\n/gm,"\n");var te=null!=A.dateNF?function lk(t){var i="number"==typeof t?ot[t]:t;return i=i.replace(Yp,"(\\d+)"),new RegExp("^"+i+"$")}(A.dateNF):null;function ae(){var le=w.slice(L,W),re={};if('"'==le.charAt(0)&&'"'==le.charAt(le.length-1)&&(le=le.slice(1,-1).replace(/""/g,'"')),0===le.length)re.t="z";else if(A.raw)re.t="s",re.v=le;else if(0===le.trim().length)re.t="s",re.v=le;else if(61==le.charCodeAt(0))34==le.charCodeAt(1)&&34==le.charCodeAt(le.length-1)?(re.t="s",re.v=le.slice(2,-1).replace(/""/g,'"')):function YE(t){return 1!=t.length}(le)?(re.t="n",re.f=le.slice(1)):(re.t="s",re.v=le);else if("TRUE"==le)re.t="b",re.v=!0;else if("FALSE"==le)re.t="b",re.v=!1;else if(isNaN(N=eo(le)))if(!isNaN(pa(le).getDate())||te&&le.match(te)){re.z=A.dateNF||ot[14];var Me=0;te&&le.match(te)&&(le=function rA(t,i,n){var o=-1,s=-1,d=-1,f=-1,g=-1,_=-1;(i.match(Yp)||[]).forEach(function(C,A){var T=parseInt(n[A+1],10);switch(C.toLowerCase().charAt(0)){case"y":o=T;break;case"d":d=T;break;case"h":f=T;break;case"s":_=T;break;case"m":f>=0?g=T:s=T}}),_>=0&&-1==g&&s>=0&&(g=s,s=-1);var k=(""+(o>=0?o:(new Date).getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(d>=1?d:1)).slice(-2);7==k.length&&(k="0"+k),8==k.length&&(k="20"+k);var w=("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2)+":"+("00"+(_>=0?_:0)).slice(-2);return-1==f&&-1==g&&-1==_?k:-1==o&&-1==s&&-1==d?w:k+"T"+w}(0,A.dateNF,le.match(te)||[]),Me=1),A.cellDates?(re.t="d",re.v=fn(le,Me)):(re.t="n",re.v=pi(fn(le,Me))),!1!==A.cellText&&(re.w=_r(re.z,re.v instanceof Date?pi(re.v):re.v)),A.cellNF||delete re.z}else re.t="s",re.v=le;else re.t="n",!1!==A.cellText&&(re.w=le),re.v=N;if("z"==re.t||(A.dense?(E[M]||(E[M]=[]),E[M][F]=re):E[st({c:F,r:M})]=re),K=w.charCodeAt(L=W+1),S.e.c<F&&(S.e.c=F),S.e.r<M&&(S.e.r=M),V==Z)++F;else if(F=0,++M,A.sheetRows&&A.sheetRows<=M)return!0}e:for(;W<w.length;++W)switch(V=w.charCodeAt(W)){case 34:34===K&&(X=!X);break;case Z:case 10:case 13:if(!X&&ae())break e}return W-L>0&&ae(),E["!ref"]=pt(S),E}(w,C):ga(function i(w,C){var A=C||{},T=[];if(!w||0===w.length)return T;for(var E=w.split(/[\r\n]/),S=E.length-1;S>=0&&0===E[S].length;)--S;for(var M=10,F=0,N=0;N<=S;++N)-1==(F=E[N].indexOf(" "))?F=E[N].length:F++,M=Math.max(M,F);for(N=0;N<=S;++N){T[N]=[];var L=0;for(t(E[N].slice(0,M).trim(),T,N,L,A),L=1;L<=(E[N].length-M)/10+1;++L)t(E[N].slice(M+10*(L-1),M+10*L).trim(),T,N,L,A)}return A.sheetRows&&(T=T.slice(0,A.sheetRows)),T}(w,C),C)}function g(w,C){var A="",T="string"==C.type?[0,0,0,0]:function l2(t,i){var n="";switch((i||{}).type||"base64"){case"buffer":case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=pr(t.slice(0,12));break;case"binary":n=t;break;default:throw new Error("Unrecognized type "+(i&&i.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}(w,C);switch(C.type){case"base64":A=pr(w);break;case"binary":case"string":A=w;break;case"buffer":A=65001==C.codepage?w.toString("utf8"):Ct&&Buffer.isBuffer(w)?w.toString("binary"):Jr(w);break;case"array":A=Ds(w);break;default:throw new Error("Unrecognized type "+C.type)}return 239==T[0]&&187==T[1]&&191==T[2]?A=an(A.slice(3)):"string"!=C.type&&"buffer"!=C.type&&65001==C.codepage&&(A=an(A)),"socialcalc:version:"==A.slice(0,19)?Xw.to_sheet("string"==C.type?A:an(A),C):f(A,C)}return{to_workbook:function _(w,C){return ro(g(w,C),C)},to_sheet:g,from_sheet:function k(w){for(var T,C=[],A=Tt(w["!ref"]),E=Array.isArray(w),S=A.s.r;S<=A.e.r;++S){for(var M=[],F=A.s.c;F<=A.e.c;++F){var N=st({r:S,c:F});if((T=E?(w[S]||[])[F]:w[N])&&null!=T.v){for(var L=(T.w||(io(T),T.w)||"").slice(0,10);L.length<10;)L+=" ";M.push(L+(0===F?" ":""))}else M.push("          ")}C.push(M.join(""))}return C.join("\n")}}}(),Da=function(){function t(Q,fe,ie){if(Q){_i(Q,Q.l||0);for(var ne=ie.Enum||nt;Q.l<Q.length;){var ve=Q.read_shift(2),Ze=ne[ve]||ne[65535],Be=Q.read_shift(2),Le=Q.l+Be,Ee=Ze.f&&Ze.f(Q,Be,ie);if(Q.l=Le,fe(Ee,Ze,ve))return}}}function n(Q,fe){if(!Q)return Q;var ie=fe||{},ne=ie.dense?[]:{},ve="Sheet1",Ze="",Be=0,Le={},Ee=[],At=[],J={s:{r:0,c:0},e:{r:0,c:0}},nn=ie.sheetRows||0;if(0==Q[2]&&(8==Q[3]||9==Q[3])&&Q.length>=16&&5==Q[14]&&108===Q[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Q[2])ie.Enum=nt,t(Q,function(Ge,si,xo){switch(xo){case 0:ie.vers=Ge,Ge>=4096&&(ie.qpro=!0);break;case 6:J=Ge;break;case 204:Ge&&(Ze=Ge);break;case 222:Ze=Ge;break;case 15:case 51:ie.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:14==xo&&112==(112&Ge[2])&&(15&Ge[2])>1&&(15&Ge[2])<15&&(Ge[1].z=ie.dateNF||ot[14],ie.cellDates&&(Ge[1].t="d",Ge[1].v=Jp(Ge[1].v))),ie.qpro&&Ge[3]>Be&&(ne["!ref"]=pt(J),Le[ve]=ne,Ee.push(ve),ne=ie.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},Be=Ge[3],ve=Ze||"Sheet"+(Be+1),Ze="");var Hs=ie.dense?(ne[Ge[0].r]||[])[Ge[0].c]:ne[st(Ge[0])];if(Hs){Hs.t=Ge[1].t,Hs.v=Ge[1].v,null!=Ge[1].z&&(Hs.z=Ge[1].z),null!=Ge[1].f&&(Hs.f=Ge[1].f);break}ie.dense?(ne[Ge[0].r]||(ne[Ge[0].r]=[]),ne[Ge[0].r][Ge[0].c]=Ge[1]):ne[st(Ge[0])]=Ge[1]}},ie);else{if(26!=Q[2]&&14!=Q[2])throw new Error("Unrecognized LOTUS BOF "+Q[2]);ie.Enum=ye,14==Q[2]&&(ie.qpro=!0,Q.l=0),t(Q,function(Ge,si,xo){switch(xo){case 204:ve=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>Be&&(ne["!ref"]=pt(J),Le[ve]=ne,Ee.push(ve),ne=ie.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ve="Sheet"+((Be=Ge[3])+1)),nn>0&&Ge[0].r>=nn)break;ie.dense?(ne[Ge[0].r]||(ne[Ge[0].r]=[]),ne[Ge[0].r][Ge[0].c]=Ge[1]):ne[st(Ge[0])]=Ge[1],J.e.c<Ge[0].c&&(J.e.c=Ge[0].c),J.e.r<Ge[0].r&&(J.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(At[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:At[Ge[0]]=Ge[1],Ge[0]==Be&&(ve=Ge[1])}},ie)}if(ne["!ref"]=pt(J),Le[Ze||ve]=ne,Ee.push(Ze||ve),!At.length)return{SheetNames:Ee,Sheets:Le};for(var Mt={},rn=[],It=0;It<At.length;++It)Le[Ee[It]]?(rn.push(At[It]||Ee[It]),Mt[At[It]]=Le[At[It]]||Le[Ee[It]]):(rn.push(At[It]),Mt[At[It]]={"!ref":"A1"});return{SheetNames:rn,Sheets:Mt}}function k(Q,fe,ie){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return ie.qpro&&20768!=ie.vers?(ne[0].c=Q.read_shift(1),ne[3]=Q.read_shift(1),ne[0].r=Q.read_shift(2),Q.l+=2):(ne[2]=Q.read_shift(1),ne[0].c=Q.read_shift(2),ne[0].r=Q.read_shift(2)),ne}function w(Q,fe,ie){var ne=Q.l+fe,ve=k(Q,0,ie);if(ve[1].t="s",20768==ie.vers){Q.l++;var Ze=Q.read_shift(1);return ve[1].v=Q.read_shift(Ze,"utf8"),ve}return ie.qpro&&Q.l++,ve[1].v=Q.read_shift(ne-Q.l,"cstr"),ve}function C(Q,fe,ie){var ne=we(7+ie.length);ne.write_shift(1,255),ne.write_shift(2,fe),ne.write_shift(2,Q),ne.write_shift(1,39);for(var ve=0;ve<ne.length;++ve){var Ze=ie.charCodeAt(ve);ne.write_shift(1,Ze>=128?95:Ze)}return ne.write_shift(1,0),ne}function T(Q,fe,ie){var ne=we(7);return ne.write_shift(1,255),ne.write_shift(2,fe),ne.write_shift(2,Q),ne.write_shift(2,ie,"i"),ne}function S(Q,fe,ie){var ne=we(13);return ne.write_shift(1,255),ne.write_shift(2,fe),ne.write_shift(2,Q),ne.write_shift(8,ie,"f"),ne}function F(Q,fe,ie){var ne=32768&fe;return fe=(ne?Q:0)+((fe&=-32769)>=8192?fe-16384:fe),(ne?"":"$")+(ie?pn(fe):Ln(fe))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},L=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Z(Q){var fe=[{c:0,r:0},{t:"n",v:0},0];return fe[0].r=Q.read_shift(2),fe[3]=Q[Q.l++],fe[0].c=Q[Q.l++],fe}function V(Q,fe,ie,ne){var ve=we(6+ne.length);ve.write_shift(2,Q),ve.write_shift(1,ie),ve.write_shift(1,fe),ve.write_shift(1,39);for(var Ze=0;Ze<ne.length;++Ze){var Be=ne.charCodeAt(Ze);ve.write_shift(1,Be>=128?95:Be)}return ve.write_shift(1,0),ve}function te(Q,fe){var ie=Z(Q),ne=Q.read_shift(4),ve=Q.read_shift(4),Ze=Q.read_shift(2);if(65535==Ze)return 0===ne&&3221225472===ve?(ie[1].t="e",ie[1].v=15):0===ne&&3489660928===ve?(ie[1].t="e",ie[1].v=42):ie[1].v=0,ie;var Be=32768&Ze;return Ze=(32767&Ze)-16446,ie[1].v=(1-2*Be)*(ve*Math.pow(2,Ze+32)+ne*Math.pow(2,Ze)),ie}function ae(Q,fe,ie,ne){var ve=we(14);if(ve.write_shift(2,Q),ve.write_shift(1,ie),ve.write_shift(1,fe),0==ne)return ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(2,65535),ve;var Ze=0,Be=0,Ee=0;return ne<0&&(Ze=1,ne=-ne),Be=0|Math.log2(ne),0==(2147483648&(Ee=(ne/=Math.pow(2,Be-31))>>>0))&&(++Be,Ee=(ne/=2)>>>0),ne-=Ee,Ee|=2147483648,Ee>>>=0,ne*=Math.pow(2,32),ve.write_shift(4,ne>>>0),ve.write_shift(4,Ee),ve.write_shift(2,Be+=16383+(Ze?32768:0)),ve}function Me(Q,fe){var ie=Z(Q),ne=Q.read_shift(8,"f");return ie[1].v=ne,ie}function Se(Q,fe){return 0==Q[Q.l+fe-1]?Q.read_shift(fe,"cstr"):""}function Fe(Q,fe){var ie=we(5+Q.length);ie.write_shift(2,14e3),ie.write_shift(2,fe);for(var ne=0;ne<Q.length;++ne){var ve=Q.charCodeAt(ne);ie[ie.l++]=ve>127?95:ve}return ie[ie.l++]=0,ie}var nt={0:{n:"BOF",f:Wn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function g(Q,fe,ie){var ne={s:{c:0,r:0},e:{c:0,r:0}};return 8==fe&&ie.qpro?(ne.s.c=Q.read_shift(1),Q.l++,ne.s.r=Q.read_shift(2),ne.e.c=Q.read_shift(1),Q.l++,ne.e.r=Q.read_shift(2),ne):(ne.s.c=Q.read_shift(2),ne.s.r=Q.read_shift(2),12==fe&&ie.qpro&&(Q.l+=2),ne.e.c=Q.read_shift(2),ne.e.r=Q.read_shift(2),12==fe&&ie.qpro&&(Q.l+=2),65535==ne.s.c&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function A(Q,fe,ie){var ne=k(Q,0,ie);return ne[1].v=Q.read_shift(2,"i"),ne}},14:{n:"NUMBER",f:function E(Q,fe,ie){var ne=k(Q,0,ie);return ne[1].v=Q.read_shift(8,"f"),ne}},15:{n:"LABEL",f:w},16:{n:"FORMULA",f:function M(Q,fe,ie){var ne=Q.l+fe,ve=k(Q,0,ie);if(ve[1].v=Q.read_shift(8,"f"),ie.qpro)Q.l=ne;else{var Ze=Q.read_shift(2);(function W(Q,fe){_i(Q,0);for(var ie=[],ne=0,ve="",Ze="",Be="",Le="";Q.l<Q.length;){var Ee=Q[Q.l++];switch(Ee){case 0:ie.push(Q.read_shift(8,"f"));break;case 1:Ze=F(fe[0].c,Q.read_shift(2),!0),ve=F(fe[0].r,Q.read_shift(2),!1),ie.push(Ze+ve);break;case 2:var At=F(fe[0].c,Q.read_shift(2),!0),J=F(fe[0].r,Q.read_shift(2),!1);Ze=F(fe[0].c,Q.read_shift(2),!0),ve=F(fe[0].r,Q.read_shift(2),!1),ie.push(At+J+":"+Ze+ve);break;case 3:if(Q.l<Q.length)return void console.error("WK1 premature formula end");break;case 4:ie.push("("+ie.pop()+")");break;case 5:ie.push(Q.read_shift(2));break;case 6:for(var nn="";Ee=Q[Q.l++];)nn+=String.fromCharCode(Ee);ie.push('"'+nn.replace(/"/g,'""')+'"');break;case 8:ie.push("-"+ie.pop());break;case 23:ie.push("+"+ie.pop());break;case 22:ie.push("NOT("+ie.pop()+")");break;case 20:case 21:Le=ie.pop(),Be=ie.pop(),ie.push(["AND","OR"][Ee-20]+"("+Be+","+Le+")");break;default:if(Ee<32&&L[Ee])Le=ie.pop(),Be=ie.pop(),ie.push(Be+L[Ee]+Le);else{if(!N[Ee])return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16));if(69==(ne=N[Ee][1])&&(ne=Q[Q.l++]),ne>ie.length)return void console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+ie.join("|")+"|");var Mt=ie.slice(-ne);ie.length-=ne,ie.push(N[Ee][0]+"("+Mt.join(",")+")")}}}1==ie.length?fe[1].f=""+ie[0]:console.error("WK1 bad formula parse |"+ie.join("|")+"|")})(Q.slice(Q.l,Q.l+Ze),ve),Q.l+=Ze}return ve}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:w},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Se},222:{n:"SHEETNAMELP",f:function qe(Q,fe){var ie=Q[Q.l++];ie>fe-1&&(ie=fe-1);for(var ne="";ne.length<ie;)ne+=String.fromCharCode(Q[Q.l++]);return ne}},65535:{n:""}},ye={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function X(Q,fe){var ie=Z(Q);return ie[1].t="s",ie[1].v=Q.read_shift(fe-4,"cstr"),ie}},23:{n:"NUMBER17",f:te},24:{n:"NUMBER18",f:function K(Q,fe){var ie=Z(Q);ie[1].v=Q.read_shift(2);var ne=ie[1].v>>1;if(1&ie[1].v)switch(7&ne){case 0:ne=5e3*(ne>>3);break;case 1:ne=500*(ne>>3);break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64}return ie[1].v=ne,ie}},25:{n:"FORMULA19",f:function le(Q,fe){var ie=te(Q);return Q.l+=fe-14,ie}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function dt(Q,fe){for(var ie={},ne=Q.l+fe;Q.l<ne;){var ve=Q.read_shift(2);if(14e3==ve){for(ie[ve]=[0,""],ie[ve][0]=Q.read_shift(2);Q[Q.l];)ie[ve][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return ie}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function re(Q,fe){var ie=Z(Q),ne=Q.read_shift(4);return ie[1].v=ne>>6,ie}},38:{n:"??"},39:{n:"NUMBER27",f:Me},40:{n:"FORMULA28",f:function He(Q,fe){var ie=Me(Q);return Q.l+=fe-10,ie}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function ze(Q,fe,ie){if(ie.qpro&&!(fe<21)){var ne=Q.read_shift(1);return Q.l+=17,Q.l+=1,Q.l+=2,[ne,Q.read_shift(fe-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function o(Q,fe){var ie=fe||{};if(+ie.codepage>=0&&Ci(+ie.codepage),"string"==ie.type)throw new Error("Cannot write WK1 to JS string");var ne=Oi(),ve=Tt(Q["!ref"]),Ze=Array.isArray(Q),Be=[];Re(ne,0,function d(Q){var fe=we(2);return fe.write_shift(2,Q),fe}(1030)),Re(ne,6,function _(Q){var fe=we(8);return fe.write_shift(2,Q.s.c),fe.write_shift(2,Q.s.r),fe.write_shift(2,Q.e.c),fe.write_shift(2,Q.e.r),fe}(ve));for(var Le=Math.min(ve.e.r,8191),Ee=ve.s.r;Ee<=Le;++Ee)for(var At=Ln(Ee),J=ve.s.c;J<=ve.e.c;++J){Ee===ve.s.r&&(Be[J]=pn(J));var Mt=Ze?(Q[Ee]||[])[J]:Q[Be[J]+At];Mt&&"z"!=Mt.t&&("n"==Mt.t?(0|Mt.v)==Mt.v&&Mt.v>=-32768&&Mt.v<=32767?Re(ne,13,T(Ee,J,Mt.v)):Re(ne,14,S(Ee,J,Mt.v)):Re(ne,15,C(Ee,J,io(Mt).slice(0,239))))}return Re(ne,1),ne.end()},book_to_wk3:function s(Q,fe){var ie=fe||{};if(+ie.codepage>=0&&Ci(+ie.codepage),"string"==ie.type)throw new Error("Cannot write WK3 to JS string");var ne=Oi();Re(ne,0,function f(Q){var fe=we(26);fe.write_shift(2,4096),fe.write_shift(2,4),fe.write_shift(4,0);for(var ie=0,ne=0,ve=0,Ze=0;Ze<Q.SheetNames.length;++Ze){var Le=Q.Sheets[Q.SheetNames[Ze]];if(Le&&Le["!ref"]){++ve;var Ee=Bi(Le["!ref"]);ie<Ee.e.r&&(ie=Ee.e.r),ne<Ee.e.c&&(ne=Ee.e.c)}}return ie>8191&&(ie=8191),fe.write_shift(2,ie),fe.write_shift(1,ve),fe.write_shift(1,ne),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(1,1),fe.write_shift(1,2),fe.write_shift(4,0),fe.write_shift(4,0),fe}(Q));for(var ve=0,Ze=0;ve<Q.SheetNames.length;++ve)(Q.Sheets[Q.SheetNames[ve]]||{})["!ref"]&&Re(ne,27,Fe(Q.SheetNames[ve],Ze++));var Be=0;for(ve=0;ve<Q.SheetNames.length;++ve){var Le=Q.Sheets[Q.SheetNames[ve]];if(Le&&Le["!ref"]){for(var Ee=Tt(Le["!ref"]),At=Array.isArray(Le),J=[],nn=Math.min(Ee.e.r,8191),Mt=Ee.s.r;Mt<=nn;++Mt)for(var rn=Ln(Mt),It=Ee.s.c;It<=Ee.e.c;++It){Mt===Ee.s.r&&(J[It]=pn(It));var si=At?(Le[Mt]||[])[It]:Le[J[It]+rn];si&&"z"!=si.t&&("n"==si.t?Re(ne,23,ae(Mt,It,Be,si.v)):Re(ne,22,V(Mt,It,Be,io(si).slice(0,239))))}++Be}}return Re(ne,1),ne.end()},to_workbook:function i(Q,fe){switch(fe.type){case"base64":return n(gr(pr(Q)),fe);case"binary":return n(gr(Q),fe);case"buffer":case"array":return n(Q,fe)}throw"Unsupported type "+fe.type}}}(),r1=/^\s|\s$|[\t\n\r]/;function mm(t,i){if(!i.bookSST)return"";var n=[Sn];n[n.length]=Ne("sst",null,{xmlns:Is[0],count:t.Count,uniqueCount:t.Unique});for(var o=0;o!=t.length;++o)if(null!=t[o]){var s=t[o],d="<si>";s.r?d+=s.r:(d+="<t",s.t||(s.t=""),s.t.match(r1)&&(d+=' xml:space="preserve"'),d+=">"+jt(s.t)+"</t>"),n[n.length]=d+="</si>"}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var o1=function Bk(t,i){var n=!1;return null==i&&(n=!0,i=we(15+4*t.t.length)),i.write_shift(1,0),ii(t.t,i),n?i.slice(0,i.l):i};function s1(t){var i=Oi();Ae(i,159,function yu(t,i){return i||(i=we(8)),i.write_shift(4,t.Count),i.write_shift(4,t.Unique),i}(t));for(var n=0;n<t.length;++n)Ae(i,19,o1(t[n]));return Ae(i,160),i.end()}function Su(t){var n,d,i=0,o=function a1(t){for(var i=[],n=t.split(""),o=0;o<n.length;++o)i[o]=n[o].charCodeAt(0);return i}(t),s=o.length+1;for((n=Cs(s))[0]=o.length,d=1;d!=s;++d)n[d]=o[d-1];for(d=s-1;d>=0;--d)i=((0==(16384&i)?0:1)|i<<1&32767)^n[d];return 52811^i}var _d=function(){function t(s,d){switch(d.type){case"base64":return i(pr(s),d);case"binary":return i(s,d);case"buffer":return i(Ct&&Buffer.isBuffer(s)?s.toString("binary"):Jr(s),d);case"array":return i(Ds(s),d)}throw new Error("Unrecognized type "+d.type)}function i(s,d){var g=(d||{}).dense?[]:{},_=s.match(/\\trowd.*?\\row\b/g);if(!_.length)throw new Error("RTF missing table");var k={s:{c:0,r:0},e:{c:0,r:_.length-1}};return _.forEach(function(w,C){Array.isArray(g)&&(g[C]=[]);for(var E,A=/\\\w+\b/g,T=0,S=-1;E=A.exec(w);){if("\\cell"===E[0]){var M=w.slice(T,A.lastIndex-E[0].length);if(" "==M[0]&&(M=M.slice(1)),++S,M.length){var F={v:M,t:"s"};Array.isArray(g)?g[C][S]=F:g[st({r:C,c:S})]=F}}T=A.lastIndex}S>k.e.c&&(k.e.c=S)}),g["!ref"]=pt(k),g}return{to_workbook:function n(s,d){return ro(t(s,d),d)},to_sheet:t,from_sheet:function o(s){for(var g,d=["{\\rtf1\\ansi"],f=Tt(s["!ref"]),_=Array.isArray(s),k=f.s.r;k<=f.e.r;++k){d.push("\\trowd\\trautofit1");for(var w=f.s.c;w<=f.e.c;++w)d.push("\\cellx"+(w+1));for(d.push("\\pard\\intbl"),w=f.s.c;w<=f.e.c;++w){var C=st({r:k,c:w});(g=_?(s[k]||[])[w]:s[C])&&(null!=g.v||g.f&&!g.F)&&(d.push(" "+(g.w||(io(g),g.w))),d.push("\\cell"))}d.push("\\pard\\intbl\\row")}return d.join("")+"}"}}}();function bd(t){for(var i=0,n=1;3!=i;++i)n=256*n+(t[i]>255?255:t[i]<0?0:t[i]);return n.toString(16).toUpperCase().slice(1)}var Ri=6;function kd(t){return Math.floor((t+Math.round(128/Ri)/256)*Ri)}function wd(t){return Math.floor((t-5)/Ri*100+.5)/100}function Du(t){return Math.round((t*Ri+5)/Ri*256)/256}function zs(t){t.width?(t.wpx=kd(t.width),t.wch=wd(t.wpx),t.MDW=Ri):t.wpx?(t.wch=wd(t.wpx),t.width=Du(t.wch),t.MDW=Ri):"number"==typeof t.wch&&(t.width=Du(t.wch),t.wpx=kd(t.width),t.MDW=Ri),t.customWidth&&delete t.customWidth}function Wl(t){return 96*t/96}function vd(t){return 96*t/96}function a(t,i){var o,n=[Sn,Ne("styleSheet",null,{xmlns:Is[0],"xmlns:vt":jn_vt})];return t.SSF&&null!=(o=function Uy(t){var i=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var o=n[0];o<=n[1];++o)null!=t[o]&&(i[i.length]=Ne("numFmt",null,{numFmtId:o,formatCode:jt(t[o])}))}),1===i.length?"":(i[i.length]="</numFmts>",i[0]=Ne("numFmts",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(t.SSF))&&(n[n.length]=o),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(o=function e(t){var i=[];return i[i.length]=Ne("cellXfs",null),t.forEach(function(n){i[i.length]=Ne("xf",null,n)}),i[i.length]="</cellXfs>",2===i.length?"":(i[0]=Ne("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(i.cellXfs))&&(n[n.length]=o),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function u(t,i,n){n||(n=we(6+4*i.length)),n.write_shift(2,t),ii(i,n);var o=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),o}var v,b=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],x=ni;function y(t,i){i||(i=we(84)),v||(v=br(b));var n=v[t.patternType];null==n&&(n=40),i.write_shift(4,n);var o=0;if(40!=n)for(od({auto:1},i),od({auto:1},i);o<12;++o)i.write_shift(4,0);else{for(;o<4;++o)i.write_shift(4,0);for(;o<12;++o)i.write_shift(4,0)}return i.length>i.l?i.slice(0,i.l):i}function P(t,i,n){return n||(n=we(16)),n.write_shift(2,i||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function B(t,i){return i||(i=we(10)),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(4,0),i}var R=ni;function ts(t,i){var n=Oi();return Ae(n,278),function Ke(t,i){if(i){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(o){for(var s=o[0];s<=o[1];++s)null!=i[s]&&++n}),0!=n&&(Ae(t,615,kr(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(o){for(var s=o[0];s<=o[1];++s)null!=i[s]&&Ae(t,44,u(s,i[s]))}),Ae(t,616))}}(n,t.SSF),function at(t){Ae(t,611,kr(1)),Ae(t,43,function m(t,i){i||(i=we(153)),i.write_shift(2,20*t.sz),function CA(t,i){i||(i=we(2)),i.write_shift(1,(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0)),i.write_shift(1,0)}(t,i),i.write_shift(2,t.bold?700:400);var n=0;"superscript"==t.vertAlign?n=1:"subscript"==t.vertAlign&&(n=2),i.write_shift(2,n),i.write_shift(1,t.underline||0),i.write_shift(1,t.family||0),i.write_shift(1,t.charset||0),i.write_shift(1,0),od(t.color,i);var o=0;return"major"==t.scheme&&(o=1),"minor"==t.scheme&&(o=2),i.write_shift(1,o),ii(t.name,i),i.length>i.l?i.slice(0,i.l):i}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ae(t,612)}(n),function Qt(t){Ae(t,603,kr(2)),Ae(t,45,y({patternType:"none"})),Ae(t,45,y({patternType:"gray125"})),Ae(t,604)}(n),function Ht(t){Ae(t,613,kr(1)),Ae(t,46,function H(t,i){return i||(i=we(51)),i.write_shift(1,0),B(0,i),B(0,i),B(0,i),B(0,i),B(0,i),i.length>i.l?i.slice(0,i.l):i}()),Ae(t,614)}(n),function zi(t){Ae(t,626,kr(1)),Ae(t,47,P({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ae(t,627)}(n),function oi(t,i){Ae(t,617,kr(i.length)),i.forEach(function(n){Ae(t,47,P(n,0))}),Ae(t,618)}(n,i.cellXfs),function xr(t){Ae(t,619,kr(1)),Ae(t,48,function ee(t,i){return i||(i=we(52)),i.write_shift(4,t.xfId),i.write_shift(2,1),i.write_shift(1,+t.builtinId),i.write_shift(1,0),tu(t.name||"",i),i.length>i.l?i.slice(0,i.l):i}({xfId:0,builtinId:0,name:"Normal"})),Ae(t,620)}(n),function Lr(t){Ae(t,505,kr(0)),Ae(t,506)}(n),function Rr(t){Ae(t,508,function ce(t,i,n){var o=we(2052);return o.write_shift(4,t),tu(i,o),tu(n,o),o.length>o.l?o.slice(0,o.l):o}(0,"TableStyleMedium9","PivotStyleMedium4")),Ae(t,509)}(n),Ae(n,279),n.end()}function Hy(t,i){if(i&&i.themeXLSX)return i.themeXLSX;if(t&&"string"==typeof t.raw)return t.raw;var n=[Sn];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function CE(){var t=Oi();return Ae(t,332),Ae(t,334,kr(1)),Ae(t,335,function mE(t){var i=we(12+2*t.name.length);return i.write_shift(4,t.flags),i.write_shift(4,t.version),ii(t.name,i),i.slice(0,i.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Ae(t,336),Ae(t,339,function kE(t,i){var n=we(8+2*i.length);return n.write_shift(4,t),ii(i,n),n.slice(0,n.l)}(1,"XLDAPR")),Ae(t,52),Ae(t,35,kr(514)),Ae(t,4096,kr(0)),Ae(t,4097,vr(1)),Ae(t,36),Ae(t,53),Ae(t,340),Ae(t,337,function vE(t,i){var n=we(8);return n.write_shift(4,t),n.write_shift(4,i?1:0),n}(1,!0)),Ae(t,51,function bE(t){var i=we(4+8*t.length);i.write_shift(4,t.length);for(var n=0;n<t.length;++n)i.write_shift(4,t[n][0]),i.write_shift(4,t[n][1]);return i}([[1,0]])),Ae(t,338),Ae(t,333),t.end()}function W2(){var t=[Sn];return t.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),t.join("")}var Ou=1024;function Z2(t,i){for(var n=[21600,21600],o=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Ne("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":Xi_o,"xmlns:x":Xi_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),Ne("o:shapelayout",Ne("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ne("v:shapetype",[Ne("v:stroke",null,{joinstyle:"miter"}),Ne("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:o})];Ou<1e3*t;)Ou+=1e3;return i.forEach(function(d){var f=Un(d[0]),g={color2:"#BEFF82",type:"gradient"};"gradient"==g.type&&(g.angle="-180");var _="gradient"==g.type?Ne("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,k=Ne("v:fill",_,g);++Ou,s=s.concat(["<v:shape"+ed({id:"_x0000_s"+Ou,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(d[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",k,Ne("v:shadow",null,{on:"t",obscured:"t"}),Ne("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",gi("x:Anchor",[f.c+1,0,f.r+1,0,f.c+3,20,f.r+5,20].join(",")),gi("x:AutoFill","False"),gi("x:Row",String(f.r)),gi("x:Column",String(f.c)),d[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function G2(t){var i=[Sn,Ne("comments",null,{xmlns:Is[0]})],n=[];return i.push("<authors>"),t.forEach(function(o){o[1].forEach(function(s){var d=jt(s.a);-1==n.indexOf(d)&&(n.push(d),i.push("<author>"+d+"</author>")),s.T&&s.ID&&-1==n.indexOf("tc="+s.ID)&&(n.push("tc="+s.ID),i.push("<author>tc="+s.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),i.push("<author>SheetJ5</author>")),i.push("</authors>"),i.push("<commentList>"),t.forEach(function(o){var s=0,d=[];if(o[1][0]&&o[1][0].T&&o[1][0].ID?s=n.indexOf("tc="+o[1][0].ID):o[1].forEach(function(_){_.a&&(s=n.indexOf(jt(_.a))),d.push(_.t||"")}),i.push('<comment ref="'+o[0]+'" authorId="'+s+'"><text>'),d.length<=1)i.push(gi("t",jt(d[0]||"")));else{for(var f="Comment:\n    "+d[0]+"\n",g=1;g<d.length;++g)f+="Reply:\n    "+d[g]+"\n";i.push(gi("t",jt(f)))}i.push("</text></comment>")}),i.push("</commentList>"),i.length>2&&(i[i.length]="</comments>",i[1]=i[1].replace("/>",">")),i.join("")}function PE(t,i,n){var o=[Sn,Ne("ThreadedComments",null,{xmlns:jn_TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var d="";(s[1]||[]).forEach(function(f,g){if(f.T){f.a&&-1==i.indexOf(f.a)&&i.push(f.a);var _={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==g?d=_.id:_.parentId=d,f.ID=_.id,f.a&&(_.personId="{54EE7950-7262-4200-6969-"+("000000000000"+i.indexOf(f.a)).slice(-12)+"}"),o.push(Ne("threadedComment",gi("text",f.t||""),_))}else delete f.ID})}),o.push("</ThreadedComments>"),o.join("")}var LE=Ti;function VE(t){var i=Oi(),n=[];return Ae(i,628),Ae(i,630),t.forEach(function(o){o[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),Ae(i,632,function RE(t){return ii(t.slice(0,54))}(s.a)))})}),Ae(i,631),Ae(i,633),t.forEach(function(o){o[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var d={s:Un(o[0]),e:Un(o[0])};Ae(i,635,function BE(t,i){return null==i&&(i=we(36)),i.write_shift(4,t[1].iauthor),jl(t[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i}([d,s])),s.t&&s.t.length>0&&Ae(i,637,function Rk(t,i){var n=!1;return null==i&&(n=!0,i=we(23+4*t.t.length)),i.write_shift(1,1),ii(t.t,i),i.write_shift(4,1),function vA(t,i){i||(i=we(4)),i.write_shift(2,t.ich||0),i.write_shift(2,t.ifnt||0)}({ich:0,ifnt:0},i),n?i.slice(0,i.l):i}(s)),Ae(i,636),delete s.iauthor})}),Ae(i,634),Ae(i,629),i.end()}var Y2=["xlsb","xlsm","xlam","biff8","xla"],Bu=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,i={r:0,c:0};function n(o,s,d,f){var g=!1,_=!1;0==d.length?_=!0:"["==d.charAt(0)&&(_=!0,d=d.slice(1,-1)),0==f.length?g=!0:"["==f.charAt(0)&&(g=!0,f=f.slice(1,-1));var k=d.length>0?0|parseInt(d,10):0,w=f.length>0?0|parseInt(f,10):0;return g?w+=i.c:--w,_?k+=i.r:--k,s+(g?"":"$")+pn(w)+(_?"":"$")+Ln(k)}return function(s,d){return i=d,s.replace(t,n)}}(),Wy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Zy=function(){return function(i,n){return i.replace(Wy,function(o,s,d,f,g,_){var k=yg(f)-(d?0:n.c),w=Ag(_)-(g?0:n.r);return s+"R"+(0==w?"":g?w+1:"["+w+"]")+"C"+(0==k?"":d?k+1:"["+k+"]")})}}();function K2(t,i){return t.replace(Wy,function(n,o,s,d,f,g){return o+("$"==s?s+d:pn(yg(d)+i.c))+("$"==f?f+g:Ln(Ag(g)+i.r))})}function bi(t){t.l+=1}function Gl(t,i){var n=t.read_shift(1==i?1:2);return[16383&n,n>>14&1,n>>15&1]}function $2(t,i,n){var o=2;if(n){if(n.biff>=2&&n.biff<=5)return Q2(t);12==n.biff&&(o=4)}var s=t.read_shift(o),d=t.read_shift(o),f=Gl(t,2),g=Gl(t,2);return{s:{r:s,c:f[0],cRel:f[1],rRel:f[2]},e:{r:d,c:g[0],cRel:g[1],rRel:g[2]}}}function Q2(t){var i=Gl(t,2),n=Gl(t,2),o=t.read_shift(1),s=t.read_shift(1);return{s:{r:i[0],c:o,cRel:i[1],rRel:i[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function J2(t,i,n){if(n&&n.biff>=2&&n.biff<=5)return function $E(t){var i=Gl(t,2),n=t.read_shift(1);return{r:i[0],c:n,cRel:i[1],rRel:i[2]}}(t);var o=t.read_shift(n&&12==n.biff?4:2),s=Gl(t,2);return{r:o,c:s[0],cRel:s[1],rRel:s[2]}}function QE(t){var i=t.read_shift(2),n=t.read_shift(2);return{r:i,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function X2(t){var i=1&t[t.l+1];return t.l+=4,[i,1]}function eT(t){return[t.read_shift(1),t.read_shift(1)]}function TD(t,i){var n=[t.read_shift(1)];if(12==i)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=function Hn(t,i){return 1===t.read_shift(i)}(t,1)?"TRUE":"FALSE",12!=i&&(t.l+=7);break;case 37:case 16:n[1]=Jo[t[t.l]],t.l+=12==i?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Li(t);break;case 2:n[1]=function Bs(t,i,n){if(n.biff>5)return function ud(t,i,n){var o=t.read_shift(n&&2==n.biff?1:2);return 0===o?(t.l++,""):function Aa(t,i,n){if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(i,"cpstr");if(n.biff>=12)return t.read_shift(i,"dbcs-cont")}var s=t.read_shift(1);return t.read_shift(i,0===s?"sbcs-cont":"dbcs-cont")}(t,o,n)}(t,0,n);var o=t.read_shift(1);return 0===o?(t.l++,""):t.read_shift(o,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}(t,0,{biff:i>0&&i<8?2:i});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function SD(t,i,n){for(var o=t.read_shift(12==n.biff?4:2),s=[],d=0;d!=o;++d)s.push((12==n.biff?Os:fd)(t,8));return s}function ED(t,i,n){var o=0,s=0;12==n.biff?(o=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),o=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--o,0==--s&&(s=256));for(var d=0,f=[];d!=o&&(f[d]=[]);++d)for(var g=0;g!=s;++g)f[d][g]=TD(t,n.biff);return f}function wm(t,i,n){return t.l+=2,[QE(t)]}function qy(t){return t.l+=6,[]}function tT(t){return t.l+=2,[Wn(t),1&t.read_shift(2)]}var YD=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],nT={1:{n:"PtgExp",f:function wD(t,i,n){return t.l++,n&&12==n.biff?[t.read_shift(4,"i"),0]:[t.read_shift(2),t.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:ni},3:{n:"PtgAdd",f:bi},4:{n:"PtgSub",f:bi},5:{n:"PtgMul",f:bi},6:{n:"PtgDiv",f:bi},7:{n:"PtgPower",f:bi},8:{n:"PtgConcat",f:bi},9:{n:"PtgLt",f:bi},10:{n:"PtgLe",f:bi},11:{n:"PtgEq",f:bi},12:{n:"PtgGe",f:bi},13:{n:"PtgGt",f:bi},14:{n:"PtgNe",f:bi},15:{n:"PtgIsect",f:bi},16:{n:"PtgUnion",f:bi},17:{n:"PtgRange",f:bi},18:{n:"PtgUplus",f:bi},19:{n:"PtgUminus",f:bi},20:{n:"PtgPercent",f:bi},21:{n:"PtgParen",f:bi},22:{n:"PtgMissArg",f:bi},23:{n:"PtgStr",f:function yD(t,i,n){return t.l++,hd(t,0,n)}},26:{n:"PtgSheet",f:function QD(t,i,n){return t.l+=5,t.l+=2,t.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function JD(t,i,n){return t.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function vD(t){return t.l++,Jo[t.read_shift(1)]}},29:{n:"PtgBool",f:function CD(t){return t.l++,0!==t.read_shift(1)}},30:{n:"PtgInt",f:function xD(t){return t.l++,t.read_shift(2)}},31:{n:"PtgNum",f:function AD(t){return t.l++,Li(t)}},32:{n:"PtgArray",f:function oD(t,i,n){var o=(96&t[t.l++])>>5;return t.l+=2==n.biff?6:12==n.biff?14:7,[o]}},33:{n:"PtgFunc",f:function mD(t,i,n){var o=(96&t[t.l])>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[kM[s],oT[s],o]}},34:{n:"PtgFuncVar",f:function _D(t,i,n){var o=t[t.l++],s=t.read_shift(1),d=n&&n.biff<=3?[88==o?-1:0,t.read_shift(1)]:function bD(t){return[t[t.l+1]>>7,32767&t.read_shift(2)]}(t);return[s,(0===d[0]?oT:bM)[d[1]]]}},35:{n:"PtgName",f:function DD(t,i,n){var o=t.read_shift(1)>>>5&3,d=t.read_shift(!n||n.biff>=8?4:2);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12}return[o,0,d]}},36:{n:"PtgRef",f:function fD(t,i,n){var o=(96&t[t.l])>>5;return t.l+=1,[o,J2(t,0,n)]}},37:{n:"PtgArea",f:function eD(t,i,n){return[(96&t[t.l++])>>5,$2(t,0,n)]}},38:{n:"PtgMemArea",f:function PD(t,i,n){var o=t.read_shift(1)>>>5&3;return t.l+=n&&2==n.biff?3:4,[o,t.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:ni},40:{n:"PtgMemNoMem",f:ni},41:{n:"PtgMemFunc",f:function FD(t,i,n){return[t.read_shift(1)>>>5&3,t.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function ND(t,i,n){var o=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,12==n.biff&&(t.l+=2),[o]}},43:{n:"PtgAreaErr",f:function nD(t,i,n){var o=(96&t[t.l++])>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[o]}},44:{n:"PtgRefN",f:function pD(t,i,n){var o=(96&t[t.l])>>5;t.l+=1;var s=function JE(t,i,n){var o=n&&n.biff?n.biff:8;if(o>=2&&o<=5)return function XE(t){var i=t.read_shift(2),n=t.read_shift(1),o=(32768&i)>>15,s=(16384&i)>>14;return i&=16383,1==o&&i>=8192&&(i-=16384),1==s&&n>=128&&(n-=256),{r:i,c:n,cRel:s,rRel:o}}(t);var s=t.read_shift(o>=12?4:2),d=t.read_shift(2),f=(16384&d)>>14,g=(32768&d)>>15;if(d&=16383,1==g)for(;s>524287;)s-=1048576;if(1==f)for(;d>8191;)d-=16384;return{r:s,c:d,cRel:f,rRel:g}}(t,0,n);return[o,s]}},45:{n:"PtgAreaN",f:function rD(t,i,n){var o=(96&t[t.l++])>>5,s=function KE(t,i,n){if(n.biff<8)return Q2(t);var o=t.read_shift(12==n.biff?4:2),s=t.read_shift(12==n.biff?4:2),d=Gl(t,2),f=Gl(t,2);return{s:{r:o,c:d[0],cRel:d[1],rRel:d[2]},e:{r:s,c:f[0],cRel:f[1],rRel:f[2]}}}(t,0,n);return[o,s]}},46:{n:"PtgMemAreaN",f:function XD(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function eM(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},57:{n:"PtgNameX",f:function MD(t,i,n){return 5==n.biff?function ID(t){var i=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var o=t.read_shift(2);return t.l+=12,[i,n,o]}(t):[t.read_shift(1)>>>5&3,t.read_shift(2),t.read_shift(4)]}},58:{n:"PtgRef3d",f:function gD(t,i,n){var o=(96&t[t.l])>>5;t.l+=1;var s=t.read_shift(2);return n&&5==n.biff&&(t.l+=12),[o,s,J2(t,0,n)]}},59:{n:"PtgArea3d",f:function tD(t,i,n){var o=(96&t[t.l++])>>5,s=t.read_shift(2,"i");if(n&&5===n.biff)t.l+=12;return[o,s,$2(t,0,n)]}},60:{n:"PtgRefErr3d",f:function OD(t,i,n){var o=(96&t[t.l++])>>5,s=t.read_shift(2),d=4;if(n)switch(n.biff){case 5:d=15;break;case 12:d=6}return t.l+=d,[o,s]}},61:{n:"PtgAreaErr3d",f:function iD(t,i,n){var o=(96&t[t.l++])>>5,s=t.read_shift(2),d=8;if(n)switch(n.biff){case 5:t.l+=12,d=6;break;case 12:d=12}return t.l+=d,[o,s]}},255:{}},nM={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iM={1:{n:"PtgElfLel",f:tT},2:{n:"PtgElfRw",f:wm},3:{n:"PtgElfCol",f:wm},6:{n:"PtgElfRwV",f:wm},7:{n:"PtgElfColV",f:wm},10:{n:"PtgElfRadical",f:wm},11:{n:"PtgElfRadicalS",f:qy},13:{n:"PtgElfColS",f:qy},15:{n:"PtgElfColSV",f:qy},16:{n:"PtgElfRadicalLel",f:tT},25:{n:"PtgList",f:function KD(t){t.l+=2;var i=t.read_shift(2),n=t.read_shift(2),o=t.read_shift(4),s=t.read_shift(2),d=t.read_shift(2);return{ixti:i,coltype:3&n,rt:YD[n>>2&31],idx:o,c:s,C:d}}},29:{n:"PtgSxName",f:function $D(t){return t.l+=2,[t.read_shift(4)]}},255:{}},rM={0:{n:"PtgAttrNoop",f:function tM(t){return t.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function dD(t,i,n){var o=255&t[t.l+1]?1:0;return t.l+=n&&2==n.biff?3:4,[o]}},2:{n:"PtgAttrIf",f:function lD(t,i,n){var o=255&t[t.l+1]?1:0;return t.l+=2,[o,t.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function sD(t,i,n){t.l+=2;for(var o=t.read_shift(n&&2==n.biff?1:2),s=[],d=0;d<=o;++d)s.push(t.read_shift(n&&2==n.biff?1:2));return s}},8:{n:"PtgAttrGoto",f:function aD(t,i,n){var o=255&t[t.l+1]?1:0;return t.l+=2,[o,t.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function kD(t,i,n){t.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:X2},33:{n:"PtgAttrBaxcel",f:X2},64:{n:"PtgAttrSpace",f:function hD(t){return t.read_shift(2),eT(t)}},65:{n:"PtgAttrSpaceSemi",f:function uD(t){return t.read_shift(2),eT(t)}},128:{n:"PtgAttrIfError",f:function cD(t){var i=255&t[t.l+1]?1:0;return t.l+=2,[i,t.read_shift(2)]}},255:{}};function vm(t,i,n,o){if(o.biff<8)return ni(t,i);for(var s=t.l+i,d=[],f=0;f!==n.length;++f)switch(n[f][0]){case"PtgArray":n[f][1]=ED(t,0,o),d.push(n[f][1]);break;case"PtgMemArea":n[f][2]=SD(t,0,o),d.push(n[f][2]);break;case"PtgExp":o&&12==o.biff&&(n[f][1][1]=t.read_shift(4),d.push(n[f][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[f][0]}return 0!=(i=s-t.l)&&d.push(ni(t,i)),d}function oM(t){for(var i=[],n=0;n<t.length;++n){for(var o=t[n],s=[],d=0;d<o.length;++d){var f=o[d];s.push(f?2===f[0]?'"'+f[1].replace(/"/g,'""')+'"':f[1]:"")}i.push(s.join(","))}return i.join(";")}var sM={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iT(t,i,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[i]))return t.SheetNames[i];if(!t.XTI)return"SH33TJSERR6";var o=t.XTI[i];if(n.biff<8)return i>1e4&&(i-=65536),i<0&&(i=-i),0==i?"":t.XTI[i-1];if(!o)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[o[0]][0]){case 357:return s=-1==o[1]?"#REF":t.SheetNames[o[1]],o[1]==o[2]?s:s+":"+t.SheetNames[o[2]];case 358:return null!=n.SID?t.SheetNames[n.SID]:"SH33TJSSAME"+t[o[0]][0];default:return"SH33TJSSRC"+t[o[0]][0]}switch(t[o[0]][0][0]){case 1025:return s=-1==o[1]?"#REF":t.SheetNames[o[1]]||"SH33TJSERR3",o[1]==o[2]?s:s+":"+t.SheetNames[o[2]];case 14849:return t[o[0]].slice(1).map(function(d){return d.Name}).join(";;");default:return t[o[0]][0][3]?(s=-1==o[1]?"#REF":t[o[0]][0][3][o[1]]||"SH33TJSERR4",o[1]==o[2]?s:s+":"+t[o[0]][0][3][o[2]]):"SH33TJSERR2"}}function rT(t,i,n){var o=iT(t,i,n);return"#REF"==o?o:function aM(t,i){if(!(t||i&&i.biff<=5&&i.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}(o,n)}function nr(t,i,n,o,s){var _,k,w,T,d=s&&s.biff||8,f={s:{c:0,r:0},e:{c:0,r:0}},g=[],C=0,A=0,E="";if(!t[0]||!t[0][0])return"";for(var S=-1,M="",F=0,N=t[0].length;F<N;++F){var L=t[0][F];switch(L[0]){case"PtgUminus":g.push("-"+g.pop());break;case"PtgUplus":g.push("+"+g.pop());break;case"PtgPercent":g.push(g.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(_=g.pop(),k=g.pop(),S>=0){switch(t[0][S][1][0]){case 0:M=On(" ",t[0][S][1][1]);break;case 1:M=On("\r",t[0][S][1][1]);break;default:if(M="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}k+=M,S=-1}g.push(k+sM[L[0]]+_);break;case"PtgIsect":_=g.pop(),k=g.pop(),g.push(k+" "+_);break;case"PtgUnion":_=g.pop(),k=g.pop(),g.push(k+","+_);break;case"PtgRange":_=g.pop(),k=g.pop(),g.push(k+":"+_);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":w=Vl(L[1][1],f,s),g.push(rd(w,d));break;case"PtgRefN":w=n?Vl(L[1][1],n,s):L[1][1],g.push(rd(w,d));break;case"PtgRef3d":C=L[1][1],w=Vl(L[1][2],f,s),E=rT(o,C,s),g.push(E+"!"+rd(w,d));break;case"PtgFunc":case"PtgFuncVar":var Z=L[1][0],X=L[1][1];Z||(Z=0);var V=0==(Z&=127)?[]:g.slice(-Z);g.length-=Z,"User"===X&&(X=V.shift()),g.push(X+"("+V.join(",")+")");break;case"PtgBool":g.push(L[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":g.push(L[1]);break;case"PtgNum":g.push(String(L[1]));break;case"PtgStr":g.push('"'+L[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":T=xg(L[1][1],n?{s:n}:f,s),g.push(Cg(T,s));break;case"PtgArea":T=xg(L[1][1],f,s),g.push(Cg(T,s));break;case"PtgArea3d":T=L[1][2],E=rT(o,C=L[1][1],s),g.push(E+"!"+Cg(T,s));break;case"PtgAttrSum":g.push("SUM("+g.pop()+")");break;case"PtgName":var K=(o.names||[])[(A=L[1][2])-1]||(o[0]||[])[A],te=K?K.Name:"SH33TJSNAME"+String(A);te&&"_xlfn."==te.slice(0,6)&&!s.xlfn&&(te=te.slice(6)),g.push(te);break;case"PtgNameX":var le,ae=L[1][1];if(A=L[1][2],!(s.biff<=5)){var re="";if(14849==((o[ae]||[])[0]||[])[0]||(1025==((o[ae]||[])[0]||[])[0]?o[ae][A]&&o[ae][A].itab>0&&(re=o.SheetNames[o[ae][A].itab-1]+"!"):re=o.SheetNames[A-1]+"!"),o[ae]&&o[ae][A])re+=o[ae][A].Name;else if(o[0]&&o[0][A])re+=o[0][A].Name;else{var Me=(iT(o,ae,s)||"").split(";;");Me[A-1]?re=Me[A-1]:re+="SH33TJSERRX"}g.push(re);break}ae<0&&(ae=-ae),o[ae]&&(le=o[ae][A]),le||(le={Name:"SH33TJSERRY"}),g.push(le.Name);break;case"PtgParen":var He="(",Se=")";if(S>=0){switch(M="",t[0][S][1][0]){case 2:He=On(" ",t[0][S][1][1])+He;break;case 3:He=On("\r",t[0][S][1][1])+He;break;case 4:Se=On(" ",t[0][S][1][1])+Se;break;case 5:Se=On("\r",t[0][S][1][1])+Se;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}g.push(He+g.pop()+Se);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":g.push("#REF!");break;case"PtgExp":var qe={c:n.c,r:n.r};if(o.sharedf[st(w={c:L[1][1],r:L[1][0]})]){var ze=o.sharedf[st(w)];g.push(nr(ze,0,qe,o,s))}else{var dt=!1;for(_=0;_!=o.arrayf.length;++_)if(!(w.c<(k=o.arrayf[_])[0].s.c||w.c>k[0].e.c||w.r<k[0].s.r||w.r>k[0].e.r)){g.push(nr(k[1],0,qe,o,s)),dt=!0;break}dt||g.push(L[1])}break;case"PtgArray":g.push("{"+oM(L[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=F;break;case"PtgMissArg":g.push("");break;case"PtgList":g.push("Table"+L[1].idx+"[#"+L[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(L))}if(3!=s.biff&&S>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(t[0][F][0])){var nt=!0;switch((L=t[0][S])[1][0]){case 4:nt=!1;case 0:M=On(" ",L[1][1]);break;case 5:nt=!1;case 1:M=On("\r",L[1][1]);break;default:if(M="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+L[1][0])}g.push((nt?M:"")+g.pop()+(nt?"":M)),S=-1}}if(g.length>1&&s.WTF)throw new Error("bad formula stack");return g[0]}function y1(t,i,n){var o=t.read_shift(4),s=function xm(t,i,n){for(var s,d,o=t.l+i,f=[];o!=t.l;)i=o-t.l,s=nT[d=t[t.l]]||nT[nM[d]],(24===d||25===d)&&(s=(24===d?iM:rM)[t[t.l+1]]),s&&s.f?f.push([s.n,s.f(t,i,n)]):ni(t,i);return f}(t,o,n),d=t.read_shift(4);return[s,d>0?vm(t,d,s,n):null]}var gM=y1,T1=y1,mM=y1,_M=y1,bM={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},oT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},kM={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wM(t){return("of:="+t.replace(Wy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function vM(t){return t.replace(/\./,"!")}var Cm=typeof Map<"u";function Ky(t,i,n){var o=0,s=t.length;if(n){if(Cm?n.has(i):Object.prototype.hasOwnProperty.call(n,i))for(var d=Cm?n.get(i):n[i];o<d.length;++o)if(t[d[o]].t===i)return t.Count++,d[o]}else for(;o<s;++o)if(t[o].t===i)return t.Count++,o;return t[s]={t:i},t.Count++,t.Unique++,n&&(Cm?(n.has(i)||n.set(i,[]),n.get(i).push(s)):(Object.prototype.hasOwnProperty.call(n,i)||(n[i]=[]),n[i].push(s))),s}function E1(t,i){var n={min:t+1,max:t+1},o=-1;return i.MDW&&(Ri=i.MDW),null!=i.width?n.customWidth=1:null!=i.wpx?o=wd(i.wpx):null!=i.wch&&(o=i.wch),o>-1?(n.width=Du(o),n.customWidth=1):null!=i.width&&(n.width=i.width),i.hidden&&(n.hidden=!0),null!=i.level&&(n.outlineLevel=n.level=i.level),n}function xd(t,i){if(t){var n=[.7,.7,.75,.75,.3,.3];"xlml"==i&&(n=[1,1,1,1,.5,.5]),null==t.left&&(t.left=n[0]),null==t.right&&(t.right=n[1]),null==t.top&&(t.top=n[2]),null==t.bottom&&(t.bottom=n[3]),null==t.header&&(t.header=n[4]),null==t.footer&&(t.footer=n[5])}}function Yl(t,i,n){var o=n.revssf[null!=i.z?i.z:"General"],s=60,d=t.length;if(null==o&&n.ssf)for(;s<392;++s)if(null==n.ssf[s]){Xr(i.z,s),n.ssf[s]=i.z,n.revssf[i.z]=o=s;break}for(s=0;s!=d;++s)if(t[s].numFmtId===o)return s;return t[d]={numFmtId:o,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},d}function CM(t,i,n){if(t&&t["!ref"]){var o=Tt(t["!ref"]);if(o.e.c<o.s.c||o.e.r<o.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}var RM=["objects","scenarios","selectLockedCells","selectUnlockedCells"],zM=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function QM(t,i,n,o){if(t.c&&n["!comments"].push([i,t.c]),void 0===t.v&&"string"!=typeof t.f||"z"===t.t&&!t.f)return"";var s="",d=t.t,f=t.v;if("z"!==t.t)switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Jo[t.v];break;case"d":o&&o.cellDates?s=fn(t.v,-1).toISOString():((t=tn(t)).t="n",s=""+(t.v=pi(fn(t.v)))),typeof t.z>"u"&&(t.z=ot[14]);break;default:s=t.v}var g=gi("v",jt(s)),_={r:i},k=Yl(o.cellXfs,t,o);switch(0!==k&&(_.s=k),t.t){case"n":case"z":break;case"d":_.t="d";break;case"b":_.t="b";break;case"e":_.t="e";break;default:if(null==t.v){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(o&&o.bookSST){g=gi("v",""+Ky(o.Strings,t.v,o.revStrings)),_.t="s";break}_.t="str"}if(t.t!=d&&(t.t=d,t.v=f),"string"==typeof t.f&&t.f){var w=t.F&&t.F.slice(0,i.length)==i?{t:"array",ref:t.F}:null;g=Ne("f",jt(t.f),w)+(null!=t.v?g:"")}return t.l&&n["!links"].push([i,t.l]),t.D&&(_.cm=1),Ne("c",g,_)}function lT(t,i,n,o){var f,s=[Sn,Ne("worksheet",null,{xmlns:Is[0],"xmlns:r":jn_r})],g="",_=n.Sheets[n.SheetNames[t]];null==_&&(_={});var k=_["!ref"]||"A1",w=Tt(k);if(w.e.c>16383||w.e.r>1048575){if(i.WTF)throw new Error("Range "+k+" exceeds format limit A1:XFD1048576");w.e.c=Math.min(w.e.c,16383),w.e.r=Math.min(w.e.c,1048575),k=pt(w)}o||(o={}),_["!comments"]=[];var C=[];(function LM(t,i,n,o,s){var d=!1,f={},g=null;if("xlsx"!==o.bookType&&i.vbaraw){var _=i.SheetNames[n];try{i.Workbook&&(_=i.Workbook.Sheets[n].CodeName||_)}catch{}d=!0,f.codeName=mo(jt(_))}if(t&&t["!outline"]){var k={summaryBelow:1,summaryRight:1};t["!outline"].above&&(k.summaryBelow=0),t["!outline"].left&&(k.summaryRight=0),g=(g||"")+Ne("outlinePr",null,k)}!d&&!g||(s[s.length]=Ne("sheetPr",g,f))})(_,n,t,i,s),s[s.length]=Ne("dimension",null,{ref:k}),s[s.length]=function $M(t,i,n,o){var s={workbookViewId:"0"};return(((o||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=o.Workbook.Views[0].RTL?"1":"0"),Ne("sheetViews",Ne("sheetView",null,s),{})}(0,0,0,n),i.sheetFormat&&(s[s.length]=Ne("sheetFormatPr",null,{defaultRowHeight:i.sheetFormat.defaultRowHeight||"16",baseColWidth:i.sheetFormat.baseColWidth||"10",outlineLevelRow:i.sheetFormat.outlineLevelRow||"7"})),null!=_["!cols"]&&_["!cols"].length>0&&(s[s.length]=function ZM(t,i){for(var o,n=["<cols>"],s=0;s!=i.length;++s)!(o=i[s])||(n[n.length]=Ne("col",null,E1(s,o)));return n[n.length]="</cols>",n.join("")}(0,_["!cols"])),s[f=s.length]="<sheetData/>",_["!links"]=[],null!=_["!ref"]&&(g=function XM(t,i,n,o){var _,M,s=[],d=[],f=Tt(t["!ref"]),g="",k="",w=[],C=0,A=0,T=t["!rows"],E=Array.isArray(t),S={r:k},F=-1;for(A=f.s.c;A<=f.e.c;++A)w[A]=pn(A);for(C=f.s.r;C<=f.e.r;++C){for(d=[],k=Ln(C),A=f.s.c;A<=f.e.c;++A){_=w[A]+k;var N=E?(t[C]||[])[A]:t[_];void 0!==N&&null!=(g=QM(N,_,t,i))&&d.push(g)}(d.length>0||T&&T[C])&&(S={r:k},T&&T[C]&&((M=T[C]).hidden&&(S.hidden=1),F=-1,M.hpx?F=Wl(M.hpx):M.hpt&&(F=M.hpt),F>-1&&(S.ht=F,S.customHeight=1),M.level&&(S.outlineLevel=M.level)),s[s.length]=Ne("row",d.join(""),S))}if(T)for(;C<T.length;++C)T&&T[C]&&(S={r:C+1},(M=T[C]).hidden&&(S.hidden=1),F=-1,M.hpx?F=Wl(M.hpx):M.hpt&&(F=M.hpt),F>-1&&(S.ht=F,S.customHeight=1),M.level&&(S.outlineLevel=M.level),s[s.length]=Ne("row","",S));return s.join("")}(_,i),g.length>0&&(s[s.length]=g)),s.length>f+1&&(s[s.length]="</sheetData>",s[f]=s[f].replace("/>",">")),_["!protect"]&&(s[s.length]=function VM(t){var i={sheet:1};return RM.forEach(function(n){null!=t[n]&&t[n]&&(i[n]="1")}),zM.forEach(function(n){null!=t[n]&&!t[n]&&(i[n]="0")}),t.password&&(i.password=Su(t.password).toString(16).toUpperCase()),Ne("sheetProtection",null,i)}(_["!protect"])),null!=_["!autofilter"]&&(s[s.length]=function GM(t,i,n,o){var s="string"==typeof t.ref?t.ref:pt(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var d=n.Workbook.Names,f=Bi(s);f.s.r==f.e.r&&(f.e.r=Bi(i["!ref"]).e.r,s=pt(f));for(var g=0;g<d.length;++g){var _=d[g];if("_xlnm._FilterDatabase"==_.Name&&_.Sheet==o){_.Ref="'"+n.SheetNames[o]+"'!"+s;break}}return g==d.length&&d.push({Name:"_xlnm._FilterDatabase",Sheet:o,Ref:"'"+n.SheetNames[o]+"'!"+s}),Ne("autoFilter",null,{ref:s})}(_["!autofilter"],_,n,t)),null!=_["!merges"]&&_["!merges"].length>0&&(s[s.length]=function OM(t){if(0===t.length)return"";for(var i='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)i+='<mergeCell ref="'+pt(t[n])+'"/>';return i+"</mergeCells>"}(_["!merges"]));var T,A=-1,E=-1;return _["!links"].length>0&&(s[s.length]="<hyperlinks>",_["!links"].forEach(function(S){!S[1].Target||(T={ref:S[0]},"#"!=S[1].Target.charAt(0)&&(E=Vt(o,-1,jt(S[1].Target).replace(/#.*$/,""),mt.HLINK),T["r:id"]="rId"+E),(A=S[1].Target.indexOf("#"))>-1&&(T.location=jt(S[1].Target.slice(A+1))),S[1].Tooltip&&(T.tooltip=jt(S[1].Tooltip)),s[s.length]=Ne("hyperlink",null,T))}),s[s.length]="</hyperlinks>"),delete _["!links"],null!=_["!margins"]&&(s[s.length]=function HM(t){return xd(t),Ne("pageMargins",null,t)}(_["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&(s[s.length]=gi("ignoredErrors",Ne("ignoredError",null,{numberStoredAsText:1,sqref:k}))),C.length>0&&(E=Vt(o,-1,"../drawings/drawing"+(t+1)+".xml",mt.DRAW),s[s.length]=Ne("drawing",null,{"r:id":"rId"+E}),_["!drawing"]=C),_["!comments"].length>0&&(E=Vt(o,-1,"../drawings/vmlDrawing"+(t+1)+".vml",mt.VML),s[s.length]=Ne("legacyDrawing",null,{"r:id":"rId"+E}),_["!legacy"]=E),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function n4(t,i,n,o){var s=function t4(t,i,n){var o=we(145),s=(n["!rows"]||[])[t]||{};o.write_shift(4,t),o.write_shift(4,0);var d=320;s.hpx?d=20*Wl(s.hpx):s.hpt&&(d=20*s.hpt),o.write_shift(2,d),o.write_shift(1,0);var f=0;s.level&&(f|=s.level),s.hidden&&(f|=16),(s.hpx||s.hpt)&&(f|=32),o.write_shift(1,f),o.write_shift(1,0);var g=0,_=o.l;o.l+=4;for(var k={r:t,c:0},w=0;w<16;++w)if(!(i.s.c>w+1<<10||i.e.c<w<<10)){for(var C=-1,A=-1,T=w<<10;T<w+1<<10;++T)k.c=T,(Array.isArray(n)?(n[k.r]||[])[k.c]:n[st(k)])&&(C<0&&(C=T),A=T);C<0||(++g,o.write_shift(4,C),o.write_shift(4,A))}var S=o.l;return o.l=_,o.write_shift(4,g),o.l=S,o.length>o.l?o.slice(0,o.l):o}(o,n,i);(s.length>17||(i["!rows"]||[])[o])&&Ae(t,0,s)}var i4=Os,r4=jl;var V4=Os,j4=jl,dT=["left","right","top","bottom","header","footer"];function rI(t,i,n,o,s,d,f){if(void 0===i.v)return!1;var g="";switch(i.t){case"b":g=i.v?"1":"0";break;case"d":(i=tn(i)).z=i.z||ot[14],i.v=pi(fn(i.v)),i.t="n";break;case"n":case"e":g=""+i.v;break;default:g=i.v}var _={r:n,c:o};switch(_.s=Yl(s.cellXfs,i,s),i.l&&d["!links"].push([st(_),i.l]),i.c&&d["!comments"].push([st(_),i.c]),i.t){case"s":case"str":return s.bookSST?(g=Ky(s.Strings,i.v,s.revStrings),_.t="s",_.v=g,f?Ae(t,18,function C4(t,i,n){return null==n&&(n=we(8)),_a(i,n),n.write_shift(4,i.v),n}(0,_)):Ae(t,7,function v4(t,i,n){return null==n&&(n=we(12)),ma(i,n),n.write_shift(4,i.v),n}(0,_))):(_.t="str",f?Ae(t,17,function O4(t,i,n){return null==n&&(n=we(8+4*t.v.length)),_a(i,n),ii(t.v,n),n.length>n.l?n.slice(0,n.l):n}(i,_)):Ae(t,6,function F4(t,i,n){return null==n&&(n=we(12+4*t.v.length)),ma(i,n),ii(t.v,n),n.length>n.l?n.slice(0,n.l):n}(i,_))),!0;case"n":return i.v==(0|i.v)&&i.v>-1e3&&i.v<1e3?f?Ae(t,13,function M4(t,i,n){return null==n&&(n=we(8)),_a(i,n),Ig(t.v,n),n}(i,_)):Ae(t,2,function E4(t,i,n){return null==n&&(n=we(12)),ma(i,n),Ig(t.v,n),n}(i,_)):f?Ae(t,16,function T4(t,i,n){return null==n&&(n=we(12)),_a(i,n),ba(t.v,n),n}(i,_)):Ae(t,5,function y4(t,i,n){return null==n&&(n=we(16)),ma(i,n),ba(t.v,n),n}(i,_)),!0;case"b":return _.t="b",f?Ae(t,15,function g4(t,i,n){return null==n&&(n=we(5)),_a(i,n),n.write_shift(1,t.v?1:0),n}(i,_)):Ae(t,4,function f4(t,i,n){return null==n&&(n=we(9)),ma(i,n),n.write_shift(1,t.v?1:0),n}(i,_)),!0;case"e":return _.t="e",f?Ae(t,14,function k4(t,i,n){return null==n&&(n=we(8)),_a(i,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}(i,_)):Ae(t,3,function _4(t,i,n){return null==n&&(n=we(9)),ma(i,n),n.write_shift(1,t.v),n}(i,_)),!0}return f?Ae(t,12,function h4(t,i,n){return null==n&&(n=we(4)),_a(i,n)}(0,_)):Ae(t,1,function c4(t,i,n){return null==n&&(n=we(8)),ma(i,n)}(0,_)),!0}function pI(t,i,n,o){var s=Oi(),d=n.SheetNames[t],f=n.Sheets[d]||{},g=d;try{n&&n.Workbook&&(g=n.Workbook.Sheets[t].CodeName||g)}catch{}var _=Tt(f["!ref"]||"A1");if(_.e.c>16383||_.e.r>1048575){if(i.WTF)throw new Error("Range "+(f["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");_.e.c=Math.min(_.e.c,16383),_.e.r=Math.min(_.e.c,1048575)}return f["!links"]=[],f["!comments"]=[],Ae(s,129),(n.vbaraw||f["!outline"])&&Ae(s,147,function a4(t,i,n){null==n&&(n=we(84+4*t.length));var o=192;i&&(i.above&&(o&=-65),i.left&&(o&=-129)),n.write_shift(1,o);for(var s=1;s<3;++s)n.write_shift(1,0);return od({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),Vk(t,n),n.slice(0,n.l)}(g,f["!outline"])),Ae(s,148,r4(_)),function uI(t,i,n){Ae(t,133),Ae(t,137,function J4(t,i,n){null==n&&(n=we(30));var o=924;return(((i||{}).Views||[])[0]||{}).RTL&&(o|=32),n.write_shift(2,o),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Ae(t,138),Ae(t,134)}(s,0,n.Workbook),function aI(t,i){!i||!i["!cols"]||(Ae(t,390),i["!cols"].forEach(function(n,o){n&&Ae(t,60,function Y4(t,i,n){null==n&&(n=we(18));var o=E1(t,i);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,256*(o.width||10)),n.write_shift(4,0);var s=0;return i.hidden&&(s|=1),"number"==typeof o.width&&(s|=2),i.level&&(s|=i.level<<8),n.write_shift(2,s),n}(o,n))}),Ae(t,391))}(s,f),function oI(t,i,n,o){var s=Tt(i["!ref"]||"A1"),f="",g=[];Ae(t,145);var _=Array.isArray(i),k=s.e.r;i["!rows"]&&(k=Math.max(s.e.r,i["!rows"].length-1));for(var w=s.s.r;w<=k;++w){f=Ln(w),n4(t,i,s,w);var C=!1;if(w<=s.e.r)for(var A=s.s.c;A<=s.e.c;++A){w===s.s.r&&(g[A]=pn(A));var T=_?(i[w]||[])[A]:i[g[A]+f];C=!!T&&rI(t,T,w,A,o,i,C)}}Ae(t,146)}(s,f,0,i),function fI(t,i){!i["!protect"]||Ae(t,535,function eI(t,i){return null==i&&(i=we(66)),i.write_shift(2,t.password?Su(t.password):0),i.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){i.write_shift(4,n[1]?null==t[n[0]]||t[n[0]]?0:1:null!=t[n[0]]&&t[n[0]]?0:1)}),i}(i["!protect"]))}(s,f),function hI(t,i,n,o){if(i["!autofilter"]){var s=i["!autofilter"],d="string"==typeof s.ref?s.ref:pt(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var f=n.Workbook.Names,g=Bi(d);g.s.r==g.e.r&&(g.e.r=Bi(i["!ref"]).e.r,d=pt(g));for(var _=0;_<f.length;++_){var k=f[_];if("_xlnm._FilterDatabase"==k.Name&&k.Sheet==o){k.Ref="'"+n.SheetNames[o]+"'!"+d;break}}_==f.length&&f.push({Name:"_xlnm._FilterDatabase",Sheet:o,Ref:"'"+n.SheetNames[o]+"'!"+d}),Ae(t,161,jl(Tt(d))),Ae(t,162)}}(s,f,n,t),function sI(t,i){!i||!i["!merges"]||(Ae(t,177,function U4(t,i){return null==i&&(i=we(4)),i.write_shift(4,t),i}(i["!merges"].length)),i["!merges"].forEach(function(n){Ae(t,176,j4(n))}),Ae(t,178))}(s,f),function cI(t,i,n){i["!links"].forEach(function(o){if(o[1].Target){var s=Vt(n,-1,o[1].Target.replace(/#.*$/,""),mt.HLINK);Ae(t,494,function W4(t,i){var n=we(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));jl({s:Un(t[0]),e:Un(t[0])},n),Mg("rId"+i,n);var o=t[1].Target.indexOf("#");return ii((-1==o?"":t[1].Target.slice(o+1))||"",n),ii(t[1].Tooltip||"",n),ii("",n),n.slice(0,n.l)}(o,s))}}),delete i["!links"]}(s,f,o),f["!margins"]&&Ae(s,476,function $4(t,i){return null==i&&(i=we(48)),xd(t),dT.forEach(function(n){ba(t[n],i)}),i}(f["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&function lI(t,i){!i||!i["!ref"]||(Ae(t,648),Ae(t,649,function X4(t){var i=we(24);return i.write_shift(4,4),i.write_shift(4,1),jl(t,i),i}(Tt(i["!ref"]))),Ae(t,650))}(s,f),function dI(t,i,n,o){if(i["!comments"].length>0){var s=Vt(o,-1,"../drawings/vmlDrawing"+(n+1)+".vml",mt.VML);Ae(t,551,Mg("rId"+s)),i["!legacy"]=s}}(s,f,t,o),Ae(s,130),s.end()}var Qy=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],TI="][*?/\\".split("");function pT(t,i){if(t.length>31){if(i)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return TI.forEach(function(o){if(-1!=t.indexOf(o)){if(!i)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function mT(t){var i=[Sn];i[i.length]=Ne("workbook",null,{xmlns:Is[0],"xmlns:r":jn_r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,o={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Qy.forEach(function(g){null!=t.Workbook.WBProps[g[0]]&&t.Workbook.WBProps[g[0]]!=g[1]&&(o[g[0]]=t.Workbook.WBProps[g[0]])}),t.Workbook.WBProps.CodeName&&(o.codeName=t.Workbook.WBProps.CodeName,delete o.CodeName)),i[i.length]=Ne("workbookPr",null,o);var s=t.Workbook&&t.Workbook.Sheets||[],d=0;if(s&&s[0]&&s[0].Hidden){for(i[i.length]="<bookViews>",d=0;d!=t.SheetNames.length&&s[d]&&s[d].Hidden;++d);d==t.SheetNames.length&&(d=0),i[i.length]='<workbookView firstSheet="'+d+'" activeTab="'+d+'"/>',i[i.length]="</bookViews>"}for(i[i.length]="<sheets>",d=0;d!=t.SheetNames.length;++d){var f={name:jt(t.SheetNames[d].slice(0,31))};if(f.sheetId=""+(d+1),f["r:id"]="rId"+(d+1),s[d])switch(s[d].Hidden){case 1:f.state="hidden";break;case 2:f.state="veryHidden"}i[i.length]=Ne("sheet",null,f)}return i[i.length]="</sheets>",n&&(i[i.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(g){var _={name:g.Name};g.Comment&&(_.comment=g.Comment),null!=g.Sheet&&(_.localSheetId=""+g.Sheet),g.Hidden&&(_.hidden="1"),g.Ref&&(i[i.length]=Ne("definedName",jt(g.Ref),_))}),i[i.length]="</definedNames>"),i.length>2&&(i[i.length]="</workbook>",i[1]=i[1].replace("/>",">")),i.join("")}function II(t,i){return i||(i=we(127)),i.write_shift(4,t.Hidden),i.write_shift(4,t.iTabID),Mg(t.strRelID,i),ii(t.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i}function jI(t,i){var n=Oi();return Ae(n,131),Ae(n,128,function RI(t,i){i||(i=we(127));for(var n=0;4!=n;++n)i.write_shift(4,0);return ii("SheetJS",i),ii(yl_version,i),ii(yl_version,i),ii("7262",i),i.length>i.l?i.slice(0,i.l):i}()),Ae(n,153,function FI(t,i){i||(i=we(72));var n=0;return t&&t.filterPrivacy&&(n|=8),i.write_shift(4,n),i.write_shift(4,0),Vk(t&&t.CodeName||"ThisWorkbook",i),i.slice(0,i.l)}(t.Workbook&&t.Workbook.WBProps||null)),function VI(t,i){if(i.Workbook&&i.Workbook.Sheets){for(var n=i.Workbook.Sheets,o=0,s=-1,d=-1;o<n.length;++o)!n[o]||!n[o].Hidden&&-1==s?s=o:1==n[o].Hidden&&-1==d&&(d=o);d>s||(Ae(t,135),Ae(t,158,function zI(t,i){return i||(i=we(29)),i.write_shift(-4,0),i.write_shift(-4,460),i.write_shift(4,28800),i.write_shift(4,17600),i.write_shift(4,500),i.write_shift(4,t),i.write_shift(4,t),i.write_shift(1,120),i.length>i.l?i.slice(0,i.l):i}(s)),Ae(t,136))}}(n,t),function LI(t,i){Ae(t,143);for(var n=0;n!=i.SheetNames.length;++n)Ae(t,156,II({Hidden:i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[n]&&i.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:i.SheetNames[n]}));Ae(t,144)}(n,t),Ae(n,132),n.end()}function t5(t,i,n,o,s){return(".bin"===i.slice(-4)?pI:lT)(t,n,o,s)}function r5(t,i,n){return(".bin"===i.slice(-4)?VE:G2)(t,n)}function kT(t){return Ne("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Zy(t.Ref,{r:0,c:0})})}function w5(t,i,n,o,s,d,f){if(!t||null==t.v&&null==t.f)return"";var g={};if(t.f&&(g["ss:Formula"]="="+jt(Zy(t.f,f))),t.F&&t.F.slice(0,i.length)==i){var _=Un(t.F.slice(i.length+1));g["ss:ArrayRange"]="RC:R"+(_.r==f.r?"":"["+(_.r-f.r)+"]")+"C"+(_.c==f.c?"":"["+(_.c-f.c)+"]")}if(t.l&&t.l.Target&&(g["ss:HRef"]=jt(t.l.Target),t.l.Tooltip&&(g["x:HRefScreenTip"]=jt(t.l.Tooltip))),n["!merges"])for(var k=n["!merges"],w=0;w!=k.length;++w)k[w].s.c!=f.c||k[w].s.r!=f.r||(k[w].e.c>k[w].s.c&&(g["ss:MergeAcross"]=k[w].e.c-k[w].s.c),k[w].e.r>k[w].s.r&&(g["ss:MergeDown"]=k[w].e.r-k[w].s.r));var C="",A="";switch(t.t){case"z":if(!o.sheetStubs)return"";break;case"n":C="Number",A=String(t.v);break;case"b":C="Boolean",A=t.v?"1":"0";break;case"e":C="Error",A=Jo[t.v];break;case"d":C="DateTime",A=new Date(t.v).toISOString(),null==t.z&&(t.z=t.z||ot[14]);break;case"s":C="String",A=function cA(t){return(t+"").replace(sg,function(n){return Kh[n]}).replace(_k,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}(t.v||"")}var T=Yl(o.cellXfs,t,o);g["ss:StyleID"]="s"+(21+T),g["ss:Index"]=f.c+1;var S="z"==t.t?"":'<Data ss:Type="'+C+'">'+(null!=t.v?A:"")+"</Data>";return(t.c||[]).length>0&&(S+=function k5(t){return t.map(function(i){var n=function bk(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}(i.t||""),o=Ne("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ne("Comment",o,{"ss:Author":i.a})}).join("")}(t.c)),Ne("Cell",S,g)}function v5(t,i){var n='<Row ss:Index="'+(t+1)+'"';return i&&(i.hpt&&!i.hpx&&(i.hpx=vd(i.hpt)),i.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+i.hpx+'"'),i.hidden&&(n+=' ss:Hidden="1"')),n+">"}function C5(t,i,n){var o=[],d=n.Sheets[n.SheetNames[t]],f=d?function _5(t,i,n,o){if(!t||!((o||{}).Workbook||{}).Names)return"";for(var s=o.Workbook.Names,d=[],f=0;f<s.length;++f){var g=s[f];g.Sheet==n&&(g.Name.match(/^_xlfn\./)||d.push(kT(g)))}return d.join("")}(d,0,t,n):"";return f.length>0&&o.push("<Names>"+f+"</Names>"),f=d?function x5(t,i,n,o){if(!t["!ref"])return"";var s=Tt(t["!ref"]),d=t["!merges"]||[],f=0,g=[];t["!cols"]&&t["!cols"].forEach(function(M,F){zs(M);var N=!!M.width,L=E1(F,M),W={"ss:Index":F+1};N&&(W["ss:Width"]=kd(L.width)),M.hidden&&(W["ss:Hidden"]="1"),g.push(Ne("Column",null,W))});for(var _=Array.isArray(t),k=s.s.r;k<=s.e.r;++k){for(var w=[v5(k,(t["!rows"]||[])[k])],C=s.s.c;C<=s.e.c;++C){var A=!1;for(f=0;f!=d.length;++f)if(!(d[f].s.c>C||d[f].s.r>k||d[f].e.c<C||d[f].e.r<k)){(d[f].s.c!=C||d[f].s.r!=k)&&(A=!0);break}if(!A){var T={r:k,c:C},E=st(T);w.push(w5(_?(t[k]||[])[C]:t[E],E,t,i,0,0,T))}}w.push("</Row>"),w.length>2&&g.push(w.join(""))}return g.join("")}(d,i):"",f.length>0&&o.push("<Table>"+f+"</Table>"),o.push(function b5(t,i,n,o){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Ne("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Ne("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Ne("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),o&&o.Workbook&&o.Workbook.Sheets&&o.Workbook.Sheets[n])if(o.Workbook.Sheets[n].Hidden)s.push(Ne("Visible",1==o.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var d=0;d<n&&(!o.Workbook.Sheets[d]||o.Workbook.Sheets[d].Hidden);++d);d==n&&s.push("<Selected/>")}return((((o||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(gi("ProtectContents","True")),t["!protect"].objects&&s.push(gi("ProtectObjects","True")),t["!protect"].scenarios&&s.push(gi("ProtectScenarios","True")),null==t["!protect"].selectLockedCells||t["!protect"].selectLockedCells?null!=t["!protect"].selectUnlockedCells&&!t["!protect"].selectUnlockedCells&&s.push(gi("EnableSelection","UnlockedCells")):s.push(gi("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(f){t["!protect"][f[0]]&&s.push("<"+f[1]+"/>")})),0==s.length?"":Ne("WorksheetOptions",s.join(""),{xmlns:Xi_x})}(d,0,t,n)),o.join("")}function A5(t,i){i||(i={}),t.SSF||(t.SSF=tn(ot)),t.SSF&&(Ml(),fa(t.SSF),i.revssf=Pl(t.SSF),i.revssf[t.SSF[65535]]=0,i.ssf=t.SSF,i.cellXfs=[],Yl(i.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(function f5(t,i){var n=[];return t.Props&&n.push(function OA(t,i){var n=[];return Nn(lu).map(function(o){for(var s=0;s<_o.length;++s)if(_o[s][1]==o)return _o[s];for(s=0;s<xa.length;++s)if(xa[s][1]==o)return xa[s];throw o}).forEach(function(o){if(null!=t[o[1]]){var s=i&&i.Props&&null!=i.Props[o[1]]?i.Props[o[1]]:t[o[1]];"date"===o[2]&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof s?s=String(s):!0===s||!1===s?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(gi(lu[o[1]]||o[1],s))}}),Ne("DocumentProperties",n.join(""),{xmlns:Xi_o})}(t.Props,i)),t.Custprops&&n.push(function iw(t,i){var n=["Worksheets","SheetNames"],o="CustomDocumentProperties",s=[];return t&&Nn(t).forEach(function(d){if(Object.prototype.hasOwnProperty.call(t,d)){for(var f=0;f<_o.length;++f)if(d==_o[f][1])return;for(f=0;f<xa.length;++f)if(d==xa[f][1])return;for(f=0;f<n.length;++f)if(d==n[f])return;var g=t[d],_="string";"number"==typeof g?(_="float",g=String(g)):!0===g||!1===g?(_="boolean",g=g?"1":"0"):g=String(g),s.push(Ne(ag(d),g,{"dt:dt":_}))}}),i&&Nn(i).forEach(function(d){if(Object.prototype.hasOwnProperty.call(i,d)&&(!t||!Object.prototype.hasOwnProperty.call(t,d))){var f=i[d],g="string";"number"==typeof f?(g="float",f=String(f)):!0===f||!1===f?(g="boolean",f=f?"1":"0"):f instanceof Date?(g="dateTime.tz",f=f.toISOString()):f=String(f),s.push(Ne(ag(d),f,{"dt:dt":g}))}}),"<"+o+' xmlns="'+Xi_o+'">'+s.join("")+"</"+o+">"}(t.Props,t.Custprops)),n.join("")}(t,i)),n.push(""),n.push(""),n.push("");for(var o=0;o<t.SheetNames.length;++o)n.push(Ne("Worksheet",C5(o,i,t),{"ss:Name":jt(t.SheetNames[o])}));return n[2]=function g5(t,i){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return i.cellXfs.forEach(function(o,s){var d=[];d.push(Ne("NumberFormat",null,{"ss:Format":jt(ot[o.numFmtId])}));var f={"ss:ID":"s"+(21+s)};n.push(Ne("Style",d.join(""),f))}),Ne("Styles",n.join(""))}(0,i),n[3]=function m5(t){if(!((t||{}).Workbook||{}).Names)return"";for(var i=t.Workbook.Names,n=[],o=0;o<i.length;++o){var s=i[o];null==s.Sheet&&(s.Name.match(/^_xlfn\./)||n.push(kT(s)))}return Ne("Names",n.join(""))}(t),Sn+Ne("Workbook",n.join(""),{xmlns:Xi_ss,"xmlns:o":Xi_o,"xmlns:x":Xi_x,"xmlns:ss":Xi_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var Tm={0:{f:function e4(t,i){var n={},o=t.l+i;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var d=t.read_shift(1);return t.l=o,7&d&&(n.level=7&d),16&d&&(n.hidden=!0),32&d&&(n.hpt=s/20),n}},1:{f:function l4(t){return[wr(t)]}},2:{f:function S4(t){return[wr(t),nu(t),"n"]}},3:{f:function m4(t){return[wr(t),t.read_shift(1),"e"]}},4:{f:function u4(t){return[wr(t),t.read_shift(1),"b"]}},5:{f:function A4(t){return[wr(t),Li(t),"n"]}},6:{f:function P4(t){return[wr(t),Ti(t),"str"]}},7:{f:function w4(t){return[wr(t),t.read_shift(4),"s"]}},8:{f:function z4(t,i,n){var o=t.l+i,s=wr(t);s.r=n["!row"];var f=[s,Ti(t),"str"];if(n.cellFormula){t.l+=2;var g=T1(t,o-t.l,n);f[3]=nr(g,0,s,n.supbooks,n)}else t.l=o;return f}},9:{f:function R4(t,i,n){var o=t.l+i,s=wr(t);s.r=n["!row"];var f=[s,Li(t),"n"];if(n.cellFormula){t.l+=2;var g=T1(t,o-t.l,n);f[3]=nr(g,0,s,n.supbooks,n)}else t.l=o;return f}},10:{f:function B4(t,i,n){var o=t.l+i,s=wr(t);s.r=n["!row"];var f=[s,t.read_shift(1),"b"];if(n.cellFormula){t.l+=2;var g=T1(t,o-t.l,n);f[3]=nr(g,0,s,n.supbooks,n)}else t.l=o;return f}},11:{f:function L4(t,i,n){var o=t.l+i,s=wr(t);s.r=n["!row"];var f=[s,t.read_shift(1),"e"];if(n.cellFormula){t.l+=2;var g=T1(t,o-t.l,n);f[3]=nr(g,0,s,n.supbooks,n)}else t.l=o;return f}},12:{f:function d4(t){return[Ns(t)]}},13:{f:function D4(t){return[Ns(t),nu(t),"n"]}},14:{f:function b4(t){return[Ns(t),t.read_shift(1),"e"]}},15:{f:function p4(t){return[Ns(t),t.read_shift(1),"b"]}},16:{f:function cT(t){return[Ns(t),Li(t),"n"]}},17:{f:function N4(t){return[Ns(t),Ti(t),"str"]}},18:{f:function x4(t){return[Ns(t),t.read_shift(4),"s"]}},19:{f:Eg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function OI(t,i,n){var o=t.l+i;t.l+=4,t.l+=1;var s=t.read_shift(4),d=jk(t),f=mM(t,0,n),g=eu(t);t.l=o;var _={Name:d,Ptg:f};return s<268435455&&(_.Sheet=s),g&&(_.Comment=g),_}},40:{},42:{},43:{f:function p(t,i,n){var o={};o.sz=t.read_shift(2)/20;var s=function Hk(t){var i=t.read_shift(1);return t.l++,{fBold:1&i,fItalic:2&i,fUnderline:4&i,fStrikeout:8&i,fOutline:16&i,fShadow:32&i,fCondense:64&i,fExtend:128&i}}(t);switch(s.fItalic&&(o.italic=1),s.fCondense&&(o.condense=1),s.fExtend&&(o.extend=1),s.fShadow&&(o.shadow=1),s.fOutline&&(o.outline=1),s.fStrikeout&&(o.strike=1),700===t.read_shift(2)&&(o.bold=1),t.read_shift(2)){case 1:o.vertAlign="superscript";break;case 2:o.vertAlign="subscript"}var f=t.read_shift(1);0!=f&&(o.underline=f);var g=t.read_shift(1);g>0&&(o.family=g);var _=t.read_shift(1);switch(_>0&&(o.charset=_),t.l++,o.color=function xA(t){var i={},o=t.read_shift(1)>>>1,s=t.read_shift(1),d=t.read_shift(2,"i"),f=t.read_shift(1),g=t.read_shift(1),_=t.read_shift(1);switch(t.l++,o){case 0:i.auto=1;break;case 1:i.index=s;var k=wa[s];k&&(i.rgb=bd(k));break;case 2:i.rgb=bd([f,g,_]);break;case 3:i.theme=s}return 0!=d&&(i.tint=d>0?d/32767:d/32768),i}(t),t.read_shift(1)){case 1:o.scheme="major";break;case 2:o.scheme="minor"}return o.name=Ti(t),o}},44:{f:function l(t,i){return[t.read_shift(2),Ti(t)]}},45:{f:x},46:{f:R},47:{f:function D(t,i){var n=t.l+i,o=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:o,numFmtId:s}}},48:{},49:{f:function Nk(t){return t.read_shift(4,"i")}},50:{},51:{f:function _E(t){for(var i=[],n=t.read_shift(4);n-- >0;)i.push([t.read_shift(4),t.read_shift(4)]);return i}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function dm(t,i,n){if(!n.cellStyles)return ni(t,i);var o=n&&n.biff>=12?4:2,s=t.read_shift(o),d=t.read_shift(o),f=t.read_shift(o),g=t.read_shift(o),_=t.read_shift(2);2==o&&(t.l+=2);var k={s,e:d,w:f,ixfe:g,flags:_};return(n.biff>=5||!n.biff)&&(k.level=_>>8&7),k}},62:{f:function I4(t){return[wr(t),Eg(t),"is"]}},63:{f:function TE(t){var i={};i.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),i.r=st(n);var o=t.read_shift(1);return 2&o&&(i.l="1"),8&o&&(i.a="1"),i}},64:{f:function tI(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ni,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function Q4(t){var i=t.read_shift(2);return t.l+=28,{RTL:32&i}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function s4(t,i){var n={},o=t[t.l];return++t.l,n.above=!(64&o),n.left=!(128&o),t.l+=18,n.name=zk(t,i-19),n}},148:{f:i4,p:16},151:{f:function Z4(){}},152:{},153:{f:function PI(t,i){var n={},o=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=i>8?Ti(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(65536&o),n.backupFile=!!(64&o),n.checkCompatibility=!!(4096&o),n.date1904=!!(1&o),n.filterPrivacy=!!(8&o),n.hidePivotFieldList=!!(1024&o),n.promptedSolutions=!!(16&o),n.publishItems=!!(2048&o),n.refreshAllConnections=!!(262144&o),n.saveExternalLinkValues=!!(128&o),n.showBorderUnselectedTables=!!(4&o),n.showInkAnnotation=!!(32&o),n.showObjects=["all","placeholders","none"][o>>13&3],n.showPivotChartFilter=!!(32768&o),n.updateLinks=["userSet","never","always"][o>>8&3],n}},154:{},155:{},156:{f:function MI(t,i){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Dg(t,i-8),n.name=Ti(t),n}},157:{},158:{},159:{T:1,f:function _m(t){return[t.read_shift(4),t.read_shift(4)]}},160:{T:-1},161:{T:1,f:Os},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:V4},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function gE(t,i){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ti(t)}}},336:{T:-1},337:{f:function wE(t){return t.l+=4,0!=t.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Dg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function Uw(t,i,n){if(n.biff<8)return function py(t,i,n){3==t[t.l+1]&&t[t.l]++;var o=hd(t,0,n);return 3==o.charCodeAt(0)?o.slice(1):o}(t,0,n);for(var o=[],s=t.l+i,d=t.read_shift(n.biff>8?4:2);0!=d--;)o.push(ya(t,0,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return o}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function q4(t,i,n){var o=t.l+i,s=Pg(t),d=t.read_shift(1),f=[s];if(f[2]=d,n.cellFormula){var g=gM(t,o-t.l,n);f[1]=g}else t.l=o;return f}},427:{f:function G4(t,i,n){var o=t.l+i,d=[Os(t,16)];if(n.cellFormula){var f=_M(t,o-t.l,n);d[1]=f,t.l=o}else t.l=o;return d}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function K4(t){var i={};return dT.forEach(function(n){i[n]=Li(t)}),i}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function o4(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function H4(t,i){var n=t.l+i,o=Os(t,16),s=eu(t),d=Ti(t),f=Ti(t),g=Ti(t);t.l=n;var _={rfx:o,relId:s,loc:d,display:g};return f&&(_.Tooltip=f),_}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Dg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:LE},633:{T:1},634:{T:-1},635:{T:1,f:function OE(t){var i={};i.iauthor=t.read_shift(4);var n=Os(t,16);return i.rfx=n.s,i.ref=st(n.s),t.l+=16,i}},636:{T:-1},637:{f:Lk},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function kI(t,i){return t.l+=10,{name:Ti(t)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function nI(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Re(t,i,n,o){var s=i;if(!isNaN(s)){var d=o||(n||[]).length||0,f=t.next(4);f.write_shift(2,s),f.write_shift(2,d),d>0&&Xh(n)&&t.push(n)}}function Sm(t,i,n){return t||(t=we(7)),t.write_shift(2,i),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function O5(t,i,n,o){if(null!=i.v)switch(i.t){case"d":case"n":var s="d"==i.t?pi(fn(i.v)):i.v;return void(s==(0|s)&&s>=0&&s<65536?Re(t,2,function Sa(t,i,n){var o=we(9);return Sm(o,t,i),o.write_shift(2,n),o}(n,o,s)):Re(t,3,function Ta(t,i,n){var o=we(15);return Sm(o,t,i),o.write_shift(8,n,"f"),o}(n,o,s)));case"b":case"e":return void Re(t,5,function F5(t,i,n,o){var s=we(9);return Sm(s,t,i),pw(n,o||"b",s),s}(n,o,i.v,i.t));case"s":case"str":return void Re(t,4,function N5(t,i,n){var o=we(8+2*n.length);return Sm(o,t,i),o.write_shift(1,n.length),o.write_shift(n.length,n,"sbcs"),o.l<o.length?o.slice(0,o.l):o}(n,o,(i.v||"").slice(0,255)))}Re(t,1,Sm(null,n,o))}function W5(t,i,n,o,s){var d=16+Yl(s.cellXfs,i,s);if(null!=i.v||i.bf)if(i.bf)Re(t,6,function pM(t,i,n,o,s){var d=Ls(i,n,s),f=function fM(t){if(null==t){var i=we(8);return i.write_shift(1,3),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,65535),i}return ba("number"==typeof t?t:0)}(t.v),g=we(6);g.write_shift(2,33),g.write_shift(4,0);for(var k=we(t.bf.length),w=0;w<t.bf.length;++w)k[w]=t.bf[w];return ei([d,f,g,k])}(i,n,o,0,d));else switch(i.t){case"d":case"n":Re(t,515,function rm(t,i,n,o){var s=we(14);return Ls(t,i,o,s),ba(n,s),s}(n,o,"d"==i.t?pi(fn(i.v)):i.v,d));break;case"b":case"e":Re(t,517,function Rw(t,i,n,o,s,d){var f=we(8);return Ls(t,i,o,f),pw(n,d,f),f}(n,o,i.v,d,0,i.t));break;case"s":case"str":s.bookSST?Re(t,253,function ty(t,i,n,o){var s=we(10);return Ls(t,i,o,s),s.write_shift(4,n),s}(n,o,Ky(s.Strings,i.v,s.revStrings),d)):Re(t,516,function iy(t,i,n,o,s){var d=!s||8==s.biff,f=we(+d+8+(1+d)*n.length);return Ls(t,i,o,f),f.write_shift(2,n.length),d&&f.write_shift(1,1),f.write_shift((1+d)*n.length,n,d?"utf16le":"sbcs"),f}(n,o,(i.v||"").slice(0,255),d,s));break;default:Re(t,513,Ls(n,o,d))}else Re(t,513,Ls(n,o,d))}function Z5(t,i,n){var w,o=Oi(),s=n.SheetNames[t],d=n.Sheets[s]||{},f=(n||{}).Workbook||{},g=(f.Sheets||[])[t]||{},_=Array.isArray(d),k=8==i.biff,C="",A=[],T=Tt(d["!ref"]||"A1"),E=k?65536:16384;if(T.e.c>255||T.e.r>=E){if(i.WTF)throw new Error("Range "+(d["!ref"]||"A1")+" exceeds format limit A1:IV16384");T.e.c=Math.min(T.e.c,255),T.e.r=Math.min(T.e.c,E-1)}Re(o,2057,mu(0,16,i)),Re(o,13,vr(1)),Re(o,12,vr(100)),Re(o,15,qi(!0)),Re(o,17,qi(!1)),Re(o,16,ba(.001)),Re(o,95,qi(!0)),Re(o,42,qi(!1)),Re(o,43,qi(!1)),Re(o,130,vr(1)),Re(o,128,function hy(t){var i=we(8);return i.write_shift(4,0),i.write_shift(2,t[0]?t[0]+1:0),i.write_shift(2,t[1]?t[1]+1:0),i}([0,0])),Re(o,131,qi(!1)),Re(o,132,qi(!1)),k&&function H5(t,i){if(i){var n=0;i.forEach(function(o,s){++n<=256&&o&&Re(t,125,function hm(t,i){var n=we(12);n.write_shift(2,i),n.write_shift(2,i),n.write_shift(2,256*t.width),n.write_shift(2,0);var o=0;return t.hidden&&(o|=1),n.write_shift(1,o),n.write_shift(1,o=t.level||0),n.write_shift(2,0),n}(E1(s,o),s))})}}(o,d["!cols"]),Re(o,512,function oy(t,i){var n=8!=i.biff&&i.biff?2:4,o=we(2*n+6);return o.write_shift(n,t.s.r),o.write_shift(n,t.e.r+1),o.write_shift(2,t.s.c),o.write_shift(2,t.e.c+1),o.write_shift(2,0),o}(T,i)),k&&(d["!links"]=[]);for(var S=T.s.r;S<=T.e.r;++S){C=Ln(S);for(var M=T.s.c;M<=T.e.c;++M){S===T.s.r&&(A[M]=pn(M)),w=A[M]+C;var F=_?(d[S]||[])[M]:d[w];!F||(W5(o,F,S,M,i),k&&F.l&&d["!links"].push([w,F.l]))}}var N=g.CodeName||g.name||s;return k&&Re(o,574,function ey(t){var i=we(18),n=1718;return t&&t.RTL&&(n|=64),i.write_shift(2,n),i.write_shift(4,0),i.write_shift(4,64),i.write_shift(4,0),i.write_shift(4,0),i}((f.Views||[])[0])),k&&(d["!merges"]||[]).length&&Re(o,229,function Zw(t){var i=we(2+8*t.length);i.write_shift(2,t.length);for(var n=0;n<t.length;++n)vw(t[n],i);return i}(d["!merges"])),k&&function U5(t,i){for(var n=0;n<i["!links"].length;++n){var o=i["!links"][n];Re(t,440,wy(o)),o[1].Tooltip&&Re(t,2048,bu(o))}delete i["!links"]}(o,d),Re(o,442,mw(N)),k&&function V5(t,i){var n=we(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Re(t,2151,n),(n=we(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),vw(Tt(i["!ref"]||"A1"),n),n.write_shift(4,4),Re(t,2152,n)}(o,d),Re(o,10),o.end()}function q5(t,i,n){var o=Oi(),s=(t||{}).Workbook||{},d=s.Sheets||[],f=s.WBProps||{},g=8==n.biff,_=5==n.biff;Re(o,2057,mu(0,5,n)),"xla"==n.bookType&&Re(o,135),Re(o,225,g?vr(1200):null),Re(o,193,function hw(t,i){i||(i=we(t));for(var n=0;n<t;++n)i.write_shift(1,0);return i}(2)),_&&Re(o,191),_&&Re(o,192),Re(o,226),Re(o,92,function Sw(t,i){var n=!i||8==i.biff,o=we(n?112:54);for(o.write_shift(8==i.biff?2:1,7),n&&o.write_shift(1,0),o.write_shift(4,859007059),o.write_shift(4,5458548|(n?0:536870912));o.l<o.length;)o.write_shift(1,n?0:32);return o}(0,n)),Re(o,66,vr(g?1200:1252)),g&&Re(o,353,vr(0)),g&&Re(o,448),Re(o,317,function $w(t){for(var i=we(2*t),n=0;n<t;++n)i.write_shift(2,n+1);return i}(t.SheetNames.length)),g&&t.vbaraw&&Re(o,211),g&&t.vbaraw&&Re(o,442,mw(f.CodeName||"ThisWorkbook")),Re(o,156,vr(17)),Re(o,25,qi(!1)),Re(o,18,qi(!1)),Re(o,19,vr(0)),g&&Re(o,431,qi(!1)),g&&Re(o,444,vr(0)),Re(o,61,function JA(){var t=we(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}()),Re(o,64,qi(!1)),Re(o,141,vr(0)),Re(o,34,qi("true"==function yI(t){return t.Workbook&&t.Workbook.WBProps&&function kn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(t.Workbook.WBProps.date1904)?"true":"false"}(t))),Re(o,14,qi(!0)),g&&Re(o,439,qi(!1)),Re(o,218,vr(0)),function R5(t,i,n){Re(t,49,function Ul(t,i){var n=t.name||"Arial",o=i&&5==i.biff,d=we(o?15+n.length:16+2*n.length);return d.write_shift(2,20*(t.sz||12)),d.write_shift(4,0),d.write_shift(2,400),d.write_shift(4,0),d.write_shift(2,0),d.write_shift(1,n.length),o||d.write_shift(1,1),d.write_shift((o?1:2)*n.length,n,o?"sbcs":"utf16le"),d}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}(o,0,n),function z5(t,i,n){!i||[[5,8],[23,26],[41,44],[50,392]].forEach(function(o){for(var s=o[0];s<=o[1];++s)null!=i[s]&&Re(t,1054,Ow(s,i[s],n))})}(o,t.SSF,n),function j5(t,i){for(var n=0;n<16;++n)Re(t,224,nm({numFmtId:0,style:!0},0,i));i.cellXfs.forEach(function(o){Re(t,224,nm(o,0,i))})}(o,n),g&&Re(o,352,qi(!1));var w=o.end(),C=Oi();g&&Re(C,140,function xy(t){return t||(t=we(4)),t.write_shift(2,1),t.write_shift(2,1),t}()),g&&n.Strings&&function P5(t,i,n,o){var s=o||(n||[]).length||0;if(s<=8224)return Re(t,i,n,s);var d=i;if(!isNaN(d)){for(var f=n.parts||[],g=0,_=0,k=0;k+(f[g]||8224)<=8224;)k+=f[g]||8224,g++;var w=t.next(4);for(w.write_shift(2,d),w.write_shift(2,k),t.push(n.slice(_,_+k)),_+=k;_<s;){for((w=t.next(4)).write_shift(2,60),k=0;k+(f[g]||8224)<=8224;)k+=f[g]||8224,g++;w.write_shift(2,k),t.push(n.slice(_,_+k)),_+=k}}}(C,252,function Jg(t,i){var n=we(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var o=[],s=0;s<t.length;++s)o[s]=jA(t[s]);var d=ei([n].concat(o));return d.parts=[n.length].concat(o.map(function(f){return f.length})),d}(n.Strings)),Re(C,10);var A=C.end(),T=Oi(),E=0,S=0;for(S=0;S<t.SheetNames.length;++S)E+=(g?12:11)+(g?2:1)*t.SheetNames[S].length;var M=w.length+E+A.length;for(S=0;S<t.SheetNames.length;++S)Re(T,133,Mw({pos:M,hs:(d[S]||{}).Hidden||0,dt:0,name:t.SheetNames[S]},n)),M+=i[S].length;var N=T.end();if(E!=N.length)throw new Error("BS8 "+E+" != "+N.length);var L=[];return w.length&&L.push(w),N.length&&L.push(N),A.length&&L.push(A),ei(L)}function vT(t,i){for(var n=0;n<=t.SheetNames.length;++n){var o=t.Sheets[t.SheetNames[n]];o&&o["!ref"]&&Bi(o["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var d=i||{};switch(d.biff||2){case 8:case 5:return function G5(t,i){var n=i||{},o=[];t&&!t.SSF&&(t.SSF=tn(ot)),t&&t.SSF&&(Ml(),fa(t.SSF),n.revssf=Pl(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,a2(n),n.cellXfs=[],Yl(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)o[o.length]=Z5(s,n,t);return o.unshift(q5(t,o,n)),ei(o)}(t,i);case 4:case 3:case 2:return function L5(t,i){for(var n=i||{},o=Oi(),s=0,d=0;d<t.SheetNames.length;++d)t.SheetNames[d]==n.sheet&&(s=d);if(0==s&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Re(o,4==n.biff?1033:3==n.biff?521:9,mu(0,16,n)),function B5(t,i,n,o){var f,s=Array.isArray(i),d=Tt(i["!ref"]||"A1"),g="",_=[];if(d.e.c>255||d.e.r>16383){if(o.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,16383),f=pt(d)}for(var k=d.s.r;k<=d.e.r;++k){g=Ln(k);for(var w=d.s.c;w<=d.e.c;++w){k===d.s.r&&(_[w]=pn(w)),f=_[w]+g;var C=s?(i[k]||[])[w]:i[f];!C||O5(t,C,k,w)}}}(o,t.Sheets[t.SheetNames[s]],0,n),Re(o,10),o.end()}(t,i)}throw new Error("invalid type "+d.bookType+" for BIFF")}function CT(t,i,n,o){for(var s=t["!merges"]||[],d=[],f=i.s.c;f<=i.e.c;++f){for(var g=0,_=0,k=0;k<s.length;++k)if(!(s[k].s.r>n||s[k].s.c>f||s[k].e.r<n||s[k].e.c<f)){if(s[k].s.r<n||s[k].s.c<f){g=-1;break}g=s[k].e.r-s[k].s.r+1,_=s[k].e.c-s[k].s.c+1;break}if(!(g<0)){var w=st({r:n,c:f}),C=o.dense?(t[n]||[])[f]:t[w],A=C&&null!=C.v&&(C.h||Nl(C.w||(io(C),C.w)||""))||"",T={};g>1&&(T.rowspan=g),_>1&&(T.colspan=_),o.editable?A='<span contenteditable="true">'+A+"</span>":C&&(T["data-t"]=C&&C.t||"z",null!=C.v&&(T["data-v"]=C.v),null!=C.z&&(T["data-z"]=C.z),C.l&&"#"!=(C.l.Target||"#").charAt(0)&&(A='<a href="'+C.l.Target+'">'+A+"</a>")),T.id=(o.id||"sjs")+"-"+w,d.push(Ne("td",A,T))}}return"<tr>"+d.join("")+"</tr>"}function ST(t,i){var n=i||{},s=null!=n.footer?n.footer:"</body></html>",d=[null!=n.header?n.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],f=Bi(t["!ref"]);n.dense=Array.isArray(t),d.push(function TT(t,i,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var g=f.s.r;g<=f.e.r;++g)d.push(CT(t,f,g,n));return d.push("</table>"+s),d.join("")}function ET(t,i,n){var o=n||{},s=0,d=0;if(null!=o.origin)if("number"==typeof o.origin)s=o.origin;else{var f="string"==typeof o.origin?Un(o.origin):o.origin;s=f.r,d=f.c}var g=i.getElementsByTagName("tr"),_=Math.min(o.sheetRows||1e7,g.length),k={s:{r:0,c:0},e:{r:s,c:d}};if(t["!ref"]){var w=Bi(t["!ref"]);k.s.r=Math.min(k.s.r,w.s.r),k.s.c=Math.min(k.s.c,w.s.c),k.e.r=Math.max(k.e.r,w.e.r),k.e.c=Math.max(k.e.c,w.e.c),-1==s&&(k.e.r=s=w.e.r+1)}var C=[],A=0,T=t["!rows"]||(t["!rows"]=[]),E=0,S=0,M=0,F=0,N=0,L=0;for(t["!cols"]||(t["!cols"]=[]);E<g.length&&S<_;++E){var W=g[E];if(MT(W)){if(o.display)continue;T[S]={hidden:!0}}var Z=W.children;for(M=F=0;M<Z.length;++M){var X=Z[M];if(!o.display||!MT(X)){var V=X.hasAttribute("data-v")?X.getAttribute("data-v"):X.hasAttribute("v")?X.getAttribute("v"):wk(X.innerHTML),K=X.getAttribute("data-z")||X.getAttribute("z");for(A=0;A<C.length;++A){var te=C[A];te.s.c==F+d&&te.s.r<S+s&&S+s<=te.e.r&&(F=te.e.c+1-d,A=-1)}L=+X.getAttribute("colspan")||1,((N=+X.getAttribute("rowspan")||1)>1||L>1)&&C.push({s:{r:S+s,c:F+d},e:{r:S+s+(N||1)-1,c:F+d+(L||1)-1}});var ae={t:"s",v:V},le=X.getAttribute("data-t")||X.getAttribute("t")||"";null!=V&&(0==V.length?ae.t=le||"z":o.raw||0==V.trim().length||"s"==le||("TRUE"===V?ae={t:"b",v:!0}:"FALSE"===V?ae={t:"b",v:!1}:isNaN(eo(V))?isNaN(pa(V).getDate())||(ae={t:"d",v:fn(V)},o.cellDates||(ae={t:"n",v:pi(ae.v)}),ae.z=o.dateNF||ot[14]):ae={t:"n",v:eo(V)})),void 0===ae.z&&null!=K&&(ae.z=K);var re="",Me=X.getElementsByTagName("A");if(Me&&Me.length)for(var He=0;He<Me.length&&(!Me[He].hasAttribute("href")||"#"==(re=Me[He].getAttribute("href")).charAt(0));++He);re&&"#"!=re.charAt(0)&&(ae.l={Target:re}),o.dense?(t[S+s]||(t[S+s]=[]),t[S+s][F+d]=ae):t[st({c:F+d,r:S+s})]=ae,k.e.c<F+d&&(k.e.c=F+d),F+=L}}++S}return C.length&&(t["!merges"]=(t["!merges"]||[]).concat(C)),k.e.r=Math.max(k.e.r,S-1+s),t["!ref"]=pt(k),S>=_&&(t["!fullref"]=pt((k.e.r=g.length-E+S-1+s,k))),t}function DT(t,i){return ET((i||{}).dense?[]:{},t,i)}function MT(t){var i="",n=function $5(t){return t.ownerDocument.defaultView&&"function"==typeof t.ownerDocument.defaultView.getComputedStyle?t.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(t);return n&&(i=n(t).getPropertyValue("display")),i||(i=t.style&&t.style.display),"none"===i}var J5=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),i="<office:document-styles "+ed({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Sn+i}}(),OT=function(){var t=function(d){return jt(d).replace(/  +/g,function(f){return'<text:s text:c="'+f.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},i="          <table:table-cell />\n",o=function(d,f,g){var _=[];_.push('      <table:table table:name="'+jt(f.SheetNames[g])+'" table:style-name="ta1">\n');var k=0,w=0,C=Bi(d["!ref"]||"A1"),A=d["!merges"]||[],T=0,E=Array.isArray(d);if(d["!cols"])for(w=0;w<=C.e.c;++w)_.push("        <table:table-column"+(d["!cols"][w]?' table:style-name="co'+d["!cols"][w].ods+'"':"")+"></table:table-column>\n");var M=d["!rows"]||[];for(k=0;k<C.s.r;++k)_.push("        <table:table-row"+(M[k]?' table:style-name="ro'+M[k].ods+'"':"")+"></table:table-row>\n");for(;k<=C.e.r;++k){for(_.push("        <table:table-row"+(M[k]?' table:style-name="ro'+M[k].ods+'"':"")+">\n"),w=0;w<C.s.c;++w)_.push(i);for(;w<=C.e.c;++w){var F=!1,N={},L="";for(T=0;T!=A.length;++T)if(!(A[T].s.c>w||A[T].s.r>k||A[T].e.c<w||A[T].e.r<k)){(A[T].s.c!=w||A[T].s.r!=k)&&(F=!0),N["table:number-columns-spanned"]=A[T].e.c-A[T].s.c+1,N["table:number-rows-spanned"]=A[T].e.r-A[T].s.r+1;break}if(F)_.push("          <table:covered-table-cell/>\n");else{var W=st({r:k,c:w}),Z=E?(d[k]||[])[w]:d[W];if(Z&&Z.f&&(N["table:formula"]=jt(wM(Z.f)),Z.F&&Z.F.slice(0,W.length)==W)){var X=Bi(Z.F);N["table:number-matrix-columns-spanned"]=X.e.c-X.s.c+1,N["table:number-matrix-rows-spanned"]=X.e.r-X.s.r+1}if(Z){switch(Z.t){case"b":L=Z.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=Z.v?"true":"false";break;case"n":L=Z.w||String(Z.v||0),N["office:value-type"]="float",N["office:value"]=Z.v||0;break;case"s":case"str":L=Z.v??"",N["office:value-type"]="string";break;case"d":L=Z.w||fn(Z.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=fn(Z.v).toISOString(),N["table:style-name"]="ce1";break;default:_.push(i);continue}var V=t(L);if(Z.l&&Z.l.Target){var K=Z.l.Target;"#"!=(K="#"==K.charAt(0)?"#"+vM(K.slice(1)):K).charAt(0)&&!K.match(/^\w+:/)&&(K="../"+K),V=Ne("text:a",V,{"xlink:href":K.replace(/&/g,"&amp;")})}_.push("          "+Ne("table:table-cell",Ne("text:p",V,{}),N)+"\n")}else _.push(i)}}_.push("        </table:table-row>\n")}return _.push("      </table:table>\n"),_.join("")};return function(f,g){var _=[Sn],k=ed({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),w=ed({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==g.bookType?(_.push("<office:document"+k+w+">\n"),_.push(su().replace(/office:document-meta/g,"office:meta"))):_.push("<office:document-content"+k+">\n"),function(d,f){d.push(" <office:automatic-styles>\n"),d.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),d.push('   <number:month number:style="long"/>\n'),d.push("   <number:text>/</number:text>\n"),d.push('   <number:day number:style="long"/>\n'),d.push("   <number:text>/</number:text>\n"),d.push("   <number:year/>\n"),d.push("  </number:date-style>\n");var g=0;f.SheetNames.map(function(k){return f.Sheets[k]}).forEach(function(k){if(k&&k["!cols"])for(var w=0;w<k["!cols"].length;++w)if(k["!cols"][w]){var C=k["!cols"][w];if(null==C.width&&null==C.wpx&&null==C.wch)continue;zs(C),C.ods=g;var A=k["!cols"][w].wpx+"px";d.push('  <style:style style:name="co'+g+'" style:family="table-column">\n'),d.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+A+'"/>\n'),d.push("  </style:style>\n"),++g}});var _=0;f.SheetNames.map(function(k){return f.Sheets[k]}).forEach(function(k){if(k&&k["!rows"])for(var w=0;w<k["!rows"].length;++w)if(k["!rows"][w]){k["!rows"][w].ods=_;var C=k["!rows"][w].hpx+"px";d.push('  <style:style style:name="ro'+_+'" style:family="table-row">\n'),d.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+C+'"/>\n'),d.push("  </style:style>\n"),++_}}),d.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),d.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),d.push("  </style:style>\n"),d.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),d.push(" </office:automatic-styles>\n")}(_,f),_.push("  <office:body>\n"),_.push("    <office:spreadsheet>\n");for(var C=0;C!=f.SheetNames.length;++C)_.push(o(f.Sheets[f.SheetNames[C]],f,C));return _.push("    </office:spreadsheet>\n"),_.push("  </office:body>\n"),_.push("fods"==g.bookType?"</office:document>":"</office:document-content>"),_.join("")}}();function BT(t,i){if("fods"==i.bookType)return OT(t,i);var n=rg(),o="",s=[],d=[];return wt(n,o="mimetype","application/vnd.oasis.opendocument.spreadsheet"),wt(n,o="content.xml",OT(t,i)),s.push([o,"text/xml"]),d.push([o,"ContentFile"]),wt(n,o="styles.xml",J5(t,i)),s.push([o,"text/xml"]),d.push([o,"StylesFile"]),wt(n,o="meta.xml",Sn+su()),s.push([o,"text/xml"]),d.push([o,"MetadataFile"]),wt(n,o="manifest.rdf",function $k(t){var i=[Sn];i.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=t.length;++n)i.push(Kk(t[n][0],t[n][1])),i.push(Ug("",t[n][0]));return i.push(Kk("","Document","pkg")),i.push("</rdf:RDF>"),i.join("")}(d)),s.push([o,"application/rdf+xml"]),wt(n,o="META-INF/manifest.xml",function PA(t){var i=[Sn];i.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),i.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<t.length;++n)i.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+'"/>\n');return i.push("</manifest:manifest>"),i.join("")}(s)),n}function Cd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function X5(t){return typeof TextEncoder<"u"?(new TextEncoder).encode(t):gr(mo(t))}function Kl(t){var i=t.reduce(function(s,d){return s+d.length},0),n=new Uint8Array(i),o=0;return t.forEach(function(s){n.set(s,o),o+=s.length}),n}function Em(t,i){var n=i?i[0]:0,o=127&t[n];e:if(t[n++]>=128&&(o|=(127&t[n])<<7,t[n++]<128||(o|=(127&t[n])<<14,t[n++]<128)||(o|=(127&t[n])<<21,t[n++]<128)||(o+=(127&t[n])*Math.pow(2,28),++n,t[n++]<128)||(o+=(127&t[n])*Math.pow(2,35),++n,t[n++]<128)||(o+=(127&t[n])*Math.pow(2,42),++n,t[n++]<128)))break e;return i&&(i[0]=n),o}function Jt(t){var i=new Uint8Array(7);i[0]=127&t;var n=1;e:if(t>127){if(i[n-1]|=128,i[n]=t>>7&127,++n,t<=16383||(i[n-1]|=128,i[n]=t>>14&127,++n,t<=2097151)||(i[n-1]|=128,i[n]=t>>21&127,++n,t<=268435455)||(i[n-1]|=128,i[n]=t/256>>>21&127,++n,t<=34359738367)||(i[n-1]|=128,i[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;i[n-1]|=128,i[n]=t/16777216>>>21&127,++n}return i.slice(0,n)}function Jn(t){var i=0,n=127&t[i];e:if(t[i++]>=128){if(n|=(127&t[i])<<7,t[i++]<128||(n|=(127&t[i])<<14,t[i++]<128)||(n|=(127&t[i])<<21,t[i++]<128))break e;n|=(127&t[i])<<28}return n}function Wt(t){for(var i=[],n=[0];n[0]<t.length;){var g,o=n[0],s=Em(t,n),d=7&s,f=0;if(0==(s=Math.floor(s/8)))break;switch(d){case 0:for(var _=n[0];t[n[0]++]>=128;);g=t.slice(_,n[0]);break;case 5:g=t.slice(n[0],n[0]+(f=4)),n[0]+=f;break;case 1:g=t.slice(n[0],n[0]+(f=8)),n[0]+=f;break;case 2:f=Em(t,n),g=t.slice(n[0],n[0]+f),n[0]+=f;break;default:throw new Error("PB Type ".concat(d," for Field ").concat(s," at offset ").concat(o))}var k={data:g,type:d};null==i[s]?i[s]=[k]:i[s].push(k)}return i}function Vi(t){var i=[];return t.forEach(function(n,o){n.forEach(function(s){!s.data||(i.push(Jt(8*o+s.type)),2==s.type&&i.push(Jt(s.data.length)),i.push(s.data))})}),Kl(i)}function ko(t){for(var i,n=[],o=[0];o[0]<t.length;){var s=Em(t,o),d=Wt(t.slice(o[0],o[0]+s));o[0]+=s;var f={id:Jn(d[1][0].data),messages:[]};d[2].forEach(function(g){var _=Wt(g.data),k=Jn(_[3][0].data);f.messages.push({meta:_,data:t.slice(o[0],o[0]+k)}),o[0]+=k}),null!=(i=d[3])&&i[0]&&(f.merge=Jn(d[3][0].data)>>>0>0),n.push(f)}return n}function Ru(t){var i=[];return t.forEach(function(n){var o=[];o[1]=[{data:Jt(n.id),type:0}],o[2]=[],null!=n.merge&&(o[3]=[{data:Jt(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(f){s.push(f.data),f.meta[3]=[{type:0,data:Jt(f.data.length)}],o[2].push({data:Vi(f.meta),type:2})});var d=Vi(o);i.push(Jt(d.length)),i.push(d),s.forEach(function(f){return i.push(f)})}),Kl(i)}function i3(t,i){if(0!=t)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],o=Em(i,n),s=[];n[0]<i.length;){var d=3&i[n[0]];if(0!=d){var _=0,k=0;if(1==d?(k=4+(i[n[0]]>>2&7),_=(224&i[n[0]++])<<3,_|=i[n[0]++]):(k=1+(i[n[0]++]>>2),2==d?(_=i[n[0]]|i[n[0]+1]<<8,n[0]+=2):(_=(i[n[0]]|i[n[0]+1]<<8|i[n[0]+2]<<16|i[n[0]+3]<<24)>>>0,n[0]+=4)),s=[Kl(s)],0==_)throw new Error("Invalid offset 0");if(_>s[0].length)throw new Error("Invalid offset beyond length");if(k>=_)for(s.push(s[0].slice(-_)),k-=_;k>=s[s.length-1].length;)s.push(s[s.length-1]),k-=s[s.length-1].length;s.push(s[0].slice(-_,-_+k))}else{var f=i[n[0]++]>>2;if(f<60)++f;else{var g=f-59;f=i[n[0]],g>1&&(f|=i[n[0]+1]<<8),g>2&&(f|=i[n[0]+2]<<16),g>3&&(f|=i[n[0]+3]<<24),f>>>=0,f++,n[0]+=g}s.push(i.slice(n[0],n[0]+f)),n[0]+=f}}var w=Kl(s);if(w.length!=o)throw new Error("Unexpected length: ".concat(w.length," != ").concat(o));return w}function wo(t){for(var i=[],n=0;n<t.length;){var o=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;i.push(i3(o,t.slice(n+=3,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Kl(i)}function zu(t){for(var i=[],n=0;n<t.length;){var o=Math.min(t.length-n,268435455),s=new Uint8Array(4);i.push(s);var d=Jt(o),f=d.length;i.push(d),o<=60?(f++,i.push(new Uint8Array([o-1<<2]))):o<=256?(f+=2,i.push(new Uint8Array([240,o-1&255]))):o<=65536?(f+=3,i.push(new Uint8Array([244,o-1&255,o-1>>8&255]))):o<=16777216?(f+=4,i.push(new Uint8Array([248,o-1&255,o-1>>8&255,o-1>>16&255]))):o<=4294967296&&(f+=5,i.push(new Uint8Array([252,o-1&255,o-1>>8&255,o-1>>16&255,o-1>>>24&255]))),i.push(t.slice(n,n+o)),f+=o,s[0]=0,s[1]=255&f,s[2]=f>>8&255,s[3]=f>>16&255,n+=o}return Kl(i)}function i2(t,i){var n=new Uint8Array(32),o=Cd(n),s=12,d=0;switch(n[0]=5,t.t){case"n":n[1]=2,function n3(t,i,n){var o=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,o-6176);t[i+15]|=o>>7,t[i+14]|=(127&o)<<1;for(var d=0;s>=1;++d,s/=256)t[i+d]=255&s;t[i+15]|=n>=0?0:128}(n,s,t.v),d|=1,s+=16;break;case"b":n[1]=6,o.setFloat64(s,t.v?1:0,!0),d|=2,s+=8;break;case"s":if(-1==i.indexOf(t.v))throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,o.setUint32(s,i.indexOf(t.v),!0),d|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return o.setUint32(8,d,!0),n.slice(0,s)}function r2(t,i){var n=new Uint8Array(32),o=Cd(n),s=12,d=0;switch(n[0]=3,t.t){case"n":n[2]=2,o.setFloat64(s,t.v,!0),d|=32,s+=8;break;case"b":n[2]=6,o.setFloat64(s,t.v?1:0,!0),d|=32,s+=8;break;case"s":if(-1==i.indexOf(t.v))throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,o.setUint32(s,i.indexOf(t.v),!0),d|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return o.setUint32(4,d,!0),n.slice(0,s)}function ir(t){return Em(Wt(t)[1][0].data)}function f3(t,i,n){var o,s,d,f;if(null==(o=t[6])||!o[0]||null==(s=t[7])||!s[0])throw"Mutation only works on post-BNC storages!";if((null==(f=null==(d=t[8])?void 0:d[0])?void 0:f.data)&&Jn(t[8][0].data)>0)throw"Math only works with normal offsets";for(var _=0,k=Cd(t[7][0].data),w=0,C=[],A=Cd(t[4][0].data),T=0,E=[],S=0;S<i.length;++S)if(null!=i[S]){var M,F;switch(k.setUint16(2*S,w,!0),A.setUint16(2*S,T,!0),typeof i[S]){case"string":M=i2({t:"s",v:i[S]},n),F=r2({t:"s",v:i[S]},n);break;case"number":M=i2({t:"n",v:i[S]},n),F=r2({t:"n",v:i[S]},n);break;case"boolean":M=i2({t:"b",v:i[S]},n),F=r2({t:"b",v:i[S]},n);break;default:throw new Error("Unsupported value "+i[S])}C.push(M),w+=M.length,E.push(F),T+=F.length,++_}else k.setUint16(2*S,65535,!0),A.setUint16(2*S,65535);for(t[2][0].data=Jt(_);S<t[7][0].data.length/2;++S)k.setUint16(2*S,65535,!0),A.setUint16(2*S,65535,!0);return t[6][0].data=Kl(C),t[3][0].data=Kl(E),_}function a2(t){!function zT(t){return function(n){for(var o=0;o!=t.length;++o){var s=t[o];void 0===n[s[0]]&&(n[s[0]]=s[1]),"n"===s[2]&&(n[s[0]]=Number(n[s[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function w3(t,i){return"ods"==i.bookType?BT(t,i):"numbers"==i.bookType?function p3(t,i){if(!i||!i.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var o=Bi(n["!ref"]);o.s.r=o.s.c=0;var s=!1;o.e.c>9&&(s=!0,o.e.c=9),o.e.r>49&&(s=!0,o.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(pt(o)));var d=P1(n,{range:o,header:1}),f=["~Sh33tJ5~"];d.forEach(function(ie){return ie.forEach(function(ne){"string"==typeof ne&&f.push(ne)})});var g={},_=[],k=tt.read(i.numbers,{type:"base64"});k.FileIndex.map(function(ie,ne){return[ie,k.FullPaths[ne]]}).forEach(function(ie){var ne=ie[0],ve=ie[1];2==ne.type&&ne.name.match(/\.iwa/)&&ko(wo(ne.content)).forEach(function(Ee){_.push(Ee.id),g[Ee.id]={deps:[],location:ve,type:Jn(Ee.messages[0].meta[1][0].data)}})}),_.sort(function(ie,ne){return ie-ne});var w=_.filter(function(ie){return ie>1}).map(function(ie){return[ie,Jt(ie)]});k.FileIndex.map(function(ie,ne){return[ie,k.FullPaths[ne]]}).forEach(function(ie){var ne=ie[0];ne.name.match(/\.iwa/)&&ko(wo(ne.content)).forEach(function(Be){Be.messages.forEach(function(Le){w.forEach(function(Ee){Be.messages.some(function(At){return 11006!=Jn(At.meta[1][0].data)&&function e3(t,i){e:for(var n=0;n<=t.length-i.length;++n){for(var o=0;o<i.length;++o)if(t[n+o]!=i[o])continue e;return!0}return!1}(At.data,Ee[1])})&&g[Ee[0]].deps.push(Be.id)})})})});for(var E,A=tt.find(k,g[1].location),T=ko(wo(A.content)),S=0;S<T.length;++S){var M=T[S];1==M.id&&(E=M)}var F=ir(Wt(E.messages[0].data)[1][0].data);for(T=ko(wo((A=tt.find(k,g[F].location)).content)),S=0;S<T.length;++S)(M=T[S]).id==F&&(E=M);for(F=ir(Wt(E.messages[0].data)[2][0].data),T=ko(wo((A=tt.find(k,g[F].location)).content)),S=0;S<T.length;++S)(M=T[S]).id==F&&(E=M);for(F=ir(Wt(E.messages[0].data)[2][0].data),T=ko(wo((A=tt.find(k,g[F].location)).content)),S=0;S<T.length;++S)(M=T[S]).id==F&&(E=M);var N=Wt(E.messages[0].data);N[6][0].data=Jt(o.e.r+1),N[7][0].data=Jt(o.e.c+1);for(var L=ir(N[46][0].data),W=tt.find(k,g[L].location),Z=ko(wo(W.content)),X=0;X<Z.length&&Z[X].id!=L;++X);if(Z[X].id!=L)throw"Bad ColumnRowUIDMapArchive";var V=Wt(Z[X].messages[0].data);V[1]=[],V[2]=[],V[3]=[];for(var K=0;K<=o.e.c;++K){var te=[];te[1]=te[2]=[{type:0,data:Jt(K+420690)}],V[1].push({type:2,data:Vi(te)}),V[2].push({type:0,data:Jt(K)}),V[3].push({type:0,data:Jt(K)})}V[4]=[],V[5]=[],V[6]=[];for(var ae=0;ae<=o.e.r;++ae)(te=[])[1]=te[2]=[{type:0,data:Jt(ae+726270)}],V[4].push({type:2,data:Vi(te)}),V[5].push({type:0,data:Jt(ae)}),V[6].push({type:0,data:Jt(ae)});Z[X].messages[0].data=Vi(V),W.content=zu(Ru(Z)),W.size=W.content.length,delete N[46];var le=Wt(N[4][0].data);le[7][0].data=Jt(o.e.r+1);var Me=ir(Wt(le[1][0].data)[2][0].data);if((Z=ko(wo((W=tt.find(k,g[Me].location)).content)))[0].id!=Me)throw"Bad HeaderStorageBucket";var He=Wt(Z[0].messages[0].data);for(ae=0;ae<d.length;++ae){var Se=Wt(He[2][0].data);Se[1][0].data=Jt(ae),Se[4][0].data=Jt(d[ae].length),He[2][ae]={type:He[2][0].type,data:Vi(Se)}}Z[0].messages[0].data=Vi(He),W.content=zu(Ru(Z)),W.size=W.content.length;var qe=ir(le[2][0].data);if((Z=ko(wo((W=tt.find(k,g[qe].location)).content)))[0].id!=qe)throw"Bad HeaderStorageBucket";for(He=Wt(Z[0].messages[0].data),K=0;K<=o.e.c;++K)(Se=Wt(He[2][0].data))[1][0].data=Jt(K),Se[4][0].data=Jt(o.e.r+1),He[2][K]={type:He[2][0].type,data:Vi(Se)};Z[0].messages[0].data=Vi(He),W.content=zu(Ru(Z)),W.size=W.content.length;var ze=ir(le[4][0].data);!function(){for(var ve,ie=tt.find(k,g[ze].location),ne=ko(wo(ie.content)),Ze=0;Ze<ne.length;++Ze){var Be=ne[Ze];Be.id==ze&&(ve=Be)}var Le=Wt(ve.messages[0].data);Le[3]=[];var Ee=[];f.forEach(function(nn,Mt){Ee[1]=[{type:0,data:Jt(Mt)}],Ee[2]=[{type:0,data:Jt(1)}],Ee[3]=[{type:2,data:X5(nn)}],Le[3].push({type:2,data:Vi(Ee)})}),ve.messages[0].data=Vi(Le);var J=zu(Ru(ne));ie.content=J,ie.size=ie.content.length}();var dt=Wt(le[3][0].data),Fe=dt[1][0];delete dt[2];var nt=Wt(Fe.data),ye=ir(nt[2][0].data);!function(){for(var ve,ie=tt.find(k,g[ye].location),ne=ko(wo(ie.content)),Ze=0;Ze<ne.length;++Ze){var Be=ne[Ze];Be.id==ye&&(ve=Be)}var Le=Wt(ve.messages[0].data);delete Le[6],delete dt[7];var Ee=new Uint8Array(Le[5][0].data);Le[5]=[];for(var At=0,J=0;J<=o.e.r;++J){var nn=Wt(Ee);At+=f3(nn,d[J],f),nn[1][0].data=Jt(J),Le[5].push({data:Vi(nn),type:2})}Le[1]=[{type:0,data:Jt(o.e.c+1)}],Le[2]=[{type:0,data:Jt(o.e.r+1)}],Le[3]=[{type:0,data:Jt(At)}],Le[4]=[{type:0,data:Jt(o.e.r+1)}],ve.messages[0].data=Vi(Le);var rn=zu(Ru(ne));ie.content=rn,ie.size=ie.content.length}(),Fe.data=Vi(nt),le[3][0].data=Vi(dt),N[4][0].data=Vi(le),E.messages[0].data=Vi(N);var fe=zu(Ru(T));return A.content=fe,A.size=A.content.length,k}(t,i):"xlsb"==i.bookType?function v3(t,i){Ou=1024,t&&!t.SSF&&(t.SSF=tn(ot)),t&&t.SSF&&(Ml(),fa(t.SSF),i.revssf=Pl(t.SSF),i.revssf[t.SSF[65535]]=0,i.ssf=t.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,Cm?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var n="xlsb"==i.bookType?"bin":"xml",o=Y2.indexOf(i.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};a2(i=i||{});var d=rg(),f="",g=0;if(i.cellXfs=[],Yl(i.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),wt(d,f="docProps/core.xml",Jk(t.Props,i)),s.coreprops.push(f),Vt(i.rels,2,f,mt.CORE_PROPS),f="docProps/app.xml",!t.Props||!t.Props.SheetNames)if(t.Workbook&&t.Workbook.Sheets){for(var _=[],k=0;k<t.SheetNames.length;++k)2!=(t.Workbook.Sheets[k]||{}).Hidden&&_.push(t.SheetNames[k]);t.Props.SheetNames=_}else t.Props.SheetNames=t.SheetNames;for(t.Props.Worksheets=t.Props.SheetNames.length,wt(d,f,ew(t.Props)),s.extprops.push(f),Vt(i.rels,3,f,mt.EXT_PROPS),t.Custprops!==t.Props&&Nn(t.Custprops||{}).length>0&&(wt(d,f="docProps/custom.xml",Wg(t.Custprops)),s.custprops.push(f),Vt(i.rels,4,f,mt.CUST_PROPS)),g=1;g<=t.SheetNames.length;++g){var w={"!id":{}},C=t.Sheets[t.SheetNames[g-1]];if(wt(d,f="xl/worksheets/sheet"+g+"."+n,t5(g-1,f,i,t,w)),s.sheets.push(f),Vt(i.wbrels,-1,"worksheets/sheet"+g+"."+n,mt.WS[0]),C){var T=C["!comments"],E=!1,S="";T&&T.length>0&&(wt(d,S="xl/comments"+g+"."+n,r5(T,S,i)),s.comments.push(S),Vt(w,-1,"../comments"+g+"."+n,mt.CMNT),E=!0),C["!legacy"]&&E&&wt(d,"xl/drawings/vmlDrawing"+g+".vml",Z2(g,C["!comments"])),delete C["!comments"],delete C["!legacy"]}w["!id"].rId1&&wt(d,cd(f),va(w))}return null!=i.Strings&&i.Strings.length>0&&(wt(d,f="xl/sharedStrings."+n,function i5(t,i,n){return(".bin"===i.slice(-4)?s1:mm)(t,n)}(i.Strings,f,i)),s.strs.push(f),Vt(i.wbrels,-1,"sharedStrings."+n,mt.SST)),wt(d,f="xl/workbook."+n,function e5(t,i,n){return(".bin"===i.slice(-4)?jI:mT)(t,n)}(t,f,i)),s.workbooks.push(f),Vt(i.rels,1,f,mt.WB),wt(d,f="xl/theme/theme1.xml",Hy(t.Themes,i)),s.themes.push(f),Vt(i.wbrels,-1,"theme/theme1.xml",mt.THEME),wt(d,f="xl/styles."+n,function n5(t,i,n){return(".bin"===i.slice(-4)?ts:a)(t,n)}(t,f,i)),s.styles.push(f),Vt(i.wbrels,-1,"styles."+n,mt.STY),t.vbaraw&&o&&(wt(d,f="xl/vbaProject.bin",t.vbaraw),s.vba.push(f),Vt(i.wbrels,-1,"vbaProject.bin",mt.VBA)),wt(d,f="xl/metadata."+n,function o5(t){return(".bin"===t.slice(-4)?CE:W2)()}(f)),s.metadata.push(f),Vt(i.wbrels,-1,"metadata."+n,mt.XLMETA),wt(d,"[Content_Types].xml",jg(s,i)),wt(d,"_rels/.rels",va(i.rels)),wt(d,"xl/_rels/workbook."+n+".rels",va(i.wbrels)),delete i.revssf,delete i.ssf,d}(t,i):function VT(t,i){Ou=1024,t&&!t.SSF&&(t.SSF=tn(ot)),t&&t.SSF&&(Ml(),fa(t.SSF),i.revssf=Pl(t.SSF),i.revssf[t.SSF[65535]]=0,i.ssf=t.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,Cm?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var n="xml",o=Y2.indexOf(i.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};a2(i=i||{});var d=rg(),f="",g=0;if(i.cellXfs=[],Yl(i.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),wt(d,f="docProps/core.xml",Jk(t.Props,i)),s.coreprops.push(f),Vt(i.rels,2,f,mt.CORE_PROPS),f="docProps/app.xml",!t.Props||!t.Props.SheetNames)if(t.Workbook&&t.Workbook.Sheets){for(var _=[],k=0;k<t.SheetNames.length;++k)2!=(t.Workbook.Sheets[k]||{}).Hidden&&_.push(t.SheetNames[k]);t.Props.SheetNames=_}else t.Props.SheetNames=t.SheetNames;t.Props.Worksheets=t.Props.SheetNames.length,wt(d,f,ew(t.Props)),s.extprops.push(f),Vt(i.rels,3,f,mt.EXT_PROPS),t.Custprops!==t.Props&&Nn(t.Custprops||{}).length>0&&(wt(d,f="docProps/custom.xml",Wg(t.Custprops)),s.custprops.push(f),Vt(i.rels,4,f,mt.CUST_PROPS));var w=["SheetJ5"];for(i.tcid=0,g=1;g<=t.SheetNames.length;++g){var C={"!id":{}},A=t.Sheets[t.SheetNames[g-1]];if(wt(d,f="xl/worksheets/sheet"+g+"."+n,lT(g-1,i,t,C)),s.sheets.push(f),Vt(i.wbrels,-1,"worksheets/sheet"+g+"."+n,mt.WS[0]),A){var E=A["!comments"],S=!1,M="";if(E&&E.length>0){var F=!1;E.forEach(function(N){N[1].forEach(function(L){1==L.T&&(F=!0)})}),F&&(wt(d,M="xl/threadedComments/threadedComment"+g+"."+n,PE(E,w,i)),s.threadedcomments.push(M),Vt(C,-1,"../threadedComments/threadedComment"+g+"."+n,mt.TCMNT)),wt(d,M="xl/comments"+g+"."+n,G2(E)),s.comments.push(M),Vt(C,-1,"../comments"+g+"."+n,mt.CMNT),S=!0}A["!legacy"]&&S&&wt(d,"xl/drawings/vmlDrawing"+g+".vml",Z2(g,A["!comments"])),delete A["!comments"],delete A["!legacy"]}C["!id"].rId1&&wt(d,cd(f),va(C))}return null!=i.Strings&&i.Strings.length>0&&(wt(d,f="xl/sharedStrings."+n,mm(i.Strings,i)),s.strs.push(f),Vt(i.wbrels,-1,"sharedStrings."+n,mt.SST)),wt(d,f="xl/workbook."+n,mT(t)),s.workbooks.push(f),Vt(i.rels,1,f,mt.WB),wt(d,f="xl/theme/theme1.xml",Hy(t.Themes,i)),s.themes.push(f),Vt(i.wbrels,-1,"theme/theme1.xml",mt.THEME),wt(d,f="xl/styles."+n,a(t,i)),s.styles.push(f),Vt(i.wbrels,-1,"styles."+n,mt.STY),t.vbaraw&&o&&(wt(d,f="xl/vbaProject.bin",t.vbaraw),s.vba.push(f),Vt(i.wbrels,-1,"vbaProject.bin",mt.VBA)),wt(d,f="xl/metadata."+n,W2()),s.metadata.push(f),Vt(i.wbrels,-1,"metadata."+n,mt.XLMETA),w.length>1&&(wt(d,f="xl/persons/person.xml",function NE(t){var i=[Sn,Ne("personList",null,{xmlns:jn_TCMNT,"xmlns:x":Is[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,o){i.push(Ne("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+o).slice(-12)+"}",userId:n,providerId:"None"}))}),i.push("</personList>"),i.join("")}(w)),s.people.push(f),Vt(i.wbrels,-1,"persons/person.xml",mt.PEOPLE)),wt(d,"[Content_Types].xml",jg(s,i)),wt(d,"_rels/.rels",va(i.rels)),wt(d,"xl/_rels/workbook.xml.rels",va(i.wbrels)),delete i.revssf,delete i.ssf,d}(t,i)}function UT(t,i){switch(i.type){case"base64":case"binary":break;case"buffer":case"array":i.type="";break;case"file":return $c(i.file,tt.write(t,{type:Ct?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");default:throw new Error("Unrecognized type "+i.type)}return tt.write(t,i)}function Us(t,i,n){n||(n="");var o=n+t;switch(i.type){case"base64":return Wc(mo(o));case"binary":return mo(o);case"string":return t;case"file":return $c(i.file,o,"utf8");case"buffer":return Ct?Zo(o,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(o):Us(o,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function M1(t,i){switch(i.type){case"string":case"base64":case"binary":for(var n="",o=0;o<t.length;++o)n+=String.fromCharCode(t[o]);return"base64"==i.type?Wc(n):"string"==i.type?an(n):n;case"file":return $c(i.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+i.type)}}function I1(t,i){(function Bh(){Ci(1200),function Oh(){Nh(1252)}()})(),function gT(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");!function SI(t,i,n){t.forEach(function(o,s){pT(o);for(var d=0;d<s;++d)if(o==t[d])throw new Error("Duplicate Sheet Name: "+o);if(n){var f=i&&i[s]&&i[s].CodeName||o;if(95==f.charCodeAt(0)&&f.length>22)throw new Error("Bad Code Name: Worksheet"+f)}})}(t.SheetNames,t.Workbook&&t.Workbook.Sheets||[],!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)CM(t.Sheets[t.SheetNames[n]],0,n)}(t);var n=tn(i||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var o=I1(t,n);return n.type="array",qo(o)}var s=0;if(n.sheet&&(s="number"==typeof n.sheet?n.sheet:t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Us(A5(t,n),n);case"slk":case"sylk":return Us(Qw.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return Us(ST(t.Sheets[t.SheetNames[s]],n),n);case"txt":return function M3(t,i){switch(i.type){case"base64":return Wc(t);case"binary":case"string":return t;case"file":return $c(i.file,t,"binary");case"buffer":return Ct?Zo(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}(YT(t.Sheets[t.SheetNames[s]],n),n);case"csv":return Us(u2(t.Sheets[t.SheetNames[s]],n),n,"\ufeff");case"dif":return Us(Jw.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return M1(pm.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return Us(Hl.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return Us(_d.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return Us(Xw.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return Us(BT(t,n),n);case"wk1":return M1(Da.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return M1(Da.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),M1(vT(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function D3(t,i){var n=i||{};return UT(function I5(t,i){var n=i||{},o=tt.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return tt.utils.cfb_add(o,s,vT(t,n)),8==n.biff&&(t.Props||t.Custprops)&&function M5(t,i){var f,n=[],o=[],s=[],d=0,g=$p(Rg,"n"),_=$p(zg,"n");if(t.Props)for(f=Nn(t.Props),d=0;d<f.length;++d)(Object.prototype.hasOwnProperty.call(g,f[d])?n:Object.prototype.hasOwnProperty.call(_,f[d])?o:s).push([f[d],t.Props[f[d]]]);if(t.Custprops)for(f=Nn(t.Custprops),d=0;d<f.length;++d)Object.prototype.hasOwnProperty.call(t.Props||{},f[d])||(Object.prototype.hasOwnProperty.call(g,f[d])?n:Object.prototype.hasOwnProperty.call(_,f[d])?o:s).push([f[d],t.Custprops[f[d]]]);var k=[];for(d=0;d<s.length;++d)Ca.indexOf(s[d][0])>-1||oo.indexOf(s[d][0])>-1||null!=s[d][1]&&k.push(s[d]);o.length&&tt.utils.cfb_add(i,"/\x05SummaryInformation",Kg(o,"e0859ff2f94f6810ab9108002b27b3d9",_,zg)),(n.length||k.length)&&tt.utils.cfb_add(i,"/\x05DocumentSummaryInformation",Kg(n,"02d5cdd59c2e1b10939708002b2cf9ae",g,Rg,k.length?k:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(t,o),8==n.biff&&t.vbaraw&&function HE(t,i){i.FullPaths.forEach(function(n,o){if(0!=o){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==s.slice(-1)&&tt.utils.cfb_add(t,s,i.FileIndex[o].content)}})}(o,tt.read(t.vbaraw,{type:"string"==typeof t.vbaraw?"binary":"buffer"})),o}(t,n),n)}(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function S3(t,i){var n=tn(i||{});return function HT(t,i){var n={},o=Ct?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(i.compression&&(n.compression="DEFLATE"),i.password)n.type=o;else switch(i.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");case"buffer":case"file":n.type=o;break;default:throw new Error("Unrecognized type "+i.type)}var s=t.FullPaths?tt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!i.compression}):t.generate(n);if(typeof Deno<"u"&&"string"==typeof s){if("binary"==i.type||"base64"==i.type)return s;s=new Uint8Array(qo(s))}return i.password&&typeof encrypt_agile<"u"?UT(encrypt_agile(s,i.password),i):"file"===i.type?$c(i.file,s):"string"==i.type?an(s):s}(w3(t,n),n)}(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function ZT(t,i,n,o,s,d,f,g){var _=Ln(n),k=g.defval,w=g.raw||!Object.prototype.hasOwnProperty.call(g,"raw"),C=!0,A=1===s?[]:{};if(1!==s)if(Object.defineProperty)try{Object.defineProperty(A,"__rowNum__",{value:n,enumerable:!1})}catch{A.__rowNum__=n}else A.__rowNum__=n;if(!f||t[n])for(var T=i.s.c;T<=i.e.c;++T){var E=f?t[n][T]:t[o[T]+_];if(void 0!==E&&void 0!==E.t){var S=E.v;switch(E.t){case"z":if(null==S)break;continue;case"e":S=0==S?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(null!=d[T]){if(null==S)if("e"==E.t&&null===S)A[d[T]]=null;else if(void 0!==k)A[d[T]]=k;else{if(!w||null!==S)continue;A[d[T]]=null}else A[d[T]]=w&&("n"!==E.t||"n"===E.t&&!1!==g.rawNumbers)?S:io(E,S,g);null!=S&&(C=!1)}}else{if(void 0===k)continue;null!=d[T]&&(A[d[T]]=k)}}return{row:A,isempty:C}}function P1(t,i){if(null==t||null==t["!ref"])return[];var n={t:"n",v:0},o=0,s=1,d=[],f=0,g="",_={s:{r:0,c:0},e:{r:0,c:0}},k=i||{},w=null!=k.range?k.range:t["!ref"];switch(1===k.header?o=1:"A"===k.header?o=2:Array.isArray(k.header)?o=3:null==k.header&&(o=0),typeof w){case"string":_=Tt(w);break;case"number":(_=Tt(t["!ref"])).s.r=w;break;default:_=w}o>0&&(s=0);var C=Ln(_.s.r),A=[],T=[],E=0,S=0,M=Array.isArray(t),F=_.s.r,N=0,L={};M&&!t[F]&&(t[F]=[]);var W=k.skipHidden&&t["!cols"]||[],Z=k.skipHidden&&t["!rows"]||[];for(N=_.s.c;N<=_.e.c;++N)if(!(W[N]||{}).hidden)switch(A[N]=pn(N),n=M?t[F][N]:t[A[N]+C],o){case 1:d[N]=N-_.s.c;break;case 2:d[N]=A[N];break;case 3:d[N]=k.header[N-_.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),g=f=io(n,null,k),S=L[f]||0){do{g=f+"_"+S++}while(L[g]);L[f]=S,L[g]=1}else L[f]=1;d[N]=g}for(F=_.s.r+s;F<=_.e.r;++F)if(!(Z[F]||{}).hidden){var X=ZT(t,_,F,A,o,d,M,k);(!1===X.isempty||(1===o?!1!==k.blankrows:k.blankrows))&&(T[E++]=X.row)}return T.length=E,T}var qT=/"/g;function GT(t,i,n,o,s,d,f,g){for(var _=!0,k=[],w="",C=Ln(n),A=i.s.c;A<=i.e.c;++A)if(o[A]){var T=g.dense?(t[n]||[])[A]:t[o[A]+C];if(null==T)w="";else if(null!=T.v){_=!1,w=""+(g.rawNumbers&&"n"==T.t?T.v:io(T,null,g));for(var E=0,S=0;E!==w.length;++E)if((S=w.charCodeAt(E))===s||S===d||34===S||g.forceQuotes){w='"'+w.replace(qT,'""')+'"';break}"ID"==w&&(w='"ID"')}else null==T.f||T.F?w="":(_=!1,(w="="+T.f).indexOf(",")>=0&&(w='"'+w.replace(qT,'""')+'"'));k.push(w)}return!1===g.blankrows&&_?null:k.join(f)}function u2(t,i){var n=[],o=i??{};if(null==t||null==t["!ref"])return"";var s=Tt(t["!ref"]),d=void 0!==o.FS?o.FS:",",f=d.charCodeAt(0),g=void 0!==o.RS?o.RS:"\n",_=g.charCodeAt(0),k=new RegExp(("|"==d?"\\|":d)+"+$"),w="",C=[];o.dense=Array.isArray(t);for(var A=o.skipHidden&&t["!cols"]||[],T=o.skipHidden&&t["!rows"]||[],E=s.s.c;E<=s.e.c;++E)(A[E]||{}).hidden||(C[E]=pn(E));for(var S=0,M=s.s.r;M<=s.e.r;++M)(T[M]||{}).hidden||null!=(w=GT(t,s,M,C,f,_,d,o))&&(o.strip&&(w=w.replace(k,"")),(w||!1!==o.blankrows)&&n.push((S++?g:"")+w));return delete o.dense,n.join("")}function YT(t,i){i||(i={}),i.FS="\t",i.RS="\n";var n=u2(t,i);return n}function KT(t,i,n){var o=n||{},s=+!o.skipHeader,d=t||{},f=0,g=0;if(d&&null!=o.origin)if("number"==typeof o.origin)f=o.origin;else{var _="string"==typeof o.origin?Un(o.origin):o.origin;f=_.r,g=_.c}var k,w={s:{c:0,r:0},e:{c:g,r:f+i.length-1+s}};if(d["!ref"]){var C=Tt(d["!ref"]);w.e.c=Math.max(w.e.c,C.e.c),w.e.r=Math.max(w.e.r,C.e.r),-1==f&&(w.e.r=(f=C.e.r+1)+i.length-1+s)}else-1==f&&(f=0,w.e.r=i.length-1+s);var A=o.header||[],T=0;i.forEach(function(S,M){Nn(S).forEach(function(F){-1==(T=A.indexOf(F))&&(A[T=A.length]=F);var N=S[F],L="z",W="",Z=st({c:g+T,r:f+M+s});k=Dm(d,Z),!N||"object"!=typeof N||N instanceof Date?("number"==typeof N?L="n":"boolean"==typeof N?L="b":"string"==typeof N?L="s":N instanceof Date?(L="d",o.cellDates||(L="n",N=pi(N)),W=o.dateNF||ot[14]):null===N&&o.nullError&&(L="e",N=0),k?(k.t=L,k.v=N,delete k.w,delete k.R,W&&(k.z=W)):d[Z]=k={t:L,v:N},W&&(k.z=W)):d[Z]=N})}),w.e.c=Math.max(w.e.c,g+A.length-1);var E=Ln(f);if(s)for(T=0;T<A.length;++T)d[pn(T+g)+E]={t:"s",v:A[T]};return d["!ref"]=pt(w),d}function Dm(t,i,n){if("string"==typeof i){if(Array.isArray(t)){var o=Un(i);return t[o.r]||(t[o.r]=[]),t[o.r][o.c]||(t[o.r][o.c]={t:"z"})}return t[i]||(t[i]={t:"z"})}return Dm(t,st("number"!=typeof i?i:{r:i,c:n||0}))}function $T(t,i,n){return i?(t.l={Target:i},n&&(t.l.Tooltip=n)):delete t.l,t}var Mm={encode_col:pn,encode_row:Ln,encode_cell:st,encode_range:pt,decode_col:yg,decode_row:Ag,split_cell:function wA(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Un,decode_range:Bi,format_cell:io,sheet_add_aoa:Sg,sheet_add_json:KT,sheet_add_dom:ET,aoa_to_sheet:ga,json_to_sheet:function P3(t,i){return KT(null,t,i)},table_to_sheet:DT,table_to_book:function K5(t,i){return ro(DT(t,i),i)},sheet_to_csv:u2,sheet_to_txt:YT,sheet_to_json:P1,sheet_to_html:ST,sheet_to_formulae:function I3(t){var n,i="",o="";if(null==t||null==t["!ref"])return[];var g,s=Tt(t["!ref"]),d="",f=[],_=[],k=Array.isArray(t);for(g=s.s.c;g<=s.e.c;++g)f[g]=pn(g);for(var w=s.s.r;w<=s.e.r;++w)for(d=Ln(w),g=s.s.c;g<=s.e.c;++g)if(i=f[g]+d,o="",void 0!==(n=k?(t[w]||[])[g]:t[i])){if(null!=n.F){if(i=n.F,!n.f)continue;o=n.f,-1==i.indexOf(":")&&(i=i+":"+i)}if(null!=n.f)o=n.f;else{if("z"==n.t)continue;if("n"==n.t&&null!=n.v)o=""+n.v;else if("b"==n.t)o=n.v?"TRUE":"FALSE";else if(void 0!==n.w)o="'"+n.w;else{if(void 0===n.v)continue;o="s"==n.t?"'"+n.v:""+n.v}}_[_.length]=i+"="+o}return _},sheet_to_row_object_array:P1,sheet_get_cell:Dm,book_new:function f2(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function p2(t,i,n,o){var s=1;if(!n)for(;s<=65535&&-1!=t.SheetNames.indexOf(n="Sheet"+s);++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(o&&t.SheetNames.indexOf(n)>=0){var d=n.match(/(^.*?)(\d+)$/);s=d&&+d[2]||0;var f=d&&d[1]||n;for(++s;s<=65535&&-1!=t.SheetNames.indexOf(n=f+s);++s);}if(pT(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=i,n},book_set_sheet_visibility:function N3(t,i,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var o=function F3(t,i){if("number"==typeof i){if(i>=0&&t.SheetNames.length>i)return i;throw new Error("Cannot find sheet # "+i)}if("string"==typeof i){var n=t.SheetNames.indexOf(i);if(n>-1)return n;throw new Error("Cannot find sheet name |"+i+"|")}throw new Error("Cannot find sheet |"+i+"|")}(t,i);switch(t.Workbook.Sheets[o]||(t.Workbook.Sheets[o]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[o].Hidden=n},cell_set_number_format:function O3(t,i){return t.z=i,t},cell_set_hyperlink:$T,cell_set_internal_link:function B3(t,i,n){return $T(t,"#"+i,n)},cell_add_comment:function L3(t,i,n){t.c||(t.c=[]),t.c.push({t:i,a:n||"SheetJS"})},sheet_set_array_formula:function R3(t,i,n,o){for(var s="string"!=typeof i?i:Tt(i),d="string"==typeof i?i:pt(i),f=s.s.r;f<=s.e.r;++f)for(var g=s.s.c;g<=s.e.c;++g){var _=Dm(t,f,g);_.t="n",_.F=d,delete _.v,f==s.s.r&&g==s.s.c&&(_.f=n,o&&(_.D=!0))}return t},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},H3=Ye(4327),W3=Ye.n(H3),QT=Ye(2561),g2=Ye(8267);let JT=(()=>{class t{constructor(n){this.httpClient=n,this.REST_API="http://localhost:3000/api/admin/product"}getProductByCategoryIdAndPriceLessThan(n=0,o,s,d){return this.httpClient.get(`${this.REST_API}/all?categoryId=${n}&price=${o}&page=${s}&size=${d}`)}add(n){return this.httpClient.post(`${this.REST_API}/add`,n)}filter(n){return this.httpClient.post(`${this.REST_API}/filter`,n)}getBestSelling(){return this.httpClient.get(`${this.REST_API}/best-selling`)}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Gt.eN))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Z3=(()=>{class t{constructor(n){this.httpClient=n,this.REST_API="http://localhost:3000/api/admin/analytic"}getWithDayMonthYearBetween(n){let o=new Gt.LE;return Object.keys(n).forEach(s=>{""!==n[s]&&null!=n[s]&&(o=o.append(s,n[s]))}),this.httpClient.get(`${this.REST_API}/revenue/day-month-year-between`,{params:o})}getWithMonthYearBetween(n){let o=new Gt.LE;return Object.keys(n).forEach(s=>{""!==n[s]&&null!=n[s]&&(o=o.append(s,n[s]))}),this.httpClient.get(`${this.REST_API}/revenue/month-year-between`,{params:o})}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Gt.eN))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const q3=["dt"],G3=function(){return[10,20,30]};function Y3(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",33)(1,"div",24)(2,"p-paginator",34),h.NdJ("onPageChange",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onPageChange(s))}),h.qZA()()()}if(2&t){const n=h.oxw(2);h.xp6(2),h.Q6J("rows",n.paginator.pageSize)("totalRecords",n.paginator.totalElements)("first",n.paginator.pageSize*n.paginator.pageNumber)("rowsPerPageOptions",h.DdM(4,G3))}}function K3(t,i){1&t&&h.YNc(0,Y3,3,5,"ng-template",32)}function $3(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",41)(1,"label",42),h._uU(2,"Select Month"),h.qZA(),h.TgZ(3,"p-calendar",43),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.rangeDates=s)})("onSelect",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onSelectDateFilter())})("onClearClick",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onClearDate())}),h.qZA()()}if(2&t){const n=h.oxw(2);h.xp6(3),h.Q6J("ngModel",n.rangeDates)("readonlyInput",!0)("showButtonBar",!0)("showIcon",!0)}}function Q3(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",41)(1,"label",44),h._uU(2,"Select Date"),h.qZA(),h.TgZ(3,"p-calendar",45),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.rangeDates=s)})("onSelect",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onSelectDateFilter())})("onClearClick",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onClearDate())}),h.qZA()()}if(2&t){const n=h.oxw(2);h.xp6(3),h.Q6J("ngModel",n.rangeDates)("readonlyInput",!0)("showButtonBar",!0)("showIcon",!0)}}function J3(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",35)(1,"div",36)(2,"label",37),h._uU(3,"Show Day"),h.qZA(),h.TgZ(4,"p-checkbox",38),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.showDay=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangeShowDay())}),h.qZA()(),h.YNc(5,$3,4,4,"div",39),h.YNc(6,Q3,4,4,"div",39),h.TgZ(7,"div",36)(8,"button",40),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(),d=h.MAs(74);return h.KtG(s.exportCSV(d))}),h.qZA()()()}if(2&t){const n=h.oxw();h.xp6(4),h.Q6J("ngModel",n.showDay)("binary",!0),h.xp6(1),h.Q6J("ngIf",!n.showDay),h.xp6(1),h.Q6J("ngIf",n.showDay)}}function X3(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",46),h._uU(2,"Date "),h._UZ(3,"p-sortIcon",47),h.qZA(),h.TgZ(4,"th",48),h._uU(5,"Total"),h.qZA(),h.TgZ(6,"th",49),h._uU(7,"Gross Revenue "),h._UZ(8,"p-sortIcon",50),h.qZA(),h.TgZ(9,"th",51),h._uU(10,"Shipping"),h._UZ(11,"p-sortIcon",52),h.qZA(),h.TgZ(12,"th",53),h._uU(13,"Net Revenue"),h.qZA()())}function eP(t,i){if(1&t&&(h.TgZ(0,"tr")(1,"td",54),h._uU(2),h.qZA(),h.TgZ(3,"td",55),h._UZ(4,"div",56),h.qZA(),h.TgZ(5,"td",54),h._uU(6),h.ALo(7,"myCurrency"),h.qZA(),h.TgZ(8,"td",54),h._uU(9),h.ALo(10,"myCurrency"),h.qZA(),h.TgZ(11,"td",54),h._uU(12),h.ALo(13,"myCurrency"),h.qZA()()),2&t){const n=i.$implicit;h.xp6(2),h.Oqu(n.createdAt),h.xp6(2),h.Q6J("innerHTML",n.totalOrder,h.oJD),h.xp6(2),h.hij(" ",h.xi3(7,5,n.grossRevenue,"VND")," "),h.xp6(3),h.Oqu(h.xi3(10,8,n.shipping,"VND")),h.xp6(3),h.Oqu(h.xi3(13,11,n.netRevenue,"VND"))}}function tP(t,i){1&t&&(h.TgZ(0,"tr")(1,"td",57),h._uU(2,"No item found."),h.qZA()())}let nP=(()=>{class t{constructor(n,o,s,d,f,g,_){this.route=n,this.orderManagerService=o,this.userManagerService=s,this.productManagerService=d,this.router=f,this.analyticService=g,this.datePipe=_,this.bestSellingProducts=[],this.revenues=[],this.paginator={totalElements:0,pageNumber:0,pageSize:10},this.isLoadingTable=!1,this.paramsURL={},this.showDay=!0,this.rangeDates=[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)],this.cols=[{field:"createdAt",header:"Date"},{field:"totalOrder",header:"Total"},{field:"grossRevenue",header:"Gross Revenue"},{field:"shipping",header:"Shipping"},{field:"netRevenue",header:"Net Revenue"}],this.roundNumber=k=>~~k}ngOnInit(){this.titleComponent=this.route.snapshot.data.title,this.getTotalOrders(),this.getTotalOrdersInDay(),this.getTotalUsers(),this.getTotalUsersInDay(),this.getRevenue(),this.getRevenueLastMonth(),this.getRevenueCurrentMonth(),this.getBestSellingProduct(),this.getStatisticalShippingStatus(),this.changeParams(),this.polarOptions={plugins:{legend:{labels:{color:"#495057",font:{family:"Montserrat",weight:"bold"}}}},scales:{r:{grid:{color:"rgba(160, 167, 181, .3)"}}}},this.pieOptions={plugins:{legend:{labels:{color:"#495057",font:{family:"Montserrat",weight:"bold"}}}}}}bbb(n,o){console.log(n,o)}getTotalOrders(){this.orderManagerService.getTotalOrders().subscribe({next:n=>{this.totalOrders=n.data},error:n=>{}})}getTotalOrdersInDay(){this.orderManagerService.getTotalOrdersInDay().subscribe({next:n=>{this.totalOrdersInDay=n.data},error:n=>{}})}getTotalUsers(){this.userManagerService.getTotalOrders().subscribe({next:n=>{this.totalUsers=n.data},error:n=>{}})}getTotalUsersInDay(){this.userManagerService.getTotalOrdersInDay().subscribe({next:n=>{this.totalUsersInDay=n.data},error:n=>{}})}getRevenue(){this.orderManagerService.getRevenue().subscribe({next:n=>{this.revenue=n.data},error:n=>{}})}getRevenueLastMonth(){this.orderManagerService.getRevenueLastMonth().subscribe({next:n=>{this.revenueLastMonth=n.data,console.log(n)},error:n=>{}})}getRevenueCurrentMonth(){this.orderManagerService.getRevenueCurrentMonth().subscribe({next:n=>{this.revenueCurrentMonth=n.data},error:n=>{}})}getBestSellingProduct(){this.productManagerService.getBestSelling().subscribe({next:n=>{this.bestSellingProducts=n.data.content,console.log(this.bestSellingProducts),this.bestSellingData={datasets:[{data:this.bestSellingProducts.map(o=>o.quantity),backgroundColor:["#42A5F5","#66BB6A","#FFA726","#26C6DA","#7E57C2","#000","red","pink"],label:"My dataset"}],labels:this.bestSellingProducts.map(o=>o.name)}},error:n=>{}})}getStatisticalShippingStatus(){this.orderManagerService.getStatisticalShippingStatus().subscribe({next:n=>{this.statisticalShipping={labels:n.data.map(o=>o.name),datasets:[{data:n.data.map(o=>o.quantity),backgroundColor:["#66BB6A","#694382","#ffd8b2","#c63737","#feedaf","#FFA726"],hoverBackgroundColor:["#66BB6A","#694382","#ffd8b2","#c63737","#feedaf","#FFB74D"]}]}},error:n=>{}})}selectData(n){console.log(n)}convertDatesToString(n){return n.map(o=>this.datePipe.transform(o,"yyyy-MM-dd"))}convertDateToString(n){return this.datePipe.transform(n,"yyyy-MM-dd")}convertDateToDDMMYY(n){return this.datePipe.transform(n,"dd-MM-yyyy")}yearOf(n){return+this.convertDateToString(n).split("-")[0]}monthOf(n){return+this.convertDateToString(n).split("-")[1]}dayOf(n){return+this.convertDateToString(n).split("-")[2]}getWithDayMonthYearBetween(){this.isLoadingTable=!0,this.analyticService.getWithDayMonthYearBetween({dayStart:this.dayOf(this.rangeDates[0]),dayEnd:this.dayOf(this.rangeDates[1]),monthStart:this.monthOf(this.rangeDates[0]),monthEnd:this.monthOf(this.rangeDates[1]),yearStart:this.yearOf(this.rangeDates[0]),yearEnd:this.yearOf(this.rangeDates[1]),page:this.paginator.pageNumber,size:this.paginator.pageSize}).subscribe({next:n=>{this.revenues=n.data.content,this.isLoadingTable=!1,this.paginator.totalElements=n.data.totalElements},error:n=>{this.isLoadingTable=!1}})}getWithMonthYearBetween(){this.analyticService.getWithMonthYearBetween({monthStart:this.monthOf(this.rangeDates[0]),monthEnd:this.monthOf(this.rangeDates[1]),yearStart:this.yearOf(this.rangeDates[0]),yearEnd:this.yearOf(this.rangeDates[1]),page:this.paginator.pageNumber,size:this.paginator.pageSize}).subscribe({next:n=>{this.revenues=n.data.content,this.isLoadingTable=!1,this.paginator.totalElements=n.data.totalElements},error:n=>{this.isLoadingTable=!1}})}onChangeShowDay(){this.showDay?this.getWithDayMonthYearBetween():this.getWithMonthYearBetween()}exportCSV(n){this.showDay?this.analyticService.getWithDayMonthYearBetween({dayStart:this.dayOf(this.rangeDates[0]),dayEnd:this.dayOf(this.rangeDates[1]),monthStart:this.monthOf(this.rangeDates[0]),monthEnd:this.monthOf(this.rangeDates[1]),yearStart:this.yearOf(this.rangeDates[0]),yearEnd:this.yearOf(this.rangeDates[1]),page:this.paginator.pageNumber,size:999999999}).subscribe({next:o=>{this.exportExcel(o.data.content,"Summary "+this.convertDateToDDMMYY(this.rangeDates[0])+" "+this.convertDateToDDMMYY(this.rangeDates[1]))},error:o=>{this.isLoadingTable=!1}}):this.analyticService.getWithMonthYearBetween({monthStart:this.monthOf(this.rangeDates[0]),monthEnd:this.monthOf(this.rangeDates[1]),yearStart:this.yearOf(this.rangeDates[0]),yearEnd:this.yearOf(this.rangeDates[1]),page:this.paginator.pageNumber,size:99999999}).subscribe({next:o=>{this.exportExcel(o.data.content,"Summary "+this.convertDateToDDMMYY(this.rangeDates[0])+" "+this.convertDateToDDMMYY(this.rangeDates[1]))},error:o=>{this.isLoadingTable=!1}})}exportExcel(n,o){const s=Mm.book_new(),d=Mm.json_to_sheet([]);Mm.sheet_add_aoa(d,[this.cols.map(g=>g.header)]),Mm.sheet_add_json(d,n,{origin:"A2",skipHeader:!0}),Mm.book_append_sheet(s,d,"Sheet1");const f=I1(s,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(f,o)}saveAsExcelFile(n,o){const f=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});W3()(f,o+".xlsx")}onClearDate(){this.rangeDates=[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)]}onSelectDateFilter(){console.log(this.rangeDates),this.showDay?this.getWithDayMonthYearBetween():this.getWithMonthYearBetween()}changeParams(){this.route.queryParams.subscribe(n=>{this.paginator.pageNumber=null==n.page||+n.page<=0?0:n.page-1,this.paginator.pageSize=Number(n.size)||10,this.getWithDayMonthYearBetween()})}onPageChange(n){this.paginator.pageNumber=n.page,this.paginator.pageSize=n.rows,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}addParams(){this.router.navigate([],{relativeTo:this.route,queryParams:this.paramsURL})}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(Xt.gz),h.Y36(QT.Z),h.Y36(Yu.Z),h.Y36(JT),h.Y36(Xt.F0),h.Y36(Z3),h.Y36($e.uU))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(n,o){if(1&n&&h.Gf(q3,5),2&n){let s;h.iGM(s=h.CRH())&&(o.dt=s.first)}},standalone:!0,features:[h._Bn([$e.uU]),h.jDz],decls:80,vars:23,consts:[[1,"mt-2"],[1,"text-3xl","font-semibold","mb-4"],[1,"surface-ground"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],[1,"surface-card","shadow-2","p-5","border-round"],[1,"flex","justify-content-between","mb-5"],[1,"block","text-500","text-2xl","font-medium","mb-5"],[1,"text-900","font-semibold","text-3xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",2,"width","4rem","height","4rem"],[1,"pi","pi-shopping-cart","text-blue-500","text-3xl","font-medium"],[1,"text-green-500","text-2xl","font-medium"],[1,"text-500","text-2xl"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",2,"width","4rem","height","4rem"],[1,"pi","pi-inbox","text-orange-500","text-3xl","font-medium"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",2,"width","4rem","height","4rem"],[1,"pi","pi-inbox","text-cyan-500","text-3xl","font-medium"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",2,"width","4rem","height","4rem"],[1,"pi","pi-comment","text-purple-500","text-3xl","font-medium"],[1,"col-12","xl:col-6"],[1,"card"],[1,"text-3xl","text-center"],["type","polarArea",3,"data","options"],["type","pie",3,"data","options","onDataSelect"],[1,"col-12"],["dataKey","id","responsiveLayout","scroll","scrollHeight","61vh",3,"loading","columns","value","rowHover","showCurrentPageReport","responsive","scrollable","exportFilename"],["dt",""],[4,"ngIf"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[1,"page","grid","align-items-center"],[3,"rows","totalRecords","first","rowsPerPageOptions","onPageChange"],[1,"grid","pt-4","p-fluid","align-items-center","justify-content-between","filter-bar"],[1,"col-2"],["for","binary",1,"mr-2"],["inputId","binary",3,"ngModel","binary","ngModelChange","onChange"],["class","col-6 flex align-items-center",4,"ngIf"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"col-6","flex","align-items-center"],["for","monthpicker",1,"mr-2"],["view","month","selectionMode","range","dateFormat","mm/yy","todayButtonStyleClass","p-secondary-button","inputId","monthpicker",1,"col",3,"ngModel","readonlyInput","showButtonBar","showIcon","ngModelChange","onSelect","onClearClick"],["for","range",1,"mr-2"],["selectionMode","range","todayButtonStyleClass","p-secondary-button","inputId","range",1,"col",3,"ngModel","readonlyInput","showButtonBar","showIcon","ngModelChange","onSelect","onClearClick"],["pSortableColumn","createdAt",2,"flex","2"],["field","id"],["pSortableColumn","totalOrder",2,"flex","1"],["pSortableColumn","grossevenue",2,"flex","2"],["field","quantity"],["pSortableColumn","shipping",2,"flex","2"],["field","price"],["pSortableColumn","netRevenue",2,"flex","2"],[2,"flex","2"],[2,"flex","1"],[1,"",3,"innerHTML"],["colspan","7"]],template:function(n,o){1&n&&(h.TgZ(0,"div",0)(1,"div",1),h._uU(2),h.qZA(),h.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div")(9,"span",7),h._uU(10,"Orders"),h.qZA(),h.TgZ(11,"div",8),h._uU(12),h.qZA()(),h.TgZ(13,"div",9),h._UZ(14,"i",10),h.qZA()(),h.TgZ(15,"span",11),h._uU(16),h.qZA(),h.TgZ(17,"span",12),h._uU(18,"to day"),h.qZA()()(),h.TgZ(19,"div",4)(20,"div",5)(21,"div",6)(22,"div")(23,"span",7),h._uU(24,"Revenue"),h.qZA(),h.TgZ(25,"div",8),h._uU(26),h.ALo(27,"myCurrency"),h.qZA()(),h.TgZ(28,"div",13),h._UZ(29,"i",14),h.qZA()(),h.TgZ(30,"span",11),h._uU(31),h.qZA(),h.TgZ(32,"span",12),h._uU(33,"from last month"),h.qZA()()(),h.TgZ(34,"div",4)(35,"div",5)(36,"div",6)(37,"div")(38,"span",7),h._uU(39,"Customers"),h.qZA(),h.TgZ(40,"div",8),h._uU(41),h.qZA()(),h.TgZ(42,"div",15),h._UZ(43,"i",16),h.qZA()(),h.TgZ(44,"span",11),h._uU(45),h.qZA(),h.TgZ(46,"span",12),h._uU(47,"newly registered to day"),h.qZA()()(),h.TgZ(48,"div",4)(49,"div",5)(50,"div",6)(51,"div")(52,"span",7),h._uU(53,"Comments"),h.qZA(),h.TgZ(54,"div",8),h._uU(55,"152 Unread"),h.qZA()(),h.TgZ(56,"div",17),h._UZ(57,"i",18),h.qZA()(),h.TgZ(58,"span",11),h._uU(59,"85 "),h.qZA(),h.TgZ(60,"span",12),h._uU(61,"responded"),h.qZA()()(),h.TgZ(62,"div",19)(63,"div",20)(64,"h5",21),h._uU(65,"Best Selling revenues of The Month"),h.qZA(),h._UZ(66,"p-chart",22),h.qZA()(),h.TgZ(67,"div",19)(68,"div",20)(69,"h5",21),h._uU(70,"Status Orders"),h.qZA(),h.TgZ(71,"p-chart",23),h.NdJ("onDataSelect",function(d){return o.selectData(d)}),h.qZA()()(),h.TgZ(72,"div",24)(73,"p-table",25,26),h.YNc(75,K3,1,0,null,27),h.YNc(76,J3,9,4,"ng-template",28),h.YNc(77,X3,14,0,"ng-template",29),h.YNc(78,eP,14,14,"ng-template",30),h.YNc(79,tP,3,0,"ng-template",31),h.qZA()()()()()),2&n&&(h.xp6(2),h.Oqu(o.titleComponent),h.xp6(10),h.Oqu(o.totalOrders),h.xp6(4),h.hij("",o.totalOrdersInDay," new "),h.xp6(10),h.Oqu(h.xi3(27,20,o.revenue,"VND")),h.xp6(5),h.hij("",o.roundNumber((o.revenueCurrentMonth-o.revenueLastMonth)/o.revenueLastMonth*100)>0?"+":o.roundNumber((o.revenueCurrentMonth-o.revenueLastMonth)/o.revenueLastMonth*100)+"%"," "),h.xp6(10),h.Oqu(o.totalUsers),h.xp6(4),h.hij("",o.totalUsersInDay," "),h.xp6(21),h.Q6J("data",o.bestSellingData)("options",o.polarOptions),h.xp6(5),h.Q6J("data",o.statisticalShipping)("options",o.pieOptions),h.xp6(2),h.Q6J("loading",o.isLoadingTable)("columns",o.cols)("value",o.revenues)("rowHover",!0)("showCurrentPageReport",!0)("responsive",!0)("scrollable",!0)("exportFilename","Summary Revenue"+o.convertDateToString(o.rangeDates[0])+"-"+o.convertDateToString(o.rangeDates[1])),h.xp6(2),h.Q6J("ngIf",!o.revenues.length))},dependencies:[$e.ez,$e.O5,I.U$,I.iA,Ie.jx,I.lQ,I.fz,g2.o,GC,qb,se.U,se.D,lt.JJ,lt.On,de.hJ,de.Hq,Gb.nD,Gb.XZ,ss._8,ss.f]}),t})();var XT=Ye(5047),m2=Ye(7772),_2=Ye(8235),iP=Ye(1481);const rP=["advancedfileinput"],oP=["basicfileinput"],sP=["content"];function aP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-button",17),h.NdJ("onClick",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.upload())}),h.qZA()}if(2&t){const n=h.oxw(2);h.Q6J("label",n.uploadButtonLabel)("icon",n.uploadIcon)("disabled",!n.hasFiles()||n.isFileLimitExceeded())("styleClass",n.uploadStyleClass)}}function lP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-button",17),h.NdJ("onClick",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.clear())}),h.qZA()}if(2&t){const n=h.oxw(2);h.Q6J("label",n.cancelButtonLabel)("icon",n.cancelIcon)("disabled",!n.hasFiles()||n.uploading)("styleClass",n.cancelStyleClass)}}function cP(t,i){1&t&&h.GkF(0)}function dP(t,i){if(1&t&&h._UZ(0,"p-progressBar",18),2&t){const n=h.oxw(2);h.Q6J("value",n.progress)("showValue",!1)}}function hP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"img",26),h.NdJ("error",function(s){h.CHM(n);const d=h.oxw(5);return h.KtG(d.imageError(s))}),h.qZA()}if(2&t){const n=h.oxw().$implicit,o=h.oxw(4);h.Q6J("src",n.objectURL,h.LSH)("width",o.previewWidth)}}function uP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",22)(1,"div"),h.YNc(2,hP,1,2,"img",23),h.qZA(),h.TgZ(3,"div",24),h._uU(4),h.qZA(),h.TgZ(5,"div"),h._uU(6),h.qZA(),h.TgZ(7,"div")(8,"button",25),h.NdJ("click",function(s){const f=h.CHM(n).index,g=h.oxw(4);return h.KtG(g.remove(s,f))}),h.qZA()()()}if(2&t){const n=i.$implicit,o=h.oxw(4);h.xp6(2),h.Q6J("ngIf",o.isImage(n)),h.xp6(2),h.Oqu(n.name),h.xp6(2),h.Oqu(o.formatSize(n.size)),h.xp6(2),h.Tol(o.removeStyleClass),h.Q6J("disabled",o.uploading)}}function fP(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,uP,9,6,"div",21),h.qZA()),2&t){const n=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",n.files)}}function pP(t,i){}function gP(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,pP,0,0,"ng-template",27),h.qZA()),2&t){const n=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",n.files)("ngForTemplate",n.fileTemplate)}}function mP(t,i){if(1&t&&(h.TgZ(0,"div",19),h.YNc(1,fP,2,1,"div",20),h.YNc(2,gP,2,2,"div",20),h.qZA()),2&t){const n=h.oxw(2);h.xp6(1),h.Q6J("ngIf",!n.fileTemplate),h.xp6(1),h.Q6J("ngIf",n.fileTemplate)}}function _P(t,i){1&t&&h.GkF(0)}const bP=function(t,i){return{"p-focus":t,"p-disabled":i}},kP=function(t){return{$implicit:t}};function wP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",2)(1,"div",3)(2,"span",4),h.NdJ("focus",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onFocus())})("blur",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onBlur())})("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.choose())})("keydown.enter",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.choose())}),h.TgZ(3,"input",5,6),h.NdJ("change",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onFileSelect(s))}),h.qZA(),h._UZ(5,"span",7),h.TgZ(6,"span",8),h._uU(7),h.qZA()(),h.YNc(8,aP,1,4,"p-button",9),h.YNc(9,lP,1,4,"p-button",9),h.YNc(10,cP,1,0,"ng-container",10),h.qZA(),h.TgZ(11,"div",11,12),h.NdJ("dragenter",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onDragEnter(s))})("dragleave",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onDragLeave(s))})("drop",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onDrop(s))}),h.YNc(13,dP,1,2,"p-progressBar",13),h._UZ(14,"p-messages",14),h.YNc(15,mP,3,2,"div",15),h.YNc(16,_P,1,0,"ng-container",16),h.qZA()()}if(2&t){const n=h.oxw();h.Tol(n.styleClass),h.Q6J("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",n.style),h.xp6(2),h.Tol(n.chooseStyleClass),h.Q6J("ngClass",h.WLB(24,bP,n.focus,n.disabled||n.isChooseDisabled())),h.xp6(1),h.Q6J("multiple",n.multiple)("accept",n.accept)("disabled",n.disabled||n.isChooseDisabled()),h.uIk("title",""),h.xp6(2),h.Tol(n.chooseIcon),h.Q6J("ngClass","p-button-icon p-button-icon-left"),h.xp6(2),h.Oqu(n.chooseButtonLabel),h.xp6(1),h.Q6J("ngIf",!n.auto&&n.showUploadButton),h.xp6(1),h.Q6J("ngIf",!n.auto&&n.showCancelButton),h.xp6(1),h.Q6J("ngTemplateOutlet",n.toolbarTemplate),h.xp6(3),h.Q6J("ngIf",n.hasFiles()),h.xp6(1),h.Q6J("value",n.msgs)("enableService",!1),h.xp6(1),h.Q6J("ngIf",n.hasFiles()),h.xp6(1),h.Q6J("ngTemplateOutlet",n.contentTemplate)("ngTemplateOutletContext",h.VKq(27,kP,n.files))}}function vP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"input",32,33),h.NdJ("change",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onFileSelect(s))})("focus",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onFocus())})("blur",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onBlur())}),h.qZA()}if(2&t){const n=h.oxw(2);h.Q6J("accept",n.accept)("multiple",n.multiple)("disabled",n.disabled)}}const xP=function(t,i,n,o){return{"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":t,"p-fileupload-choose-selected":i,"p-focus":n,"p-disabled":o}};function CP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",28),h._UZ(1,"p-messages",14),h.TgZ(2,"span",29),h.NdJ("mouseup",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onBasicUploaderClick())})("keydown",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onBasicKeydown(s))}),h._UZ(3,"span",30),h.TgZ(4,"span",8),h._uU(5),h.qZA(),h.YNc(6,vP,2,3,"input",31),h.qZA()()}if(2&t){const n=h.oxw();h.xp6(1),h.Q6J("value",n.msgs)("enableService",!1),h.xp6(1),h.Tol(n.styleClass),h.Q6J("ngClass",h.l5B(9,xP,!n.chooseLabel,n.hasFiles(),n.focus,n.disabled))("ngStyle",n.style),h.xp6(1),h.Q6J("ngClass",n.hasFiles()&&!n.auto?n.uploadIcon:n.chooseIcon),h.xp6(2),h.Oqu(n.auto?n.chooseLabel:n.hasFiles()?n.files[0].name:n.chooseLabel),h.xp6(1),h.Q6J("ngIf",!n.hasFiles())}}let AP=(()=>{class t{constructor(n,o,s,d,f,g){this.el=n,this.sanitizer=o,this.zone=s,this.http=d,this.cd=f,this.config=g,this.method="post",this.invalidFileSizeMessageSummary="{0}: Invalid file size, ",this.invalidFileSizeMessageDetail="maximum upload size is {0}.",this.invalidFileTypeMessageSummary="{0}: Invalid file type, ",this.invalidFileTypeMessageDetail="allowed file types: {0}.",this.invalidFileLimitMessageDetail="limit is {0} at most.",this.invalidFileLimitMessageSummary="Maximum number of files exceeded, ",this.previewWidth=50,this.chooseIcon="pi pi-plus",this.uploadIcon="pi pi-upload",this.cancelIcon="pi pi-times",this.showUploadButton=!0,this.showCancelButton=!0,this.mode="advanced",this.onBeforeUpload=new h.vpe,this.onSend=new h.vpe,this.onUpload=new h.vpe,this.onError=new h.vpe,this.onClear=new h.vpe,this.onRemove=new h.vpe,this.onSelect=new h.vpe,this.onProgress=new h.vpe,this.uploadHandler=new h.vpe,this.onImageError=new h.vpe,this._files=[],this.progress=0,this.uploadedFileCount=0}set files(n){this._files=[];for(let o=0;o<n.length;o++){let s=n[o];this.validate(s)&&(this.isImage(s)&&(s.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n[o]))),this._files.push(n[o]))}}get files(){return this._files}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"file":default:this.fileTemplate=n.template;break;case"content":this.contentTemplate=n.template;break;case"toolbar":this.toolbarTemplate=n.template}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){"advanced"===this.mode&&this.zone.runOutsideAngular(()=>{this.content&&this.content.nativeElement.addEventListener("dragover",this.onDragOver.bind(this))})}choose(){this.advancedFileInput.nativeElement.click()}onFileSelect(n){if("drop"!==n.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.msgs=[],this.multiple||(this.files=[]);let o=n.dataTransfer?n.dataTransfer.files:n.target.files;for(let s=0;s<o.length;s++){let d=o[s];this.isFileSelected(d)||this.validate(d)&&(this.isImage(d)&&(d.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(o[s]))),this.files.push(o[s]))}this.onSelect.emit({originalEvent:n,files:o,currentFiles:this.files}),this.fileLimit&&"advanced"==this.mode&&this.checkFileLimit(),this.hasFiles()&&this.auto&&("advanced"!==this.mode||!this.isFileLimitExceeded())&&this.upload(),"drop"!==n.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(n){for(let o of this.files)if(o.name+o.type+o.size===n.name+n.type+n.size)return!0;return!1}isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}validate(n){return this.msgs=[],this.accept&&!this.isFileTypeValid(n)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",n.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&n.size>this.maxFileSize&&(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",n.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),1))}isFileTypeValid(n){let o=this.accept.split(",").map(s=>s.trim());for(let s of o)if(this.isWildcard(s)?this.getTypeClass(n.type)===this.getTypeClass(s):n.type==s||this.getFileExtension(n).toLowerCase()===s.toLowerCase())return!0;return!1}getTypeClass(n){return n.substring(0,n.indexOf("/"))}isWildcard(n){return-1!==n.indexOf("*")}getFileExtension(n){return"."+n.name.split(".").pop()}isImage(n){return/^image\//.test(n.type)}onImageLoad(n){window.URL.revokeObjectURL(n.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let n=new FormData;this.onBeforeUpload.emit({formData:n});for(let o=0;o<this.files.length;o++)n.append(this.name,this.files[o],this.files[o].name);this.http[this.method](this.url,n,{headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(o=>{switch(o.type){case Gt.dt.Sent:this.onSend.emit({originalEvent:o,formData:n});break;case Gt.dt.Response:this.uploading=!1,this.progress=0,o.status>=200&&o.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:o,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case Gt.dt.UploadProgress:o.loaded&&(this.progress=Math.round(100*o.loaded/o.total)),this.onProgress.emit({originalEvent:o,progress:this.progress})}this.cd.markForCheck()},o=>{this.uploading=!1,this.onError.emit({files:this.files,error:o})})}}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(n,o){this.clearInputElement(),this.onRemove.emit({originalEvent:n,file:this.files[o]}),this.files.splice(o,1),this.checkFileLimit()}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.msgs=[],this.isFileLimitExceeded()?this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())}):this.msgs=[]}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(n){this.disabled||(n.stopPropagation(),n.preventDefault())}onDragOver(n){this.disabled||(gn.p.addClass(this.content.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,n.stopPropagation(),n.preventDefault())}onDragLeave(n){this.disabled||gn.p.removeClass(this.content.nativeElement,"p-fileupload-highlight")}onDrop(n){if(!this.disabled){gn.p.removeClass(this.content.nativeElement,"p-fileupload-highlight"),n.stopPropagation(),n.preventDefault();let o=n.dataTransfer?n.dataTransfer.files:n.target.files;(this.multiple||o&&1===o.length)&&this.onFileSelect(n)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(n){if(0==n)return"0 B";let f=Math.floor(Math.log(n)/Math.log(1e3));return parseFloat((n/Math.pow(1e3,f)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][f]}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput.nativeElement.click()}onBasicKeydown(n){switch(n.code){case"Space":case"Enter":this.onBasicUploaderClick(),n.preventDefault()}}imageError(n){this.onImageError.emit(n)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(Ie.ws.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(Ie.ws.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(Ie.ws.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.content.nativeElement.removeEventListener("dragover",this.onDragOver),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.SBq),h.Y36(iP.H7),h.Y36(h.R0b),h.Y36(Gt.eN),h.Y36(h.sBO),h.Y36(Ie.b4))},t.\u0275cmp=h.Xpm({type:t,selectors:[["p-fileUpload"]],contentQueries:function(n,o,s){if(1&n&&h.Suo(s,Ie.jx,4),2&n){let d;h.iGM(d=h.CRH())&&(o.templates=d)}},viewQuery:function(n,o){if(1&n&&(h.Gf(rP,5),h.Gf(oP,5),h.Gf(sP,5)),2&n){let s;h.iGM(s=h.CRH())&&(o.advancedFileInput=s.first),h.iGM(s=h.CRH())&&(o.basicFileInput=s.first),h.iGM(s=h.CRH())&&(o.content=s.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError"},decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"ngClass","focus","blur","click","keydown.enter"],["type","file",3,"multiple","accept","disabled","change"],["advancedfileinput",""],[3,"ngClass"],[1,"p-button-label"],["type","button",3,"label","icon","disabled","styleClass","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],["content",""],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"label","icon","disabled","styleClass","onClick"],[3,"value","showValue"],[1,"p-fileupload-files"],[4,"ngIf"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width","error",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","icon","pi pi-times","pButton","",3,"disabled","click"],[3,"src","width","error"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"ngClass","ngStyle","mouseup","keydown"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""]],template:function(n,o){1&n&&(h.YNc(0,wP,17,29,"div",0),h.YNc(1,CP,7,14,"div",1)),2&n&&(h.Q6J("ngIf","advanced"===o.mode),h.xp6(1),h.Q6J("ngIf","basic"===o.mode))},dependencies:[$e.mk,$e.sg,$e.O5,$e.tP,$e.PC,de.Hq,de.zx,_2.k,m2.V,ec.H],styles:[".p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}\n"],encapsulation:2,changeDetection:0}),t})(),yP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[$e.ez,Ie.m8,de.hJ,_2.q,m2.$,ec.T,Ie.m8,de.hJ,_2.q,m2.$]}),t})();const TP=["mask"];function SP(t,i){1&t&&h.GkF(0)}function EP(t,i){if(1&t&&(h.ynx(0),h.YNc(1,SP,1,0,"ng-container",7),h.BQk()),2&t){const n=h.oxw(2);h.xp6(1),h.Q6J("ngTemplateOutlet",n.indicatorTemplate)}}function DP(t,i){1&t&&h._UZ(0,"i",8)}function MP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",4),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onImageClick())}),h.YNc(1,EP,2,1,"ng-container",5),h.YNc(2,DP,1,0,"ng-template",null,6,h.W1O),h.qZA()}if(2&t){const n=h.MAs(3),o=h.oxw();h.xp6(1),h.Q6J("ngIf",o.indicatorTemplate)("ngIfElse",n)}}const IP=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},PP=function(t){return{value:"visible",params:t}};function FP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div"),h.NdJ("@animation.start",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onAnimationStart(s))})("@animation.done",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onAnimationEnd(s))}),h.TgZ(1,"img",20),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onPreviewImageClick())}),h.qZA()()}if(2&t){const n=h.oxw(2);h.Q6J("@animation",h.VKq(6,PP,h.WLB(3,IP,n.showTransitionOptions,n.hideTransitionOptions))),h.xp6(1),h.Q6J("ngStyle",n.imagePreviewStyle()),h.uIk("src",n.src,h.LSH)}}function NP(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",9,10),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onMaskClick())}),h.TgZ(2,"div",11),h.NdJ("click",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.handleToolbarClick(s))}),h.TgZ(3,"button",12),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.rotateRight())}),h._UZ(4,"i",13),h.qZA(),h.TgZ(5,"button",12),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.rotateLeft())}),h._UZ(6,"i",14),h.qZA(),h.TgZ(7,"button",15),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.zoomOut())}),h._UZ(8,"i",16),h.qZA(),h.TgZ(9,"button",15),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.zoomIn())}),h._UZ(10,"i",17),h.qZA(),h.TgZ(11,"button",12),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.closePreview())}),h._UZ(12,"i",18),h.qZA()(),h.YNc(13,FP,2,8,"div",19),h.qZA()}if(2&t){const n=h.oxw();h.xp6(7),h.Q6J("disabled",n.isZoomOutDisabled),h.xp6(2),h.Q6J("disabled",n.isZoomInDisabled),h.xp6(4),h.Q6J("ngIf",n.previewVisible)}}let OP=(()=>{class t{constructor(n,o){this.config=n,this.cd=o,this.preview=!1,this.showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new h.vpe,this.onHide=new h.vpe,this.onImageError=new h.vpe,this.maskVisible=!1,this.previewVisible=!1,this.rotate=0,this.scale=1,this.previewClick=!1,this.zoomSettings={default:1,step:.1,max:1.5,min:.5}}get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}ngAfterContentInit(){this.templates.forEach(n=>{n.getType(),this.indicatorTemplate=n.template})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0)}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(n){switch(n.toState){case"visible":this.container=n.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop();break;case"void":gn.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(n){switch(n.toState){case"void":Ii.P9.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}moveOnTop(){Ii.P9.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):gn.p.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(n){n.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default}imageError(n){this.onImageError.emit(n)}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(Ie.b4),h.Y36(h.sBO))},t.\u0275cmp=h.Xpm({type:t,selectors:[["p-image"]],contentQueries:function(n,o,s){if(1&n&&h.Suo(s,Ie.jx,4),2&n){let d;h.iGM(d=h.CRH())&&(o.templates=d)}},viewQuery:function(n,o){if(1&n&&h.Gf(TP,5),2&n){let s;h.iGM(s=h.CRH())&&(o.mask=s.first)}},hostAttrs:[1,"p-element"],inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",alt:"alt",width:"width",height:"height",appendTo:"appendTo",preview:"preview",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},decls:4,vars:13,consts:[[3,"ngClass","ngStyle"],[3,"ngStyle","error"],["class","p-image-preview-indicator",3,"click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter",3,"click",4,"ngIf"],[1,"p-image-preview-indicator",3,"click"],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[4,"ngTemplateOutlet"],[1,"p-image-preview-icon","pi","pi-eye"],[1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click"],["mask",""],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[1,"pi","pi-refresh"],[1,"pi","pi-undo"],["type","button",1,"p-image-action","p-link",3,"disabled","click"],[1,"pi","pi-search-minus"],[1,"pi","pi-search-plus"],[1,"pi","pi-times"],[4,"ngIf"],[1,"p-image-preview",3,"ngStyle","click"]],template:function(n,o){1&n&&(h.TgZ(0,"span",0)(1,"img",1),h.NdJ("error",function(d){return o.imageError(d)}),h.qZA(),h.YNc(2,MP,4,2,"div",2),h.YNc(3,NP,14,3,"div",3),h.qZA()),2&n&&(h.Tol(o.styleClass),h.Q6J("ngClass",o.containerClass())("ngStyle",o.style),h.xp6(1),h.Tol(o.imageClass),h.Q6J("ngStyle",o.imageStyle),h.uIk("src",o.src,h.LSH)("alt",o.alt)("width",o.width)("height",o.height),h.xp6(1),h.Q6J("ngIf",o.preview),h.xp6(1),h.Q6J("ngIf",o.maskVisible))},dependencies:[$e.mk,$e.O5,$e.tP,$e.PC],styles:[".p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon{font-size:1.5rem}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}\n"],encapsulation:2,data:{animation:[(0,An.X$)("animation",[(0,An.eR)("void => visible",[(0,An.oB)({transform:"scale(0.7)",opacity:0}),(0,An.jt)("{{showTransitionParams}}")]),(0,An.eR)("visible => void",[(0,An.jt)("{{hideTransitionParams}}",(0,An.oB)({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0}),t})(),BP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[$e.ez,Ie.m8]}),t})();var N1=Ye(655);const Ia=function LP(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},eS="object"==typeof global&&global&&global.Object===Object&&global;var zP="object"==typeof self&&self&&self.Object===Object&&self;const is=eS||zP||Function("return this")(),b2=function(){return is.Date.now()};var UP=/\s/;var ZP=/^\s+/;const GP=function qP(t){return t&&t.slice(0,function HP(t){for(var i=t.length;i--&&UP.test(t.charAt(i)););return i}(t)+1).replace(ZP,"")},Vu=is.Symbol;var tS=Object.prototype,KP=tS.hasOwnProperty,$P=tS.toString,Im=Vu?Vu.toStringTag:void 0;var eF=Object.prototype.toString;var nS=Vu?Vu.toStringTag:void 0;const Ad=function oF(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":nS&&nS in Object(t)?function QP(t){var i=KP.call(t,Im),n=t[Im];try{t[Im]=void 0;var o=!0}catch{}var s=$P.call(t);return o&&(i?t[Im]=n:delete t[Im]),s}(t):function tF(t){return eF.call(t)}(t)},$l=function sF(t){return null!=t&&"object"==typeof t};var dF=/^[-+]0x[0-9a-f]+$/i,hF=/^0b[01]+$/i,uF=/^0o[0-7]+$/i,fF=parseInt;const rS=function pF(t){if("number"==typeof t)return t;if(function lF(t){return"symbol"==typeof t||$l(t)&&"[object Symbol]"==Ad(t)}(t))return NaN;if(Ia(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=Ia(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=GP(t);var n=hF.test(t);return n||uF.test(t)?fF(t.slice(2),n?2:8):dF.test(t)?NaN:+t};var mF=Math.max,_F=Math.min;const xF=function vF(t,i,n){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Ia(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),function bF(t,i,n){var o,s,d,f,g,_,k=0,w=!1,C=!1,A=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function T(X){var V=o,K=s;return o=s=void 0,k=X,f=t.apply(K,V)}function E(X){return k=X,g=setTimeout(F,i),w?T(X):f}function M(X){var V=X-_;return void 0===_||V>=i||V<0||C&&X-k>=d}function F(){var X=b2();if(M(X))return N(X);g=setTimeout(F,function S(X){var te=i-(X-_);return C?_F(te,d-(X-k)):te}(X))}function N(X){return g=void 0,A&&o?T(X):(o=s=void 0,f)}function Z(){var X=b2(),V=M(X);if(o=arguments,s=this,_=X,V){if(void 0===g)return E(_);if(C)return clearTimeout(g),g=setTimeout(F,i),T(_)}return void 0===g&&(g=setTimeout(F,i)),f}return i=rS(i)||0,Ia(n)&&(w=!!n.leading,d=(C="maxWait"in n)?mF(rS(n.maxWait)||0,i):d,A="trailing"in n?!!n.trailing:A),Z.cancel=function L(){void 0!==g&&clearTimeout(g),k=0,o=_=s=g=void 0},Z.flush=function W(){return void 0===g?f:N(b2())},Z}(t,i,{leading:o,maxWait:i,trailing:s})},oS=function yF(t,i){return t===i||t!=t&&i!=i},O1=function TF(t,i){for(var n=t.length;n--;)if(oS(t[n][0],i))return n;return-1};var EF=Array.prototype.splice;function ju(t){var i=-1,n=null==t?0:t.length;for(this.clear();++i<n;){var o=t[i];this.set(o[0],o[1])}}ju.prototype.clear=function CF(){this.__data__=[],this.size=0},ju.prototype.delete=function DF(t){var i=this.__data__,n=O1(i,t);return!(n<0||(n==i.length-1?i.pop():EF.call(i,n,1),--this.size,0))},ju.prototype.get=function IF(t){var i=this.__data__,n=O1(i,t);return n<0?void 0:i[n][1]},ju.prototype.has=function FF(t){return O1(this.__data__,t)>-1},ju.prototype.set=function OF(t,i){var n=this.__data__,o=O1(n,t);return o<0?(++this.size,n.push([t,i])):n[o][1]=i,this};const B1=ju,sS=function KF(t){if(!Ia(t))return!1;var i=Ad(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i};var t,$F=is["__core-js_shared__"],aS=(t=/[^.]+$/.exec($F&&$F.keys&&$F.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var eN=Function.prototype.toString;const yd=function tN(t){if(null!=t){try{return eN.call(t)}catch{}try{return t+""}catch{}}return""};var iN=/^\[object .+?Constructor\]$/,lN=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const dN=function cN(t){return!(!Ia(t)||function QF(t){return!!aS&&aS in t}(t))&&(sS(t)?lN:iN).test(yd(t))},Td=function fN(t,i){var n=function hN(t,i){return t?.[i]}(t,i);return dN(n)?n:void 0},Pm=Td(is,"Map"),Fm=Td(Object,"create");var xN=Object.prototype.hasOwnProperty;var TN=Object.prototype.hasOwnProperty;function Uu(t){var i=-1,n=null==t?0:t.length;for(this.clear();++i<n;){var o=t[i];this.set(o[0],o[1])}}Uu.prototype.clear=function mN(){this.__data__=Fm?Fm(null):{},this.size=0},Uu.prototype.delete=function bN(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Uu.prototype.get=function CN(t){var i=this.__data__;if(Fm){var n=i[t];return"__lodash_hash_undefined__"===n?void 0:n}return xN.call(i,t)?i[t]:void 0},Uu.prototype.has=function SN(t){var i=this.__data__;return Fm?void 0!==i[t]:TN.call(i,t)},Uu.prototype.set=function MN(t,i){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Fm&&void 0===i?"__lodash_hash_undefined__":i,this};const lS=Uu,L1=function BN(t,i){var n=t.__data__;return function NN(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?n["string"==typeof i?"string":"hash"]:n.map};function Hu(t){var i=-1,n=null==t?0:t.length;for(this.clear();++i<n;){var o=t[i];this.set(o[0],o[1])}}Hu.prototype.clear=function PN(){this.size=0,this.__data__={hash:new lS,map:new(Pm||B1),string:new lS}},Hu.prototype.delete=function LN(t){var i=L1(this,t).delete(t);return this.size-=i?1:0,i},Hu.prototype.get=function zN(t){return L1(this,t).get(t)},Hu.prototype.has=function jN(t){return L1(this,t).has(t)},Hu.prototype.set=function HN(t,i){var n=L1(this,t),o=n.size;return n.set(t,i),this.size+=n.size==o?0:1,this};const ZN=Hu;function Wu(t){var i=this.__data__=new B1(t);this.size=i.size}Wu.prototype.clear=function LF(){this.__data__=new B1,this.size=0},Wu.prototype.delete=function zF(t){var i=this.__data__,n=i.delete(t);return this.size=i.size,n},Wu.prototype.get=function jF(t){return this.__data__.get(t)},Wu.prototype.has=function HF(t){return this.__data__.has(t)},Wu.prototype.set=function GN(t,i){var n=this.__data__;if(n instanceof B1){var o=n.__data__;if(!Pm||o.length<199)return o.push([t,i]),this.size=++n.size,this;n=this.__data__=new ZN(o)}return n.set(t,i),this.size=n.size,this};const KN=Wu;var JN=function(){try{var t=Td(Object,"defineProperty");return t({},"",{}),t}catch{}}();const cS=JN,dS=function XN(t,i,n){"__proto__"==i&&cS?cS(t,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[i]=n};var tO=Object.prototype.hasOwnProperty;const hS=function nO(t,i,n){var o=t[i];(!tO.call(t,i)||!oS(o,n)||void 0===n&&!(i in t))&&dS(t,i,n)},R1=function iO(t,i,n,o){var s=!n;n||(n={});for(var d=-1,f=i.length;++d<f;){var g=i[d],_=o?o(n[g],t[g],g,n,t):void 0;void 0===_&&(_=t[g]),s?dS(n,g,_):hS(n,g,_)}return n},uS=function aO(t){return $l(t)&&"[object Arguments]"==Ad(t)};var fS=Object.prototype,lO=fS.hasOwnProperty,cO=fS.propertyIsEnumerable,dO=uS(function(){return arguments}())?uS:function(t){return $l(t)&&lO.call(t,"callee")&&!cO.call(t,"callee")};const hO=dO,w2=Array.isArray;var pS="object"==typeof exports&&exports&&!exports.nodeType&&exports,gS=pS&&"object"==typeof module&&module&&!module.nodeType&&module,mS=gS&&gS.exports===pS?is.Buffer:void 0;const _S=(mS?mS.isBuffer:void 0)||function fO(){return!1};var kO=/^(?:0|[1-9]\d*)$/;const vO=function wO(t,i){var n=typeof t;return!!(i=i??9007199254740991)&&("number"==n||"symbol"!=n&&kO.test(t))&&t>-1&&t%1==0&&t<i},bS=function CO(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var En={};En["[object Float32Array]"]=En["[object Float64Array]"]=En["[object Int8Array]"]=En["[object Int16Array]"]=En["[object Int32Array]"]=En["[object Uint8Array]"]=En["[object Uint8ClampedArray]"]=En["[object Uint16Array]"]=En["[object Uint32Array]"]=!0,En["[object Arguments]"]=En["[object Array]"]=En["[object ArrayBuffer]"]=En["[object Boolean]"]=En["[object DataView]"]=En["[object Date]"]=En["[object Error]"]=En["[object Function]"]=En["[object Map]"]=En["[object Number]"]=En["[object Object]"]=En["[object RegExp]"]=En["[object Set]"]=En["[object String]"]=En["[object WeakMap]"]=!1;const v2=function $O(t){return function(i){return t(i)}};var kS="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nm=kS&&"object"==typeof module&&module&&!module.nodeType&&module,x2=Nm&&Nm.exports===kS&&eS.process;const Zu=function(){try{return Nm&&Nm.require&&Nm.require("util").types||x2&&x2.binding&&x2.binding("util")}catch{}}();var wS=Zu&&Zu.isTypedArray;const e6=wS?v2(wS):function YO(t){return $l(t)&&bS(t.length)&&!!En[Ad(t)]};var n6=Object.prototype.hasOwnProperty;const vS=function i6(t,i){var n=w2(t),o=!n&&hO(t),s=!n&&!o&&_S(t),d=!n&&!o&&!s&&e6(t),f=n||o||s||d,g=f?function rO(t,i){for(var n=-1,o=Array(t);++n<t;)o[n]=i(n);return o}(t.length,String):[],_=g.length;for(var k in t)(i||n6.call(t,k))&&(!f||!("length"==k||s&&("offset"==k||"parent"==k)||d&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||vO(k,_)))&&g.push(k);return g};var r6=Object.prototype;const C2=function o6(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||r6)},xS=function s6(t,i){return function(n){return t(i(n))}},l6=xS(Object.keys,Object);var d6=Object.prototype.hasOwnProperty;const CS=function f6(t){return null!=t&&bS(t.length)&&!sS(t)},A2=function p6(t){return CS(t)?vS(t):function h6(t){if(!C2(t))return l6(t);var i=[];for(var n in Object(t))d6.call(t,n)&&"constructor"!=n&&i.push(n);return i}(t)};var w6=Object.prototype.hasOwnProperty;const x6=function v6(t){if(!Ia(t))return function _6(t){var i=[];if(null!=t)for(var n in Object(t))i.push(n);return i}(t);var i=C2(t),n=[];for(var o in t)"constructor"==o&&(i||!w6.call(t,o))||n.push(o);return n},y2=function C6(t){return CS(t)?vS(t,!0):x6(t)};var AS="object"==typeof exports&&exports&&!exports.nodeType&&exports,yS=AS&&"object"==typeof module&&module&&!module.nodeType&&module,TS=yS&&yS.exports===AS?is.Buffer:void 0,SS=TS?TS.allocUnsafe:void 0;const ES=function F6(){return[]};var O6=Object.prototype.propertyIsEnumerable,DS=Object.getOwnPropertySymbols,B6=DS?function(t){return null==t?[]:(t=Object(t),function I6(t,i){for(var n=-1,o=null==t?0:t.length,s=0,d=[];++n<o;){var f=t[n];i(f,n,t)&&(d[s++]=f)}return d}(DS(t),function(i){return O6.call(t,i)}))}:ES;const T2=B6,MS=function z6(t,i){for(var n=-1,o=i.length,s=t.length;++n<o;)t[s+n]=i[n];return t},S2=xS(Object.getPrototypeOf,Object);var U6=Object.getOwnPropertySymbols?function(t){for(var i=[];t;)MS(i,T2(t)),t=S2(t);return i}:ES;const IS=U6,PS=function Z6(t,i,n){var o=i(t);return w2(t)?o:MS(o,n(t))},G6=function q6(t){return PS(t,A2,T2)},K6=function Y6(t){return PS(t,y2,IS)},E2=Td(is,"DataView"),D2=Td(is,"Promise"),M2=Td(is,"Set"),I2=Td(is,"WeakMap");var FS="[object Map]",NS="[object Promise]",OS="[object Set]",BS="[object WeakMap]",LS="[object DataView]",tB=yd(E2),nB=yd(Pm),iB=yd(D2),rB=yd(M2),oB=yd(I2),Sd=Ad;(E2&&Sd(new E2(new ArrayBuffer(1)))!=LS||Pm&&Sd(new Pm)!=FS||D2&&Sd(D2.resolve())!=NS||M2&&Sd(new M2)!=OS||I2&&Sd(new I2)!=BS)&&(Sd=function(t){var i=Ad(t),n="[object Object]"==i?t.constructor:void 0,o=n?yd(n):"";if(o)switch(o){case tB:return LS;case nB:return FS;case iB:return NS;case rB:return OS;case oB:return BS}return i});const P2=Sd;var aB=Object.prototype.hasOwnProperty;const RS=is.Uint8Array,F2=function hB(t){var i=new t.constructor(t.byteLength);return new RS(i).set(new RS(t)),i};var pB=/\w*$/;var zS=Vu?Vu.prototype:void 0,VS=zS?zS.valueOf:void 0;const jB=function VB(t,i,n){var o=t.constructor;switch(i){case"[object ArrayBuffer]":return F2(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function uB(t,i){var n=i?F2(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function kB(t,i){var n=i?F2(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function gB(t){var i=new t.constructor(t.source,pB.exec(t));return i.lastIndex=t.lastIndex,i}(t);case"[object Symbol]":return function _B(t){return VS?Object(VS.call(t)):{}}(t)}};var jS=Object.create,UB=function(){function t(){}return function(i){if(!Ia(i))return{};if(jS)return jS(i);t.prototype=i;var n=new t;return t.prototype=void 0,n}}();const HB=UB;var US=Zu&&Zu.isMap;const $B=US?v2(US):function GB(t){return $l(t)&&"[object Map]"==P2(t)};var HS=Zu&&Zu.isSet;const tL=HS?v2(HS):function JB(t){return $l(t)&&"[object Set]"==P2(t)};var WS="[object Arguments]",ZS="[object Function]",qS="[object Object]",wn={};wn[WS]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object DataView]"]=wn["[object Boolean]"]=wn["[object Date]"]=wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Map]"]=wn["[object Number]"]=wn[qS]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object Symbol]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Error]"]=wn[ZS]=wn["[object WeakMap]"]=!1;const EL=function z1(t,i,n,o,s,d){var f,g=1&i,_=2&i,k=4&i;if(n&&(f=s?n(t,o,s,d):n(t)),void 0!==f)return f;if(!Ia(t))return t;var w=w2(t);if(w){if(f=function lB(t){var i=t.length,n=new t.constructor(i);return i&&"string"==typeof t[0]&&aB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!g)return function D6(t,i){var n=-1,o=t.length;for(i||(i=Array(o));++n<o;)i[n]=t[n];return i}(t,f)}else{var C=P2(t),A=C==ZS||"[object GeneratorFunction]"==C;if(_S(t))return function S6(t,i){if(i)return t.slice();var n=t.length,o=SS?SS(n):new t.constructor(n);return t.copy(o),o}(t,g);if(C==qS||C==WS||A&&!s){if(f=_||A?{}:function WB(t){return"function"!=typeof t.constructor||C2(t)?{}:HB(S2(t))}(t),!g)return _?function H6(t,i){return R1(t,IS(t),i)}(t,function A6(t,i){return t&&R1(i,y2(i),t)}(f,t)):function L6(t,i){return R1(t,T2(t),i)}(t,function g6(t,i){return t&&R1(i,A2(i),t)}(f,t))}else{if(!wn[C])return s?t:{};f=jB(t,C,g)}}d||(d=new KN);var T=d.get(t);if(T)return T;d.set(t,f),tL(t)?t.forEach(function(M){f.add(z1(M,i,n,M,t,d))}):$B(t)&&t.forEach(function(M,F){f.set(F,z1(M,i,n,F,t,d))});var S=w?void 0:(k?_?K6:G6:_?y2:A2)(t);return function $N(t,i){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==i(t[n],n,t););}(S||t,function(M,F){S&&(M=t[F=M]),hS(f,F,z1(M,i,n,F,t,d))}),f};var GS=Function.prototype.toString,BL=Object.prototype.hasOwnProperty,LL=GS.call(Object);const jL=function VL(t){return $l(t)&&1===t.nodeType&&!function RL(t){if(!$l(t)||"[object Object]"!=Ad(t))return!1;var i=S2(t);if(null===i)return!0;var n=BL.call(i,"constructor")&&i.constructor;return"function"==typeof n&&n instanceof n&&GS.call(n)==LL}(t)};function YS(t,i=new Set){const n=[t],o=new Set;let s=0;for(;n.length>s;){const d=n[s++];if(!(o.has(d)||UL(d)||i.has(d)))if(o.add(d),d[Symbol.iterator])try{for(const f of d)n.push(f)}catch{}else for(const f in d)"defaultValue"!==f&&n.push(d[f])}return o}function UL(t){const i=Object.prototype.toString.call(t),n=typeof t;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===i||"[object RegExp]"===i||"[object Module]"===i||null==t||t instanceof EventTarget||t instanceof Event}class qL extends class ZL{constructor(i){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof i.crashNumberLimit?i.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof i.minimumNonErrorTimePeriod?i.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const o=n.error||n.reason;o instanceof Error&&this._handleError(o,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(i){this._creator=i}setDestructor(i){this._destructor=i}destroy(){this._stopErrorHandling(),this._listeners={}}on(i,n){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i].push(n)}off(i,n){this._listeners[i]=this._listeners[i].filter(o=>o!==n)}_fire(i,...n){const o=this._listeners[i]||[];for(const s of o)s.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(i,n){if(this._shouldReactToError(i)){this.crashes.push({message:i.message,stack:i.stack,filename:n.filename,lineno:n.lineno,colno:n.colno,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:i,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(i){return i.is&&i.is("CKEditorError")&&null!=i.context&&"ready"===this.state&&this._isErrorComingFromThisItem(i)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(i,n={}){super(n),this._editor=null,this._throttledSave=xF(this._save.bind(this),"number"==typeof n.saveInterval?n.saveInterval:5e3),this._creator=(o,s)=>i.create(o,s),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(i=>{console.error("An error happened during the editor destroying.",i)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const i=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,i,i.context)}}).then(()=>{this._fire("restart")})}create(i=this._elementOrData,n=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=i,this._config=this._cloneEditorConfiguration(n)||{},this._config.context=o,this._creator(i,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const i=this._editor;return this._editor=null,i.model.document.off("change:data",this._throttledSave),this._destructor(i)})}_save(){const i=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=i}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(i){this._excludedProps=i}_getData(){const i={};for(const n of this._editor.model.document.getRootNames())i[n]=this._editor.data.get({rootName:n});return i}_isErrorComingFromThisItem(i){return function HL(t,i,n=new Set){if(t===i&&function WL(t){return"object"==typeof t&&null!==t}(t))return!0;const o=YS(t,n),s=YS(i,n);for(const d of o)if(s.has(d))return!0;return!1}(this._editor,i.context,this._excludedProps)}_cloneEditorConfiguration(i){return function IL(t,i){return EL(t,5,i="function"==typeof i?i:void 0)}(i,(n,o)=>{if(jL(n)||"context"===o)return n})}}var GL=Ye(590);function YL(t,i){}const rr=new Array(256).fill(0).map((t,i)=>("0"+i.toString(16)).slice(-2)),N2="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let QL=(()=>{class t{constructor(n,o){this.config={},this.data="",this.tagName="div",this.ready=new h.vpe,this.change=new h.vpe,this.blur=new h.vpe,this.focus=new h.vpe,this.error=new h.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function $L(){const t=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+rr[t>>0&255]+rr[t>>8&255]+rr[t>>16&255]+rr[t>>24&255]+rr[i>>0&255]+rr[i>>8&255]+rr[i>>16&255]+rr[i>>24&255]+rr[n>>0&255]+rr[n>>8&255]+rr[n>>16&255]+rr[n>>24&255]+rr[o>>0&255]+rr[o>>8&255]+rr[o>>16&255]+rr[o>>24&255]}(),this.ngZone=o,this.elementRef=n;const{CKEDITOR_VERSION:s}=window;if(s){const[d]=s.split(".").map(Number);d<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(n){this.setDisabledState(n)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let n=this.editorWatchdog;return this.watchdog&&(n=this.watchdog._watchdogs.get(this.id)),n?n.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return(0,N1.mG)(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(n){null===n&&(n=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(n),this.isEditorSettingData=!1):(this.data=n,this.ready.pipe((0,GL.P)()).subscribe(o=>{o.setData(this.data)}))}registerOnChange(n){this.cvaOnChange=n}registerOnTouched(n){this.cvaOnTouched=n}setDisabledState(n){this.editorInstance&&(n?this.editorInstance.enableReadOnlyMode(N2):this.editorInstance.disableReadOnlyMode(N2)),this.initiallyDisabled=n}attachToWatchdog(){const n=(g,_)=>(0,N1.mG)(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>(0,N1.mG)(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(g);const k=yield this.editor.create(g,_);return this.initiallyDisabled&&k.enableReadOnlyMode(N2),this.ngZone.run(()=>{this.ready.emit(k)}),this.setUpEditorEvents(k),k}))}),o=g=>(0,N1.mG)(this,void 0,void 0,function*(){yield g.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),s=()=>{this.ngZone.run(()=>{this.error.emit()})},d=document.createElement(this.tagName),f=this.getConfig();if(this.editorElement=d,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:n,destructor:o,sourceElementOrData:d,config:f}),this.watchdog.on("itemError",(g,{itemId:_})=>{_===this.id&&s()});else{const g=new qL(this.editor);g.setCreator(n),g.setDestructor(o),g.on("error",s),this.editorWatchdog=g,this.editorWatchdog.create(d,f)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const n=Object.assign({},this.config),o=this.config.initialData||this.data;return o&&(n.initialData=o),n}setUpEditorEvents(n){const s=n.editing.view.document;n.model.document.on("change:data",d=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const f=n.getData();this.cvaOnChange(f)}this.change.emit({event:d,editor:n})})}),s.on("focus",d=>{this.ngZone.run(()=>{this.focus.emit({event:d,editor:n})})}),s.on("blur",d=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:d,editor:n})})})}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.SBq),h.Y36(h.R0b))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[h._Bn([{provide:lt.JU,useExisting:(0,h.Gpc)(()=>t),multi:!0}])],decls:1,vars:0,template:function(n,o){1&n&&h.YNc(0,YL,0,0,"ng-template")},encapsulation:2}),t})(),JL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[lt.u5,$e.ez]}),t})();var XL=Ye(6979),KS=Ye(162),eR=Ye(4249);const tR=["fileUpload"],nR=["dt"],iR=function(){return[10,20,30]};function rR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",16)(1,"div",17)(2,"p-paginator",18),h.NdJ("onPageChange",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onPageChange(s))}),h.qZA()()()}if(2&t){const n=h.oxw(2);h.xp6(2),h.Q6J("rows",n.paginator.pageSize)("totalRecords",n.paginator.totalElements)("first",n.paginator.pageSize*n.paginator.pageNumber)("rowsPerPageOptions",h.DdM(4,iR))}}function oR(t,i){1&t&&h.YNc(0,rR,3,5,"ng-template",15)}function sR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"i",39),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.clearFilterName())}),h.qZA()}}function aR(t,i){if(1&t&&(h.TgZ(0,"div",41)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(3),h.Oqu(n.categoryFilterSelected.name)}}function lR(t,i){if(1&t&&h.YNc(0,aR,4,1,"div",40),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.categoryFilterSelected)}}function cR(t,i){if(1&t&&(h.TgZ(0,"div",42)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(3),h.Oqu(n.name)}}function dR(t,i){1&t&&(h.TgZ(0,"small",43),h._uU(1,"Category name is required."),h.qZA())}function hR(t,i){if(1&t&&(h.TgZ(0,"div",45)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.statusFilterSelected.value),h.xp6(1),h.Oqu(n.statusFilterSelected.label)}}function uR(t,i){if(1&t&&h.YNc(0,hR,4,3,"div",44),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.statusFilterSelected)}}function fR(t,i){if(1&t&&(h.TgZ(0,"div",42)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function pR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-button",46),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onFilterUser())}),h.qZA()}}function gR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",19)(1,"button",20),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.openNew())}),h.qZA(),h.TgZ(2,"span"),h._uU(3),h.qZA()(),h.TgZ(4,"div",21)(5,"div",22)(6,"label",23),h._uU(7,"Name"),h.qZA(),h.TgZ(8,"span",24),h.YNc(9,sR,1,0,"i",25),h.TgZ(10,"input",26),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.filter.name=s)}),h.qZA()()(),h.TgZ(11,"div",27)(12,"label",28),h._uU(13,"Category"),h.qZA(),h.TgZ(14,"p-dropdown",29),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.categoryFilterSelected=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangeCategoryFilter())}),h.YNc(15,lR,1,1,"ng-template",30),h.YNc(16,cR,4,1,"ng-template",31),h.qZA(),h.YNc(17,dR,2,0,"small",32),h.qZA(),h.TgZ(18,"div",27)(19,"label",33),h._uU(20,"Status"),h.qZA(),h.TgZ(21,"p-dropdown",34),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.statusFilterSelected=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangeStatusFilter())}),h.YNc(22,uR,1,1,"ng-template",30),h.YNc(23,fR,4,3,"ng-template",31),h.qZA()(),h.TgZ(24,"div",35)(25,"label",33),h._uU(26,"Create Date"),h.qZA(),h.TgZ(27,"p-calendar",36),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.datesFilter=s)})("onSelect",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onSelectDateFilter())})("onClearClick",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onClearDate())}),h.qZA()(),h.TgZ(28,"div",37),h.YNc(29,pR,1,0,"p-button",38),h.qZA()()}if(2&t){const n=h.oxw();h.xp6(3),h.hij(" Total: ",n.paginator.totalElements," products"),h.xp6(6),h.Q6J("ngIf",n.filter.name),h.xp6(1),h.Q6J("ngModel",n.filter.name)("maxLength",30),h.xp6(4),h.Q6J("options",n.categories)("ngModel",n.categoryFilterSelected)("showClear",!0),h.xp6(3),h.Q6J("ngIf",n.submitted&&!n.categorySelected.name),h.xp6(4),h.Q6J("options",n.listStatuses)("ngModel",n.statusFilterSelected)("showClear",!0),h.xp6(6),h.Q6J("ngModel",n.datesFilter)("showButtonBar",!0)("readonlyInput",!0)("maxDate",n.maxDateValue)("showIcon",!0),h.xp6(2),h.Q6J("ngIf",n.hasValueFilter())}}function mR(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",47),h._uU(2,"Id "),h._UZ(3,"p-sortIcon",48),h.qZA(),h.TgZ(4,"th",49),h._uU(5,"Product Name"),h.qZA(),h.TgZ(6,"th",50),h._uU(7,"Quantity "),h._UZ(8,"p-sortIcon",51),h.qZA(),h.TgZ(9,"th",52),h._uU(10,"Price"),h._UZ(11,"p-sortIcon",53),h.qZA(),h.TgZ(12,"th",54),h._uU(13,"Discount"),h.qZA(),h.TgZ(14,"th",55),h._uU(15,"Status"),h.qZA(),h.TgZ(16,"th",56),h._uU(17,"Action"),h.qZA()())}function _R(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"tr")(1,"td",56),h._uU(2),h.qZA(),h.TgZ(3,"td",57),h._UZ(4,"div",58),h.ALo(5,"highlighter"),h.qZA(),h.TgZ(6,"td",56),h._uU(7),h.qZA(),h.TgZ(8,"td",55),h._uU(9),h.ALo(10,"myCurrency"),h.qZA(),h.TgZ(11,"td",54),h._uU(12),h.qZA(),h.TgZ(13,"td",55)(14,"span"),h._uU(15),h.qZA()(),h.TgZ(16,"td",56)(17,"button",59),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.editProduct(d))}),h.qZA(),h.TgZ(18,"button",60),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.remove(d))}),h.qZA()()()}if(2&t){const n=i.$implicit,o=h.oxw();h.xp6(2),h.Oqu(n.id),h.xp6(2),h.Q6J("innerHTML",h.Dn7(5,9,n.name,o.filter.name,""),h.oJD),h.xp6(3),h.hij(" ",n.quantity," "),h.xp6(2),h.Oqu(h.xi3(10,13,n.price,"VND")),h.xp6(3),h.Oqu(n.discount?n.discount+"%":""),h.xp6(2),h.Tol("status-default status-"+n.status),h.xp6(1),h.Oqu(0===n.status?"INACTIVE":"ACTIVE"),h.xp6(3),h.Q6J("disabled",!n.status)}}function bR(t,i){1&t&&(h.TgZ(0,"tr")(1,"td",61),h._uU(2,"No product found."),h.qZA()())}function kR(t,i){if(1&t&&(h.TgZ(0,"div",41)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(3),h.Oqu(n.categorySelected.name)}}function wR(t,i){if(1&t&&h.YNc(0,kR,4,1,"div",40),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.categorySelected)}}function vR(t,i){if(1&t&&(h.TgZ(0,"div",42)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(3),h.Oqu(n.name)}}function xR(t,i){1&t&&(h.TgZ(0,"small",43),h._uU(1,"Category name is required."),h.qZA())}function CR(t,i){if(1&t&&(h.TgZ(0,"div",41)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-label-"+n.statusSelected.value),h.xp6(1),h.Oqu(n.statusSelected.label)}}function AR(t,i){if(1&t&&h.YNc(0,CR,4,3,"div",40),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.statusSelected)}}function yR(t,i){if(1&t&&(h.TgZ(0,"div",42)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.value),h.xp6(1),h.Oqu(n.label)}}function TR(t,i){1&t&&(h.TgZ(0,"small",43),h._uU(1,"Status name is required."),h.qZA())}function SR(t,i){1&t&&(h.TgZ(0,"small",43),h._uU(1,"Nameis required."),h.qZA())}function ER(t,i){1&t&&(h.TgZ(0,"small",43),h._uU(1,"Price name is required."),h.qZA())}function DR(t,i){1&t&&(h.TgZ(0,"small",43),h._uU(1,"Quantity name is required."),h.qZA())}function MR(t,i){if(1&t&&(h.TgZ(0,"div",85),h._UZ(1,"p-image",86),h.qZA()),2&t){const n=i.$implicit,o=h.oxw(3);h.xp6(1),h.Q6J("src",o.urlImage+"/"+n.link)("preview",!0)}}function IR(t,i){if(1&t&&(h.TgZ(0,"div",76)(1,"label",80),h._uU(2,"Image"),h.qZA(),h.TgZ(3,"div",83),h.YNc(4,MR,2,2,"div",84),h.qZA()()),2&t){const n=h.oxw(2);h.xp6(4),h.Q6J("ngForOf",n.images)}}function PR(t,i){if(1&t&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&t){const n=i.$implicit;h.xp6(1),h.AsE("",n.name," - ",n.size," bytes")}}function FR(t,i){if(1&t&&(h.TgZ(0,"ul"),h.YNc(1,PR,2,2,"li",87),h.qZA()),2&t){const n=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",n.uploadedFiles)}}function NR(t,i){if(1&t&&h.YNc(0,FR,2,1,"ul",7),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.uploadedFiles.length)}}const Om=function(t){return{"ng-invalid ng-dirty":t}};function OR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",62)(1,"div",63)(2,"label",64),h._uU(3,"Category*"),h.qZA(),h.TgZ(4,"p-dropdown",65),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.categorySelected=s)}),h.YNc(5,wR,1,1,"ng-template",30),h.YNc(6,vR,4,1,"ng-template",31),h.qZA(),h.YNc(7,xR,2,0,"small",32),h.qZA(),h.TgZ(8,"div",63)(9,"label",64),h._uU(10,"Status*"),h.qZA(),h.TgZ(11,"p-dropdown",66),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.statusSelected=s)}),h.YNc(12,AR,1,1,"ng-template",30),h.YNc(13,yR,4,3,"ng-template",31),h.qZA(),h.YNc(14,TR,2,0,"small",32),h.qZA(),h.TgZ(15,"div",63)(16,"label",67),h._uU(17,"Name*"),h.qZA(),h.TgZ(18,"input",68),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.product.name=s)}),h.qZA(),h.YNc(19,SR,2,0,"small",32),h.qZA(),h.TgZ(20,"div",63)(21,"label",69),h._uU(22,"Price*"),h.qZA(),h.TgZ(23,"p-inputNumber",70),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.product.price=s)}),h.qZA(),h.YNc(24,ER,2,0,"small",32),h.qZA(),h.TgZ(25,"div",71)(26,"label",72),h._uU(27,"Quantity*"),h.qZA(),h.TgZ(28,"p-inputNumber",73),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.product.quantity=s)}),h.qZA(),h.YNc(29,DR,2,0,"small",32),h.qZA(),h.TgZ(30,"div",71)(31,"label",74),h._uU(32,"Discount"),h.qZA(),h.TgZ(33,"p-inputNumber",75),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.product.discount=s)}),h.qZA()(),h.TgZ(34,"div",76)(35,"label",77),h._uU(36,"Description"),h.qZA(),h.TgZ(37,"ckeditor",78),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.dataEditor=s)})("ready",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onReady(s))}),h.qZA()(),h.YNc(38,IR,5,1,"div",79),h.TgZ(39,"div",76)(40,"label",80),h._uU(41,"Upload Image"),h.qZA(),h.TgZ(42,"p-fileUpload",81,82),h.NdJ("uploadHandler",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.onUpload(s))}),h.YNc(44,NR,1,1,"ng-template",13),h.qZA()()()}if(2&t){const n=h.oxw();h.xp6(4),h.Q6J("ngClass",h.VKq(38,Om,n.submitted&&!n.categorySelected.name))("options",n.categories)("ngModel",n.categorySelected),h.xp6(3),h.Q6J("ngIf",n.submitted&&!n.categorySelected.name),h.xp6(4),h.Q6J("ngClass",h.VKq(40,Om,n.submitted&&!n.statusSelected.label))("options",n.listStatuses)("ngModel",n.statusSelected),h.xp6(3),h.Q6J("ngIf",n.submitted&&!n.statusSelected.label),h.xp6(4),h.Q6J("ngModel",n.product.name)("maxlength",100)("ngClass",h.VKq(42,Om,n.submitted&&!n.product.name)),h.xp6(1),h.Q6J("ngIf",n.submitted&&!n.product.name),h.xp6(4),h.Q6J("ngModel",n.product.price)("minFractionDigits",0)("min",1e3)("max",1e7)("ngClass",h.VKq(44,Om,n.submitted&&!n.product.price)),h.xp6(1),h.Q6J("ngIf",n.submitted&&!n.product.price),h.xp6(4),h.Q6J("ngModel",n.product.quantity)("maxlength",5)("minFractionDigits",0)("min",1)("max",1e4)("useGrouping",!1)("ngClass",h.VKq(46,Om,n.submitted&&!n.product.quantity)),h.xp6(1),h.Q6J("ngIf",n.submitted&&!n.product.quantity),h.xp6(4),h.Q6J("ngModel",n.product.discount)("minFractionDigits",0)("min",1)("max",100)("useGrouping",!1),h.xp6(4),h.Q6J("editor",n.Editor)("config",n.config)("ngModel",n.dataEditor),h.xp6(1),h.Q6J("ngIf",n.product.id),h.xp6(4),h.Q6J("customUpload",!0)("multiple",!0)("maxFileSize",1e6)}}function BR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"button",88),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.hideDialog())}),h.qZA(),h.TgZ(1,"button",89),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.saveProduct())}),h.qZA()}if(2&t){const n=h.oxw();h.xp6(1),h.Q6J("loading",n.isLoading)}}const LR=function(){return["id","name","quantity","price","discount","status"]},RR=function(){return{width:"50vw",maxHeight:"92vh",overflowY:"auto"}},zR=function(){return{"960px":"90vw","640px":"95vw"}};let VR=(()=>{class t{constructor(n,o,s,d,f,g,_,k,w){this.productManagerService=n,this.route=o,this.router=s,this.messageService=d,this.confirmationService=f,this.categoryManagerService=g,this.fileUploadService=_,this.imageService=k,this.datePipe=w,this.products=[],this.isLoading=!1,this.isLoadingTable=!1,this.submitted=!1,this.productDialog=!1,this.paginator={totalElements:0,pageNumber:0,pageSize:10},this.paramsURL={},this.images=[],this.categories=[],this.uploadedFiles=[],this.Editor=XL,this.filter={page:0,size:10},this.datesFilter=[],this.subjectKeyup=new Gu.x,this.maxDateValue=new Date,this.flagFilter=!1,this.config={toolbar:{items:["heading","|","bold","italic","link","insertTable","alignment","bulletedList","numberedList","blockQuote","uploadImage"],shouldNotGroupWhenFull:!0},alignment:{options:["left","center","justify","right"]},image:{style:["alignLeft","alignCenter","alignRight"],resizeUnit:"%",resizeOptions:[{name:"imageResize:original",value:null,icon:"original"},{name:"imageResize:10",value:"10",icon:"medium"},{name:"imageResize:50",value:"50",icon:"medium"},{name:"imageResize:75",value:"75",icon:"large"}],toolbar:["imageResize","imageResize:10","imageResize:original","imageStyle:inline","imageStyle:block","imageStyle:side","imageStyle:alignLeft","imageStyle:alignRight","imageStyle:alignCenter","|","|","imageTextAlternative"]}}}ngOnInit(){this.listStatuses=[{label:"ACTIVE",value:1},{label:"INACTIVE",value:0}],this.titleComponent=this.route.snapshot.data.title,this.urlImage=this.fileUploadService.getLink(),this.changeParams(),this.initTable(),this.getCategories()}clearFilterName(){this.filter.name=void 0,this.checkAllWithoutFilter()}onChangeStatusFilter(){this.filter.status=this.statusFilterSelected?this.statusFilterSelected.value:void 0,this.checkAllWithoutFilter()}onChangeCategoryFilter(){this.filter.categoryId=this.categoryFilterSelected?this.categoryFilterSelected.id:void 0,this.checkAllWithoutFilter()}onFilterUser(){this.resetFilterPaginator(),this.resetPaginator(),this.filterProduct()}resetPaginator(){this.paginator.pageNumber=0,this.paginator.pageSize=10,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}resetFilterPaginator(){this.filter.page=0,this.filter.size=10}onSelectDateFilter(){this.filter.createdAt=this.convertDateToString(this.datesFilter)}convertDateToString(n){return n.map(o=>this.datePipe.transform(o,"yyyy-MM-dd"))}onClearDate(){this.filter.createdAt=void 0,this.checkAllWithoutFilter()}hasValueFilter(){return this.statusFilterSelected||this.categoryFilterSelected||this.filter.name||this.datesFilter&&this.datesFilter.length}checkAllWithoutFilter(){this.hasValueFilter()||(this.paginator.pageNumber=0,this.paginator.pageSize=10,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams(),this.flagFilter&&this.getProduct())}clearFilter(){this.filter={page:0,size:10},this.statusFilterSelected=void 0,this.getProduct()}filterProduct(){this.flagFilter=!0,this.isLoadingTable=!0,this.filter.page=this.paginator.pageNumber,this.filter.size=this.paginator.pageSize,this.productManagerService.filter(this.filter).pipe((0,Ue.g)(500)).subscribe({next:n=>{this.products=n.data.content,this.paginator.totalElements=n.data.totalElements,this.isLoadingTable=!1},error:n=>{this.isLoadingTable=!1}})}onReady(n){n.model.schema.isRegistered("image")&&n.model.schema.extend("image",{allowAttributes:"blockIndent"})}changeParams(){this.route.queryParams.subscribe(n=>{this.paginator.pageNumber=null==n.page||+n.page<=0?0:n.page-1,this.paginator.pageSize=Number(n.size)||10,this.hasValueFilter()?this.filterProduct():this.getProduct()})}getProduct(){this.flagFilter=!1,this.isLoadingTable=!0,this.productManagerService.getProductByCategoryIdAndPriceLessThan(0,9999999999,this.paginator.pageNumber,this.paginator.pageSize).pipe((0,Ue.g)(300)).subscribe({next:n=>{this.products=n.data.content,this.isLoadingTable=!1,this.paginator.totalElements=n.data.totalElements,console.log(this.paginator.totalElements)},error:n=>{this.isLoadingTable=!1}})}onPageChange(n){this.paginator.pageNumber=n.page,this.paginator.pageSize=n.rows,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}addParams(){this.router.navigate([],{relativeTo:this.route,queryParams:this.paramsURL})}openNew(){this.submitted=!1,this.productDialog=!0,this.resetValueForm()}resetValueForm(){this.product={},this.categorySelected={},this.statusSelected={label:"ACTIVE",value:1},this.images=[],this.dataEditor="<p>Enter description here!</p>"}saveProduct(){if(this.submitted=!0,this.isValid()){this.formDataImage=new FormData;for(let n of this.fileUpload._files)this.formDataImage.append("file",n);this.product.category=this.categorySelected,this.product.status=this.statusSelected.value,this.product.description=this.dataEditor,this.product.slug=lo(this.product.name),this.formDataImage.append("product",JSON.stringify(this.product)),this.productManagerService.add(this.formDataImage).subscribe({next:n=>{this.hideDialog(),this.submitted=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Added product successfully!",life:2e3}),this.hasValueFilter()?this.filterProduct():this.getProduct()},error:n=>{this.submitted=!1,this.messageService.add({severity:"error",summary:"Error",detail:n.error.message,life:3e3})}})}}remove(n){this.confirmationService.confirm({message:"Do you want to INACTIVE this product?",header:"Update Confirmation",icon:"pi pi-info-circle",accept:()=>{this.formDataImage=new FormData;let o=this.pick(n,"id","name","category","quantity","price","status","discount","description");o.status=0,this.formDataImage.append("product",JSON.stringify(o)),this.productManagerService.add(this.formDataImage).subscribe({next:s=>{n.status=0,this.messageService.add({severity:"success",summary:"Confirmed",detail:"Record deleted"})},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:s.error.message})}})}})}hideDialog(){this.productDialog=!1,this.submitted=!1,this.resetValueForm()}resetView(){this.isLoadingTable=!0,this.getProduct(),this.isLoadingTable=!1}pick(n,...o){const s={};return o.forEach(d=>s[d]=n[d]),s}editProduct(n){this.isLoadingTable=!0,this.imageService.getAllByProductId(n.id).pipe((0,Ue.g)(10)).subscribe({next:o=>{this.images=o.data,this.productDialog=!0,this.product=this.pick(n,"id","name","category","quantity","price","status","discount","description"),this.dataEditor=n.description,this.statusSelected={label:this.product.status?"ACTIVE":"INACTIVE",value:this.product.status},this.categorySelected={name:n.category.name,id:n.category?.id,status:n.category?.status,slug:n.category.slug},this.isLoadingTable=!1},error:o=>{this.isLoadingTable=!1,this.hideDialog()}})}applyFilterGlobal(n,o){this.dt.filterGlobal(n.target.value,o)}initTable(){this.listRoles=[{label:"Admin",value:"admin"},{label:"Client",value:"client"},{label:"Manager",value:"manager"}],this.listStatuses=[{label:"ACTIVE",value:1},{label:"INACTIVE",value:0}]}getCategories(){this.categoryManagerService.getAll(0,10).subscribe({next:n=>{this.categories=n.data.content}})}onUpload(n){console.log(n.files,this.fileUpload._files);for(let o of n.files)this.uploadedFiles.push(o);this.formDataImage=new FormData;for(let o of n.files)this.formDataImage.append("file",o);console.log(this.formDataImage)}isValid(){return!!(this.product.name&&this.product.price&&this.product.quantity&&this.statusSelected.label&&this.categorySelected)}trackById(n,o){return o.id}ngOnDestroy(){this.subjectKeyup&&this.subjectKeyup.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(JT),h.Y36(Xt.gz),h.Y36(Xt.F0),h.Y36(Ie.ez),h.Y36(Ie.YP),h.Y36(Gi),h.Y36(KS.J),h.Y36(eR.A),h.Y36($e.uU))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-product"]],viewQuery:function(n,o){if(1&n&&(h.Gf(tR,5),h.Gf(nR,5)),2&n){let s;h.iGM(s=h.CRH())&&(o.fileUpload=s.first),h.iGM(s=h.CRH())&&(o.dt=s.first)}},standalone:!0,features:[h._Bn([Ie.ez,Ie.YP,$e.uU]),h.jDz],decls:17,vars:17,consts:[["header","Confirmation","defaultFocus","none","rejectButtonStyleClass","p-button-secondary p-button-plain","icon","pi pi-exclamation-triangle"],[1,"mt-2"],[1,"text-3xl","font-semibold","mb-4"],[1,"col-12","sm:col-12","md:12","lg:col-12","px-0"],[1,"card"],["dataKey","id","responsiveLayout","scroll","scrollHeight","61vh",3,"loading","value","globalFilterFields","rowHover","showCurrentPageReport","responsive","scrollable"],["dt",""],[4,"ngIf"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","New Product","styleClass","p-fluid",3,"visible","breakpoints","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pTemplate","summary"],[1,"page","grid","align-items-center"],[1,"col-12"],[3,"rows","totalRecords","first","rowsPerPageOptions","onPageChange"],[1,"flex","align-items-center","justify-content-between"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"grid","pt-4","p-fluid","align-items-end","filter-bar"],[1,"col-3"],["for","email-filter",1,"block","mb-1"],[1,"p-input-icon-right"],["class","pi pi-times cursor-pointer",3,"click",4,"ngIf"],["type","text","placeholder","Search Name here","pInputText","","id","email-filter",3,"ngModel","maxLength","ngModelChange"],[1,"col-2"],[1,"block","mb-1"],["optionLabel","id","placeholder","Select a Category",3,"options","ngModel","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["class","p-error",4,"ngIf"],["for","",1,"block","mb-1"],["optionLabel","value","placeholder","Select a Status",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"col-4"],["placeholder","Select Date here","selectionMode","range","inputId","range","todayButtonStyleClass","p-secondary-button",3,"ngModel","showButtonBar","readonlyInput","maxDate","showIcon","ngModelChange","onSelect","onClearClick"],[1,"col-1"],["label","Filter","styleClass","p-button-sm",3,"click",4,"ngIf"],[1,"pi","pi-times","cursor-pointer",3,"click"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"status-item"],[1,"p-error"],["class","status-item status-item-value",4,"ngIf"],[1,"status-item","status-item-value"],["label","Filter","styleClass","p-button-sm",3,"click"],["pSortableColumn","id",2,"flex","0.5"],["field","id"],["pSortableColumn","name",2,"flex","3"],["pSortableColumn","quantity",2,"flex","0.5"],["field","quantity"],["pSortableColumn","price",2,"flex","1"],["field","price"],[2,"flex","0.4"],[2,"flex","1"],[2,"flex","0.5"],[2,"flex","3"],[1,"",3,"innerHTML"],["pButton","","pRipple","","title","Edit","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","title","Delete","icon","pi pi-ban",1,"p-button-rounded","p-button-warning","mr-2",3,"disabled","click"],["colspan","7"],[1,"formgrid","grid"],[1,"field","col-6"],[1,"font-semibold"],["optionLabel","id","placeholder","Select a Category",3,"ngClass","options","ngModel","ngModelChange"],["optionLabel","value","placeholder","Select a Status",3,"ngClass","options","ngModel","ngModelChange"],["for","firstName",1,"font-semibold"],["type","text","pInputText","","id","firstName","required","",3,"ngModel","maxlength","ngClass","ngModelChange"],["for","price",1,"font-semibold"],["inputId","price","mode","decimal","locale","vi-VN","mode","currency","currency","VND",3,"ngModel","minFractionDigits","min","max","ngClass","ngModelChange"],[1,"field","col-12","md:col-6"],["for","quantity",1,"font-semibold"],["inputId","quantity","mode","decimal",3,"ngModel","maxlength","minFractionDigits","min","max","useGrouping","ngClass","ngModelChange"],["for","discount",1,"font-semibold"],["inputId","discount","mode","decimal","suffix","%",3,"ngModel","minFractionDigits","min","max","useGrouping","ngModelChange"],[1,"field","col-12"],["for","locale-us",1,"font-semibold"],[3,"editor","config","ngModel","ngModelChange","ready"],["class","field col-12",4,"ngIf"],["for","",1,"font-semibold"],["name","file","url","","accept","image/*",3,"customUpload","multiple","maxFileSize","uploadHandler"],["fileUpload",""],[1,"flex"],["class","max-h-29rem",4,"ngFor","ngForOf"],[1,"max-h-29rem"],["alt","Image","width","80",3,"src","preview"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","label","Cancel",1,"p-button-secondary","p-button-plain",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",3,"loading","click"]],template:function(n,o){1&n&&(h._UZ(0,"p-toast")(1,"p-confirmDialog",0),h.TgZ(2,"div",1)(3,"div",2),h._uU(4),h.qZA(),h.TgZ(5,"div",3)(6,"div",4)(7,"p-table",5,6),h.YNc(9,oR,1,0,null,7),h.YNc(10,gR,30,17,"ng-template",8),h.YNc(11,mR,18,0,"ng-template",9),h.YNc(12,_R,19,16,"ng-template",10),h.YNc(13,bR,3,0,"ng-template",11),h.qZA()(),h.TgZ(14,"p-dialog",12),h.NdJ("visibleChange",function(d){return o.productDialog=d}),h.YNc(15,OR,45,48,"ng-template",13),h.YNc(16,BR,2,1,"ng-template",14),h.qZA()()()),2&n&&(h.xp6(4),h.Oqu(o.titleComponent),h.xp6(3),h.Q6J("loading",o.isLoadingTable)("value",o.products)("globalFilterFields",h.DdM(14,LR))("rowHover",!0)("showCurrentPageReport",!0)("responsive",!0)("scrollable",!0),h.xp6(2),h.Q6J("ngIf",!o.products.length),h.xp6(5),h.Akn(h.DdM(15,RR)),h.Q6J("visible",o.productDialog)("breakpoints",h.DdM(16,zR))("modal",!0))},dependencies:[$e.ez,$e.mk,$e.sg,$e.O5,Id.T,Xt.Bz,I.U$,I.iA,Ie.jx,I.lQ,I.fz,oe.j,oe.o,se.U,se.D,vn.Lt,XT.Rn,lt.Fj,lt.JJ,lt.Q7,lt.nD,lt.On,vn.kW,de.hJ,de.Hq,de.zx,os.V,pe.D,pe.Q,O.EV,O.FN,ue.O,he.S,he.V,n0,XT.L$,JL,QL,yP,AP,BP,OP,g2.o,ss._8,ss.f],styles:[".status-default{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.status-default.status-1{background:#c8e6c9;color:#256029}.status-default.status-0{background:#ffcdd2;color:#c63737}.status-default.status-label-1{color:#256029}.status-default.status-label-0{color:#c63737}.p-dialog-content{overflow:unset!important}p-dialog .p-dialog-mask.p-component-overlay{z-index:44!important}p-dialog .ck-content.ck-editor__editable{max-height:200px;overflow-y:auto}p-dialog .ck-content.ck-editor__editable::-webkit-scrollbar{width:3px}p-dialog .p-dialog-resizable::-webkit-scrollbar{width:3px}p-dialog .p-fileupload .p-fileupload-content{max-height:200px;overflow-y:auto}p-dialog .p-fileupload .p-fileupload-content::-webkit-scrollbar{width:3px}p-dialog .p-fileupload .p-fileupload-content .p-fileupload-row button{width:3rem}p-dialog .p-element .p-image img{height:90px;object-fit:contain}p-dialog .p-element .p-image .p-image-mask .p-image-preview{height:unset;object-fit:unset}p-dialog .p-image-preview{max-height:60vh}p-dialog p-fileupload .p-fileupload .p-fileupload-buttonbar .p-element:nth-child(2){display:none}.p-datepicker table td>span{width:3rem;height:3rem}.p-datepicker table{font-size:1.4rem}\n"],encapsulation:2}),t})();var qu=Ye(8126);const jR=function(){return[10,20,30]};function UR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",22)(1,"div",23)(2,"p-paginator",24),h.NdJ("onPageChange",function(s){h.CHM(n);const d=h.oxw(2);return h.KtG(d.onPageChange(s))}),h.qZA()()()}if(2&t){const n=h.oxw(2);h.xp6(2),h.Q6J("rows",n.paginator.pageSize)("totalRecords",n.paginator.totalElements)("first",n.paginator.pageSize*n.paginator.pageNumber)("rowsPerPageOptions",h.DdM(4,jR))}}function HR(t,i){1&t&&h.YNc(0,UR,3,5,"ng-template",21)}function WR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"i",43),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.clearFilterAddress())}),h.qZA()}}function ZR(t,i){if(1&t&&(h.TgZ(0,"div",45)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(3);h.xp6(2),h.Tol("status-default status-"+n.statusFilterSelected.id),h.xp6(1),h.Oqu(n.statusFilterSelected.name)}}function qR(t,i){if(1&t&&h.YNc(0,ZR,4,3,"div",44),2&t){const n=h.oxw(2);h.Q6J("ngIf",n.statusFilterSelected)}}function GR(t,i){if(1&t&&(h.TgZ(0,"div",46)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.id),h.xp6(1),h.Oqu(n.name)}}function YR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"p-button",47),h.NdJ("click",function(){h.CHM(n);const s=h.oxw(2);return h.KtG(s.onFilterOrders())}),h.qZA()}}function KR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",25)(1,"span"),h._uU(2),h.qZA()(),h.TgZ(3,"div",26)(4,"div",27)(5,"label",28),h._uU(6,"Adress"),h.qZA(),h.TgZ(7,"span",29),h.YNc(8,WR,1,0,"i",30),h.TgZ(9,"input",31),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.filter.address=s)}),h.qZA()()(),h.TgZ(10,"div",27)(11,"label",32),h._uU(12,"Shipping"),h.qZA(),h.TgZ(13,"p-dropdown",33),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.statusFilterSelected=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangeStatusFilter())}),h.YNc(14,qR,1,1,"ng-template",34),h.YNc(15,GR,4,3,"ng-template",35),h.qZA()(),h.TgZ(16,"div",27)(17,"label",36),h._uU(18,"Payment Status"),h.qZA(),h.TgZ(19,"p-dropdown",37),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.paymentStatusFilter=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangePaymentStatusFilter())}),h.qZA()(),h.TgZ(20,"div",27)(21,"label",36),h._uU(22,"Payment Method"),h.qZA(),h.TgZ(23,"p-dropdown",38),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.paymentMethodFilter=s)})("onChange",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onChangePaymentMethodFilter())}),h.qZA()(),h.TgZ(24,"div",39)(25,"label",36),h._uU(26,"Create Date"),h.qZA(),h.TgZ(27,"p-calendar",40),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.datesFilter=s)})("onSelect",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onSelectDateFilter())})("onClearClick",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.onClearDate())}),h.qZA()(),h.TgZ(28,"div",41),h.YNc(29,YR,1,0,"p-button",42),h.qZA()()}if(2&t){const n=h.oxw();h.xp6(2),h.hij(" Total: ",n.paginator.totalElements," Orders "),h.xp6(6),h.Q6J("ngIf",n.filter.address),h.xp6(1),h.Q6J("ngModel",n.filter.address)("maxLength",30),h.xp6(4),h.Q6J("options",n.listStatuses)("ngModel",n.statusFilterSelected)("showClear",!0),h.xp6(6),h.Q6J("options",n.paymentStatusList)("ngModel",n.paymentStatusFilter)("showClear",!0),h.xp6(4),h.Q6J("options",n.paymentMethodList)("ngModel",n.paymentMethodFilter)("showClear",!0),h.xp6(4),h.Q6J("ngModel",n.datesFilter)("showButtonBar",!0)("readonlyInput",!0)("maxDate",n.maxDateValue)("showIcon",!0),h.xp6(2),h.Q6J("ngIf",n.hasValueFilter())}}function $R(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",48),h._uU(2,"Id "),h._UZ(3,"p-sortIcon",49),h.qZA(),h.TgZ(4,"th",50),h._uU(5,"Order date"),h.qZA(),h.TgZ(6,"th",51),h._uU(7,"Created By"),h.qZA(),h.TgZ(8,"th",52),h._uU(9,"Address"),h.qZA(),h.TgZ(10,"th",53),h._uU(11,"Status"),h._UZ(12,"p-sortIcon",54),h.qZA(),h.TgZ(13,"th",53),h._uU(14,"Payment"),h.qZA(),h.TgZ(15,"th",53),h._uU(16,"Total"),h.qZA(),h.TgZ(17,"th",55),h._uU(18,"Products"),h.qZA(),h.TgZ(19,"th",55),h._uU(20,"Action"),h.qZA()())}function QR(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"tr")(1,"td",55),h._uU(2),h.qZA(),h.TgZ(3,"td",56)(4,"div",57),h._uU(5),h.ALo(6,"date"),h.qZA()(),h.TgZ(7,"td",51)(8,"div",57),h._uU(9),h.qZA()(),h.TgZ(10,"td",52),h._UZ(11,"div",58),h.ALo(12,"highlighter"),h.qZA(),h.TgZ(13,"td",53)(14,"span"),h._uU(15),h.qZA()(),h.TgZ(16,"td",53)(17,"a",59),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.showDialogPayment(d.payment))}),h._uU(18),h.qZA()(),h.TgZ(19,"td",53)(20,"span"),h._uU(21),h.ALo(22,"myCurrency"),h.qZA()(),h.TgZ(23,"td",55)(24,"button",60),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.showDetail(d.id))}),h.qZA()(),h.TgZ(25,"td",55)(26,"button",61),h.NdJ("click",function(){const d=h.CHM(n).$implicit,f=h.oxw();return h.KtG(f.editOrder(d))}),h.qZA()()()}if(2&t){const n=i.$implicit,o=h.oxw();h.xp6(2),h.Oqu(n.id),h.xp6(3),h.Oqu(h.xi3(6,9,n.createdDate,"M/d/yy, h:mm a")),h.xp6(4),h.Oqu(n.createdBy),h.xp6(2),h.Q6J("innerHTML",h.Dn7(12,12,n.address,o.filter.address,""),h.oJD),h.xp6(3),h.Tol("status-default status-"+n.shippingStatus.id),h.xp6(1),h.Oqu(n.shippingStatus.name),h.xp6(3),h.Oqu(n.payment.status),h.xp6(3),h.Oqu(h.xi3(22,16,n.total,"VND"))}}function JR(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",65),h._uU(2," Id "),h._UZ(3,"p-sortIcon",54),h.qZA()())}function XR(t,i){if(1&t&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA()()),2&t){const n=i.$implicit;h.xp6(2),h.Oqu(n.id)}}function ez(t,i){1&t&&(h.TgZ(0,"tr")(1,"td",66),h._uU(2,"There are no order for this product yet."),h.qZA()())}function tz(t,i){if(1&t&&(h.TgZ(0,"tr")(1,"td",62)(2,"div",63)(3,"p-table",64),h.YNc(4,JR,4,0,"ng-template",9),h.YNc(5,XR,3,1,"ng-template",15),h.YNc(6,ez,3,0,"ng-template",12),h.qZA()()()()),2&t){const n=i.$implicit;h.xp6(3),h.Q6J("value",n.orders)}}function nz(t,i){1&t&&(h.TgZ(0,"tr")(1,"td",62),h._uU(2,"No product found."),h.qZA()())}function iz(t,i){1&t&&(h.TgZ(0,"tr")(1,"th"),h._uU(2,"ID"),h.qZA(),h.TgZ(3,"th"),h._uU(4,"Payer"),h.qZA(),h.TgZ(5,"th"),h._uU(6,"Payment Method"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"Email"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"Status"),h.qZA()())}function rz(t,i){if(1&t&&(h.TgZ(0,"tr")(1,"td")(2,"span",67),h._uU(3,"ID"),h.qZA(),h._uU(4),h.qZA(),h.TgZ(5,"td")(6,"span",67),h._uU(7,"Payer"),h.qZA(),h._uU(8),h.qZA(),h.TgZ(9,"td")(10,"span",67),h._uU(11,"Payment Method"),h.qZA(),h._uU(12),h.qZA(),h.TgZ(13,"td")(14,"span",67),h._uU(15,"Email"),h.qZA(),h._uU(16),h.qZA(),h.TgZ(17,"td")(18,"span",67),h._uU(19,"Status"),h.qZA(),h.TgZ(20,"span"),h._uU(21),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(4),h.Oqu(n.id),h.xp6(4),h.Oqu(n.payer),h.xp6(4),h.Oqu(n.paymentMethod),h.xp6(4),h.Oqu(n.email),h.xp6(5),h.Oqu(n.status)}}function oz(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"button",68),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.isShowDialogPayment=!1)}),h.qZA()}}function sz(t,i){1&t&&(h.TgZ(0,"tr")(1,"th",69),h._uU(2,"Image"),h.qZA(),h.TgZ(3,"th",70),h._uU(4,"Product"),h.qZA(),h.TgZ(5,"th",71),h._uU(6,"Quantity"),h.qZA(),h.TgZ(7,"th",72),h._uU(8,"Price"),h.qZA(),h.TgZ(9,"th",69),h._uU(10,"Discount"),h.qZA(),h.TgZ(11,"th",72),h._uU(12,"Total"),h.qZA()())}function az(t,i){if(1&t&&(h.TgZ(0,"tr")(1,"td",69),h._UZ(2,"span",67),h.TgZ(3,"a",73),h._UZ(4,"img",74),h.qZA()(),h.TgZ(5,"td",70)(6,"span",67),h._uU(7,"Product"),h.qZA(),h._uU(8),h.qZA(),h.TgZ(9,"td",71)(10,"span",67),h._uU(11,"Quantity"),h.qZA(),h._uU(12),h.qZA(),h.TgZ(13,"td",72)(14,"span",67),h._uU(15,"Price"),h.qZA(),h._uU(16),h.ALo(17,"myCurrency"),h.qZA(),h.TgZ(18,"td",69)(19,"span",67),h._uU(20,"Discount"),h.qZA(),h._uU(21),h.qZA(),h.TgZ(22,"td",72)(23,"span",67),h._uU(24,"Total"),h.qZA(),h._uU(25),h.ALo(26,"myCurrency"),h.qZA()()),2&t){const n=i.$implicit,o=h.oxw();h.xp6(4),h.Q6J("src",o.urlImage+"/"+n.product.image.link,h.LSH),h.xp6(4),h.Oqu(n.product.name),h.xp6(4),h.Oqu(n.quantity),h.xp6(4),h.Oqu(h.xi3(17,6,n.price,"VND")),h.xp6(5),h.hij("",n.discount?"-"+n.discount+"%":""," "),h.xp6(4),h.hij(" ",h.xi3(26,9,(n.price-n.price*n.discount/100)*n.quantity,"VND")," ")}}function lz(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"button",68),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.isShowOrderDetail=!1)}),h.qZA()}}function cz(t,i){if(1&t&&(h.TgZ(0,"div",77)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=h.oxw(2);h.xp6(2),h.Tol("status-default status-"+n.orderEdit.shippingStatus.id),h.xp6(1),h.Oqu(n.orderEdit.shippingStatus.name)}}function dz(t,i){if(1&t&&(h.TgZ(0,"div",46)(1,"div")(2,"span"),h._uU(3),h.qZA()()()),2&t){const n=i.$implicit;h.xp6(2),h.Tol("status-default status-"+n.id),h.xp6(1),h.Oqu(n.name)}}function hz(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"div",75)(1,"div",23)(2,"p-dropdown",76),h.NdJ("ngModelChange",function(s){h.CHM(n);const d=h.oxw();return h.KtG(d.orderEdit.shippingStatus=s)}),h.YNc(3,cz,4,3,"ng-template",34),h.YNc(4,dz,4,3,"ng-template",35),h.qZA()()()}if(2&t){const n=h.oxw();h.xp6(2),h.Q6J("options",n.listStatuses)("ngModel",n.orderEdit.shippingStatus)}}function uz(t,i){if(1&t){const n=h.EpF();h.TgZ(0,"button",78),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.hideDialog())}),h.qZA(),h.TgZ(1,"button",79),h.NdJ("click",function(){h.CHM(n);const s=h.oxw();return h.KtG(s.changeShippingStatuss())}),h.qZA()}if(2&t){const n=h.oxw();h.xp6(1),h.Q6J("loading",n.isLoading)}}const fz=function(){return{width:"30vw"}},pz=function(){return{width:"70vw",height:"80vh"}},gz=function(){return{width:"20vw",maxHeight:"92vh",overflow:"unset"}},mz=function(){return{"960px":"90vw","640px":"95vw"}};let _z=(()=>{class t{constructor(n,o,s,d,f,g,_,k){this.route=n,this.messageService=o,this.router=s,this.orderManagerService=d,this.datepipe=f,this.confirmationService=g,this.datePipe=_,this.fileUploadService=k,this.isLoadingTable=!1,this.isLoading=!1,this.paginator={totalElements:0,pageNumber:0,pageSize:10},this.paramsURL={},this.orders=[],this.isShowDialogPayment=!1,this.payments=[],this.filter={page:0,size:10},this.subjectKeyup=new Gu.x,this.listStatuses=[],this.isExpanded=!1,this.orderDetails=[],this.isShowOrderDetail=!1,this.expandedRows={},this.datesFilter=[],this.paymentStatusList=[{name:"PAID",id:1},{name:"UNPAID",id:2}],this.paymentMethodList=[{name:"PAYPAL",id:1},{name:"COD",id:2}],this.flagFilter=!1,this.editDialog=!1,this.maxDateValue=new Date}ngOnInit(){this.titleComponent=this.route.snapshot.data.title,this.changeParams(),this.urlImage=this.fileUploadService.getLink(),this.listStatuses=[{name:qu.T.VERIFIED,id:1},{name:qu.T.DELIVERING,id:2},{name:qu.T.DELIVERED,id:3},{name:qu.T.UNVERIFIED,id:4},{name:qu.T.CANCELED,id:5},{name:qu.T.CANCELING,id:6}]}clearFilterAddress(){this.filter.address=void 0,this.checkAllWithoutFilter()}onChangeStatusFilter(){this.filter.shippingStatusId=this.statusFilterSelected?this.statusFilterSelected.id:void 0,this.checkAllWithoutFilter()}onChangePaymentStatusFilter(){this.paymentMethodList=this.paymentStatusFilter?this.paymentStatusFilter&&1===this.paymentStatusFilter.id?[{name:"PAYPAL",id:1}]:[{name:"COD",id:2}]:[{name:"PAYPAL",id:1},{name:"COD",id:2}],this.filter.payment={...this.filter.payment,status:this.paymentStatusFilter?this.paymentStatusFilter.name:void 0},this.checkAllWithoutFilter()}onChangePaymentMethodFilter(){console.log(this.paymentMethodFilter),this.paymentStatusList=this.paymentMethodFilter?this.paymentMethodFilter&&1===this.paymentMethodFilter.id?[{name:"PAID",id:1}]:[{name:"UNPAID",id:2}]:[{name:"PAID",id:1},{name:"UNPAID",id:2}],this.filter.payment={...this.filter.payment,paymentMethod:this.paymentMethodFilter?this.paymentMethodFilter.name:void 0},this.checkAllWithoutFilter()}onFilterOrders(){this.resetFilterPaginator(),this.resetPaginator(),this.filterOrder()}resetPaginator(){this.paginator.pageNumber=0,this.paginator.pageSize=10,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}resetFilterPaginator(){this.filter.page=0,this.filter.size=10}onSelectDateFilter(){this.filter.createdDate=this.convertDateToString(this.datesFilter)}convertDateToString(n){return n.map(o=>this.datePipe.transform(o,"yyyy-MM-dd"))}onClearDate(){this.filter.createdDate=void 0,this.checkAllWithoutFilter()}hasValueFilter(){return this.statusFilterSelected||this.paymentMethodFilter||this.paymentStatusFilter||this.filter.address||this.datesFilter&&this.datesFilter.length}checkAllWithoutFilter(){this.hasValueFilter()||(this.paginator.pageNumber=0,this.paginator.pageSize=10,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams(),this.flagFilter&&this.getOrders())}clearFilter(){this.filter={page:0,size:10},this.statusFilterSelected=void 0,this.getOrders()}filterOrder(){this.isLoadingTable=!0,this.flagFilter=!0,this.filter.page=this.paginator.pageNumber,this.filter.size=this.paginator.pageSize,this.orderManagerService.filter(this.filter).pipe((0,Ue.g)(500)).subscribe({next:n=>{this.orders=n.data.content,this.paginator.totalElements=n.data.totalElements,this.isLoadingTable=!1},error:n=>{this.isLoadingTable=!1}})}changeParams(){this.route.queryParams.subscribe(n=>{this.paginator.pageNumber=null==n.page||+n.page<=0?0:n.page-1,this.paginator.pageSize=Number(n.size)||10,this.hasValueFilter()?this.filterOrder():this.getOrders()})}getOrders(){this.flagFilter=!1,this.isLoadingTable=!0,this.orderManagerService.getAll(this.paginator.pageNumber,this.paginator.pageSize).pipe((0,Ue.g)(300)).subscribe({next:n=>{this.orders=n.data.content,this.isLoadingTable=!1,this.paginator.totalElements=n.data.totalElements},error:n=>{this.isLoadingTable=!1}})}changeShippingStatuss(){this.isLoading=!0,this.orderManagerService.updateStatus(this.orderEdit).subscribe({next:n=>{this.isLoading=!1,this.editDialog=!1,this.messageService.add({severity:"success",summary:"Confirmed",detail:"Record updated"})},error:n=>{this.getOrders(),this.messageService.add({severity:"error",summary:"Error",detail:n.error.message})}})}onPageChange(n){this.paginator.pageNumber=n.page,this.paginator.pageSize=n.rows,this.paramsURL={page:this.paginator.pageNumber+1,size:this.paginator.pageSize},this.addParams()}addParams(){this.router.navigate([],{relativeTo:this.route,queryParams:this.paramsURL})}showDialogPayment(n){this.isShowDialogPayment=!0,this.payments[0]=n}isEmptyFilter(){return!this.filter.createdDate&&!this.filter.address}showDetail(n){this.isLoadingTable=!0,this.orderManagerService.getByOrderId(n).pipe((0,Ue.g)(100)).subscribe({next:o=>{this.isLoadingTable=!1,this.isShowOrderDetail=!this.isShowOrderDetail,this.orderDetails=o.data},error:o=>{this.isLoadingTable=!1}})}editOrder(n){this.orderEdit={...n},this.editDialog=!0}hideDialog(){this.editDialog=!1}ngOnDestroy(){this.subjectKeyup&&this.subjectKeyup.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(Xt.gz),h.Y36(Ie.ez),h.Y36(Xt.F0),h.Y36(QT.Z),h.Y36($e.uU),h.Y36(Ie.YP),h.Y36($e.uU),h.Y36(KS.J))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-order"]],standalone:!0,features:[h._Bn([Ie.ez,Ie.YP,$e.uU]),h.jDz],decls:28,vars:33,consts:[["header","Confirmation","rejectButtonStyleClass","p-button-secondary p-button-plain","icon","pi pi-exclamation-triangle"],[1,"mt-2"],[1,"text-3xl","font-semibold","mb-4"],[1,"col-12","sm:col-12","md:12","lg:col-12","px-0"],[1,"card"],["styleClass","p-datatable-striped","dataKey","id","responsiveLayout","scroll","scrollHeight","90vh",3,"loading","value","rowHover","showCurrentPageReport","responsive","scrollable"],["dt",""],[4,"ngIf"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body","style","min-height: 300px"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["header","Payment","appendTo","body",3,"resizable","modal","visible","visibleChange"],["responsiveLayout","stack",3,"value","breakpoint"],["pTemplate","body"],["pTemplate","footer"],["header","Products","appendTo","body",3,"resizable","modal","visible","visibleChange"],["scrollHeight","700px","responsiveLayout","stack","styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"scrollable","value","breakpoint"],["header","Edit Order","styleClass","p-fluid",3,"visible","breakpoints","modal","dismissableMask","visibleChange"],["pTemplate","content"],["pTemplate","summary"],[1,"page","grid","align-items-center"],[1,"col-12"],[3,"rows","totalRecords","first","rowsPerPageOptions","onPageChange"],[1,"flex","align-items-center","justify-content-end"],[1,"grid","pt-4","p-fluid","align-items-end","filter-bar"],[1,"col-2"],["for","email-filter",1,"block","mb-1"],[1,"p-input-icon-right"],["class","pi pi-times cursor-pointer",3,"click",4,"ngIf"],["type","text","placeholder","Search Address here","pInputText","","id","email-filter",3,"ngModel","maxLength","ngModelChange"],[1,"block","mb-1"],["optionLabel","id","placeholder","Select a Status",3,"options","ngModel","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["for","",1,"block","mb-1"],["placeholder","Select a Status","optionLabel","name",3,"options","ngModel","showClear","ngModelChange","onChange"],["placeholder","Select a Method","optionLabel","name",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"col-3"],["placeholder","Select Date here","selectionMode","range","inputId","range","todayButtonStyleClass","p-secondary-button",3,"ngModel","showButtonBar","readonlyInput","maxDate","showIcon","ngModelChange","onSelect","onClearClick"],[1,"col-1"],["label","Filter","styleClass","p-button-sm",3,"click",4,"ngIf"],[1,"pi","pi-times","cursor-pointer",3,"click"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"status-item"],["label","Filter","styleClass","p-button-sm",3,"click"],["pSortableColumn","id",2,"flex","0.5"],["field","id"],["pSortableColumn","createdDate",2,"flex","2"],[2,"flex","3"],[2,"flex","5"],[2,"flex","1"],["field","price"],[2,"flex","0.5"],[2,"flex","2"],[1,""],[1,"",3,"innerHTML"],[1,"underline","cursor-pointer","payment",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-eye",1,"p-element","p-button-text","p-button-rounded","p-button-plain","p-button","p-component","p-button-icon-only","eyes-view",3,"click"],["pButton","","pRipple","","title","Edit","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["colspan","7"],[1,"p-3"],["dataKey","id","responsiveLayout","scroll",3,"value"],["pSortableColumn","id"],["colspan","6"],[1,"p-column-title"],["type","button","pButton","","pRipple","","icon","pi pi-times","label","Close",1,"",3,"click"],[1,"justify-content-center",2,"flex","0.5"],[1,"justify-content-center",2,"flex","1.5"],[1,"justify-content-center",2,"flex","0.4"],[1,"justify-content-center",2,"flex","1"],["routerLink","/",1,"order-detail-link"],["width","100px","alt","",3,"src"],[1,"formgrid","grid"],["optionLabel","name","placeholder","Select a Status",3,"options","ngModel","ngModelChange"],[1,"status-item","status-item-value"],["pButton","","pRipple","","type","button","label","Cancel",1,"p-button-secondary","p-button-plain",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",3,"loading","click"]],template:function(n,o){1&n&&(h._UZ(0,"p-toast")(1,"p-confirmDialog",0),h.TgZ(2,"div",1)(3,"div",2),h._uU(4),h.qZA(),h.TgZ(5,"div",3)(6,"div",4)(7,"p-table",5,6),h.YNc(9,HR,1,0,null,7),h.YNc(10,KR,30,19,"ng-template",8),h.YNc(11,$R,21,0,"ng-template",9),h.YNc(12,QR,27,19,"ng-template",10),h.YNc(13,tz,7,1,"ng-template",11),h.YNc(14,nz,3,0,"ng-template",12),h.qZA()()()(),h.TgZ(15,"p-dialog",13),h.NdJ("visibleChange",function(d){return o.isShowDialogPayment=d}),h.TgZ(16,"p-table",14),h.YNc(17,iz,11,0,"ng-template",9),h.YNc(18,rz,22,5,"ng-template",15),h.qZA(),h.YNc(19,oz,1,0,"ng-template",16),h.qZA(),h.TgZ(20,"p-dialog",17),h.NdJ("visibleChange",function(d){return o.isShowOrderDetail=d}),h.TgZ(21,"p-table",18),h.YNc(22,sz,13,0,"ng-template",9),h.YNc(23,az,27,12,"ng-template",15),h.qZA(),h.YNc(24,lz,1,0,"ng-template",16),h.qZA(),h.TgZ(25,"p-dialog",19),h.NdJ("visibleChange",function(d){return o.editDialog=d}),h.YNc(26,hz,5,2,"ng-template",20),h.YNc(27,uz,2,1,"ng-template",16),h.qZA()),2&n&&(h.xp6(4),h.Oqu(o.titleComponent),h.xp6(3),h.Q6J("loading",o.isLoadingTable)("value",o.orders)("rowHover",!0)("showCurrentPageReport",!0)("responsive",!0)("scrollable",!0),h.xp6(2),h.Q6J("ngIf",!o.orders.length),h.xp6(6),h.Akn(h.DdM(29,fz)),h.Q6J("resizable",!1)("modal",!0)("visible",o.isShowDialogPayment),h.xp6(1),h.Q6J("value",o.payments)("breakpoint","2000px"),h.xp6(4),h.Akn(h.DdM(30,pz)),h.Q6J("resizable",!1)("modal",!0)("visible",o.isShowOrderDetail),h.xp6(1),h.Q6J("scrollable",!0)("value",o.orderDetails)("breakpoint","960px"),h.xp6(4),h.Akn(h.DdM(31,gz)),h.Q6J("visible",o.editDialog)("breakpoints",h.DdM(32,mz))("modal",!0)("dismissableMask",!0))},dependencies:[$e.ez,$e.O5,$e.uU,O.EV,O.FN,Ie.jx,I.U$,I.iA,I.lQ,I.fz,se.U,se.D,vn.Lt,lt.Fj,lt.JJ,lt.On,g2.o,he.S,he.V,de.hJ,de.Hq,de.zx,ss._8,ss.f,oe.j,oe.o,Id.T,pe.D,pe.Q],styles:[".status-default{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.status-default.status-1{background:#c8e6c9;color:#256029}.status-default.status-2{background:#eccfff;color:#694382}.status-default.status-3{background:#b3e5fc;color:#23547b}.status-default.status-4{background:#ffd8b2;color:#805b36}.status-default.status-5{background:#ffcdd2;color:#c63737}.status-default.status-6{background:#feedaf;color:#8a5340}.payment:hover{color:#008641}p-calendar{width:100%}p-calendar span.p-calendar{width:100%!important;display:block}p-calendar span.p-calendar input{width:100%!important}p-calendar span.p-calendar input .p-datepicker table{font-size:1.4rem}p-calendar span.p-calendar .p-datepicker table{font-size:1.4rem}.p-column-filter-clear-button{width:3rem;height:3rem}.p-column-filter-clear-button .pi,.eyes-view .pi{font-size:1.4rem}.p-dialog-content{overflow:unset!important}:host ::ng-deep .p-multiselect{min-width:15rem;width:18rem}:host ::ng-deep .multiselect-custom .p-multiselect-label{padding-top:.5rem;padding-bottom:.5rem}:host ::ng-deep .multiselect-custom .country-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}:host ::ng-deep .multiselect-custom .country-item-value img.flag{width:17px}:host ::ng-deep .multiselect-custom .country-placeholder{padding:.25rem}\n"],encapsulation:2}),t})();var $S=Ye(1896);const bz=[{path:"",component:hf,canActivate:[$S.u],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"user",title:"User",data:{title:"User Manager"},component:Pv},{path:"home",title:"Home",data:{title:"Dashboard"},component:nP,canActivate:[$S.u]},{path:"product",title:"Product Manager",data:{title:"Product Manager"},component:VR},{path:"order",title:"Order Manager",data:{title:"Order Manager"},component:_z},{path:"category",title:"Category Manager",data:{title:"Category Manager"},component:H1}]}]},4327:function(Mn,ln){var $e;void 0!==($e=function(){"use strict";function lo(oe,I,se){var Ie=new XMLHttpRequest;Ie.open("GET",oe),Ie.responseType="blob",Ie.onload=function(){he(Ie.response,I,se)},Ie.onerror=function(){console.error("could not download file")},Ie.send()}function de(oe){var I=new XMLHttpRequest;I.open("HEAD",oe,!1);try{I.send()}catch{}return 200<=I.status&&299>=I.status}function pe(oe){try{oe.dispatchEvent(new MouseEvent("click"))}catch{var I=document.createEvent("MouseEvents");I.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),oe.dispatchEvent(I)}}var O="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ue=O.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),he=O.saveAs||("object"!=typeof window||window!==O?function(){}:"download"in HTMLAnchorElement.prototype&&!ue?function(oe,I,se){var Ie=O.URL||O.webkitURL,h=document.createElement("a");h.download=I=I||oe.name||"download",h.rel="noopener","string"==typeof oe?(h.href=oe,h.origin===location.origin?pe(h):de(h.href)?lo(oe,I,se):pe(h,h.target="_blank")):(h.href=Ie.createObjectURL(oe),setTimeout(function(){Ie.revokeObjectURL(h.href)},4e4),setTimeout(function(){pe(h)},0))}:"msSaveOrOpenBlob"in navigator?function(oe,I,se){if(I=I||oe.name||"download","string"!=typeof oe)navigator.msSaveOrOpenBlob(function Ue(oe,I){return typeof I>"u"?I={autoBom:!1}:"object"!=typeof I&&(console.warn("Deprecated: Expected third argument to be a object"),I={autoBom:!I}),I.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(oe.type)?new Blob(["\ufeff",oe],{type:oe.type}):oe}(oe,se),I);else if(de(oe))lo(oe,I,se);else{var Ie=document.createElement("a");Ie.href=oe,Ie.target="_blank",setTimeout(function(){pe(Ie)})}}:function(oe,I,se,Ie){if((Ie=Ie||open("","_blank"))&&(Ie.document.title=Ie.document.body.innerText="downloading..."),"string"==typeof oe)return lo(oe,I,se);var h="application/octet-stream"===oe.type,Gt=/constructor/i.test(O.HTMLElement)||O.safari,Gi=/CriOS\/[\d]+/.test(navigator.userAgent);if((Gi||h&&Gt||ue)&&typeof FileReader<"u"){var vn=new FileReader;vn.onloadend=function(){var St=vn.result;St=Gi?St:St.replace(/^data:[^;]*;/,"data:attachment/file;"),Ie?Ie.location.href=St:location=St,Ie=null},vn.readAsDataURL(oe)}else{var lt=O.URL||O.webkitURL,rs=lt.createObjectURL(oe);Ie?Ie.location=rs:location.href=rs,Ie=null,setTimeout(function(){lt.revokeObjectURL(rs)},4e4)}});O.saveAs=he.saveAs=he,Mn.exports=he}.apply(ln,[]))&&(Mn.exports=$e)},2038:Mn=>{Mn.exports=function(ln,Ye){return ln=ln.toLowerCase().replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a").replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e").replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i").replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o").replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u").replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y").replace(/\u0111/g,"d").replace(/\s+/g,"-").replace(/[^A-Za-z0-9_-]/g,"").replace(/-+/g,"-"),Ye?ln.replace(/-/g,Ye):ln}},6979:(Mn,ln,Ye)=>{Mn=Ye.nmd(Mn),function(Xt){const $e=Xt.en=Xt.en||{};$e.dictionary=Object.assign($e.dictionary||{},{"%0 of %1":"%0 of %1","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align center":"Align center","Align left":"Align left","Align right":"Align right","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset",Italic:"Italic",Justify:"Justify","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),globalThis,Mn.exports=(()=>(()=>{"use strict";var Xt={636:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const se=I},390:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) #0000 #0000 #0000;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,oEAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const se=I},3638:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},8894:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const se=I},4401:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const se=I},3230:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const se=I},9048:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},8662:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const se=I},1043:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot:""}]);const se=I},4622:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const se=I},9899:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const se=I},9825:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid #0000;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,4BAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const se=I},5870:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const se=I},6831:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},399:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid #ffffff80}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const se=I},9465:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CD1ED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},4827:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin:0;padding:var(--ck-spacing-standard);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SA+CD,CA5CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,QAAS,CADT,eAAgB,CAEhB,gDAAiD,CAHjD,QAAS,CADT,kCAAmC,CAKnC,SAaD,CAnBA,4GAaE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAWD,CATC,wEACC,QAAS,CACT,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\twidth: 50%;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},5777:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const se=I},952:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{opacity:1;visibility:visible}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAQC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAoBD,CCpBA,kFACC,aAqBD,CAHC,oBAnBD,kFAoBE,YAEF,CADC,CDlBA,sEAIC,cAAe,CAEf,iBAUD,CCoBD,wFAEC,SAAU,CADV,kBAED,CD3BE,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CElDA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t@mixin ck-tooltip_enabled;\n\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t&:hover {\n\t\t\t\t@mixin ck-tooltip_visible;\n\t\t\t}\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},3525:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},4082:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom:1px solid var(--ck-color-input-border);border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAQF,CAVA,+CAQE,2BAA4B,CAD5B,wBAGF,CAGC,wEACC,SAoCD,CArCA,kFAME,2BAA4B,CAF5B,mBAAoB,CACpB,wBAgCF,CArCA,kFAYE,4BAA6B,CAF7B,oBAAqB,CACrB,yBA0BF,CAtBC,oFACC,oDACD,CAEA,4GC9BF,eD+CE,CAjBA,+PC1BD,qCD2CC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAEC,oDAAqD,CAGrD,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CAFxE,UAuBD,CAxBA,8DASE,yBAeF,CAxBA,8DAaE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-input-color {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\t& > input.ck.ck-input-text {\n\t\tmin-width: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t& > div.ck.ck-dropdown {\n\t\tmin-width: auto;\n\n\t\t/* This dropdown has no arrow but a color preview instead. */\n\t\t& > .ck-input-color__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__button {\n\t\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\n\t\tdisplay: flex;\n\n\t\t& .ck.ck-input-color__button__preview {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_rounded.css";\n\n.ck.ck-input-color {\n\t& > .ck.ck-input-text {\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t& > .ck.ck-dropdown {\n\t\t& > .ck.ck-button.ck-input-color__button {\n\t\t\tpadding: 0;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tborder-left-width: 0;\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tborder-right-width: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\t&.ck-disabled {\n\t\t\t\tbackground: var(--ck-color-input-disabled-background);\n\t\t\t}\n\n\t\t\t& > .ck.ck-input-color__button__preview {\n\t\t\t\t@mixin ck-rounded-corners;\n\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 1px solid var(--ck-color-input-border);\n\n\t\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\t\ttop: -30%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\theight: 150%;\n\t\t\t\t\twidth: 8%;\n\t\t\t\t\tbackground: hsl(0, 100%, 50%);\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\ttransform-origin: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__remove-color {\n\t\twidth: 100%;\n\t\tborder-bottom: 1px solid var(--ck-color-input-border);\n\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t}\n\n\t\t& .ck.ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},4880:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form {\n\tpadding: 0 0 var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t& .ck.ck-input-text {\n\t\tmin-width: 100%;\n\t\twidth: 0;\n\t}\n\n\t& .ck.ck-dropdown {\n\t\tmin-width: 100%;\n\n\t\t& .ck-dropdown__button {\n\t\t\t&:not(:focus) {\n\t\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck-button__label {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const se=I},9865:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-form__row {\n\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\t& + * {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-label {\n\t\twidth: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},8085:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);width:var(--ck-insert-table-dropdown-box-width)}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,qCACC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAHlB,iDAAkD,CAClD,iDAAkD,CAFlD,+CAUD,CAJC,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\twidth: var(--ck-insert-table-dropdown-box-width);\n\theight: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const se=I},4104:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:#0000000d;font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,oBAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const se=I},5737:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\t&:first-of-type {\n\t\t\t\t\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\n\t\t\t\t\tflex-grow: 0.57;\n\t\t\t\t}\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\n\t\t\t\t\tflex-grow: 0.43;\n\t\t\t\t}\n\n\t\t\t\t& .ck-button {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__padding-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const se=I},4777:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-color-table-focused-cell-background:#9ecffa4d}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,kDACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const se=I},198:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:#0000 #0000 var(--ck-color-base-error) #0000;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,yDAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__background-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tflex-wrap: wrap;\n\t\t\talign-items: center;\n\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column-reverse;\n\t\t\t\talign-items: center;\n\n\t\t\t\t& .ck.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\t/* Allow absolute positioning of the status (error) balloons. */\n\t\tposition: relative;\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\ttransform: translate(-50%,100%);\n\n\t\t\t/* Make sure the balloon status stays on top of other form elements. */\n\t\t\tz-index: 1;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX( -50% );\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n:root {\n\t--ck-table-properties-error-arrow-size: 6px;\n\t--ck-table-properties-min-error-width: 150px;\n}\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\t& > .ck-label {\n\t\t\t\t\tfont-size: var(--ck-font-size-tiny);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__border-style,\n\t\t\t& .ck-table-form__border-width {\n\t\t\t\twidth: 80px;\n\t\t\t\tmin-width: 80px;\n\t\t\t\tmax-width: 80px;\n\t\t\t}\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tpadding: 0;\n\n\t\t\t& .ck-table-form__dimensions-row__width,\n\t\t\t& .ck-table-form__dimensions-row__height {\n\t\t\t\tmargin: 0\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\talign-self: flex-end;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: var(--ck-ui-component-min-height);\n\t\t\t\tline-height: var(--ck-ui-component-min-height);\n\t\t\t\tmargin: 0 var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: var(--ck-spacing-standard);\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\t@mixin ck-rounded-corners;\n\n\t\t\tbackground: var(--ck-color-base-error);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\t\tmin-width: var(--ck-table-properties-min-error-width);\n\t\t\ttext-align: center;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\n\t\t\t\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\n\t\t}\n\n\t\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\n\t\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n@keyframes ck-table-form-labeled-view-status-appear {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},9221:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\t\t\tflex-basis: 0;\n\t\t\talign-content: baseline;\n\n\t\t\t& .ck.ck-toolbar .ck-toolbar__items {\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\t\t& .ck-toolbar__items > * {\n\t\t\t\t\twidth: 40px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const se=I},5593:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,':root{--ck-table-selected-cell-background:#9ecffa4d}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:#0000;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:initial}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,6CACD,CAGC,0IAKC,gBAAiB,CAFjB,iBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,wBACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const se=I},4499:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:focus .ck-tooltip,.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:focus .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{opacity:1;visibility:visible}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid #0000;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BCCC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CE5BC,qDACC,aAqBD,CAHC,oBAnBD,qDAoBE,YAEF,CADC,CFvBF,6BAOC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAyBD,CApBC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEkBA,kIAEC,SAAU,CADV,kBAED,CCxCD,6BCAC,oDD0ID,CCvIE,6EACC,0DACD,CAEA,+EACC,2DAA4C,CAC5C,uEACD,CAID,qDACC,6DACD,CDhBD,6BEDC,eF2ID,CA1IA,wIEGE,qCFuIF,CA1IA,6BA6BC,uBAAwB,CANxB,sBAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAqID,CA3GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDiIA,CC9HC,yFACC,qDACD,CAEA,2FACC,sDAA4C,CAC5C,kEACD,CAID,iEACC,wDACD,CDmHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC7IC,mDDkJD,CC/IE,2FACC,yDACD,CAEA,6FACC,0DAA4C,CAC5C,sEACD,CAID,mEACC,4DACD,CD6HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\t@mixin ck-tooltip_enabled;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n\n\t&:hover,\n\t/* Enable toolbar button tooltips for keyboard users too. See https://github.com/ckeditor/ckeditor5/issues/5581. */\n\t&:focus {\n\t\t@mixin ck-tooltip_visible;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t\tbox-shadow: inset 0 2px 2px var($(prefix)-active-shadow);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const se=I},9681:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);transition:background .4s ease;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);margin:var(--ck-switch-button-toggle-spacing);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,mDAAoD,CACpD,qCAAsC,CACtC,gKAKD,CAGC,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDC3BA,eDoEA,CAzCA,yICvBC,qCDgED,CAzCA,2DAKE,gBAoCF,CAzCA,2DAUE,iBA+BF,CAzCA,iDAiBC,uDAAwD,CAHxD,8BAAiC,CAEjC,0CAyBD,CAtBC,2EC9CD,eD2DC,CAbA,6LC1CA,qCAAsC,CD4CpC,8CAWF,CAbA,2EASC,yDAA0D,CAD1D,gDAAiD,CAFjD,6CAA8C,CAM9C,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,+DACD,CAIF,6DExEA,kCF0EA,CAEA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: 1.0769230769em;\n\t--ck-switch-button-toggle-spacing: 1px;\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2 * var(--ck-switch-button-toggle-spacing)\n\t);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease;\n\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\t/* Leave some tiny bit of space around the inner part of the switch */\n\t\t\tmargin: var(--ck-switch-button-toggle-spacing);\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t&.ck-on .ck-button__toggle {\n\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t}\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t/*\n\t\t\t * Move the toggle switch to the right. It will be animated.\n\t\t\t */\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const se=I},4923:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,qCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(0, 0%, 0%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const se=I},3488:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBAqFD,CAnFC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UAOD,CCUA,iEACC,YACD,CDVA,oCAGC,kCAAmC,CAEnC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CEhGA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"../tooltip/mixins/_tooltip.css\";\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\n\t\t/* Disable main button's tooltip when the dropdown is open. Otherwise the panel may\n\t\tpartially cover the tooltip */\n\t\t&.ck-on {\n\t\t\t@mixin ck-tooltip_disabled;\n\t\t}\n\t}\n\n\t& .ck-dropdown__panel {\n\t\t/* This is to get rid of flickering when the tooltip is shown under the panel,\n\t\twhich looks like the panel moves vertically a pixel down and up. */\n\t\t-webkit-backface-visibility: hidden;\n\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},6875:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},66:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,mBAEC,iBAUD,CARC,iDACC,qCACD,CC0BA,8DACC,YACD,CClCD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCC7EA,eDuFA,CAVA,qHCzEC,qCDmFD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n\n\t/* Disable tooltips for the buttons when the button is "open" */\n\t&.ck-splitbutton_open > .ck-button {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},5075:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const se=I},4547:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid #0000;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,sBAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const se=I},5523:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const se=I},1174:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAY1B,qBAcD,CAZC,0BARA,aAAc,CAGd,cAgBA,CAJC,yBAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\tcolor: inherit;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\n\t\t/* Allows dynamic coloring of the icons. */\n\t\tcolor: inherit;\n\n\t\t&:not([fill]) {\n\t\t\t/* Needed by FF. */\n\t\t\tfill: currentColor;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},6985:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const se=I},2751:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const se=I},8111:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:#0000;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:#0000}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,yEACD,CAEA,0BCHC,eD4GD,CAzGA,2FCCE,qCDwGF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,wFAYF,CAfA,oUAOE,iGAQF,CAfA,gTAaC,gBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,gBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-spacing-medium), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},1162:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,2DACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},8245:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:#0000 #0000 var(--ck-color-panel-border) #0000}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:#0000 #0000 var(--ck-color-panel-background) #0000;margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) #0000 #0000;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) #0000 #0000 #0000;margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCJC,eD4ID,CAxIA,iFCAE,qCDwIF,CAxIA,qBAMC,2CAA4C,CAC5C,6CAA8C,CEb9C,oCAA8B,CFU9B,eAoID,CA9HE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,2DACD,CAEA,2CACC,+DAAkF,CAClF,yCACD,CAIA,uFAEC,mHACD,CAEA,4CACC,qDAAkE,CAClE,uDACD,CAEA,2CACC,+DAAkF,CAClF,4CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const se=I},1757:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const se=I},3553:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const se=I},3609:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const se=I},1590:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAOA,mCAMC,8BAA+B,CAL/B,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAH5B,OAAQ,CAKR,SACD,CCTC,oCDaC,wCAMC,8BAA+B,CAL/B,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAH5B,OAAQ,CAKR,SACD,CCnBD,CCAD,qDACC,kDACD,CAEA,uBACC,+BAkED,CAhEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA6CF,CA3CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAID,iGAMC,QAAS,CADT,eAAgB,CAEhB,gDAAiD,CAJjD,kCAAmC,CADnC,kCAkBD,CApBA,0OAcE,aAMF,CAGC,yMACC,kDACD,CDpEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button::after {\n\tcontent: "";\n\twidth: 0;\n\tposition: absolute;\n\tright: -1px;\n\ttop: var(--ck-spacing-small);\n\tbottom: var(--ck-spacing-small);\n\tz-index: 1;\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\tposition: absolute;\n\t\t\tright: -1px;\n\t\t\ttop: var(--ck-spacing-small);\n\t\t\tbottom: var(--ck-spacing-small);\n\t\t\tz-index: 1;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t\tborder-radius: 0;\n\t\t\tborder: 0;\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const se=I},6706:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const se=I},5571:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border:0;border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eD0FD,CA7FA,qECOE,qCDsFF,CA7FA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAyFD,CAtFC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAgBD,CAbC,0DAWC,QAAS,CAHT,eAAgB,CAHhB,QAAS,CAHT,UAUD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAvFF,qCA2FE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so any border is pointless. */\n\t\t\tborder: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},9948:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{-webkit-backface-visibility:hidden;pointer-events:none;position:absolute}.ck.ck-tooltip{display:none;opacity:0;visibility:hidden;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";height:0;width:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{background:var(--ck-color-tooltip-background);color:var(--ck-color-tooltip-text);font-size:.9em;left:-50%;line-height:1.5;padding:var(--ck-spacing-small) var(--ck-spacing-medium);position:relative}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{border-color:#0000 #0000 var(--ck-color-tooltip-background) #0000;border-width:0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%)}.ck.ck-tooltip.ck-tooltip_sw{left:auto;right:50%}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{left:calc(var(--ck-tooltip-arrow-size)*-2);right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{left:0;right:auto;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{border-color:var(--ck-color-tooltip-background) #0000 #0000 #0000;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{border-color:#0000 var(--ck-color-tooltip-background) #0000 #0000;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1)}.ck.ck-tooltip.ck-tooltip_w{left:auto;right:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{border-color:#0000 #0000 #0000 var(--ck-color-tooltip-background);border-width:var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,sDASC,kCAAmC,CAJnC,mBAAoB,CAHpB,iBAQD,CAEA,eAIC,YAAa,CADb,SAAU,CADV,iBAAkB,CAGlB,yBAWD,CATC,iCACC,oBAOD,CALC,uCACC,UAAW,CAEX,QAAS,CADT,OAED,CCxBF,MACC,2BACD,CAEA,eACC,QAAS,CAMT,KAAM,CAON,sCAwKD,CAtKC,iCChBA,eDqCA,CArBA,yGCZC,qCDiCD,CArBA,iCAOC,6CAA8C,CAF9C,kCAAmC,CAFnC,cAAe,CAMf,SAAU,CALV,eAAgB,CAEhB,wDAAyD,CAEzD,iBAaD,CAVC,uCAOC,kBAAmB,CACnB,QAAS,CAFT,sCAGD,CAYD,sFAGC,4CAA+C,CAC/C,0BASD,CAPC,8JAIC,iEAAoF,CACpF,qGAAsG,CAHtG,+CAAkD,CAClD,0BAGD,CAaD,6BAEC,SAAU,CADV,SAYD,CATC,+CACC,SAAU,CACV,2CACD,CAEA,qDACC,SAAU,CACV,OACD,CAYD,6BACC,QAAS,CACT,UAYD,CAVC,+CAEC,0CAA8C,CAD9C,UAED,CAEA,qDAEC,MAAO,CADP,UAAW,CAEX,yBACD,CAYD,4BACC,yCAA4C,CAC5C,2BAQD,CANC,oDAGC,iEAAoF,CACpF,qGAAsG,CAHtG,4CAA+C,CAC/C,0BAGD,CAUD,4BACC,8CAA+C,CAC/C,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDAGC,iEAAoF,CACpF,qGAAsG,CAHtG,0CAA6C,CAC7C,8CAGD,CAWF,4BAEC,SAAU,CADV,+CAAgD,CAEhD,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDAGC,iEAAoF,CACpF,qGAAsG,CAHtG,SAAU,CACV,8CAGD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-tooltip,\n.ck.ck-tooltip .ck-tooltip__text::after {\n\tposition: absolute;\n\n\t/* Without this, hovering the tooltip could keep it visible. */\n\tpointer-events: none;\n\n\t/* This is to get rid of flickering when transitioning opacity in Chrome.\n\tIt\'s weird but it works. */\n\t-webkit-backface-visibility: hidden;\n}\n\n.ck.ck-tooltip {\n\t/* Tooltip is hidden by default. */\n\tvisibility: hidden;\n\topacity: 0;\n\tdisplay: none;\n\tz-index: var(--ck-z-modal);\n\n\t& .ck-tooltip__text {\n\t\tdisplay: inline-block;\n\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-tooltip-arrow-size: 5px;\n}\n\n.ck.ck-tooltip {\n\tleft: 50%;\n\n\t/*\n\t * Prevent blurry tooltips in LoDPI environments.\n\t * See https://github.com/ckeditor/ckeditor5/issues/1802.\n\t */\n\ttop: 0;\n\n\t/*\n\t * For the transition to work, the tooltip must be controlled\n\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t * i.e. when scanning the toolbar with mouse cursor.\n\t */\n\ttransition: opacity .2s ease-in-out .2s;\n\n\t& .ck-tooltip__text {\n\t\t@mixin ck-rounded-corners;\n\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tbackground: var(--ck-color-tooltip-background);\n\t\tposition: relative;\n\t\tleft: -50%;\n\n\t\t&::after {\n\t\t\t/*\n\t\t\t * For the transition to work, the tooltip must be controlled\n\t\t\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t\t\t * i.e. when scanning the toolbar with mouse cursor.\n\t\t\t */\n\t\t\ttransition: opacity .2s ease-in-out .2s;\n\t\t\tborder-style: solid;\n\t\t\tleft: 50%;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south of the element.\n\t *\n\t *       [element]\n\t *           ^\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t */\n\t&.ck-tooltip_s,\n\t&.ck-tooltip_sw,\n\t&.ck-tooltip_se {\n\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( 100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\t/* 1px addresses gliches in rendering causing gap between the triangle and the text */\n\t\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size) + 1px);\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: transparent transparent var(--ck-color-tooltip-background) transparent;\n\t\t\tborder-width: 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-west of the element.\n\t *\n\t *        [element]\n\t *            ^\n\t *  +-----------+\n\t *  |  Tooltip  |\n\t *  +-----------+\n\t */\n\n\t&.ck-tooltip_sw {\n\t\tright: 50%;\n\t\tleft: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: auto;\n\t\t\tright: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tleft: auto;\n\t\t\tright: 0;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-east of the element.\n\t *\n\t *  [element]\n\t *      ^\n\t *    +-----------+\n\t *    |  Tooltip  |\n\t *    +-----------+\n\t */\n\t&.ck-tooltip_se {\n\t\tleft: 50%;\n\t\tright: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tright: auto;\n\t\t\tleft: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tright: auto;\n\t\t\tleft: 0;\n\t\t\ttransform: translateX( 50% );\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip north of the element.\n\t *\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t *           V\n\t *       [element]\n\t */\n\t&.ck-tooltip_n {\n\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( -100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: var(--ck-color-tooltip-background) transparent transparent transparent;\n\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip east of the element.\n\t *\n\t *                +----------+\n\t *    [element] < |   east   |\n\t *                +----------+\n\t */\n\t&.ck-tooltip_e {\n\t\tleft: calc(100% + var(--ck-tooltip-arrow-size));\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent var(--ck-color-tooltip-background) transparent transparent;\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip west of the element.\n\t *\n\t *    +----------+\n\t *    |   west   | > [element]\n\t *    +----------+\n\t */\n\t&.ck-tooltip_w {\n\t\tright: calc(100% + var(--ck-tooltip-arrow-size));\n\t\tleft: auto;\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: 100%;\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-color-tooltip-background);\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const se=I},6150:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:#77baf84d;--ck-color-focus-error-shadow:#ff401f4d;--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:#00000026;--ck-color-shadow-drop-active:#0003;--ck-color-shadow-inner:#0000001a;--ck-color-button-default-background:#0000;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:#0000;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:#0000001a;--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#1fb0ff1a;--ck-color-link-fake-selection:#1fb0ff4d;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:#0000;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAgD,CAChD,8BAAmD,CACnD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAmD,CACnD,oCAAuD,CACvD,6BAAkD,CAIlD,+CAAwD,CACxD,qEAA+E,CAC/E,qCAAwD,CACxD,0CAA8D,CAC9D,uCAAyD,CACzD,yCAAqD,CACrD,gCAAsD,CACtD,mCAA0D,CAC1D,iCAAsD,CAItD,0CAAuD,CACvD,kDAA+D,CAC/D,mDAAgE,CAChE,+CAA6D,CAC7D,mDAA8D,CAE9D,uCAAuD,CACvD,6CAA4D,CAC5D,8CAA4D,CAC5D,0CAAyD,CACzD,gDAA8D,CAE9D,+DAAsE,CACtE,iDAAkE,CAClE,kDAAkE,CAClE,8CAA+D,CAC/D,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA4D,CAC5D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAmE,CACnE,yEAA8E,CAC9E,+CAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,+BAAiD,CACjD,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,wCAAwD,CACxD,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,gEAAuE,CACvE,4EAAiF,CACjF,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,6CAAmE,CACnE,wCAAgE,CCpGhE,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJoGD,CI9FA,2EAaC,oBAAqB,CANrB,gBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 44%, 48%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(208, 88%, 52%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(208, 88%, 47%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t208, 79%, 51%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(207, 89%, 86%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 90%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 85%);\n\t--ck-color-button-default-active-shadow: \t\t\t\t\thsl(0, 0%, 75%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(0, 0%, 87%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(0, 0%, 73%);\n\t--ck-color-button-on-active-shadow: \t\t\t\t\t\thsl(0, 0%, 63%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(0, 0%, 87%);\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 44%, 41%);\n\t--ck-color-button-action-active-shadow: \t\t\t\t\thsl(104, 44%, 36%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 69%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 64%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-base-active);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-base-active-focus);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-foreground);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const se=I},6507:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:#0000;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid #0000}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:initial;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,mBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,sBAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,wBAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const se=I},2263:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const se=I},5137:(de,pe,O)=>{O.d(pe,{Z:()=>se});var ue=O(4015),he=O.n(ue),oe=O(3645),I=O.n(oe)()(he());I.push([de.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,#fff0,#ffffff4d);border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid #ffffff80;pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:#0000}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,kDAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,2BAAwC,CARxC,mBAUD,CAOC,6JAEC,mBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const se=I},3645:de=>{de.exports=function(pe){var O=[];return O.toString=function(){return this.map(function(ue){var he=pe(ue);return ue[2]?"@media ".concat(ue[2]," {").concat(he,"}"):he}).join("")},O.i=function(ue,he,oe){"string"==typeof ue&&(ue=[[null,ue,""]]);var I={};if(oe)for(var se=0;se<this.length;se++){var Ie=this[se][0];null!=Ie&&(I[Ie]=!0)}for(var h=0;h<ue.length;h++){var Gt=[].concat(ue[h]);oe&&I[Gt[0]]||(he&&(Gt[2]=Gt[2]?"".concat(he," and ").concat(Gt[2]):he),O.push(Gt))}},O}},4015:de=>{function O(ue,he){(null==he||he>ue.length)&&(he=ue.length);for(var oe=0,I=new Array(he);oe<he;oe++)I[oe]=ue[oe];return I}de.exports=function(ue){var he=function pe(ue,he){return function(oe){if(Array.isArray(oe))return oe}(ue)||function(oe,I){var se=oe&&(typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"]);if(null!=se){var Ie,h,Gt=[],Gi=!0,vn=!1;try{for(se=se.call(oe);!(Gi=(Ie=se.next()).done)&&(Gt.push(Ie.value),!I||Gt.length!==I);Gi=!0);}catch(lt){vn=!0,h=lt}finally{try{Gi||null==se.return||se.return()}finally{if(vn)throw h}}return Gt}}(ue,he)||function(oe,I){if(oe){if("string"==typeof oe)return O(oe,I);var se=Object.prototype.toString.call(oe).slice(8,-1);if("Object"===se&&oe.constructor&&(se=oe.constructor.name),"Map"===se||"Set"===se)return Array.from(oe);if("Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return O(oe,I)}}(ue,he)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ue,4),oe=he[1],I=he[3];if(!I)return oe;if("function"==typeof btoa){var se=btoa(unescape(encodeURIComponent(JSON.stringify(I)))),Ie="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(se),h="/*# ".concat(Ie," */"),Gt=I.sources.map(function(Gi){return"/*# sourceURL=".concat(I.sourceRoot||"").concat(Gi," */")});return[oe].concat(Gt).concat([h]).join("\n")}return[oe].join("\n")}},3379:(de,pe,O)=>{var ue,ut,oe=(ut={},function(xt){if(void 0===ut[xt]){var kt=document.querySelector(xt);if(window.HTMLIFrameElement&&kt instanceof window.HTMLIFrameElement)try{kt=kt.contentDocument.head}catch{kt=null}ut[xt]=kt}return ut[xt]}),I=[];function se(ut){for(var xt=-1,kt=0;kt<I.length;kt++)if(I[kt].identifier===ut){xt=kt;break}return xt}function Ie(ut,xt){for(var kt={},Yt=[],xn=0;xn<ut.length;xn++){var Cn=ut[xn],ft=xt.base?Cn[0]+xt.base:Cn[0],Ao=kt[ft]||0,yo="".concat(ft," ").concat(Ao);kt[ft]=Ao+1;var Mi=se(yo),or={css:Cn[1],media:Cn[2],sourceMap:Cn[3]};-1!==Mi?(I[Mi].references++,I[Mi].updater(or)):I.push({identifier:yo,updater:Md(or,xt),references:1}),Yt.push(yo)}return Yt}function h(ut){var xt=document.createElement("style"),kt=ut.attributes||{};if(void 0===kt.nonce){var Yt=O.nc;Yt&&(kt.nonce=Yt)}if(Object.keys(kt).forEach(function(Cn){xt.setAttribute(Cn,kt[Cn])}),"function"==typeof ut.insert)ut.insert(xt);else{var xn=oe(ut.insert||"head");if(!xn)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");xn.appendChild(xt)}return xt}var Gt,Gi=(Gt=[],function(ut,xt){return Gt[ut]=xt,Gt.filter(Boolean).join("\n")});function vn(ut,xt,kt,Yt){var xn=kt?"":Yt.media?"@media ".concat(Yt.media," {").concat(Yt.css,"}"):Yt.css;if(ut.styleSheet)ut.styleSheet.cssText=Gi(xt,xn);else{var Cn=document.createTextNode(xn),ft=ut.childNodes;ft[xt]&&ut.removeChild(ft[xt]),ft.length?ut.insertBefore(Cn,ft[xt]):ut.appendChild(Cn)}}function lt(ut,xt,kt){var Yt=kt.css,xn=kt.media,Cn=kt.sourceMap;if(xn?ut.setAttribute("media",xn):ut.removeAttribute("media"),Cn&&typeof btoa<"u"&&(Yt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(Cn))))," */")),ut.styleSheet)ut.styleSheet.cssText=Yt;else{for(;ut.firstChild;)ut.removeChild(ut.firstChild);ut.appendChild(document.createTextNode(Yt))}}var rs=null,St=0;function Md(ut,xt){var kt,Yt,xn;if(xt.singleton){var Cn=St++;kt=rs||(rs=h(xt)),Yt=vn.bind(null,kt,Cn,!1),xn=vn.bind(null,kt,Cn,!0)}else kt=h(xt),Yt=lt.bind(null,kt,xt),xn=function(){!function(ft){if(null===ft.parentNode)return!1;ft.parentNode.removeChild(ft)}(kt)};return Yt(ut),function(ft){if(ft){if(ft.css===ut.css&&ft.media===ut.media&&ft.sourceMap===ut.sourceMap)return;Yt(ut=ft)}else xn()}}de.exports=function(ut,xt){(xt=xt||{}).singleton||"boolean"==typeof xt.singleton||(xt.singleton=(void 0===ue&&(ue=Boolean(window&&document&&document.all&&!window.atob)),ue));var kt=Ie(ut=ut||[],xt);return function(Yt){if(Yt=Yt||[],"[object Array]"===Object.prototype.toString.call(Yt)){for(var xn=0;xn<kt.length;xn++){var Cn=se(kt[xn]);I[Cn].references--}for(var ft=Ie(Yt,xt),Ao=0;Ao<kt.length;Ao++){var yo=se(kt[Ao]);0===I[yo].references&&(I[yo].updater(),I.splice(yo,1))}kt=ft}}}}},$e={};function Ue(de){var pe=$e[de];if(void 0!==pe)return pe.exports;var O=$e[de]={id:de,exports:{}};return Xt[de](O,O.exports,Ue),O.exports}Ue.n=de=>{var pe=de&&de.__esModule?()=>de.default:()=>de;return Ue.d(pe,{a:pe}),pe},Ue.d=(de,pe)=>{for(var O in pe)Ue.o(pe,O)&&!Ue.o(de,O)&&Object.defineProperty(de,O,{enumerable:!0,get:pe[O]})},Ue.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ue.o=(de,pe)=>Object.prototype.hasOwnProperty.call(de,pe),Ue.nc=void 0;var lo={};return(()=>{Ue.d(lo,{default:()=>Nu});class pe{constructor(e,r){this.source=e,this.name=r,this.path=[],this.stop=function c(){c.called=!0},this.off=function c(){c.called=!0}}}const O=new Array(256).fill().map((c,e)=>("0"+e.toString(16)).slice(-2));function ue(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+O[c>>0&255]+O[c>>8&255]+O[c>>16&255]+O[c>>24&255]+O[e>>0&255]+O[e>>8&255]+O[e>>16&255]+O[e>>24&255]+O[r>>0&255]+O[r>>8&255]+O[r>>16&255]+O[r>>24&255]+O[a>>0&255]+O[a>>8&255]+O[a>>16&255]+O[a>>24&255]}const he={get(c){return"number"!=typeof c?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function oe(c,e){const r=he.get(e.priority);for(let a=0;a<c.length;a++)if(he.get(c[a].priority)<r)return void c.splice(a,0,e);c.push(e)}class I extends Error{constructor(e,r,a){super(function(l,u){const p=new WeakSet;return l+(u?` ${JSON.stringify(u,(x,y)=>{if("object"==typeof y&&null!==y){if(p.has(y))return`[object ${y.constructor.name}]`;p.add(y)}return y})}`:"")+Ie(l)}(e,a)),this.name="CKEditorError",this.context=r,this.data=a}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,r){if(e.is&&e.is("CKEditorError"))throw e;const a=new I(e.message,r);throw a.stack=e.stack,a}}function se(c,e){console.warn(...function h(c,e){const r=Ie(c);return e?[c,e,r]:[c,r]}(c,e))}function Ie(c){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${c}`}const Gi="object"==typeof window?window:Ue.g;if(Gi.CKEDITOR_VERSION)throw new I("ckeditor-duplicated-modules",null);Gi.CKEDITOR_VERSION="34.2.0";const vn=Symbol("listeningTo"),lt=Symbol("emitterId"),rs={on(c,e,r={}){this.listenTo(this,c,e,r)},once(c,e,r){let a=!1;this.listenTo(this,c,function(l,...u){a||(a=!0,l.off(),e.call(this,l,...u))},r)},off(c,e){this.stopListening(this,c,e)},listenTo(c,e,r,a={}){let l,u;this[vn]||(this[vn]={});const p=this[vn];ut(c)||Md(c);const m=ut(c);var v,x,y,D;(l=p[m])||(l=p[m]={emitter:c,callbacks:{}}),(u=l.callbacks[e])||(u=l.callbacks[e]=[]),u.push(r),x=e,y=r,D=a,(v=c)._addEventListener?v._addEventListener(x,y,D):this._addEventListener.call(v,x,y,D)},stopListening(c,e,r){const a=this[vn];let l=c&&ut(c);const u=a&&l&&a[l],p=u&&e&&u.callbacks[e];if(!(!a||c&&!u||e&&!p))if(r)Cn(this,c,e,r),-1!==p.indexOf(r)&&(1===p.length?delete u.callbacks[e]:Cn(this,c,e,r));else if(p){for(;r=p.pop();)Cn(this,c,e,r);delete u.callbacks[e]}else if(u){for(e in u.callbacks)this.stopListening(c,e);delete a[l]}else{for(l in a)this.stopListening(a[l].emitter);delete this[vn]}},fire(c,...e){try{const r=c instanceof pe?c:new pe(this,c),a=r.name;let l=Yt(this,a);if(r.path.push(this),l){const u=[r,...e];l=Array.from(l);for(let p=0;p<l.length&&(l[p].callback.apply(this,u),r.off.called&&(delete r.off.called,this._removeEventListener(a,l[p].callback)),!r.stop.called);p++);}if(this._delegations){const u=this._delegations.get(a),p=this._delegations.get("*");u&&xn(u,r,e),p&&xn(p,r,e)}return r.return}catch(r){I.rethrowUnexpectedError(r,this)}},delegate(...c){return{to:(e,r)=>{this._delegations||(this._delegations=new Map),c.forEach(a=>{const l=this._delegations.get(a);l?l.set(e,r):this._delegations.set(a,new Map([[e,r]]))})}}},stopDelegating(c,e){if(this._delegations)if(c)if(e){const r=this._delegations.get(c);r&&r.delete(e)}else this._delegations.delete(c);else this._delegations.clear()},_addEventListener(c,e,r){!function(u,p){const m=xt(u);if(m[p])return;let b=p,v=null;const x=[];for(;""!==b&&!m[b];)m[b]={callbacks:[],childEvents:[]},x.push(m[b]),v&&m[b].childEvents.push(v),v=b,b=b.substr(0,b.lastIndexOf(":"));if(""!==b){for(const y of x)y.callbacks=m[b].callbacks.slice();m[b].childEvents.push(v)}}(this,c);const a=kt(this,c),l={callback:e,priority:he.get(r.priority)};for(const u of a)oe(u,l)},_removeEventListener(c,e){const r=kt(this,c);for(const a of r)for(let l=0;l<a.length;l++)a[l].callback==e&&(a.splice(l,1),l--)}},St=rs;function Md(c,e){c[lt]||(c[lt]=e||ue())}function ut(c){return c[lt]}function xt(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function kt(c,e){const r=xt(c)[e];if(!r)return[];let a=[r.callbacks];for(let l=0;l<r.childEvents.length;l++){const u=kt(c,r.childEvents[l]);a=a.concat(u)}return a}function Yt(c,e){let r;return c._events&&(r=c._events[e])&&r.callbacks.length?r.callbacks:e.indexOf(":")>-1?Yt(c,e.substr(0,e.lastIndexOf(":"))):null}function xn(c,e,r){for(let[a,l]of c){l?"function"==typeof l&&(l=l(e.name)):l=e.name;const u=new pe(e.source,l);u.path=[...e.path],a.fire(u,...r)}}function Cn(c,e,r,a){e._removeEventListener?e._removeEventListener(r,a):c._removeEventListener.call(e,r,a)}const ft=function(c){var e=typeof c;return null!=c&&("object"==e||"function"==e)},Ao="object"==typeof global&&global&&global.Object===Object&&global;var yo="object"==typeof self&&self&&self.Object===Object&&self;const Mi=Ao||yo||Function("return this")(),or=Mi.Symbol;var Vm=Object.prototype,j1=Vm.hasOwnProperty,U1=Vm.toString,Xl=or?or.toStringTag:void 0,Gu=Object.prototype.toString,Id=or?or.toStringTag:void 0;const Ar=function(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":Id&&Id in Object(c)?function(c){var e=j1.call(c,Xl),r=c[Xl];try{c[Xl]=void 0;var a=!0}catch{}var l=U1.call(c);return a&&(e?c[Xl]=r:delete c[Xl]),l}(c):function(c){return Gu.call(c)}(c)},os=function(c){if(!ft(c))return!1;var e=Ar(c);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},An=Mi["__core-js_shared__"];var c,gn=(c=/[^.]+$/.exec(An&&An.keys&&An.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",ec=Function.prototype.toString;const To=function(c){if(null!=c){try{return ec.call(c)}catch{}try{return c+""}catch{}}return""};var W1=/^\[object .+?Constructor\]$/,jm=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Zs=function(c,e){var r=function(c,e){return c?.[e]}(c,e);return function(c){return!(!ft(c)||function(c){return!!gn&&gn in c}(c))&&(os(c)?jm:W1).test(To(c))}(r)?r:void 0},Pd=function(){try{var c=Zs(Object,"defineProperty");return c({},"",{}),c}catch{}}(),Ku=function(c,e,r){"__proto__"==e&&Pd?Pd(c,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):c[e]=r},ic=function(c,e){return c===e||c!=c&&e!=e};var K1=Object.prototype.hasOwnProperty;const $u=function(c,e,r){var a=c[e];K1.call(c,e)&&ic(a,r)&&(void 0!==r||e in c)||Ku(c,e,r)},Oa=function(c,e,r,a){var l=!r;r||(r={});for(var u=-1,p=e.length;++u<p;){var m=e[u],b=a?a(r[m],c[m],m,r,c):void 0;void 0===b&&(b=c[m]),l?Ku(r,m,b):$u(r,m,b)}return r},qs=function(c){return c},$1=function(c,e,r){switch(r.length){case 0:return c.call(e);case 1:return c.call(e,r[0]);case 2:return c.call(e,r[0],r[1]);case 3:return c.call(e,r[0],r[1],r[2])}return c.apply(e,r)};var Um=Math.max;const J1=function(c){return function(){return c}},X1=Pd?function(c,e){return Pd(c,"toString",{configurable:!0,enumerable:!1,value:J1(e),writable:!0})}:qs;var ev=Date.now;const nv=function(c){var e=0,r=0;return function(){var a=ev(),l=16-(a-r);if(r=a,l>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(X1),Hm=function(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991},Fd=function(c){return null!=c&&Hm(c.length)&&!os(c)};var rv=/^(?:0|[1-9]\d*)$/;const Qu=function(c,e){var r=typeof c;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&rv.test(c))&&c>-1&&c%1==0&&c<e},Wm=function(c){return function(c,e){return nv(function(c,e,r){return e=Um(void 0===e?c.length-1:e,0),function(){for(var a=arguments,l=-1,u=Um(a.length-e,0),p=Array(u);++l<u;)p[l]=a[e+l];l=-1;for(var m=Array(e+1);++l<e;)m[l]=a[l];return m[e]=r(p),$1(c,this,m)}}(c,e,qs),c+"")}(function(e,r){var a=-1,l=r.length,u=l>1?r[l-1]:void 0,p=l>2?r[2]:void 0;for(u=c.length>3&&"function"==typeof u?(l--,u):void 0,p&&function(c,e,r){if(!ft(r))return!1;var a=typeof e;return!!("number"==a?Fd(r)&&Qu(e,r.length):"string"==a&&e in r)&&ic(r[e],c)}(r[0],r[1],p)&&(u=l<3?void 0:u,l=1),e=Object(e);++a<l;){var m=r[a];m&&c(e,m,a,u)}return e})},yr=function(c){return null!=c&&"object"==typeof c},qm=function(c){return yr(c)&&"[object Arguments]"==Ar(c)};var Gm=Object.prototype,sv=Gm.hasOwnProperty,av=Gm.propertyIsEnumerable;const Ju=qm(function(){return arguments}())?qm:function(c){return yr(c)&&sv.call(c,"callee")&&!av.call(c,"callee")},ji=Array.isArray;var Ym=ln&&!ln.nodeType&&ln,Km=Ym&&Mn&&!Mn.nodeType&&Mn,$m=Km&&Km.exports===Ym?Mi.Buffer:void 0;const rc=($m?$m.isBuffer:void 0)||function(){return!1};var cn={};cn["[object Float32Array]"]=cn["[object Float64Array]"]=cn["[object Int8Array]"]=cn["[object Int16Array]"]=cn["[object Int32Array]"]=cn["[object Uint8Array]"]=cn["[object Uint8ClampedArray]"]=cn["[object Uint16Array]"]=cn["[object Uint32Array]"]=!0,cn["[object Arguments]"]=cn["[object Array]"]=cn["[object ArrayBuffer]"]=cn["[object Boolean]"]=cn["[object DataView]"]=cn["[object Date]"]=cn["[object Error]"]=cn["[object Function]"]=cn["[object Map]"]=cn["[object Number]"]=cn["[object Object]"]=cn["[object RegExp]"]=cn["[object Set]"]=cn["[object String]"]=cn["[object WeakMap]"]=!1;const Xu=function(c){return function(e){return c(e)}};var Qm=ln&&!ln.nodeType&&ln,oc=Qm&&Mn&&!Mn.nodeType&&Mn,ef=oc&&oc.exports===Qm&&Ao.process;const Ba=function(){try{return oc&&oc.require&&oc.require("util").types||ef&&ef.binding&&ef.binding("util")}catch{}}();var Jm=Ba&&Ba.isTypedArray;const tf=Jm?Xu(Jm):function(c){return yr(c)&&Hm(c.length)&&!!cn[Ar(c)]};var dv=Object.prototype.hasOwnProperty;const Xm=function(c,e){var r=ji(c),a=!r&&Ju(c),l=!r&&!a&&rc(c),u=!r&&!a&&!l&&tf(c),p=r||a||l||u,m=p?function(c,e){for(var r=-1,a=Array(c);++r<c;)a[r]=e(r);return a}(c.length,String):[],b=m.length;for(var v in c)!e&&!dv.call(c,v)||p&&("length"==v||l&&("offset"==v||"parent"==v)||u&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Qu(v,b))||m.push(v);return m};var hv=Object.prototype;const nf=function(c){var e=c&&c.constructor;return c===("function"==typeof e&&e.prototype||hv)};var fv=Object.prototype.hasOwnProperty;const La=function(c){return Fd(c)?Xm(c,!0):function(c){if(!ft(c))return function(c){var e=[];if(null!=c)for(var r in Object(c))e.push(r);return e}(c);var e=nf(c),r=[];for(var a in c)("constructor"!=a||!e&&fv.call(c,a))&&r.push(a);return r}(c)},sc=Wm(function(c,e){Oa(e,La(e),c)}),Nd=Symbol("observableProperties"),Od=Symbol("boundObservables"),Bd=Symbol("boundProperties"),Ra=Symbol("decoratedMethods"),e0=Symbol("decoratedOriginal"),rf={set(c,e){if(ft(c))return void Object.keys(c).forEach(a=>{this.set(a,c[a])},this);t0(this);const r=this[Nd];if(c in this&&!r.has(c))throw new I("observable-set-cannot-override",this);Object.defineProperty(this,c,{enumerable:!0,configurable:!0,get:()=>r.get(c),set(a){const l=r.get(c);let u=this.fire("set:"+c,c,a,l);void 0===u&&(u=a),l===u&&r.has(c)||(r.set(c,u),this.fire("change:"+c,c,u,l))}}),this[c]=e},bind(...c){if(!c.length||!of(c))throw new I("observable-bind-wrong-properties",this);if(new Set(c).size!==c.length)throw new I("observable-bind-duplicate-properties",this);t0(this);const e=this[Bd];c.forEach(a=>{if(e.has(a))throw new I("observable-bind-rebind",this)});const r=new Map;return c.forEach(a=>{const l={property:a,to:[]};e.set(a,l),r.set(a,l)}),{to:n0,toMany:ss,_observable:this,_bindProperties:c,_to:[],_bindings:r}},unbind(...c){if(!this[Nd])return;const e=this[Bd],r=this[Od];if(c.length){if(!of(c))throw new I("observable-unbind-wrong-properties",this);c.forEach(a=>{const l=e.get(a);if(!l)return;let u,p,m,b;l.to.forEach(v=>{u=v[0],p=v[1],m=r.get(u),b=m[p],b.delete(l),b.size||delete m[p],Object.keys(m).length||(r.delete(u),this.stopListening(u,"change"))}),e.delete(a)})}else r.forEach((a,l)=>{this.stopListening(l,"change")}),r.clear(),e.clear()},decorate(c){const e=this[c];if(!e)throw new I("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:c});this.on(c,(r,a)=>{r.return=e.apply(this,a)}),this[c]=function(...r){return this.fire(c,r)},this[c][e0]=e,this[Ra]||(this[Ra]=[]),this[Ra].push(c)}};sc(rf,St),rf.stopListening=function(c,e,r){if(!c&&this[Ra]){for(const a of this[Ra])this[a]=this[a][e0];delete this[Ra]}St.stopListening.call(this,c,e,r)};const on=rf;function t0(c){c[Nd]||(Object.defineProperty(c,Nd,{value:new Map}),Object.defineProperty(c,Od,{value:new Map}),Object.defineProperty(c,Bd,{value:new Map}))}function n0(...c){const e=function(...u){if(!u.length)throw new I("observable-bind-to-parse-error",null);const p={to:[]};let m;return"function"==typeof u[u.length-1]&&(p.callback=u.pop()),u.forEach(b=>{if("string"==typeof b)m.properties.push(b);else{if("object"!=typeof b)throw new I("observable-bind-to-parse-error",null);m={observable:b,properties:[]},p.to.push(m)}}),p}(...c),r=Array.from(this._bindings.keys()),a=r.length;if(!e.callback&&e.to.length>1)throw new I("observable-bind-to-no-callback",this);if(a>1&&e.callback)throw new I("observable-bind-to-extra-callback",this);var l;e.to.forEach(u=>{if(u.properties.length&&u.properties.length!==a)throw new I("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(r[0]).callback=e.callback),l=this._observable,this._to.forEach(u=>{const p=l[Od];let m;p.get(u.observable)||l.listenTo(u.observable,"change",(b,v)=>{m=p.get(u.observable)[v],m&&m.forEach(x=>{r0(l,x.property)})})}),function(u){let p;u._bindings.forEach((m,b)=>{u._to.forEach(v=>{p=v.properties[m.callback?0:u._bindProperties.indexOf(b)],m.to.push([v.observable,p]),function(x,y,D,P){const B=x[Od],R=B.get(D),H=R||{};H[P]||(H[P]=new Set),H[P].add(y),R||B.set(D,H)}(u._observable,m,v.observable,p)})})}(this),this._bindProperties.forEach(u=>{r0(this._observable,u)})}function ss(c,e,r){if(this._bindings.size>1)throw new I("observable-bind-to-many-not-one-binding",this);this.to(...function(a,l){const u=a.map(p=>[p,l]);return Array.prototype.concat.apply([],u)}(c,e),r)}function of(c){return c.every(e=>"string"==typeof e)}function r0(c,e){const r=c[Bd].get(e);let a;r.callback?a=r.callback.apply(c,r.to.map(l=>l[0][l[1]])):(a=r.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=a:c.set(e,a)}function rt(c,...e){e.forEach(r=>{Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r)).forEach(a=>{if(a in c.prototype)return;const l=Object.getOwnPropertyDescriptor(r,a);l.enumerable=!1,Object.defineProperty(c.prototype,a,l)})})}class De{constructor(e){this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",o0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",o0),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function o0(c){c.return=!1,c.stop()}rt(De,on);class vt{constructor(e){this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this.affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(r,a,l)=>{l&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",s0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",s0),this.refresh())}execute(){}destroy(){this.stopListening()}}function s0(c){c.return=!1,c.stop()}rt(vt,on);class a0 extends vt{constructor(e){super(e),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const r=this._getFirstEnabledCommand();return!!r&&r.execute(e)}registerChildCommand(e,r={priority:"normal"}){oe(this._childCommandsDefinitions,{command:e,priority:r.priority}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return e&&e.command}}const l0=function(c,e){return function(r){return c(e(r))}},sf=l0(Object.getPrototypeOf,Object);var c0=Function.prototype.toString,_v=Object.prototype.hasOwnProperty,bv=c0.call(Object);const sr=function(c){if(!yr(c)||"[object Object]"!=Ar(c))return!1;var e=sf(c);if(null===e)return!0;var r=_v.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c0.call(r)==bv},Ld=function(c,e){for(var r=c.length;r--;)if(ic(c[r][0],e))return r;return-1};var wv=Array.prototype.splice;function za(c){var e=-1,r=null==c?0:c.length;for(this.clear();++e<r;){var a=c[e];this.set(a[0],a[1])}}za.prototype.clear=function(){this.__data__=[],this.size=0},za.prototype.delete=function(c){var e=this.__data__,r=Ld(e,c);return!(r<0||(r==e.length-1?e.pop():wv.call(e,r,1),--this.size,0))},za.prototype.get=function(c){var e=this.__data__,r=Ld(e,c);return r<0?void 0:e[r][1]},za.prototype.has=function(c){return Ld(this.__data__,c)>-1},za.prototype.set=function(c,e){var r=this.__data__,a=Ld(r,c);return a<0?(++this.size,r.push([c,e])):r[a][1]=e,this};const Rd=za,So=Zs(Mi,"Map"),ac=Zs(Object,"create");var Iv=Object.prototype.hasOwnProperty,Fv=Object.prototype.hasOwnProperty;function Gs(c){var e=-1,r=null==c?0:c.length;for(this.clear();++e<r;){var a=c[e];this.set(a[0],a[1])}}Gs.prototype.clear=function(){this.__data__=ac?ac(null):{},this.size=0},Gs.prototype.delete=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e},Gs.prototype.get=function(c){var e=this.__data__;if(ac){var r=e[c];return"__lodash_hash_undefined__"===r?void 0:r}return Iv.call(e,c)?e[c]:void 0},Gs.prototype.has=function(c){var e=this.__data__;return ac?void 0!==e[c]:Fv.call(e,c)},Gs.prototype.set=function(c,e){var r=this.__data__;return this.size+=this.has(c)?0:1,r[c]=ac&&void 0===e?"__lodash_hash_undefined__":e,this};const d0=Gs,zd=function(c,e){var r=c.__data__;return function(c){var e=typeof c;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==c:null===c}(e)?r["string"==typeof e?"string":"hash"]:r.map};function Va(c){var e=-1,r=null==c?0:c.length;for(this.clear();++e<r;){var a=c[e];this.set(a[0],a[1])}}Va.prototype.clear=function(){this.size=0,this.__data__={hash:new d0,map:new(So||Rd),string:new d0}},Va.prototype.delete=function(c){var e=zd(this,c).delete(c);return this.size-=e?1:0,e},Va.prototype.get=function(c){return zd(this,c).get(c)},Va.prototype.has=function(c){return zd(this,c).has(c)},Va.prototype.set=function(c,e){var r=zd(this,c),a=r.size;return r.set(c,e),this.size+=r.size==a?0:1,this};const Vd=Va;function ja(c){var e=this.__data__=new Rd(c);this.size=e.size}ja.prototype.clear=function(){this.__data__=new Rd,this.size=0},ja.prototype.delete=function(c){var e=this.__data__,r=e.delete(c);return this.size=e.size,r},ja.prototype.get=function(c){return this.__data__.get(c)},ja.prototype.has=function(c){return this.__data__.has(c)},ja.prototype.set=function(c,e){var r=this.__data__;if(r instanceof Rd){var a=r.__data__;if(!So||a.length<199)return a.push([c,e]),this.size=++r.size,this;r=this.__data__=new Vd(a)}return r.set(c,e),this.size=r.size,this};const lc=ja,Hv=l0(Object.keys,Object);var h0=Object.prototype.hasOwnProperty;const af=function(c){return Fd(c)?Xm(c):function(c){if(!nf(c))return Hv(c);var e=[];for(var r in Object(c))h0.call(c,r)&&"constructor"!=r&&e.push(r);return e}(c)};var u0=ln&&!ln.nodeType&&ln,f0=u0&&Mn&&!Mn.nodeType&&Mn,p0=f0&&f0.exports===u0?Mi.Buffer:void 0,g0=p0?p0.allocUnsafe:void 0;const m0=function(c,e){if(e)return c.slice();var r=c.length,a=g0?g0(r):new c.constructor(r);return c.copy(a),a},_0=function(c,e){var r=-1,a=c.length;for(e||(e=Array(a));++r<a;)e[r]=c[r];return e},b0=function(){return[]};var Yv=Object.prototype.propertyIsEnumerable,k0=Object.getOwnPropertySymbols;const lf=k0?function(c){return null==c?[]:(c=Object(c),function(c,e){for(var r=-1,a=null==c?0:c.length,l=0,u=[];++r<a;){var p=c[r];e(p)&&(u[l++]=p)}return u}(k0(c),function(e){return Yv.call(c,e)}))}:b0,w0=function(c,e){for(var r=-1,a=e.length,l=c.length;++r<a;)c[l+r]=e[r];return c},v0=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)w0(e,lf(c)),c=sf(c);return e}:b0,x0=function(c,e,r){var a=e(c);return ji(c)?a:w0(a,r(c))},cf=function(c){return x0(c,af,lf)},Qv=function(c){return x0(c,La,v0)},df=Zs(Mi,"DataView"),hf=Zs(Mi,"Promise"),as=Zs(Mi,"Set"),Vr=Zs(Mi,"WeakMap");var Ua="[object Map]",Jv="[object Promise]",Eo="[object Set]",co="[object WeakMap]",uf="[object DataView]",Tr=To(df),ff=To(So),Xv=To(hf),ex=To(as),jd=To(Vr),Ys=Ar;(df&&Ys(new df(new ArrayBuffer(1)))!=uf||So&&Ys(new So)!=Ua||hf&&Ys(hf.resolve())!=Jv||as&&Ys(new as)!=Eo||Vr&&Ys(new Vr)!=co)&&(Ys=function(c){var e=Ar(c),r="[object Object]"==e?c.constructor:void 0,a=r?To(r):"";if(a)switch(a){case Tr:return uf;case ff:return Ua;case Xv:return Jv;case ex:return Eo;case jd:return co}return e});const cc=Ys;var tx=Object.prototype.hasOwnProperty;const Ud=Mi.Uint8Array,Hd=function(c){var e=new c.constructor(c.byteLength);return new Ud(e).set(new Ud(c)),e};var rx=/\w*$/,Wd=or?or.prototype:void 0,Zd=Wd?Wd.valueOf:void 0;const C0=function(c,e){var r=e?Hd(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.length)};var gf=Object.create;const ax=function(){function c(){}return function(e){if(!ft(e))return{};if(gf)return gf(e);c.prototype=e;var r=new c;return c.prototype=void 0,r}}(),A0=function(c){return"function"!=typeof c.constructor||nf(c)?{}:ax(sf(c))};var mf=Ba&&Ba.isMap;const y0=mf?Xu(mf):function(c){return yr(c)&&"[object Map]"==cc(c)};var dc=Ba&&Ba.isSet;const dx=dc?Xu(dc):function(c){return yr(c)&&"[object Set]"==cc(c)};var T0="[object Arguments]",S0="[object Function]",Kt={};Kt[T0]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object DataView]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt["[object Object]"]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt[S0]=Kt["[object WeakMap]"]=!1;const ls=function c(e,r,a,l,u,p){var m,b=1&r,v=2&r,x=4&r;if(a&&(m=u?a(e,l,u,p):a(e)),void 0!==m)return m;if(!ft(e))return e;var y=ji(e);if(y){if(m=function(c){var e=c.length,r=new c.constructor(e);return e&&"string"==typeof c[0]&&tx.call(c,"index")&&(r.index=c.index,r.input=c.input),r}(e),!b)return _0(e,m)}else{var D=cc(e),P=D==S0||"[object GeneratorFunction]"==D;if(rc(e))return m0(e,b);if("[object Object]"==D||D==T0||P&&!u){if(m=v||P?{}:A0(e),!b)return v?function(c,e){return Oa(c,v0(c),e)}(e,function(c,e){return c&&Oa(e,La(e),c)}(m,e)):function(c,e){return Oa(c,lf(c),e)}(e,function(c,e){return c&&Oa(e,af(e),c)}(m,e))}else{if(!Kt[D])return u?e:{};m=function(c,e,r){var a=c.constructor;switch(e){case"[object ArrayBuffer]":return Hd(c);case"[object Boolean]":case"[object Date]":return new a(+c);case"[object DataView]":return function(c,e){var r=e?Hd(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.byteLength)}(c,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C0(c,r);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(c);case"[object RegExp]":return function(c){var e=new c.constructor(c.source,rx.exec(c));return e.lastIndex=c.lastIndex,e}(c);case"[object Symbol]":return function(c){return Zd?Object(Zd.call(c)):{}}(c)}}(e,D,b)}}p||(p=new lc);var B=p.get(e);if(B)return B;p.set(e,m),dx(e)?e.forEach(function(H){m.add(c(H,r,a,H,e,p))}):y0(e)&&e.forEach(function(H,ee){m.set(ee,c(H,r,a,ee,e,p))});var R=y?void 0:(x?v?Qv:cf:v?La:af)(e);return function(c,e){for(var r=-1,a=null==c?0:c.length;++r<a&&!1!==e(c[r],r););}(R||e,function(H,ee){R&&(H=e[ee=H]),$u(m,ee,c(H,r,a,ee,e,p))}),m},E0=function(c,e){return ls(c,5,e="function"==typeof e?e:void 0)},jr=function(c){return yr(c)&&1===c.nodeType&&!sr(c)};class _f{constructor(e,r){this._config={},r&&this.define(bf(r)),e&&this._setObjectToTarget(this._config,e)}set(e,r){this._setToTarget(this._config,e,r)}define(e,r){this._setToTarget(this._config,e,r,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,r,a,l=!1){if(sr(r))return void this._setObjectToTarget(e,r,l);const u=r.split(".");r=u.pop();for(const p of u)sr(e[p])||(e[p]={}),e=e[p];if(sr(a))return sr(e[r])||(e[r]={}),void this._setObjectToTarget(e=e[r],a,l);l&&void 0!==e[r]||(e[r]=a)}_getFromSource(e,r){const a=r.split(".");r=a.pop();for(const l of a){if(!sr(e[l])){e=null;break}e=e[l]}return e?bf(e[r]):void 0}_setObjectToTarget(e,r,a){Object.keys(r).forEach(l=>{this._setToTarget(e,l,r[l],a)})}}function bf(c){return E0(c,ux)}function ux(c){return jr(c)?c:void 0}function wi(c){return!(!c||!c[Symbol.iterator])}class ar{constructor(e={},r={}){const a=wi(e);if(a||(r=e),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,r){return this.addMany([e],r)}addMany(e,r){if(void 0===r)r=this._items.length;else if(r>this._items.length||r<0)throw new I("collection-add-item-invalid-index",this);for(let a=0;a<e.length;a++){const l=e[a],u=this._getItemIdBeforeAdding(l),p=r+a;this._items.splice(p,0,l),this._itemMap.set(u,l),this.fire("add",l,p)}return this.fire("change",{added:e,removed:[],index:r}),this}get(e){let r;if("string"==typeof e)r=this._itemMap.get(e);else{if("number"!=typeof e)throw new I("collection-get-invalid-arg",this);r=this._items[e]}return r||null}has(e){return this._itemMap.has("string"==typeof e?e:e[this._idProperty])}getIndex(e){let r;return r="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(r)}remove(e){const[r,a]=this._remove(e);return this.fire("change",{added:[],removed:[r],index:a}),r}map(e,r){return this._items.map(e,r)}find(e,r){return this._items.find(e,r)}filter(e,r){return this._items.filter(e,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new I("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:r=>{this._setUpBindToBinding(a=>new r(a))},using:r=>{this._setUpBindToBinding("function"==typeof r?a=>r(a):a=>a[r])}}}_setUpBindToBinding(e){const r=this._bindToCollection,a=(l,u,p)=>{const m=r._bindToCollection==this,b=r._bindToInternalToExternalMap.get(u);if(m&&b)this._bindToExternalToInternalMap.set(u,b),this._bindToInternalToExternalMap.set(b,u);else{const v=e(u);if(!v)return void this._skippedIndexesFromExternal.push(p);let x=p;for(const y of this._skippedIndexesFromExternal)p>y&&x--;for(const y of r._skippedIndexesFromExternal)x>=y&&x++;this._bindToExternalToInternalMap.set(u,v),this._bindToInternalToExternalMap.set(v,u),this.add(v,x);for(let y=0;y<r._skippedIndexesFromExternal.length;y++)x<=r._skippedIndexesFromExternal[y]&&r._skippedIndexesFromExternal[y]++}};for(const l of r)a(0,l,r.getIndex(l));this.listenTo(r,"add",a),this.listenTo(r,"remove",(l,u,p)=>{const m=this._bindToExternalToInternalMap.get(u);m&&this.remove(m),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,v)=>(p<v&&b.push(v-1),p>v&&b.push(v),b),[])})}_getItemIdBeforeAdding(e){const r=this._idProperty;let a;if(r in e){if(a=e[r],"string"!=typeof a)throw new I("collection-add-invalid-id",this);if(this.get(a))throw new I("collection-add-item-already-exists",this)}else e[r]=a=ue();return a}_remove(e){let r,a,l,u=!1;const p=this._idProperty;if("string"==typeof e?(a=e,l=this._itemMap.get(a),u=!l,l&&(r=this._items.indexOf(l))):"number"==typeof e?(r=e,l=this._items[r],u=!l,l&&(a=l[p])):(l=e,a=l[p],r=this._items.indexOf(l),u=-1==r||!this._itemMap.get(a)),u)throw new I("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(a);const m=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(m),this.fire("remove",l,r),[l,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}rt(ar,St);class Ur{constructor(e,r=[],a=[]){this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const l of r)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,u]of a)this._contextPlugins.set(l,u),this._contextPlugins.set(u,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const r=this._plugins.get(e);if(!r){let a=e;throw"function"==typeof e&&(a=e.pluginName||e.name),new I("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return r}has(e){return this._plugins.has(e)}init(e,r=[],a=[]){const l=this,u=this._context;(function B(R,H=new Set){R.forEach(ee=>{b(ee)&&(H.has(ee)||(H.add(ee),ee.pluginName&&!l._availablePlugins.has(ee.pluginName)&&l._availablePlugins.set(ee.pluginName,ee),ee.requires&&B(ee.requires,H)))})})(e),D(e);const p=[...function B(R,H=new Set){return R.map(ee=>b(ee)?ee:l._availablePlugins.get(ee)).reduce((ee,ce)=>H.has(ce)?ee:(H.add(ce),ce.requires&&(D(ce.requires,ce),B(ce.requires,H).forEach(Ce=>ee.add(Ce))),ee.add(ce)),new Set)}(e.filter(B=>!x(B,r)))];!function(B,R){for(const H of R){if("function"!=typeof H)throw new I("plugincollection-replace-plugin-invalid-type",null,{pluginItem:H});const ee=H.pluginName;if(!ee)throw new I("plugincollection-replace-plugin-missing-name",null,{pluginItem:H});if(H.requires&&H.requires.length)throw new I("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ee});const ce=l._availablePlugins.get(ee);if(!ce)throw new I("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ee});const Ce=B.indexOf(ce);if(-1===Ce){if(l._contextPlugins.has(ce))return;throw new I("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ee})}if(ce.requires&&ce.requires.length)throw new I("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ee});B.splice(Ce,1,H),l._availablePlugins.set(ee,H)}}(p,a);const m=p.map(R=>{const H=l._contextPlugins.get(R)||new R(u);return l._add(R,H),H});return P(m,"init").then(()=>P(m,"afterInit")).then(()=>m);function b(B){return"function"==typeof B}function v(B){return b(B)&&B.isContextPlugin}function x(B,R){return R.some(H=>H===B||y(B)===H||y(H)===B)}function y(B){return b(B)?B.pluginName||B.name:B}function D(B,R=null){B.map(H=>b(H)?H:l._availablePlugins.get(H)||H).forEach(H=>{(function(ee,ce){if(!b(ee))throw ce?new I("plugincollection-soft-required",u,{missingPlugin:ee,requiredBy:y(ce)}):new I("plugincollection-plugin-not-found",u,{plugin:ee})})(H,R),function(ee,ce){if(v(ce)&&!v(ee))throw new I("plugincollection-context-required",u,{plugin:y(ee),requiredBy:y(ce)})}(H,R),function(ee,ce){if(ce&&x(ee,r))throw new I("plugincollection-required",u,{plugin:y(ee),requiredBy:y(ce)})}(H,R)})}function P(B,R){return B.reduce((H,ee)=>ee[R]?l._contextPlugins.has(ee)?H:H.then(ee[R].bind(ee)):H,Promise.resolve())}}destroy(){const e=[];for(const[,r]of this)"function"!=typeof r.destroy||this._contextPlugins.has(r)||e.push(r.destroy());return Promise.all(e)}_add(e,r){this._plugins.set(e,r);const a=e.pluginName;if(a){if(this._plugins.has(a))throw new I("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:e});this._plugins.set(a,r)}}}function li(c){return Array.isArray(c)?c:[c]}rt(Ur,St),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const dn=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function yt(c){return dn.includes(c)?"rtl":"ltr"}class In{constructor(e={}){this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=yt(this.uiLanguage),this.contentLanguageDirection=yt(this.contentLanguage),this.t=(r,a)=>this._t(r,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,r=[]){return r=li(r),"string"==typeof e&&(e={string:e}),l=function Nt(c,e,r=1){if("number"!=typeof r)throw new I("translation-service-quantity-not-a-number",null,{quantity:r});const a=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===a&&(c=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const l=e.id||e.string;if(0===a||(b=c,!window.CKEDITOR_TRANSLATIONS[b]||!window.CKEDITOR_TRANSLATIONS[b].dictionary[l]))return 1!==r?e.plural:e.string;var b;const u=window.CKEDITOR_TRANSLATIONS[c].dictionary,p=window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(b=>1===b?0:1);if("string"==typeof u[l])return u[l];const m=Number(p(r));return u[l][m]}(this.uiLanguage,e,e.plural?r[0]:1),u=r,l.replace(/%(\d+)/g,(p,m)=>m<u.length?u[m]:p);var l,u}}class lr{constructor(e){this.config=new _f(e,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new Ur(this,r);const a=this.config.get("language")||{};this.locale=new In({uiLanguage:"string"==typeof a?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ar,this._contextOwner=null}initPlugins(){const e=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const a of e.concat(r)){if("function"!=typeof a)throw new I("context-initplugins-constructor-only",null,{Plugin:a});if(!0!==a.isContextPlugin)throw new I("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(e,[],r)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,r){if(this._contextOwner)throw new I("context-addeditor-private-context");this.editors.add(e),r&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(e[r]=this.config.get(r));return e}static create(e){return new Promise(r=>{const a=new this(e);r(a.initPlugins().then(()=>a))})}}class ht{constructor(e){this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}function Pi(c,e){const r=Math.min(c.length,e.length);for(let a=0;a<r;a++)if(c[a]!=e[a])return a;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}rt(ht,on);const kf=function(c){return ls(c,4)};class Bt{constructor(e){this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new I("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.index),r=r.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const r=[];let a=e.includeSelf?this:this.parent;for(;a;)r[e.parentFirst?"push":"unshift"](a),a=a.parent;return r}getCommonAncestor(e,r={}){const a=this.getAncestors(r),l=e.getAncestors(r);let u=0;for(;a[u]==l[u]&&a[u];)u++;return 0===u?null:a[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),a=e.getPath(),l=Pi(r,a);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<a[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,r){this.fire("change:"+e,r),this.parent&&this.parent._fireChange(e,r)}toJSON(){const e=kf(this);return delete e.parent,e}is(e){return"node"===e||"view:node"===e}}rt(Bt,St);class et extends Bt{constructor(e,r){super(e),this._textData=r}is(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof et&&(this===e||this.data===e.data)}_clone(){return new et(this.document,this.data)}}class Sr{constructor(e,r,a){if(this.textNode=e,r<0||r>e.data.length)throw new I("view-textproxy-wrong-offsetintext",this);if(a<0||r+a>e.data.length)throw new I("view-textproxy-wrong-length",this);this.data=e.data.substring(r,r+a),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const r=[];let a=e.includeSelf?this.textNode:this.parent;for(;null!==a;)r[e.parentFirst?"push":"unshift"](a),a=a.parent;return r}}function Er(c){return wi(c)?new Map(c):function(e){const r=new Map;for(const a in e)r.set(a,e[a]);return r}(c)}class Hr{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let r of e)("string"==typeof r||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...e){for(const r of e)for(const a of this._patterns){const l=D0(r,a);if(l)return{element:r,pattern:a,match:l}}return null}matchAll(...e){const r=[];for(const a of e)for(const l of this._patterns){const u=D0(a,l);u&&r.push({element:a,pattern:l,match:u})}return r.length>0?r:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],r=e.name;return"function"==typeof e||!r||r instanceof RegExp?null:r}}function D0(c,e){if("function"==typeof e)return e(c);const r={};return e.name&&(r.name=(l=c.name,(a=e.name)instanceof RegExp?!!l.match(a):a===l),!r.name)||e.attributes&&(r.attributes=function(a,l){const u=new Set(l.getAttributeKeys());return sr(a)?(void 0!==a.style&&se("matcher-pattern-deprecated-attributes-style-key",a),void 0!==a.class&&se("matcher-pattern-deprecated-attributes-class-key",a)):(u.delete("style"),u.delete("class")),Ks(a,u,p=>l.getAttribute(p))}(e.attributes,c),!r.attributes)?null:!(e.classes&&(r.classes=function(a,l){return Ks(a,l.getClassNames())}(e.classes,c),!r.classes))&&!(e.styles&&(r.styles=function(a,l){return Ks(a,l.getStyleNames(!0),u=>l.getStyle(u))}(e.styles,c),!r.styles))&&r;var a,l}function Ks(c,e,r){const a=(p=c,Array.isArray(p)?p.map(m=>sr(m)?(void 0!==m.key&&void 0!==m.value||se("matcher-pattern-missing-key-or-value",m),[m.key,m.value]):[m,!0]):sr(p)?Object.entries(p):[[p,!0]]),l=Array.from(e),u=[];var p;return a.forEach(([p,m])=>{l.forEach(b=>{var v,x;x=b,(!0===(v=p)||v===x||v instanceof RegExp&&x.match(v))&&function(v,x,y){if(!0===v)return!0;const D=y(x);return v===D||v instanceof RegExp&&!!String(D).match(v)}(m,b,r)&&u.push(b)})}),!a.length||u.length<a.length?null:u}const cs=function(c){return"symbol"==typeof c||yr(c)&&"[object Symbol]"==Ar(c)};var fx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R2=/^\w*$/;function wf(c,e){if("function"!=typeof c||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var a=arguments,l=e?e.apply(this,a):a[0],u=r.cache;if(u.has(l))return u.get(l);var p=c.apply(this,a);return r.cache=u.set(l,p)||u,p};return r.cache=new(wf.Cache||Vd),r}wf.Cache=Vd;var e,r,ds=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vf=/\\(\\)?/g,Dr=(e=wf(function(c){var e=[];return 46===c.charCodeAt(0)&&e.push(""),c.replace(ds,function(r,a,l,u){e.push(l?u.replace(vf,"$1"):a||r)}),e},function(a){return 500===r.size&&r.clear(),a}),r=e.cache,e);const hs=Dr;var P0=or?or.prototype:void 0,hn=P0?P0.toString:void 0;const un=function c(e){if("string"==typeof e)return e;if(ji(e))return function(c,e){for(var r=-1,a=null==c?0:c.length,l=Array(a);++r<a;)l[r]=e(c[r],r,c);return l}(e,c)+"";if(cs(e))return hn?hn.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r},xf=function(c){return null==c?"":un(c)},Ha=function(c,e){return ji(c)?c:function(c,e){if(ji(c))return!1;var r=typeof c;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=c&&!cs(c))||R2.test(c)||!fx.test(c)||null!=e&&c in Object(e)}(c,e)?[c]:hs(xf(c))},mn=function(c){if("string"==typeof c||cs(c))return c;var e=c+"";return"0"==e&&1/c==-1/0?"-0":e},us=function(c,e){for(var r=0,a=(e=Ha(e,c)).length;null!=c&&r<a;)c=c[mn(e[r++])];return r&&r==a?c:void 0},Cf=function(c,e,r){var a=-1,l=c.length;e<0&&(e=-e>l?0:l+e),(r=r>l?l:r)<0&&(r+=l),l=e>r?0:r-e>>>0,e>>>=0;for(var u=Array(l);++a<l;)u[a]=c[a+e];return u},uc=function(c,e,r){var a=null==c?void 0:us(c,e);return void 0===a?r:a},Af=function(c,e,r){(void 0!==r&&!ic(c[e],r)||void 0===r&&!(e in c))&&Ku(c,e,r)},qd=function(c,e){if(("constructor"!==e||"function"!=typeof c[e])&&"__proto__"!=e)return c[e]},F0=function c(e,r,a,l,u){e!==r&&function(e,r,a){for(var l=-1,u=Object(e),p=a(e),m=p.length;m--;){var b=p[++l];if(!1===r(u[b],b,u))break}}(r,function(p,m){if(u||(u=new lc),ft(p))!function(c,e,r,a,l,u,p){var m=qd(c,r),b=qd(e,r),v=p.get(b);if(v)Af(c,r,v);else{var x=u?u(m,b,r+"",c,e,p):void 0,y=void 0===x;if(y){var D=ji(b),P=!D&&rc(b),B=!D&&!P&&tf(b);x=b,D||P||B?ji(m)?x=m:function(c){return yr(c)&&Fd(c)}(m)?x=_0(m):P?(y=!1,x=m0(b,!0)):B?(y=!1,x=C0(b,!0)):x=[]:sr(b)||Ju(b)?(x=m,Ju(m)?x=function(c){return Oa(c,La(c))}(m):ft(m)&&!os(m)||(x=A0(b))):y=!1}y&&(p.set(b,x),l(x,b,a,u,p),p.delete(b)),Af(c,r,x)}}(e,r,m,a,c,l,u);else{var b=l?l(qd(e,m),p,m+"",e,r,u):void 0;void 0===b&&(b=p),Af(e,m,b)}},La)},Tf=Wm(function(c,e,r){F0(c,e,r)});class cr{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const r=Array.from(function(a){let l=null,u=0,p=0,m=null;const b=new Map;if(""===a)return b;";"!=a.charAt(a.length-1)&&(a+=";");for(let v=0;v<a.length;v++){const x=a.charAt(v);if(null===l)switch(x){case":":m||(m=a.substr(u,v-u),p=v+1);break;case'"':case"'":l=x;break;case";":{const y=a.substr(p,v-p);m&&b.set(m.trim(),y.trim()),m=null,u=v+1;break}}else x===l&&(l=null)}return b}(e).entries());for(const[a,l]of r)this._styleProcessor.toNormalizedForm(a,l,this._styles)}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(r)}set(e,r){if(ft(e))for(const[a,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(a,l,this._styles);else this._styleProcessor.toNormalizedForm(e,r,this._styles)}remove(e){const r=qn(e);(function(c,e){null==c||function(c,e){null==(c=function(c,e){return e.length<2?c:us(c,Cf(e,0,-1))}(c,e=Ha(e,c)))||delete c[mn(function(c){var e=null==c?0:c.length;return e?c[e-1]:void 0}(e))]}(c,e)})(this._styles,r),delete this._styles[e],this._cleanEmptyObjectsOnPath(r)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ft(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(r)?r[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([r])=>r)}clear(){this._styles={}}_getStylesEntries(){const e=[],r=Object.keys(this._styles);for(const a of r)e.push(...this._styleProcessor.getReducedForm(a,this._styles));return e}_cleanEmptyObjectsOnPath(e){const r=e.split(".");if(!(r.length>1))return;const a=r.splice(0,r.length-1).join("."),l=uc(this._styles,a);!l||!Array.from(Object.keys(l)).length&&this.remove(a)}}class fc{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,r,a){if(ft(r))Ef(a,qn(e),r);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:u,value:p}=l(r);Ef(a,u,p)}else Ef(a,e,r)}getNormalized(e,r){if(!e)return Tf({},r);if(void 0!==r[e])return r[e];if(this._extractors.has(e)){const a=this._extractors.get(e);if("string"==typeof a)return uc(r,a);const l=a(e,r);if(l)return l}return uc(r,qn(e))}getReducedForm(e,r){const a=this.getNormalized(e,r);return void 0===a?[]:this._reducers.has(e)?this._reducers.get(e)(a):[[e,a]]}getStyleNames(e){const r=Array.from(this._consumables.keys()).filter(l=>{const u=this.getNormalized(l,e);return u&&"object"==typeof u?Object.keys(u).length:u}),a=new Set([...r,...Object.keys(e)]);return Array.from(a.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,r){this._normalizers.set(e,r)}setExtractor(e,r){this._extractors.set(e,r)}setReducer(e,r){this._reducers.set(e,r)}setStyleRelation(e,r){this._mapStyleNames(e,r);for(const a of r)this._mapStyleNames(a,[e])}_mapStyleNames(e,r){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...r)}}function qn(c){return c.replace("-",".")}function Ef(c,e,r){let a=r;ft(r)&&(a=Tf({},uc(c,e),r)),function(c,e,r){null==c||function(c,e,r,a){if(!ft(c))return c;for(var l=-1,u=(e=Ha(e,c)).length,p=u-1,m=c;null!=m&&++l<u;){var b=mn(e[l]),v=r;if("__proto__"===b||"constructor"===b||"prototype"===b)return c;if(l!=p){var x=m[b];void 0===(v=void 0)&&(v=ft(x)?x:Qu(e[l+1])?[]:{})}$u(m,b,v),m=m[b]}}(c,e,r)}(c,e,a)}class Gn extends Bt{constructor(e,r,a,l){if(super(e),this.name=r,this._attrs=function(u){u=Er(u);for(const[p,m]of u)null===m?u.delete(p):"string"!=typeof m&&u.set(p,String(m));return u}(a),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");Gd(this._classes,u),this._attrs.delete("class")}this._styles=new cr(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,r=null){return r?r===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const r=this._styles.toString();return""==r?void 0:r}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Gn))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[r,a]of this._attrs)if(!e._attrs.has(r)||e._attrs.get(r)!==a)return!1;for(const r of this._classes)if(!e._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!e._styles.has(r)||e._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...e){for(const r of e)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e=!1){return this._styles.getStyleNames(e)}hasStyle(...e){for(const r of e)if(!this._styles.has(r))return!1;return!0}findAncestor(...e){const r=new Hr(...e);let a=this.parent;for(;a;){if(r.match(a))return a;a=a.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),r=this._styles.toString(),a=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(r?` style="${r}"`:"")+(""==a?"":` ${a}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const r=[];if(e)for(const l of this.getChildren())r.push(l._clone(e));const a=new this.constructor(this.document,this.name,this._attrs,r);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,r){this._fireChange("children",this);let a=0;const l=(u=this.document,"string"==typeof(p=r)?[new et(u,p)]:(wi(p)||(p=[p]),Array.from(p).map(m=>"string"==typeof m?new et(u,m):m instanceof Sr?new et(u,m.data):m)));var u,p;for(const u of l)null!==u.parent&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,a++;return a}_removeChildren(e,r=1){this._fireChange("children",this);for(let a=e;a<e+r;a++)this._children[a].parent=null;return this._children.splice(e,r)}_setAttribute(e,r){r=String(r),this._fireChange("attributes",this),"class"==e?Gd(this._classes,r):"style"==e?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const r of li(e))this._classes.add(r)}_removeClass(e){this._fireChange("attributes",this);for(const r of li(e))this._classes.delete(r)}_setStyle(e,r){this._fireChange("attributes",this),this._styles.set(e,r)}_removeStyle(e){this._fireChange("attributes",this);for(const r of li(e))this._styles.remove(r)}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Gd(c,e){const r=e.split(/\s+/);c.clear(),r.forEach(a=>c.add(a))}class Mr extends Gn{constructor(e,r,a,l){super(e,r,a,l),this.getFillerOffset=N0}is(e,r=null){return r?r===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}function N0(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const r of c)if(!r.is("uiElement"))return null;return this.childCount}class Yd extends Mr{constructor(e,r,a,l){super(e,r,a,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",u=>u&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}is(e,r=null){return r?r===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}destroy(){this.stopListening()}}rt(Yd,on);const Df=Symbol("rootName");class bx extends Yd{constructor(e,r){super(e,r),this.rootName="main"}is(e,r=null){return r?r===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}get rootName(){return this.getCustomProperty(Df)}set rootName(e){this._setCustomProperty(Df,e)}set _name(e){this.name=e}}class ps{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new I("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new I("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=Oe._createAt(e.startPosition?e.startPosition:e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let r,a,l;do{l=this.position,({done:r,value:a}=this.next())}while(!r&&e(a));r||(this.position=l)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const r=this.position,a=e.parent;if(null===a.parent&&e.offset===a.childCount)return{done:!0};if(a===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};let l;if(a instanceof et){if(e.isAtEnd)return this.position=Oe._createAfter(a),this._next();l=a.data[e.offset]}else l=a.getChild(e.offset);if(l instanceof Gn)return this.shallow?e.offset++:e=new Oe(l,0),this.position=e,this._formatReturnValue("elementStart",l,r,e,1);if(l instanceof et){if(this.singleCharacters)return e=new Oe(l,0),this.position=e,this._next();{let u,p=l.data.length;return l==this._boundaryEndParent?(p=this.boundaries.end.offset,u=new Sr(l,0,p),e=Oe._createAfter(u)):(u=new Sr(l,0,l.data.length),e.offset++),this.position=e,this._formatReturnValue("text",u,r,e,p)}}if("string"==typeof l){let u;u=this.singleCharacters?1:(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-e.offset;const p=new Sr(a,e.offset,u);return e.offset+=u,this.position=e,this._formatReturnValue("text",p,r,e,u)}return e=Oe._createAfter(a),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,r,e)}_previous(){let e=this.position.clone();const r=this.position,a=e.parent;if(null===a.parent&&0===e.offset)return{done:!0};if(a==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};let l;if(a instanceof et){if(e.isAtStart)return this.position=Oe._createBefore(a),this._previous();l=a.data[e.offset-1]}else l=a.getChild(e.offset-1);if(l instanceof Gn)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",l,r,e,1)):(e=new Oe(l,l.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,r,e));if(l instanceof et){if(this.singleCharacters)return e=new Oe(l,l.data.length),this.position=e,this._previous();{let u,p=l.data.length;if(l==this._boundaryStartParent){const m=this.boundaries.start.offset;u=new Sr(l,m,l.data.length-m),p=u.data.length,e=Oe._createBefore(u)}else u=new Sr(l,0,l.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",u,r,e,p)}}if("string"==typeof l){let u;u=this.singleCharacters?1:e.offset-(a===this._boundaryStartParent?this.boundaries.start.offset:0),e.offset-=u;const p=new Sr(a,e.offset,u);return this.position=e,this._formatReturnValue("text",p,r,e,u)}return e=Oe._createBefore(a),this.position=e,this._formatReturnValue("elementStart",a,r,e,1)}_formatReturnValue(e,r,a,l,u){return r instanceof Sr&&(r.offsetInText+r.data.length==r.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=Oe._createAfter(r.textNode):(l=Oe._createAfter(r.textNode),this.position=l)),0===r.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=Oe._createBefore(r.textNode):(l=Oe._createBefore(r.textNode),this.position=l))),{done:!1,value:{type:e,item:r,previousPosition:a,nextPosition:l,length:u}}}}class Oe{constructor(e,r){this.parent=e,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Yd);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const r=Oe._createAt(this),a=r.offset+e;return r.offset=a<0?0:a,r}getLastMatchingPosition(e,r={}){r.startPosition=this;const a=new ps(r);return a.skip(e),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const r=this.getAncestors(),a=e.getAncestors();let l=0;for(;r[l]==a[l]&&r[l];)l++;return 0===l?null:r[l-1]}is(e){return"position"===e||"view:position"===e}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const r=this.parent.is("node")?this.parent.getPath():[],a=e.parent.is("node")?e.parent.getPath():[];r.push(this.offset),a.push(e.offset);const l=Pi(r,a);switch(l){case"prefix":return"before";case"extension":return"after";default:return r[l]<a[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new ps(e)}clone(){return new Oe(this.parent,this.offset)}static _createAt(e,r){if(e instanceof Oe)return new this(e.parent,e.offset);{const a=e;if("end"==r)r=a.is("$text")?a.data.length:a.childCount;else{if("before"==r)return this._createBefore(a);if("after"==r)return this._createAfter(a);if(0!==r&&!r)throw new I("view-createpositionat-offset-required",a)}return new Oe(a,r)}}static _createAfter(e){if(e.is("$textProxy"))return new Oe(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new I("view-position-after-root",e,{root:e});return new Oe(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Oe(e.textNode,e.offsetInText);if(!e.parent)throw new I("view-position-before-root",e,{root:e});return new Oe(e.parent,e.index)}}class ct{constructor(e,r=null){this.start=e.clone(),this.end=r?r.clone():e.clone()}*[Symbol.iterator](){yield*new ps({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(pc,{direction:"backward"}),r=this.end.getLastMatchingPosition(pc);return e.parent.is("$text")&&e.isAtStart&&(e=Oe._createBefore(e.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=Oe._createAfter(r.parent)),new ct(e,r)}getTrimmed(){let e=this.start.getLastMatchingPosition(pc);if(e.isAfter(this.end)||e.isEqual(this.end))return new ct(e,e);let r=this.end.getLastMatchingPosition(pc,{direction:"backward"});const a=e.nodeAfter,l=r.nodeBefore;return a&&a.is("$text")&&(e=new Oe(a,0)),l&&l.is("$text")&&(r=new Oe(l,l.data.length)),new ct(e,r)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const a=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return a&&l}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new ct(this.start,e.start)),this.containsPosition(e.end)&&r.push(new ct(e.end,this.end))):r.push(this.clone()),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,a=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(a=e.end),new ct(r,a)}return null}getWalker(e={}){return e.boundaries=this,new ps(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),e&&e.is("element")&&e===r?e:null}clone(){return new ct(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new ps(e);for(const a of r)yield a.item}*getPositions(e={}){e.boundaries=this;const r=new ps(e);yield r.position;for(const a of r)yield a.nextPosition}is(e){return"range"===e||"view:range"===e}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,r,a,l){return new this(new Oe(e,r),new Oe(a,l))}static _createFromPositionAndShift(e,r){const a=e,l=e.getShiftedBy(r);return r>0?new this(a,l):new this(l,a)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const r=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Oe._createBefore(e),r)}}function pc(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}function Kd(c){let e=0;for(const r of c)e++;return e}class Zr{constructor(e=null,r,a){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,r,a)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const r of this._ranges)e&&!r.start.isBefore(e.start)||(e=r);return e?e.clone():null}getLastRange(){let e=null;for(const r of this._ranges)e&&!r.end.isAfter(e.end)||(e=r);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let a=!1;for(const l of e._ranges)if(r.isEqual(l)){a=!0;break}if(!a)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const r=Kd(this.getRanges());if(r!=Kd(e.getRanges()))return!1;if(0==r)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let l=!1;for(let u of e.getRanges())if(u=u.getTrimmed(),a.start.isEqual(u.start)&&a.end.isEqual(u.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(e,r,a){if(null===e)this._setRanges([]),this._setFakeOptions(r);else if(e instanceof Zr||e instanceof gc)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof ct)this._setRanges([e],r&&r.backward),this._setFakeOptions(r);else if(e instanceof Oe)this._setRanges([new ct(e)]),this._setFakeOptions(r);else if(e instanceof Bt){const l=!!a&&!!a.backward;let u;if(void 0===r)throw new I("view-selection-setto-required-second-parameter",this);u="in"==r?ct._createIn(e):"on"==r?ct._createOn(e):new ct(Oe._createAt(e,r)),this._setRanges([u],l),this._setFakeOptions(a)}else{if(!wi(e))throw new I("view-selection-setto-not-selectable",this);this._setRanges(e,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}setFocus(e,r){if(null===this.anchor)throw new I("view-selection-setfocus-no-ranges",this);const a=Oe._createAt(e,r);if("same"==a.compareWith(this.focus))return;const l=this.anchor;this._ranges.pop(),"before"==a.compareWith(l)?this._addRange(new ct(a,l),!0):this._addRange(new ct(l,a)),this.fire("change")}is(e){return"selection"===e||"view:selection"===e}_setRanges(e,r=!1){e=Array.from(e),this._ranges=[];for(const a of e)this._addRange(a);this._lastRangeBackward=!!r}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,r=!1){if(!(e instanceof ct))throw new I("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!r}_pushRange(e){for(const r of this._ranges)if(e.isIntersecting(r))throw new I("view-selection-range-intersects",this,{addedRange:e,intersectingRange:r});this._ranges.push(new ct(e.start,e.end))}}rt(Zr,St);class gc{constructor(e=null,r,a){this._selection=new Zr,this._selection.delegate("change").to(this),this._selection.setTo(e,r,a)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}_setTo(e,r,a){this._selection.setTo(e,r,a)}_setFocus(e,r){this._selection.setFocus(e,r)}}rt(gc,St);class Yn extends pe{constructor(e,r,a){super(e,r),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Mf=Symbol("bubbling contexts"),O0={fire(c,...e){try{const r=c instanceof pe?c:new pe(this,c),a=Qs(this);if(!a.size)return;if(gs(r,"capturing",this),$s(a,"$capture",r,...e))return r.return;const l=r.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,p=!!u&&Boolean(If(a,u));let m=u||function(b){if(!b)return null;const v=b.start.parent,x=b.end.parent,y=v.getPath(),D=x.getPath();return y.length>D.length?v:x}(l);if(gs(r,"atTarget",m),!p){if($s(a,"$text",r,...e))return r.return;gs(r,"bubbling",m)}for(;m;){if(m.is("rootElement")){if($s(a,"$root",r,...e))return r.return}else if(m.is("element")&&$s(a,m.name,r,...e))return r.return;if($s(a,m,r,...e))return r.return;m=m.parent,gs(r,"bubbling",m)}return gs(r,"bubbling",this),$s(a,"$document",r,...e),r.return}catch(r){I.rethrowUnexpectedError(r,this)}},_addEventListener(c,e,r){const a=li(r.context||"$document"),l=Qs(this);for(const u of a){let p=l.get(u);p||(p=Object.create(St),l.set(u,p)),this.listenTo(p,c,e,r)}},_removeEventListener(c,e){const r=Qs(this);for(const a of r.values())this.stopListening(a,c,e)}},B0=O0;function gs(c,e,r){c instanceof Yn&&(c._eventPhase=e,c._currentTarget=r)}function $s(c,e,r,...a){const l="string"==typeof e?c.get(e):If(c,e);return!!l&&(l.fire(r,...a),r.stop.called)}function If(c,e){for(const[r,a]of c)if("function"==typeof r&&r(e))return a;return null}function Qs(c){return c[Mf]||(c[Mf]=new Map),c[Mf]}class Za{constructor(e){this.selection=new gc,this.roots=new ar({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let r=!1;do{for(const a of this._postFixers)if(r=a(e),r)break}while(r)}}rt(Za,B0),rt(Za,on);class Js extends Gn{constructor(e,r,a,l){super(e,r,a,l),this.getFillerOffset=Pf,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new I("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(e,r=null){return r?r===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const r=super._clone(e);return r._priority=this._priority,r._id=this._id,r}}function Pf(){if(Ff(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Ff(c)>1)return null;c=c.parent}return!c||Ff(c)>1?null:this.childCount}function Ff(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}Js.DEFAULT_PRIORITY=10;class L0 extends Gn{constructor(e,r,a,l){super(e,r,a,l),this.getFillerOffset=kx}is(e,r=null){return r?r===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,r){if(r&&(r instanceof Bt||Array.from(r).length>0))throw new I("view-emptyelement-cannot-add",[this,r])}}function kx(){return null}const Xs=navigator.userAgent.toLowerCase(),R0={isMac:qa(Xs),isWindows:function(c){return c.indexOf("windows")>-1}(Xs),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(Xs),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&-1===c.indexOf("chrome")}(Xs),isiOS:function(c){return!!c.match(/iphone|ipad/i)||qa(c)&&navigator.maxTouchPoints>0}(Xs),isAndroid:function(c){return c.indexOf("android")>-1}(Xs),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(Xs),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch{}return c}()}},$t=R0;function qa(c){return c.indexOf("macintosh")>-1}const z0={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},wx={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},_t=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;for(const e of"`-=[];',./\\")c[e]=e.charCodeAt(0);return c}(),vx=Object.fromEntries(Object.entries(_t).map(([c,e])=>[e,c.charAt(0).toUpperCase()+c.slice(1)]));function Fi(c){let e;if("string"==typeof c){if(e=_t[c.toLowerCase()],!e)throw new I("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?_t.alt:0)+(c.ctrlKey?_t.ctrl:0)+(c.shiftKey?_t.shift:0)+(c.metaKey?_t.cmd:0);return e}function mc(c){return"string"==typeof c&&(c=function(e){return e.split("+").map(r=>r.trim())}(c)),c.map(e=>"string"==typeof e?function(r){if(r.endsWith("!"))return Fi(r.slice(0,-1));const a=Fi(r);return $t.isMac&&a==_t.ctrl?_t.cmd:a}(e):e).reduce((e,r)=>r+e,0)}function Ga(c){let e=mc(c);return Object.entries($t.isMac?z0:wx).reduce((r,[a,l])=>(0!=(e&_t[a])&&(e&=~_t[a],r+=l),r),"")+(e?vx[e]:"")}function _c(c,e){const r="ltr"===e;switch(c){case _t.arrowleft:return r?"left":"right";case _t.arrowright:return r?"right":"left";case _t.arrowup:return"up";case _t.arrowdown:return"down"}}class Nf extends Gn{constructor(e,r,a,l){super(e,r,a,l),this.getFillerOffset=xx}is(e,r=null){return r?r===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,r){if(r&&(r instanceof Bt||Array.from(r).length>0))throw new I("view-uielement-cannot-add",this)}render(e){return this.toDomElement(e)}toDomElement(e){const r=e.createElement(this.name);for(const a of this.getAttributeKeys())r.setAttribute(a,this.getAttribute(a));return r}}function xx(){return null}class bc extends Gn{constructor(e,r,a,l){super(e,r,a,l),this.getFillerOffset=Cx}is(e,r=null){return r?r===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,r){if(r&&(r instanceof Bt||Array.from(r).length>0))throw new I("view-rawelement-cannot-add",[this,r])}}function Cx(){return null}class dr{constructor(e,r){this.document=e,this._children=[],r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"===e||"view:documentFragment"===e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,r){this._fireChange("children",this);let a=0;const l=(u=this.document,"string"==typeof(p=r)?[new et(u,p)]:(wi(p)||(p=[p]),Array.from(p).map(m=>"string"==typeof m?new et(u,m):m instanceof Sr?new et(u,m.data):m)));var u,p;for(const u of l)null!==u.parent&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,a++;return a}_removeChildren(e,r=1){this._fireChange("children",this);for(let a=e;a<e+r;a++)this._children[a].parent=null;return this._children.splice(e,r)}_fireChange(e,r){this.fire("change:"+e,r)}}rt(dr,St);class Of{constructor(e){this.document=e,this._cloneGroups=new Map,this._slotFactory=null}setSelection(e,r,a){this.document.selection._setTo(e,r,a)}setSelectionFocus(e,r){this.document.selection._setFocus(e,r)}createDocumentFragment(e){return new dr(this.document,e)}createText(e){return new et(this.document,e)}createAttributeElement(e,r,a={}){const l=new Js(this.document,e,r);return"number"==typeof a.priority&&(l._priority=a.priority),a.id&&(l._id=a.id),a.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),l}createContainerElement(e,r,a={},l={}){let u=null;sr(a)?l=a:u=a;const p=new Mr(this.document,e,r,u);return l.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),p}createEditableElement(e,r,a={}){const l=new Yd(this.document,e,r);return l._document=this.document,a.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),l}createEmptyElement(e,r,a={}){const l=new L0(this.document,e,r);return a.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),l}createUIElement(e,r,a){const l=new Nf(this.document,e,r);return a&&(l.render=a),l}createRawElement(e,r,a,l={}){const u=new bc(this.document,e,r);return u.render=a||(()=>{}),l.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),u}setAttribute(e,r,a){a._setAttribute(e,r)}removeAttribute(e,r){r._removeAttribute(e)}addClass(e,r){r._addClass(e)}removeClass(e,r){r._removeClass(e)}setStyle(e,r,a){sr(e)&&void 0===a&&(a=r),a._setStyle(e,r)}removeStyle(e,r){r._removeStyle(e)}setCustomProperty(e,r,a){a._setCustomProperty(e,r)}removeCustomProperty(e,r){return r._removeCustomProperty(e)}breakAttributes(e){return e instanceof Oe?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const r=e.parent;if(!r.is("containerElement"))throw new I("view-writer-break-non-container-element",this.document);if(!r.parent)throw new I("view-writer-break-root",this.document);if(e.isAtStart)return Oe._createBefore(r);if(!e.isAtEnd){const a=r._clone(!1);this.insert(Oe._createAfter(r),a);const l=new ct(e,Oe._createAt(r,"end")),u=new Oe(a,0);this.move(l,u)}return Oe._createAfter(r)}mergeAttributes(e){const r=e.offset,a=e.parent;if(a.is("$text"))return e;if(a.is("attributeElement")&&0===a.childCount){const p=a.parent,m=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Oe(p,m))}const l=a.getChild(r-1),u=a.getChild(r);if(!l||!u)return e;if(l.is("$text")&&u.is("$text"))return wc(l,u);if(l.is("attributeElement")&&u.is("attributeElement")&&l.isSimilar(u)){const p=l.childCount;return l._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new Oe(l,p))}return e}mergeContainers(e){const r=e.nodeBefore,a=e.nodeAfter;if(!(r&&a&&r.is("containerElement")&&a.is("containerElement")))throw new I("view-writer-merge-containers-invalid-position",this.document);const l=r.getChild(r.childCount-1),u=Oe._createAt(l instanceof et?l:r,"end");return this.move(ct._createIn(a),Oe._createAt(r,"end")),this.remove(ct._createOn(a)),u}insert(e,r){j0(r=wi(r)?[...r]:[r],this.document);const a=r.reduce((p,m)=>{const b=p[p.length-1],v=!m.is("uiElement");return b&&b.breakAttributes==v?b.nodes.push(m):p.push({breakAttributes:v,nodes:[m]}),p},[]);let l=null,u=e;for(const{nodes:p,breakAttributes:m}of a){const b=this._insertNodes(u,p,m);l||(l=b.start),u=b.end}return l?new ct(l,u):new ct(e)}remove(e){const r=e instanceof ct?e:ct._createOn(e);if(vc(r,this.document),r.isCollapsed)return new dr(this.document);const{start:a,end:l}=this._breakAttributesRange(r,!0),m=a.parent._removeChildren(a.offset,l.offset-a.offset);for(const v of m)this._removeFromClonedElementsGroup(v);const b=this.mergeAttributes(a);return r.start=b,r.end=b.clone(),new dr(this.document,m)}clear(e,r){vc(e,this.document);const a=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of a){const u=l.item;let p;if(u.is("element")&&r.isSimilar(u))p=ct._createOn(u);else if(!l.nextPosition.isAfter(e.start)&&u.is("$textProxy")){const m=u.getAncestors().find(b=>b.is("element")&&r.isSimilar(b));m&&(p=ct._createIn(m))}p&&(p.end.isAfter(e.end)&&(p.end=e.end),p.start.isBefore(e.start)&&(p.start=e.start),this.remove(p))}}move(e,r){let a;if(r.isAfter(e.end)){const l=(r=this._breakAttributes(r,!0)).parent,u=l.childCount;e=this._breakAttributesRange(e,!0),a=this.remove(e),r.offset+=l.childCount-u}else a=this.remove(e);return this.insert(r,a)}wrap(e,r){if(!(r instanceof Js))throw new I("view-writer-wrap-invalid-attribute",this.document);if(vc(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&!Array.from(l.parent.getChildren()).some(p=>!p.is("uiElement"))&&(l=l.getLastMatchingPosition(p=>p.item.is("uiElement"))),l=this._wrapPosition(l,r);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new ct(l)}return this._wrapRange(e,r)}unwrap(e,r){if(!(r instanceof Js))throw new I("view-writer-unwrap-invalid-attribute",this.document);if(vc(e,this.document),e.isCollapsed)return e;const{start:a,end:l}=this._breakAttributesRange(e,!0),p=this._unwrapChildren(a.parent,a.offset,l.offset,r),m=this.mergeAttributes(p.start);m.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new ct(m,b)}rename(e,r){const a=new Mr(this.document,e,r.getAttributes());return this.insert(Oe._createAfter(r),a),this.move(ct._createIn(r),Oe._createAt(a,0)),this.remove(ct._createOn(r)),a}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,r){return Oe._createAt(e,r)}createPositionAfter(e){return Oe._createAfter(e)}createPositionBefore(e){return Oe._createBefore(e)}createRange(e,r){return new ct(e,r)}createRangeOn(e){return ct._createOn(e)}createRangeIn(e){return ct._createIn(e)}createSelection(e,r,a){return new Zr(e,r,a)}createSlot(e){if(!this._slotFactory)throw new I("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,r,a){let l,u;if(l=a?kc(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new I("view-writer-invalid-position-container",this.document);u=a?this._breakAttributes(e,!0):e.parent.is("$text")?Ka(e):e;const p=l._insertChild(u.offset,r);for(const x of r)this._addToClonedElementsGroup(x);const m=u.getShiftedBy(p),b=this.mergeAttributes(u);b.isEqual(u)||m.offset--;const v=this.mergeAttributes(m);return new ct(b,v)}_wrapChildren(e,r,a,l){let u=r;const p=[];for(;u<a;){const b=e.getChild(u),v=b.is("$text"),x=b.is("attributeElement");if(x&&this._wrapAttributeElement(l,b))p.push(new Oe(e,u));else if(v||!x||V0(l,b)){const y=l._clone();b._remove(),y._appendChild(b),e._insertChild(u,y),this._addToClonedElementsGroup(y),p.push(new Oe(e,u))}else this._wrapChildren(b,0,b.childCount,l);u++}let m=0;for(const b of p)b.offset-=m,b.offset!=r&&(this.mergeAttributes(b).isEqual(b)||(m++,a--));return ct._createFromParentsAndOffsets(e,r,e,a)}_unwrapChildren(e,r,a,l){let u=r;const p=[];for(;u<a;){const b=e.getChild(u);if(b.is("attributeElement"))if(b.isSimilar(l)){const v=b.getChildren(),x=b.childCount;b._remove(),e._insertChild(u,v),this._removeFromClonedElementsGroup(b),p.push(new Oe(e,u),new Oe(e,u+x)),u+=x,a+=x-1}else this._unwrapAttributeElement(l,b)?(p.push(new Oe(e,u),new Oe(e,u+1)),u++):(this._unwrapChildren(b,0,b.childCount,l),u++);else u++}let m=0;for(const b of p)b.offset-=m,b.offset!=r&&b.offset!=a&&(this.mergeAttributes(b).isEqual(b)||(m++,a--));return ct._createFromParentsAndOffsets(e,r,e,a)}_wrapRange(e,r){const{start:a,end:l}=this._breakAttributesRange(e,!0),p=this._wrapChildren(a.parent,a.offset,l.offset,r),m=this.mergeAttributes(p.start);m.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new ct(m,b)}_wrapPosition(e,r){if(r.isSimilar(e.parent))return Ya(e.clone());e.parent.is("$text")&&(e=Ka(e));const a=this.createAttributeElement();a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,e.parent._insertChild(e.offset,a);const l=new ct(e,e.getShiftedBy(1));this.wrap(l,r);const u=new Oe(a.parent,a.index);a._remove();const p=u.nodeBefore,m=u.nodeAfter;return p instanceof et&&m instanceof et?wc(p,m):Ya(u)}_wrapAttributeElement(e,r){if(!U0(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;for(const a of e.getAttributeKeys())if("class"!==a&&"style"!==a&&r.hasAttribute(a)&&r.getAttribute(a)!==e.getAttribute(a))return!1;for(const a of e.getStyleNames())if(r.hasStyle(a)&&r.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())"class"!==a&&"style"!==a&&(r.hasAttribute(a)||this.setAttribute(a,e.getAttribute(a),r));for(const a of e.getStyleNames())r.hasStyle(a)||this.setStyle(a,e.getStyle(a),r);for(const a of e.getClassNames())r.hasClass(a)||this.addClass(a,r);return!0}_unwrapAttributeElement(e,r){if(!U0(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;for(const a of e.getAttributeKeys())if("class"!==a&&"style"!==a&&(!r.hasAttribute(a)||r.getAttribute(a)!==e.getAttribute(a)))return!1;if(!r.hasClass(...e.getClassNames()))return!1;for(const a of e.getStyleNames())if(!r.hasStyle(a)||r.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())"class"!==a&&"style"!==a&&this.removeAttribute(a,r);return this.removeClass(Array.from(e.getClassNames()),r),this.removeStyle(Array.from(e.getStyleNames()),r),!0}_breakAttributesRange(e,r=!1){const a=e.start,l=e.end;if(vc(e,this.document),e.isCollapsed){const b=this._breakAttributes(e.start,r);return new ct(b,b)}const u=this._breakAttributes(l,r),p=u.parent.childCount,m=this._breakAttributes(a,r);return u.offset+=u.parent.childCount-p,new ct(m,u)}_breakAttributes(e,r=!1){const a=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new I("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new I("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new I("view-writer-cannot-break-raw-element",this.document);if(!r&&l.is("$text")&&Do(l.parent)||Do(l))return e.clone();if(l.is("$text"))return this._breakAttributes(Ka(e),r);if(a==l.childCount){const u=new Oe(l.parent,l.index+1);return this._breakAttributes(u,r)}if(0===a){const u=new Oe(l.parent,l.index);return this._breakAttributes(u,r)}{const u=l.index+1,p=l._clone();l.parent._insertChild(u,p),this._addToClonedElementsGroup(p);const b=l._removeChildren(a,l.childCount-a);p._appendChild(b);const v=new Oe(l.parent,u);return this._breakAttributes(v,r)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const r=e.id;if(!r)return;let a=this._cloneGroups.get(r);a||(a=new Set,this._cloneGroups.set(r,a)),a.add(e),e._clonesGroup=a}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const r=e.id;if(!r)return;const a=this._cloneGroups.get(r);a&&a.delete(e)}}function kc(c){let e=c.parent;for(;!Do(e);){if(!e)return;e=e.parent}return e}function V0(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function Ya(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new Oe(e,e.data.length);const r=c.nodeAfter;return r&&r.is("$text")?new Oe(r,0):c}function Ka(c){if(c.offset==c.parent.data.length)return new Oe(c.parent.parent,c.parent.index+1);if(0===c.offset)return new Oe(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new et(c.root.document,e)),new Oe(c.parent.parent,c.parent.index+1)}function wc(c,e){const r=c.data.length;return c._data+=e.data,e._remove(),new Oe(c,r)}function j0(c,e){for(const r of c){if(!Ax.some(a=>r instanceof a))throw new I("view-writer-insert-invalid-node-type",e);r.is("$text")||j0(r.getChildren(),e)}}const Ax=[et,Js,Mr,L0,bc,Nf];function Do(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function vc(c,e){const r=kc(c.start),a=kc(c.end);if(!r||!a||r!==a)throw new I("view-writer-invalid-range-container",e)}function U0(c,e){return null===c.id&&null===e.id}function vi(c){return"[object Text]"==Object.prototype.toString.call(c)}const $a=c=>c.createTextNode("\xa0"),H0=c=>{const e=c.createElement("span");return e.dataset.ckeFiller=!0,e.innerText="\xa0",e},W0=c=>{const e=c.createElement("br");return e.dataset.ckeFiller=!0,e},$d="\u2060".repeat(7);function hr(c){return vi(c)&&c.data.substr(0,7)===$d}function Qa(c){return 7==c.data.length&&hr(c)}function Qd(c){return hr(c)?c.data.slice(7):c.data}function ea(c,e){if(e.keyCode==_t.arrowleft){const r=e.domTarget.ownerDocument.defaultView.getSelection();if(1==r.rangeCount&&r.getRangeAt(0).collapsed){const a=r.getRangeAt(0).startContainer,l=r.getRangeAt(0).startOffset;hr(a)&&l<=7&&r.collapse(a,0)}}}function xi(c,e,r,a=!1){r=r||function(u,p){return u===p},Array.isArray(c)||(c=Array.prototype.slice.call(c)),Array.isArray(e)||(e=Array.prototype.slice.call(e));const l=function(u,p,m){const b=Kn(u,p,m);if(-1===b)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const y=Kn(Ja(u,b),Ja(p,b),m);return{firstIndex:b,lastIndexOld:u.length-y,lastIndexNew:p.length-y}}(c,e,r);return a?function(u,p){const{firstIndex:m,lastIndexOld:b,lastIndexNew:v}=u;if(-1===m)return Array(p).fill("equal");let x=[];return m>0&&(x=x.concat(Array(m).fill("equal"))),v-m>0&&(x=x.concat(Array(v-m).fill("insert"))),b-m>0&&(x=x.concat(Array(b-m).fill("delete"))),v<p&&(x=x.concat(Array(p-v).fill("equal"))),x}(l,e.length):function(u,p){const m=[],{firstIndex:b,lastIndexOld:v,lastIndexNew:x}=p;return x-b>0&&m.push({index:b,type:"insert",values:u.slice(b,x)}),v-b>0&&m.push({index:b+(x-b),type:"delete",howMany:v-b}),m}(e,l)}function Kn(c,e,r){for(let a=0;a<Math.max(c.length,e.length);a++)if(void 0===c[a]||void 0===e[a]||!r(c[a],e[a]))return a;return-1}function Ja(c,e){return c.slice(e).reverse()}function ms(c,e,r){r=r||function(R,H){return R===H};const a=c.length,l=e.length;if(a>200||l>200||a+l>300)return ms.fastDiff(c,e,r,!0);let u,p;if(l<a){const R=c;c=e,e=R,u="delete",p="insert"}else u="insert",p="delete";const m=c.length,b=e.length,v=b-m,x={},y={};function D(R){const H=(void 0!==y[R-1]?y[R-1]:-1)+1,ee=void 0!==y[R+1]?y[R+1]:-1,ce=H>ee?-1:1;x[R+ce]&&(x[R]=x[R+ce].slice(0)),x[R]||(x[R]=[]),x[R].push(H>ee?u:p);let Ce=Math.max(H,ee),Ke=Ce-R;for(;Ke<m&&Ce<b&&r(c[Ke],e[Ce]);)Ke++,Ce++,x[R].push("equal");return Ce}let P,B=0;do{for(P=-B;P<v;P++)y[P]=D(P);for(P=v+B;P>v;P--)y[P]=D(P);y[v]=D(v),B++}while(y[v]!==b);return x[v].slice(1)}function Mo(c,e,r){c.insertBefore(r,c.childNodes[e]||null)}function Jd(c){const e=c.parentNode;e&&e.removeChild(c)}function qr(c){return c&&c.nodeType===Node.COMMENT_NODE}function ta(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}ms.fastDiff=xi;var yx=Ue(3379),Xe=Ue.n(yx),Bf=Ue(4401);Xe()(Bf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Z0{constructor(e,r){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),$t.isBlink&&!$t.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,r){if("text"===e)this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if("attributes"===e)this.markedAttributes.add(r);else{if("children"!==e)throw new I("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){let e;const r=!($t.isBlink&&!$t.isAndroid&&this.isSelecting);for(const a of this.markedChildren)this._updateChildrenMappings(a);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e.parent.is("$text")&&(e=Oe._createBefore(e.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:e});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:e});if(r)if(e){const a=this.domConverter.viewPositionToDom(e),l=a.parent.ownerDocument;this._inlineFiller=hr(a.parent)?a.parent:q0(l,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const r=this.domConverter.mapViewToDom(e);if(!r)return;const a=Array.from(this.domConverter.mapViewToDom(e).childNodes),l=Array.from(this.domConverter.viewChildrenToDom(e,r.ownerDocument,{withChildren:!1})),u=this._diffNodeLists(a,l),p=this._findReplaceActions(u,a,l);if(-1!==p.indexOf("replace")){const m={equal:0,insert:0,delete:0};for(const b of p)if("replace"===b){const v=m.equal+m.insert,x=m.equal+m.delete,y=e.getChild(v);!y||y.is("uiElement")||y.is("rawElement")||this._updateElementMappings(y,a[x]),Jd(l[v]),m.equal++}else m[b]++}}_updateElementMappings(e,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Oe._createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(e);return!!(r&&vi(r.parent)&&hr(r.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!hr(e))throw new I("view-renderer-filler-was-lost",this);Qa(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=e.parent,a=e.offset;return!!(this.domConverter.mapViewToDom(r.root)&&r.is("element")&&function(p){if("false"==p.getAttribute("contenteditable"))return!1;const m=p.findAncestor(b=>b.hasAttribute("contenteditable"));return!m||"true"==m.getAttribute("contenteditable")}(r)&&a!==r.getFillerOffset())&&!(e.nodeBefore instanceof et||e.nodeAfter instanceof et)}_updateText(e,r){const a=this.domConverter.findCorrespondingDomText(e),l=this.domConverter.viewToDom(e,a.ownerDocument),u=a.data;let p=l.data;const m=r.inlineFillerPosition;if(m&&m.parent==e.parent&&m.offset==e.index&&(p=$d+p),u!=p){const b=xi(u,p);for(const v of b)"insert"===v.type?a.insertData(v.index,v.values.join("")):a.deleteData(v.index,v.howMany)}}_updateAttrs(e){const r=this.domConverter.mapViewToDom(e);if(!r)return;const a=Array.from(r.attributes).map(u=>u.name),l=e.getAttributeKeys();for(const u of l)this.domConverter.setDomElementAttribute(r,u,e.getAttribute(u),e);for(const u of a)e.hasAttribute(u)||this.domConverter.removeDomElementAttribute(r,u)}_updateChildren(e,r){const a=this.domConverter.mapViewToDom(e);if(!a)return;const l=r.inlineFillerPosition,u=this.domConverter.mapViewToDom(e).childNodes,p=Array.from(this.domConverter.viewChildrenToDom(e,a.ownerDocument,{bind:!0}));l&&l.parent===e&&q0(a.ownerDocument,p,l.offset);const m=this._diffNodeLists(u,p);let b=0;const v=new Set;for(const x of m)"delete"===x?(v.add(u[b]),Jd(u[b])):"equal"===x&&b++;b=0;for(const x of m)"insert"===x?(Mo(a,b,p[b]),b++):"equal"===x&&(this._markDescendantTextToSync(this.domConverter.domToView(p[b])),b++);for(const x of v)x.parentNode||this.domConverter.unbindDomElement(x)}_diffNodeLists(e,r){return ms(e=function(a,l){const u=Array.from(a);return 0==u.length||!l||u[u.length-1]==l&&u.pop(),u}(e,this._fakeSelectionContainer),r,Sx.bind(null,this.domConverter))}_findReplaceActions(e,r,a){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let l=[],u=[],p=[];const m={equal:0,insert:0,delete:0};for(const b of e)"insert"===b?p.push(a[m.equal+m.insert]):"delete"===b?u.push(r[m.equal+m.delete]):(l=l.concat(ms(u,p,Lf).map(v=>"equal"===v?"replace":v)),l.push("equal"),u=[],p=[]),m[b]++;return l.concat(ms(u,p,Lf).map(b=>"equal"===b?"replace":b))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const r of e.getChildren())this._markDescendantTextToSync(r)}_updateSelection(){if($t.isBlink&&!$t.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}_updateFakeSelection(e){const r=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const m=p.createElement("div");return m.className="ck-fake-selection-container",Object.assign(m.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),m.textContent="\xa0",m}(r));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(e))return;a.parentElement&&a.parentElement==e||e.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"\xa0";const l=r.getSelection(),u=r.createRange();l.removeAllRanges(),u.selectNodeContents(a),l.addRange(u)}_updateDomSelection(e){const r=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);r.collapse(a.parent,a.offset),r.extend(l.parent,l.offset),$t.isGecko&&function(u,p){const m=u.parent;if(m.nodeType!=Node.ELEMENT_NODE||u.offset!=m.childNodes.length-1)return;const b=m.childNodes[u.offset];b&&"BR"==b.tagName&&p.addRange(p.getRangeAt(0))}(l,r)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const r=e&&this.domConverter.domSelectionToView(e);return!(r&&this.selection.isEqual(r)||!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(e){const r=this._fakeSelectionContainer,a=e.ownerDocument.getSelection();return!r||r.parentElement!==e||a.anchorNode!==r&&!r.contains(a.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments)if(e.getSelection().rangeCount){const r=e.activeElement,a=this.domConverter.mapDomToView(r);r&&a&&e.getSelection().removeAllRanges()}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function q0(c,e,r){const a=e instanceof Array?e:e.childNodes,l=a[r];if(vi(l))return l.data=$d+l.data,l;{const u=c.createTextNode($d);return Array.isArray(e)?a.splice(r,0,u):Mo(e,r,u),u}}function Lf(c,e){return ta(c)&&ta(e)&&!vi(c)&&!vi(e)&&!qr(c)&&!qr(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function Sx(c,e,r){return e===r||(vi(e)&&vi(r)?e.data===r.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(r)))}rt(Z0,on);const yn={window,document};function xc(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function Rf(c){const e=[];for(;c&&c.nodeType!=Node.DOCUMENT_NODE;)e.unshift(c),c=c.parentNode;return e}const Ex=W0(document),Dx=$a(document),G0=H0(document),Cc="data-ck-unsafe-attribute-",Y0="data-ck-unsafe-element";class Ac{constructor(e,r={}){this.document=e,this.renderingMode=r.renderingMode||"editing",this.blockFillerMode=r.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Hr,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(e,r){this._fakeSelectionMapping.set(e,new Zr(r))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}unbindDomElement(e){const r=this._domToViewMapping.get(e);if(r){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(r);for(const a of e.childNodes)this.unbindDomElement(a)}}bindDocumentFragments(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}shouldRenderAttribute(e,r,a){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===a&&("src"===e||"srcset"===e)||"source"===a&&"srcset"===e||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,r){if("data"===this.renderingMode)return void(e.innerHTML=r);const a=(new DOMParser).parseFromString(r,"text/html"),l=a.createDocumentFragment(),u=a.body.childNodes;for(;u.length>0;)l.appendChild(u[0]);const p=a.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),m=[];let b;for(;b=p.nextNode();)m.push(b);for(const v of m){for(const y of v.getAttributeNames())this.setDomElementAttribute(v,y,v.getAttribute(y));const x=v.tagName.toLowerCase();this._shouldRenameElement(x)&&(zf(x),v.replaceWith(this._createReplacementDomElement(x,v)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,r,a={}){if(e.is("$text")){const l=this._processDataFromViewText(e);return r.createTextNode(l)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let l;if(e.is("documentFragment"))l=r.createDocumentFragment(),a.bind&&this.bindDocumentFragments(l,e);else{if(e.is("uiElement"))return l="$comment"===e.name?r.createComment(e.getCustomProperty("$rawContent")):e.render(r,this),a.bind&&this.bindElements(l,e),l;this._shouldRenameElement(e.name)?(zf(e.name),l=this._createReplacementDomElement(e.name)):l=e.hasAttribute("xmlns")?r.createElementNS(e.getAttribute("xmlns"),e.name):r.createElement(e.name),e.is("rawElement")&&e.render(l,this),a.bind&&this.bindElements(l,e);for(const u of e.getAttributeKeys())this.setDomElementAttribute(l,u,e.getAttribute(u),e)}if(!1!==a.withChildren)for(const u of this.viewChildrenToDom(e,r,a))l.appendChild(u);return l}}setDomElementAttribute(e,r,a,l=null){const u=this.shouldRenderAttribute(r,a,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(r);u||se("domconverter-unsafe-attribute-detected",{domElement:e,key:r,value:a}),e.hasAttribute(r)&&!u?e.removeAttribute(r):e.hasAttribute(Cc+r)&&u&&e.removeAttribute(Cc+r),e.setAttribute(u?r:Cc+r,a)}removeDomElementAttribute(e,r){r!=Y0&&(e.removeAttribute(r),e.removeAttribute(Cc+r))}*viewChildrenToDom(e,r,a={}){const l=e.getFillerOffset&&e.getFillerOffset();let u=0;for(const p of e.getChildren()){l===u&&(yield this._getBlockFiller(r));const m=p.is("element")&&p.getCustomProperty("dataPipeline:transparentRendering");m&&"data"==this.renderingMode?yield*this.viewChildrenToDom(p,r,a):(m&&se("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,r,a)),u++}l===u&&(yield this._getBlockFiller(r))}viewRangeToDom(e){const r=this.viewPositionToDom(e.start),a=this.viewPositionToDom(e.end),l=document.createRange();return l.setStart(r.parent,r.offset),l.setEnd(a.parent,a.offset),l}viewPositionToDom(e){const r=e.parent;if(r.is("$text")){const a=this.findCorrespondingDomText(r);if(!a)return null;let l=e.offset;return hr(a)&&(l+=7),{parent:a,offset:l}}{let a,l,u;if(0===e.offset){if(a=this.mapViewToDom(r),!a)return null;u=a.childNodes[0]}else{const p=e.nodeBefore;if(l=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(e.nodeBefore),!l)return null;a=l.parentNode,u=l.nextSibling}return vi(u)&&hr(u)?{parent:u,offset:7}:{parent:a,offset:l?xc(l)+1:0}}}domToView(e,r={}){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(qr(e)&&r.skipComments)return null;if(vi(e)){if(Qa(e))return null;{const l=this._processDataFromDomText(e);return""===l?null:new et(this.document,l)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let l;if(this.isDocumentFragment(e))l=new dr(this.document),r.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,r),r.bind&&this.bindElements(e,l);const u=e.attributes;if(u)for(let p=u.length,m=0;m<p;m++)l._setAttribute(u[m].name,u[m].value);if(this._isViewElementWithRawContent(l,r)||qr(e)){const p=qr(e)?e.data:e.innerHTML;return l._setCustomProperty("$rawContent",p),this._encounteredRawContentDomNodes.add(e),l}}if(!1!==r.withChildren)for(const u of this.domChildrenToView(e,r))l._appendChild(u);return l}}*domChildrenToView(e,r={}){for(let a=0;a<e.childNodes.length;a++){const u=this.domToView(e.childNodes[a],r);null!==u&&(yield u)}}domSelectionToView(e){if(1===e.rangeCount){let l=e.getRangeAt(0).startContainer;vi(l)&&(l=l.parentNode);const u=this.fakeSelectionToView(l);if(u)return u}const r=this.isDomSelectionBackward(e),a=[];for(let l=0;l<e.rangeCount;l++){const u=e.getRangeAt(l),p=this.domRangeToView(u);p&&a.push(p)}return new Zr(a,{backward:r})}domRangeToView(e){const r=this.domPositionToView(e.startContainer,e.startOffset),a=this.domPositionToView(e.endContainer,e.endOffset);return r&&a?new ct(r,a):null}domPositionToView(e,r=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,xc(e));const a=this.mapDomToView(e);if(a&&(a.is("uiElement")||a.is("rawElement")))return Oe._createBefore(a);if(vi(e)){if(Qa(e))return this.domPositionToView(e.parentNode,xc(e));const l=this.findCorrespondingViewText(e);let u=r;return l?(hr(e)&&(u-=7,u=u<0?0:u),new Oe(l,u)):null}if(0===r){const l=this.mapDomToView(e);if(l)return new Oe(l,0)}else{const l=e.childNodes[r-1],u=vi(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(u&&u.parent)return new Oe(u.parent,u.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Qa(e))return null;const r=this.getHostViewElement(e);if(r)return r;const a=e.previousSibling;if(a){if(!this.isElement(a))return null;const l=this.mapDomToView(a);if(l)return l.nextSibling instanceof et?l.nextSibling:null}else{const l=this.mapDomToView(e.parentNode);if(l){const u=l.getChild(0);return u instanceof et?u:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const r=e.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const r=this.mapViewToDom(e);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:a,scrollY:l}=yn.window,u=[];K0(r,p=>{const{scrollLeft:m,scrollTop:b}=p;u.push([m,b])}),r.focus(),K0(r,p=>{const[m,b]=u.shift();p.scrollLeft=m,p.scrollTop=b}),yn.window.scrollTo(a,l)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(Ex):!("BR"!==e.tagName||!na(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(G0)||function(r,a){return r.isEqualNode(Dx)&&na(r,a)&&1===r.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const r=document.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset);const a=r.collapsed;return r.detach(),a}getHostViewElement(e){const r=Rf(e);for(r.pop();r.length;){const a=r.pop(),l=this._domToViewMapping.get(a);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(e){switch(this.blockFillerMode){case"nbsp":return $a(e);case"markedNbsp":return H0(e);case"br":return W0(e)}}_isDomSelectionPositionCorrect(e,r){if(vi(e)&&hr(e)&&r<7||this.isElement(e)&&hr(e.childNodes[r]))return!1;const a=this.mapDomToView(e);return!a||!a.is("uiElement")&&!a.is("rawElement")}_processDataFromViewText(e){let r=e.data;if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return r;if(" "==r.charAt(0)){const a=this._getTouchingInlineViewNode(e,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(r="\xa0"+r.substr(1))}if(" "==r.charAt(r.length-1)){const a=this._getTouchingInlineViewNode(e,!0),l=a&&a.is("$textProxy")&&" "==a.data.charAt(0);" "!=r.charAt(r.length-2)&&a&&!l||(r=r.substr(0,r.length-1)+"\xa0")}return r.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const r=this._processDataFromViewText(e);return" "==r.charAt(r.length-1)}_processDataFromDomText(e){let r=e.data;if(x=this.preElements,Rf(e).some(y=>y.tagName&&x.includes(y.tagName.toLowerCase())))return Qd(e);var x;r=r.replace(/[ \n\t\r]{1,}/g," ");const a=this._getTouchingInlineDomNode(e,!1),l=this._getTouchingInlineDomNode(e,!0),u=this._checkShouldLeftTrimDomText(e,a),p=this._checkShouldRightTrimDomText(e,l);u&&(r=r.replace(/^ /,"")),p&&(r=r.replace(/ $/,"")),r=Qd(new Text(r)),r=r.replace(/ \u00A0/g,"  ");const m=l&&this.isElement(l)&&"BR"!=l.tagName,b=l&&vi(l)&&" "==l.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(r)||!l||m||b)&&(r=r.replace(/\u00A0$/," ")),(u||a&&this.isElement(a)&&"BR"!=a.tagName)&&(r=r.replace(/^\u00A0/," ")),r}_checkShouldLeftTrimDomText(e,r){return!r||(this.isElement(r)?"BR"===r.tagName:!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(r.data.charAt(r.data.length-1)))}_checkShouldRightTrimDomText(e,r){return!r&&!hr(e)}_getTouchingInlineViewNode(e,r){const a=new ps({startPosition:r?Oe._createAfter(e):Oe._createBefore(e),direction:r?"forward":"backward"});for(const l of a){if(l.item.is("element")&&this.inlineObjectElements.includes(l.item.name))return l.item;if(l.item.is("containerElement")||l.item.is("element","br"))return null;if(l.item.is("$textProxy"))return l.item}return null}_getTouchingInlineDomNode(e,r){if(!e.parentNode)return null;const a=r?"firstChild":"lastChild",l=r?"nextSibling":"previousSibling";let u=!0;do{if(!u&&e[a]?e=e[a]:e[l]?(e=e[l],u=!1):(e=e.parentNode,u=!0),!e||this._isBlockElement(e))return null}while(!vi(e)&&"BR"!=e.tagName&&!this._isInlineObjectElement(e));return e}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,r){if(qr(e))return new Nf(this.document,"$comment");const a=r.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Gn(this.document,a)}_isViewElementWithRawContent(e,r){return!1!==r.withChildren&&this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const r=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(r)}_createReplacementDomElement(e,r=null){const a=document.createElement("span");if(a.setAttribute(Y0,e),r){for(;r.firstChild;)a.appendChild(r.firstChild);for(const l of r.getAttributeNames())a.setAttribute(l,r.getAttribute(l))}return a}}function K0(c,e){for(;c&&c!=yn.document;)e(c),c=c.parentNode}function na(c,e){const r=c.parentNode;return r&&r.tagName&&e.includes(r.tagName.toLowerCase())}function zf(c){"script"===c&&se("domconverter-unsafe-script-element-detected"),"style"===c&&se("domconverter-unsafe-style-element-detected")}function Xd(c){const e=Object.prototype.toString.apply(c);return"[object Window]"==e||"[object global]"==e}const Mx=sc({},St,{listenTo(c,e,r,a={}){if(ta(c)||Xd(c)){const l={capture:!!a.useCapture,passive:!!a.usePassive},u=this._getProxyEmitter(c,l)||new $0(c,l);this.listenTo(u,e,r,a)}else St.listenTo.call(this,c,e,r,a)},stopListening(c,e,r){if(ta(c)||Xd(c)){const a=this._getAllProxyEmitters(c);for(const l of a)this.stopListening(l,e,r)}else St.stopListening.call(this,c,e,r)},_getProxyEmitter(c,e){return r=this,a=yc(c,e),r[vn]&&r[vn][a]?r[vn][a].emitter:null;var r,a},_getAllProxyEmitters(c){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(e=>this._getProxyEmitter(c,e)).filter(e=>!!e)}}),Xa=Mx;class $0{constructor(e,r){Md(this,yc(e,r)),this._domNode=e,this._options=r}}function yc(c,e){let r=(a=c)["data-ck-expando"]||(a["data-ck-expando"]=ue());var a;for(const a of Object.keys(e).sort())e[a]&&(r+="-"+a);return r}sc($0.prototype,St,{attach(c){if(this._domListeners&&this._domListeners[c])return;const e=this._createDomListener(c);this._domNode.addEventListener(c,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[c]=e},detach(c){let e;!this._domListeners[c]||(e=this._events[c])&&e.callbacks.length||this._domListeners[c].removeListener()},_addEventListener(c,e,r){this.attach(c),St._addEventListener.call(this,c,e,r)},_removeEventListener(c,e){St._removeEventListener.call(this,c,e),this.detach(c)},_createDomListener(c){const e=r=>{this.fire(c,r)};return e.removeListener=()=>{this._domNode.removeEventListener(c,e,this._options),delete this._domListeners[c]},e}});class uo{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}function el(c){var e=-1,r=null==c?0:c.length;for(this.__data__=new Vd;++e<r;)this.add(c[e])}rt(uo,Xa),el.prototype.add=el.prototype.push=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},el.prototype.has=function(c){return this.__data__.has(c)};const eh=el,th=function(c,e){for(var r=-1,a=null==c?0:c.length;++r<a;)if(e(c[r],r,c))return!0;return!1},Px=function(c,e){return c.has(e)},J0=function(c,e,r,a,l,u){var p=1&r,m=c.length,b=e.length;if(m!=b&&!(p&&b>m))return!1;var v=u.get(c),x=u.get(e);if(v&&x)return v==e&&x==c;var y=-1,D=!0,P=2&r?new eh:void 0;for(u.set(c,e),u.set(e,c);++y<m;){var B=c[y],R=e[y];if(a)var H=p?a(R,B,y,e,c,u):a(B,R,y,c,e,u);if(void 0!==H){if(H)continue;D=!1;break}if(P){if(!th(e,function(ee,ce){if(!Px(P,ce)&&(B===ee||l(B,ee,r,a,u)))return P.push(ce)})){D=!1;break}}else if(B!==R&&!l(B,R,r,a,u)){D=!1;break}}return u.delete(c),u.delete(e),D},ia=function(c){var e=-1,r=Array(c.size);return c.forEach(function(a,l){r[++e]=[l,a]}),r},Fx=function(c){var e=-1,r=Array(c.size);return c.forEach(function(a){r[++e]=a}),r};var X0=or?or.prototype:void 0,Io=X0?X0.valueOf:void 0,nh=Object.prototype.hasOwnProperty,Vf="[object Arguments]",e_="[object Array]",Tc="[object Object]",_s=Object.prototype.hasOwnProperty;const t_=function c(e,r,a,l,u){return e===r||(null==e||null==r||!yr(e)&&!yr(r)?e!=e&&r!=r:function(c,e,r,a,l,u){var p=ji(c),m=ji(e),b=p?e_:cc(c),v=m?e_:cc(e),x=(b=b==Vf?Tc:b)==Tc,y=(v=v==Vf?Tc:v)==Tc,D=b==v;if(D&&rc(c)){if(!rc(e))return!1;p=!0,x=!1}if(D&&!x)return u||(u=new lc),p||tf(c)?J0(c,e,r,a,l,u):function(c,e,r,a,l,u,p){switch(r){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!u(new Ud(c),new Ud(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ic(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var m=ia;case"[object Set]":if(m||(m=Fx),c.size!=e.size&&!(1&a))return!1;var v=p.get(c);if(v)return v==e;a|=2,p.set(c,e);var x=J0(m(c),m(e),a,l,u,p);return p.delete(c),x;case"[object Symbol]":if(Io)return Io.call(c)==Io.call(e)}return!1}(c,e,b,r,a,l,u);if(!(1&r)){var P=x&&_s.call(c,"__wrapped__"),B=y&&_s.call(e,"__wrapped__");if(P||B){var R=P?c.value():c,H=B?e.value():e;return u||(u=new lc),l(R,H,r,a,u)}}return!!D&&(u||(u=new lc),function(c,e,r,a,l,u){var p=1&r,m=cf(c),b=m.length;if(b!=cf(e).length&&!p)return!1;for(var v=b;v--;){var x=m[v];if(!(p?x in e:nh.call(e,x)))return!1}var y=u.get(c),D=u.get(e);if(y&&D)return y==e&&D==c;var P=!0;u.set(c,e),u.set(e,c);for(var B=p;++v<b;){var R=c[x=m[v]],H=e[x];if(a)var ee=p?a(H,R,x,e,c,u):a(R,H,x,c,e,u);if(!(void 0===ee?R===H||l(R,H,r,a,u):ee)){P=!1;break}B||(B="constructor"==x)}if(P&&!B){var ce=c.constructor,Ce=e.constructor;ce==Ce||!("constructor"in c)||!("constructor"in e)||"function"==typeof ce&&ce instanceof ce&&"function"==typeof Ce&&Ce instanceof Ce||(P=!1)}return u.delete(c),u.delete(e),P}(c,e,r,a,l,u))}(e,r,a,l,c,u))},Lx=function(c,e,r){var a=(r="function"==typeof r?r:void 0)?r(c,e):void 0;return void 0===a?t_(c,e,void 0,r):!!a};class n_ extends uo{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const r=this.domConverter,a=new Map,l=new Set;for(const v of e)if("childList"===v.type){const x=r.mapDomToView(v.target);if(x&&(x.is("uiElement")||x.is("rawElement")))continue;x&&!this._isBogusBrMutation(v)&&l.add(x)}for(const v of e){const x=r.mapDomToView(v.target);if((!x||!x.is("uiElement")&&!x.is("rawElement"))&&"characterData"===v.type){const y=r.findCorrespondingViewText(v.target);y&&!l.has(y.parent)?a.set(y,{type:"text",oldText:y.data,newText:Qd(v.target),node:y}):!y&&hr(v.target)&&l.add(r.mapDomToView(v.target.parentNode))}}const u=[];for(const v of a.values())this.renderer.markToSync("text",v.node),u.push(v);for(const v of l){const x=r.mapViewToDom(v),y=Array.from(v.getChildren()),D=Array.from(r.domChildrenToView(x,{withChildren:!1}));Lx(y,D,b)||(this.renderer.markToSync("children",v),u.push({type:"children",oldChildren:y,newChildren:D,node:v}))}const p=e[0].target.ownerDocument.getSelection();let m=null;if(p&&p.anchorNode){const v=r.domPositionToView(p.anchorNode,p.anchorOffset),x=r.domPositionToView(p.focusNode,p.focusOffset);v&&x&&(m=new Zr(v),m.setFocus(x))}function b(v,x){if(!Array.isArray(v))return v===x||!(!v.is("$text")||!x.is("$text"))&&v.data===x.data}u.length&&(this.document.fire("mutations",u,m),this.view.forceRender())}_isBogusBrMutation(e){let r=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(r=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}class bs{constructor(e,r,a){this.view=e,this.document=e.document,this.domEvent=r,this.domTarget=r.target,sc(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Po extends uo{constructor(e){super(e),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(a,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}fire(e,r,a){this.isEnabled&&this.document.fire(e,new bs(this.view,r,a))}}class i_ extends Po{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Fi(this)}})}}const ih=function(){return Mi.Date.now()};var r_=/\s/,o_=/^\s+/;var zx=/^[-+]0x[0-9a-f]+$/i,Vx=/^0b[01]+$/i,jx=/^0o[0-7]+$/i,a_=parseInt;const l_=function(c){if("number"==typeof c)return c;if(cs(c))return NaN;if(ft(c)){var e="function"==typeof c.valueOf?c.valueOf():c;c=ft(e)?e+"":e}if("string"!=typeof c)return 0===c?c:+c;c=function(c){return c&&c.slice(0,function(c){for(var e=c.length;e--&&r_.test(c.charAt(e)););return e}(c)+1).replace(o_,"")}(c);var r=Vx.test(c);return r||jx.test(c)?a_(c.slice(2),r?2:8):zx.test(c)?NaN:+c};var c_=Math.max,Ux=Math.min;const tl=function(c,e,r){var a,l,u,p,m,b,v=0,x=!1,y=!1,D=!0;if("function"!=typeof c)throw new TypeError("Expected a function");function P(Ce){var Ke=a,at=l;return a=l=void 0,v=Ce,p=c.apply(at,Ke)}function B(Ce){return v=Ce,m=setTimeout(H,e),x?P(Ce):p}function R(Ce){var Ke=Ce-b;return void 0===b||Ke>=e||Ke<0||y&&Ce-v>=u}function H(){var Ke,at,Ce=ih();if(R(Ce))return ee(Ce);m=setTimeout(H,(at=e-((Ke=Ce)-b),y?Ux(at,u-(Ke-v)):at))}function ee(Ce){return m=void 0,D&&a?P(Ce):(a=l=void 0,p)}function ce(){var Ce=ih(),Ke=R(Ce);if(a=arguments,l=this,b=Ce,Ke){if(void 0===m)return B(b);if(y)return clearTimeout(m),m=setTimeout(H,e),P(b)}return void 0===m&&(m=setTimeout(H,e)),p}return e=l_(e)||0,ft(r)&&(x=!!r.leading,u=(y="maxWait"in r)?c_(l_(r.maxWait)||0,e):u,D="trailing"in r?!!r.trailing:D),ce.cancel=function(){void 0!==m&&clearTimeout(m),v=0,a=b=l=m=void 0},ce.flush=function(){return void 0===m?p:ee(ih())},ce};class Fo extends uo{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=tl(r=>this.document.fire("selectionChangeDone",r),200)}observe(){const e=this.document;e.on("arrowKey",(r,a)=>{e.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),e.on("arrowKey",(r,a)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const r=this.document.selection,a=new Zr(r.getRanges(),{backward:r.isBackward,fake:!1});e!=_t.arrowleft&&e!=_t.arrowup||a.setTo(a.getFirstPosition()),e!=_t.arrowright&&e!=_t.arrowdown||a.setTo(a.getLastPosition());const l={oldSelection:r,newSelection:a,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}class d_ extends uo{constructor(e){super(e),this.mutationObserver=e.getObserver(n_),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=tl(r=>this.document.fire("selectionChangeDone",r),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=tl(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const r=e.ownerDocument,a=()=>{this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",a,{priority:"highest"}),this.listenTo(e,"keyup",a,{priority:"highest"}),this._documents.has(r)||(this.listenTo(r,"mouseup",a,{priority:"highest"}),this.listenTo(r,"selectionchange",(l,u)=>{this._handleSelectionChange(u,r),this._documentIsSelectingInactivityTimeoutDebounced()}),this._documents.add(r))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(e,r){if(!this.isEnabled)return;const a=r.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(a);if(0!=l.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(l)&&this.domConverter.isDomSelectionCorrect(a)||++this._loopbackCounter>60))if(this.selection.isSimilar(l))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:l,domSelection:a};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Hx extends Po{constructor(e){super(e),this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>{r.isFocused=!0,this._renderTimeoutId=setTimeout(()=>e.change(()=>{}),50)}),r.on("blur",(a,l)=>{const u=r.selection.editableElement;null!==u&&u!==l.target||(r.isFocused=!1,e.change(()=>{}))})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Wx extends Po{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0}),r.on("compositionend",()=>{r.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}class h_ extends Po{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){this.fire(e.type,e)}}class Zx{constructor(){this._replacedElements=[]}replace(e,r){this._replacedElements.push({element:e,newElement:r}),e.style.display="none",r&&e.parentNode.insertBefore(r,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:r})=>{e.style.display="",r&&r.remove()}),this._replacedElements=[]}}function rh(c){return"[object Range]"==Object.prototype.toString.apply(c)}function jf(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const u_=["top","right","bottom","left","width","height"];class Rt{constructor(e){const r=rh(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),jr(e)||r)if(r){const a=Rt.getDomRangeRects(e);Sc(this,Rt.getBoundingRect(a))}else Sc(this,e.getBoundingClientRect());else if(Xd(e)){const{innerWidth:a,innerHeight:l}=e;Sc(this,{top:0,right:a,bottom:l,left:0,width:a,height:l})}else Sc(this,e)}clone(){return new Rt(this)}moveTo(e,r){return this.top=r,this.right=e+this.width,this.bottom=r+this.height,this.left=e,this}moveBy(e,r){return this.top+=r,this.right+=e,this.left+=e,this.bottom+=r,this}getIntersection(e){const r={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0?null:new Rt(r)}getIntersectionArea(e){const r=this.getIntersection(e);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let r=this.clone();if(!Uf(e)){let a=e.parentNode||e.commonAncestorContainer;for(;a&&!Uf(a);){const l=new Rt(a),u=r.getIntersection(l);if(!u)return null;u.getArea()<r.getArea()&&(r=u),a=a.parentNode}}return r}isEqual(e){for(const r of u_)if(this[r]!==e[r])return!1;return!0}contains(e){const r=this.getIntersection(e);return!(!r||!r.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let r,a,l;if(Xd(e))r=e.innerWidth-e.document.documentElement.clientWidth,a=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const u=jf(this._source);r=e.offsetWidth-e.clientWidth-u.left-u.right,a=e.offsetHeight-e.clientHeight-u.top-u.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,"ltr"===l?this.right-=r:this.left+=r,this.height-=a,this.bottom-=a,this}static getDomRangeRects(e){const r=[],a=Array.from(e.getClientRects());if(a.length)for(const l of a)r.push(new Rt(l));else{let l=e.startContainer;vi(l)&&(l=l.parentNode);const u=new Rt(l.getBoundingClientRect());u.right=u.left,u.width=0,r.push(u)}return r}static getBoundingRect(e){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let a=0;for(const l of e)a++,r.left=Math.min(r.left,l.left),r.top=Math.min(r.top,l.top),r.right=Math.max(r.right,l.right),r.bottom=Math.max(r.bottom,l.bottom);return 0==a?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new Rt(r))}}function Sc(c,e){for(const r of u_)c[r]=e[r]}function Uf(c){return!!jr(c)&&c===c.ownerDocument.body}class _n{constructor(e,r){_n._observerInstance||_n._createObserver(),this._element=e,this._callback=r,_n._addElementCallback(e,r),_n._observerInstance.observe(e)}destroy(){_n._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,r){_n._elementCallbacks||(_n._elementCallbacks=new Map);let a=_n._elementCallbacks.get(e);a||(a=new Set,_n._elementCallbacks.set(e,a)),a.add(r)}static _deleteElementCallback(e,r){const a=_n._getElementCallbacks(e);a&&(a.delete(r),a.size||(_n._elementCallbacks.delete(e),_n._observerInstance.unobserve(e))),_n._elementCallbacks&&!_n._elementCallbacks.size&&(_n._observerInstance=null,_n._elementCallbacks=null)}static _getElementCallbacks(e){return _n._elementCallbacks?_n._elementCallbacks.get(e):null}static _createObserver(){let e;e="function"==typeof yn.window.ResizeObserver?yn.window.ResizeObserver:Hf,_n._observerInstance=new e(r=>{for(const a of r){const l=_n._getElementCallbacks(a.target);if(l)for(const u of l)u(a)}})}}_n._observerInstance=null,_n._elementCallbacks=null;class Hf{constructor(e){this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(e,100)};this.listenTo(yn.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(e,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const e=[];for(const r of this._elements)this._hasRectChanged(r)&&e.push({target:r,contentRect:this._previousRects.get(r)});e.length&&this._callback(e)}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e))return!1;const r=new Rt(e),a=this._previousRects.get(e),l=!a||!a.isEqual(r);return this._previousRects.set(e,r),l}}function f_({target:c,viewportOffset:e=0}){const r=qf(c);let a=r,l=null;for(;a;){let u;u=nl(a==r?c:l),p_(u,()=>sh(c,a));const p=sh(c,a);if(qx(a,p,e),a.parent!=a){if(l=a.frameElement,a=a.parent,!l)return}else a=null}}function qx(c,e,r){const a=e.clone().moveBy(0,r),l=e.clone().moveBy(0,-r),u=new Rt(c).excludeScrollbarsAndBorders();if(![l,a].every(p=>u.contains(p))){let{scrollX:p,scrollY:m}=c;Zf(l,u)?m-=u.top-e.top+r:Wf(a,u)&&(m+=e.bottom-u.bottom+r),oh(e,u)?p-=u.left-e.left+r:g_(e,u)&&(p+=e.right-u.right+r),c.scrollTo(p,m)}}function p_(c,e){const r=qf(c);let a,l;for(;c!=r.document.body;)l=e(),a=new Rt(c).excludeScrollbarsAndBorders(),a.contains(l)||(Zf(l,a)?c.scrollTop-=a.top-l.top:Wf(l,a)&&(c.scrollTop+=l.bottom-a.bottom),oh(l,a)?c.scrollLeft-=a.left-l.left:g_(l,a)&&(c.scrollLeft+=l.right-a.right)),c=c.parentNode}function Wf(c,e){return c.bottom>e.bottom}function Zf(c,e){return c.top<e.top}function oh(c,e){return c.left<e.left}function g_(c,e){return c.right>e.right}function qf(c){return rh(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function nl(c){if(rh(c)){let e=c.commonAncestorContainer;return vi(e)&&(e=e.parentNode),e}return c.parentNode}function sh(c,e){const r=qf(c),a=new Rt(c);if(r===e)return a;{let l=r;for(;l!=e;){const p=new Rt(l.frameElement).excludeScrollbarsAndBorders();a.moveBy(p.left,p.top),l=l.parent}}return a}function Xn(c){const e=c.next();return e.done?null:e.value}rt(Hf,Xa),Object.assign({},{scrollViewportToShowTarget:f_,scrollAncestorsToShowTarget:function(c){p_(nl(c),()=>new Rt(c))}});class Ui{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new I("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}rt(Ui,Xa),rt(Ui,on);class Pn{constructor(){this._listener=Object.create(Xa)}listenTo(e){this._listener.listenTo(e,"keydown",(r,a)=>{this._listener.fire("_keydown:"+Fi(a),a)})}set(e,r,a={}){const l=mc(e);this._listener.listenTo(this._listener,"_keydown:"+l,(p,m)=>{r(m,()=>{m.preventDefault(),m.stopPropagation(),p.stop()}),p.return=!0},{priority:a.priority})}press(e){return!!this._listener.fire("_keydown:"+Fi(e),e)}destroy(){this._listener.stopListening()}}class Gx extends uo{constructor(e){super(e),this.document.on("keydown",(r,a)=>{if(this.isEnabled&&((l=a.keyCode)==_t.arrowright||l==_t.arrowleft||l==_t.arrowup||l==_t.arrowdown)){const u=new Yn(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,a),u.stop.called&&r.stop()}var l})}observe(){}}class Yx extends uo{constructor(e){super(e);const r=this.document;r.on("keydown",(a,l)=>{if(!this.isEnabled||l.keyCode!=_t.tab||l.ctrlKey)return;const u=new Yn(r,"tab",r.selection.getFirstRange());r.fire(u,l),u.stop.called&&a.stop()})}observe(){}}class m_{constructor(e){this.document=new Za(e),this.domConverter=new Ac(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Z0(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Of(this.document),this.addObserver(n_),this.addObserver(d_),this.addObserver(Hx),this.addObserver(i_),this.addObserver(Fo),this.addObserver(Wx),this.addObserver(Gx),this.addObserver(Yx),$t.isAndroid&&this.addObserver(h_),this.document.on("arrowKey",ea,{priority:"low"}),function zn(c){c.document.on("arrowKey",(e,r)=>function(a,l,u){if(l.keyCode==_t.arrowright){const p=l.domTarget.ownerDocument.defaultView.getSelection(),m=1==p.rangeCount&&p.getRangeAt(0).collapsed;if(m||l.shiftKey){const x=u.domPositionToView(p.focusNode,p.focusOffset);if(null===x)return;let y=!1;const D=x.getLastMatchingPosition(P=>(P.item.is("uiElement")&&(y=!0),!(!P.item.is("uiElement")&&!P.item.is("attributeElement"))));if(y){const P=u.viewPositionToDom(D);m?p.collapse(P.parent,P.offset):p.extend(P.parent,P.offset)}}}}(0,r,c.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,r="main"){const a=this.document.getRoot(r);a._name=e.tagName.toLowerCase();const l={};for(const{name:p,value:m}of Array.from(e.attributes))l[p]=m,"class"===p?this._writer.addClass(m.split(" "),a):this._writer.setAttribute(p,m,a);this._initialDomRootAttributes.set(e,l);const u=()=>{this._writer.setAttribute("contenteditable",!a.isReadOnly,a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};u(),this.domRoots.set(r,e),this.domConverter.bindElements(e,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(e.ownerDocument),a.on("change:children",(p,m)=>this._renderer.markToSync("children",m)),a.on("change:attributes",(p,m)=>this._renderer.markToSync("attributes",m)),a.on("change:text",(p,m)=>this._renderer.markToSync("text",m)),a.on("change:isReadOnly",()=>this.change(u)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(e,r)}detachDomRoot(e){const r=this.domRoots.get(e);Array.from(r.attributes).forEach(({name:l})=>r.removeAttribute(l));const a=this._initialDomRootAttributes.get(r);for(const l in a)r.setAttribute(l,a[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(r)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let r=this._observers.get(e);if(r)return r;r=new e(this),this._observers.set(e,r);for(const[a,l]of this.domRoots)r.observe(l,a);return r.enable(),r}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&f_({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new I("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const r=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){I.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,r){return Oe._createAt(e,r)}createPositionAfter(e){return Oe._createAfter(e)}createPositionBefore(e){return Oe._createBefore(e)}createRange(e,r){return new ct(e,r)}createRangeOn(e){return ct._createOn(e)}createRangeIn(e){return ct._createIn(e)}createSelection(e,r,a){return new Zr(e,r,a)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}rt(m_,on);class ra{constructor(e){this.parent=null,this._attrs=Er(e)}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new I("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new I("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.startOffset),r=r.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const r=[];let a=e.includeSelf?this:this.parent;for(;a;)r[e.parentFirst?"push":"unshift"](a),a=a.parent;return r}getCommonAncestor(e,r={}){const a=this.getAncestors(r),l=e.getAncestors(r);let u=0;for(;a[u]==l[u]&&a[u];)u++;return 0===u?null:a[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),a=e.getPath(),l=Pi(r,a);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<a[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((r,a)=>(r[a[0]]=a[1],r),{})),e}is(e){return"node"===e||"model:node"===e}_clone(){return new ra(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,r){this._attrs.set(e,r)}_setAttributesTo(e){this._attrs=Er(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}class en extends ra{constructor(e,r){super(r),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new en(this.data,this.getAttributes())}static fromJSON(e){return new en(e.data,e.attributes)}}class Gr{constructor(e,r,a){if(this.textNode=e,r<0||r>e.offsetSize)throw new I("model-textproxy-wrong-offsetintext",this);if(a<0||r+a>e.offsetSize)throw new I("model-textproxy-wrong-length",this);this.data=e.data.substring(r,r+a),this.offsetInText=r}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const r=[];let a=e.includeSelf?this:this.parent;for(;a;)r[e.parentFirst?"push":"unshift"](a),a=a.parent;return r}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class oa{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,r)=>e+r.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const r=this._nodes.indexOf(e);return-1==r?null:r}getNodeStartOffset(e){const r=this.getNodeIndex(e);return null===r?null:this._nodes.slice(0,r).reduce((a,l)=>a+l.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const r=this._nodes[e];if(!r)throw new I("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(e){let r=0;for(const a of this._nodes){if(e>=r&&e<r+a.offsetSize)return this.getNodeIndex(a);r+=a.offsetSize}if(r!=e)throw new I("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,r){for(const a of r)if(!(a instanceof ra))throw new I("model-nodelist-insertnodes-not-node",this);this._nodes.splice(e,0,...r)}_removeNodes(e,r=1){return this._nodes.splice(e,r)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class zt extends ra{constructor(e,r,a){super(r),this.name=e,this._children=new oa,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,r=null){return r?r===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let r=this;for(const a of e)r=r.getChild(r.offsetToIndex(a));return r}findAncestor(e,r={includeSelf:!1}){let a=r.includeSelf?this:this.parent;for(;a;){if(a.name===e)return a;a=a.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const r of this._children)e.children.push(r.toJSON())}return e}_clone(e=!1){const r=e?Array.from(this._children).map(a=>a._clone(!0)):null;return new zt(this.name,this.getAttributes(),r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const a="string"==typeof(l=r)?[new en(l)]:(wi(l)||(l=[l]),Array.from(l).map(u=>"string"==typeof u?new en(u):u instanceof Gr?new en(u.data,u.getAttributes()):u));var l;for(const l of a)null!==l.parent&&l._remove(),l.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,r=1){const a=this._children._removeNodes(e,r);for(const l of a)l.parent=null;return a}static fromJSON(e){let r=null;if(e.children){r=[];for(const a of e.children)r.push(a.name?zt.fromJSON(a):en.fromJSON(a))}return new zt(e.name,e.attributes,r)}}class No{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new I("model-tree-walker-no-start-position",null);const r=e.direction||"forward";if("forward"!=r&&"backward"!=r)throw new I("model-tree-walker-unknown-direction",e,{direction:r});this.direction=r,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():Te._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let r,a,l,u;do{l=this.position,u=this._visitedParent,({done:r,value:a}=this.next())}while(!r&&e(a));r||(this.position=l,this._visitedParent=u)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,r=this.position.clone(),a=this._visitedParent;if(null===a.parent&&r.offset===a.maxOffset)return{done:!0};if(a===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0};const l=il(r,a),u=l||__(r,a,l);if(u instanceof zt)return this.shallow?r.offset++:(r.path.push(0),this._visitedParent=u),this.position=r,sa("elementStart",u,e,r,1);if(u instanceof en){let p;if(this.singleCharacters)p=1;else{let v=u.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<v&&(v=this.boundaries.end.offset),p=v-r.offset}const b=new Gr(u,r.offset-u.startOffset,p);return r.offset+=p,this.position=r,sa("text",b,e,r,p)}return r.path.pop(),r.offset++,this.position=r,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():sa("elementEnd",a,e,r)}_previous(){const e=this.position,r=this.position.clone(),a=this._visitedParent;if(null===a.parent&&0===r.offset)return{done:!0};if(a==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0};const l=r.parent,u=il(r,l),p=u||Gf(r,l,u);if(p instanceof zt)return r.offset--,this.shallow?(this.position=r,sa("elementStart",p,e,r,1)):(r.path.push(p.maxOffset),this.position=r,this._visitedParent=p,this.ignoreElementEnd?this._previous():sa("elementEnd",p,e,r));if(p instanceof en){let m;if(this.singleCharacters)m=1;else{let x=p.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>x&&(x=this.boundaries.start.offset),m=r.offset-x}const v=new Gr(p,r.offset-p.startOffset-m,m);return r.offset-=m,this.position=r,sa("text",v,e,r,m)}return r.path.pop(),this.position=r,this._visitedParent=a.parent,sa("elementStart",a,e,r,1)}}function sa(c,e,r,a,l){return{done:!1,value:{type:c,item:e,previousPosition:r,nextPosition:a,length:l}}}class Te{constructor(e,r,a="toNone"){if(!e.is("element")&&!e.is("documentFragment"))throw new I("model-position-root-invalid",e);if(!(r instanceof Array)||0===r.length)throw new I("model-position-path-incorrect-format",e,{path:r});e.is("rootElement")?r=r.slice():(r=[...e.getPath(),...r],e=e.root),this.root=e,this.path=r,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let r=0;r<this.path.length-1;r++)if(e=e.getChild(e.offsetToIndex(this.path[r])),!e)throw new I("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new I("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return il(this,this.parent)}get nodeAfter(){const e=this.parent;return __(this,e,il(this,e))}get nodeBefore(){const e=this.parent;return Gf(this,e,il(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const r=Pi(this.path,e.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<e.path[r]?"before":"after"}}getLastMatchingPosition(e,r={}){r.startPosition=this;const a=new No(r);return a.skip(e),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const r=this.parent;return r.is("element")?r.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const r=Pi(this.path,e.path),a="string"==typeof r?Math.min(this.path.length,e.path.length):r;return this.path.slice(0,a)}getCommonAncestor(e){const r=this.getAncestors(),a=e.getAncestors();let l=0;for(;r[l]==a[l]&&r[l];)l++;return 0===l?null:r[l-1]}getShiftedBy(e){const r=this.clone(),a=r.offset+e;return r.offset=a<0?0:a,r}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){let r=null,a=null;switch(this.compareWith(e)){case"same":return!0;case"before":r=Te._createAt(this),a=Te._createAt(e);break;case"after":r=Te._createAt(e),a=Te._createAt(this);break;default:return!1}let l=r.parent;for(;r.path.length+a.path.length;){if(r.isEqual(a))return!0;if(r.path.length>a.path.length){if(r.offset!==l.maxOffset)return!1;r.path=r.path.slice(0,-1),l=l.parent,r.offset++}else{if(0!==a.offset)return!1;a.path=a.path.slice(0,-1)}}}is(e){return"position"===e||"model:position"===e}hasSameParentAs(e){return this.root===e.root&&"same"==Pi(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let r;switch(e.type){case"insert":r=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(e);break;case"split":r=this._getTransformedBySplitOperation(e);break;case"merge":r=this._getTransformedByMergeOperation(e);break;default:r=Te._createAt(this)}return r}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const r=e.movedRange;let a;return r.containsPosition(this)||r.start.isEqual(this)?(a=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(a=a._getTransformedByDeletion(e.deletionPosition,1))):a=this.isEqual(e.deletionPosition)?Te._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),a}_getTransformedByDeletion(e,r){const a=Te._createAt(this);if(this.root!=e.root)return a;if("same"==Pi(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+r>this.offset)return null;a.offset-=r}}else if("prefix"==Pi(e.getParentPath(),this.getParentPath())){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+r>this.path[l])return null;a.path[l]-=r}}return a}_getTransformedByInsertion(e,r){const a=Te._createAt(this);if(this.root!=e.root)return a;if("same"==Pi(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(a.offset+=r);else if("prefix"==Pi(e.getParentPath(),this.getParentPath())){const l=e.path.length-1;e.offset<=this.path[l]&&(a.path[l]+=r)}return a}_getTransformedByMove(e,r,a){if(r=r._getTransformedByDeletion(e,a),e.isEqual(r))return Te._createAt(this);const l=this._getTransformedByDeletion(e,a);return null===l||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(a).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,r):l._getTransformedByInsertion(r,a)}_getCombined(e,r){const a=e.path.length-1,l=Te._createAt(r);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[a]-e.offset,l.path=[...l.path,...this.path.slice(a+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,r,a="toNone"){if(e instanceof Te)return new Te(e.root,e.path,e.stickiness);{const l=e;if("end"==r)r=l.maxOffset;else{if("before"==r)return this._createBefore(l,a);if("after"==r)return this._createAfter(l,a);if(0!==r&&!r)throw new I("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new I("model-position-parent-incorrect",[this,e]);const u=l.getPath();return u.push(r),new this(l.root,u,a)}}static _createAfter(e,r){if(!e.parent)throw new I("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,r)}static _createBefore(e,r){if(!e.parent)throw new I("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,r)}static fromJSON(e,r){if("$graveyard"===e.root){const a=new Te(r.graveyard,e.path);return a.stickiness=e.stickiness,a}if(!r.getRoot(e.root))throw new I("model-position-fromjson-no-root",r,{rootName:e.root});return new Te(r.getRoot(e.root),e.path,e.stickiness)}}function il(c,e){const r=e.getChild(e.offsetToIndex(c.offset));return r&&r.is("$text")&&r.startOffset<c.offset?r:null}function __(c,e,r){return null!==r?null:e.getChild(e.offsetToIndex(c.offset))}function Gf(c,e,r){return null!==r?null:e.getChild(e.offsetToIndex(c.offset)-1)}class ke{constructor(e,r=null){this.start=Te._createAt(e),this.end=Te._createAt(r||e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new No({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Pi(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const a=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return a&&l}containsItem(e){const r=Te._createBefore(e);return this.containsPosition(r)||this.start.isEqual(r)}is(e){return"range"===e||"model:range"===e}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new ke(this.start,e.start)),this.containsPosition(e.end)&&r.push(new ke(e.end,this.end))):r.push(new ke(this.start,this.end)),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,a=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(a=e.end),new ke(r,a)}return null}getJoined(e,r=!1){let a=this.isIntersecting(e);if(a||(a=this.start.isBefore(e.start)?r?this.end.isTouching(e.start):this.end.isEqual(e.start):r?e.end.isTouching(this.start):e.end.isEqual(this.start)),!a)return null;let l=this.start,u=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(u)&&(u=e.end),new ke(l,u)}getMinimalFlatRanges(){const e=[],r=this.start.getCommonPath(this.end).length,a=Te._createAt(this.start);let l=a.parent;for(;a.path.length>r+1;){const u=l.maxOffset-a.offset;0!==u&&e.push(new ke(a,a.getShiftedBy(u))),a.path=a.path.slice(0,-1),a.offset++,l=l.parent}for(;a.path.length<=this.end.path.length;){const u=this.end.path[a.path.length-1],p=u-a.offset;0!==p&&e.push(new ke(a,a.getShiftedBy(p))),a.offset=u,a.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new No(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new No(e);for(const a of r)yield a.item}*getPositions(e={}){e.boundaries=this;const r=new No(e);yield r.position;for(const a of r)yield a.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ke(this.start,this.end)]}getTransformedByOperations(e){const r=[new ke(this.start,this.end)];for(const a of e)for(let l=0;l<r.length;l++){const u=r[l].getTransformedByOperation(a);r.splice(l,1,...u),l+=u.length-1}for(let a=0;a<r.length;a++){const l=r[a];for(let u=a+1;u<r.length;u++){const p=r[u];(l.containsRange(p)||p.containsRange(l)||l.isEqual(p))&&r.splice(u,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,r=this.end.nodeBefore;return e&&e.is("element")&&e===r?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,r=!1){return this._getTransformedByInsertion(e.position,e.howMany,r)}_getTransformedByMoveOperation(e,r=!1){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,r)}_getTransformedBySplitOperation(e){const r=this.start._getTransformedBySplitOperation(e);let a=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(a=this.end.getShiftedBy(1)),r.root!=a.root&&(a=this.end.getShiftedBy(-1)),new ke(r,a)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ke(this.start);let r=this.start._getTransformedByMergeOperation(e),a=this.end._getTransformedByMergeOperation(e);return r.root!=a.root&&(a=this.end.getShiftedBy(-1)),r.isAfter(a)?(e.sourcePosition.isBefore(e.targetPosition)?(r=Te._createAt(a),r.offset=0):(e.deletionPosition.isEqual(r)||(a=e.deletionPosition),r=e.targetPosition),new ke(r,a)):new ke(r,a)}_getTransformedByInsertion(e,r,a=!1){if(a&&this.containsPosition(e))return[new ke(this.start,e),new ke(e.getShiftedBy(r),this.end._getTransformedByInsertion(e,r))];{const l=new ke(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,r),l.end=l.end._getTransformedByInsertion(e,r),[l]}}_getTransformedByMove(e,r,a,l=!1){if(this.isCollapsed){const y=this.start._getTransformedByMove(e,r,a);return[new ke(y)]}const u=ke._createFromPositionAndShift(e,a),p=r._getTransformedByDeletion(e,a);if(this.containsPosition(r)&&!l&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const y=this.start._getTransformedByMove(e,r,a),D=this.end._getTransformedByMove(e,r,a);return[new ke(y,D)]}let m;const b=this.getDifference(u);let v=null;const x=this.getIntersection(u);if(1==b.length?v=new ke(b[0].start._getTransformedByDeletion(e,a),b[0].end._getTransformedByDeletion(e,a)):2==b.length&&(v=new ke(this.start,this.end._getTransformedByDeletion(e,a))),m=v?v._getTransformedByInsertion(p,a,null!==x||l):[],x){const y=new ke(x.start._getCombined(u.start,p),x.end._getCombined(u.start,p));2==m.length?m.splice(1,0,y):m.push(y)}return m}_getTransformedByDeletion(e,r){let a=this.start._getTransformedByDeletion(e,r),l=this.end._getTransformedByDeletion(e,r);return null==a&&null==l?null:(null==a&&(a=e),null==l&&(l=e),new ke(a,l))}static _createFromPositionAndShift(e,r){const a=e,l=e.getShiftedBy(r);return r>0?new this(a,l):new this(l,a)}static _createIn(e){return new this(Te._createAt(e,0),Te._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Te._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new I("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const r=e[0];e.sort((u,p)=>u.start.isAfter(p.start)?1:-1);const a=e.indexOf(r),l=new this(r.start,r.end);if(a>0)for(let u=a-1;e[u].end.isEqual(l.start);u++)l.start=Te._createAt(e[u].start);for(let u=a+1;u<e.length&&e[u].start.isEqual(l.end);u++)l.end=Te._createAt(e[u].end);return l}static fromJSON(e,r){return new this(Te.fromJSON(e.start,r),Te.fromJSON(e.end,r))}}class rl{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,r)=>{if(r.viewPosition)return;const a=this._modelToViewMapping.get(r.modelPosition.parent);if(!a)throw new I("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(a,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,r)=>{if(r.modelPosition)return;const a=this.findMappedViewAncestor(r.viewPosition),l=this._viewToModelMapping.get(a),u=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,a);r.modelPosition=Te._createAt(l,u)},{priority:"low"})}bindElements(e,r){this._modelToViewMapping.set(e,r),this._viewToModelMapping.set(r,e)}unbindViewElement(e,r={}){const a=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);r.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(a)==e&&this._modelToViewMapping.delete(a))}unbindModelElement(e){const r=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(r)==e&&this._viewToModelMapping.delete(r)}bindElementToMarker(e,r){const a=this._markerNameToElements.get(r)||new Set;a.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(r),this._markerNameToElements.set(r,a),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,r){const a=this._markerNameToElements.get(r);a&&(a.delete(e),0==a.size&&this._markerNameToElements.delete(r));const l=this._elementToMarkerNames.get(e);l&&(l.delete(r),0==l.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,r]of this._deferredBindingRemovals)e.root==r&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ke(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ct(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const r={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(e,r={isPhantom:!1}){const a={modelPosition:e,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(e){const r=this._markerNameToElements.get(e);if(!r)return null;const a=new Set;for(const l of r)if(l.is("attributeElement"))for(const u of l.getElementsWithSameId())a.add(u);else a.add(l);return a}registerViewToModelLength(e,r){this._viewToModelLengthCallbacks.set(e,r)}findMappedViewAncestor(e){let r=e.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(e,r,a){if(a!=e)return this._toModelOffset(e.parent,e.index,a)+this._toModelOffset(e,r,e);if(e.is("$text"))return r;let l=0;for(let u=0;u<r;u++)l+=this.getModelLength(e.getChild(u));return l}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let r=0;for(const a of e.getChildren())r+=this.getModelLength(a);return r}}findPositionIn(e,r){let a,l=0,u=0,p=0;if(e.is("$text"))return new Oe(e,r);for(;u<r;)a=e.getChild(p),l=this.getModelLength(a),u+=l,p++;return u==r?this._moveViewPositionToTextNode(new Oe(e,p)):this.findPositionIn(a,r-(u-l))}_moveViewPositionToTextNode(e){const r=e.nodeBefore,a=e.nodeAfter;return r instanceof et?new Oe(r,r.data.length):a instanceof et?new Oe(a,0):e}}rt(rl,St);class ah{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,r){r=lh(r),e instanceof Gr&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(r,!0)}consume(e,r){return r=lh(r),e instanceof Gr&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,r)&&(this._consumable.get(e).set(r,!1),!0)}test(e,r){r=lh(r),e instanceof Gr&&(e=this._getSymbolForTextProxy(e));const a=this._consumable.get(e);if(void 0===a)return null;const l=a.get(r);return void 0===l?null:l}revert(e,r){r=lh(r),e instanceof Gr&&(e=this._getSymbolForTextProxy(e));const a=this.test(e,r);return!1===a?(this._consumable.get(e).set(r,!0),!0):!0!==a&&null}verifyAllConsumed(e){const r=[];for(const[a,l]of this._consumable)for(const[u,p]of l){const m=u.split(":")[0];p&&e==m&&r.push({event:u,item:a.name||a.description})}if(r.length)throw new I("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(e){let r=null;const a=this._textProxyRegistry.get(e.startOffset);if(a){const l=a.get(e.endOffset);l&&(r=l.get(e.parent))}return r||(r=this._addSymbolForTextProxy(e)),r}_addSymbolForTextProxy(e){const r=e.startOffset,a=e.endOffset,l=e.parent,u=Symbol("$textProxy:"+e.data);let p,m;return p=this._textProxyRegistry.get(r),p||(p=new Map,this._textProxyRegistry.set(r,p)),m=p.get(a),m||(m=new Map,p.set(a,m)),m.set(l,u),u}}function lh(c){const e=c.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?c:e.length>1?e[0]+":"+e[1]:e[0]}class Oo{constructor(e){this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,r,a){const l=this._createConversionApi(a,e.getRefreshedItems());for(const p of e.getMarkersToRemove())this._convertMarkerRemove(p.name,p.range,l);const u=this._reduceChanges(e.getChanges());for(const p of u)"insert"===p.type?this._convertInsert(ke._createFromPositionAndShift(p.position,p.length),l):"reinsert"===p.type?this._convertReinsert(ke._createFromPositionAndShift(p.position,p.length),l):"remove"===p.type?this._convertRemove(p.position,p.length,p.name,l):this._convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,l);for(const p of l.mapper.flushUnboundMarkerNames()){const m=r.get(p).getRange();this._convertMarkerRemove(p,m,l),this._convertMarkerAdd(p,m,l)}for(const p of e.getMarkersToAdd())this._convertMarkerAdd(p.name,p.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(e,r,a,l={}){const u=this._createConversionApi(a,void 0,l);this._convertInsert(e,u);for(const[p,m]of r)this._convertMarkerAdd(p,m,u);u.consumable.verifyAllConsumed("insert")}convertSelection(e,r,a){const l=Array.from(r.getMarkersAtPosition(e.getFirstPosition())),u=this._createConversionApi(a);if(this._addConsumablesForSelection(u.consumable,e,l),this.fire("selection",{selection:e},u),e.isCollapsed){for(const p of l){const m=p.getRange();if(!ch(e.getFirstPosition(),p,u.mapper))continue;const b={item:e,markerName:p.name,markerRange:m};u.consumable.test(e,"addMarker:"+p.name)&&this.fire("addMarker:"+p.name,b,u)}for(const p of e.getAttributeKeys()){const m={item:e,range:e.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:e.getAttribute(p)};u.consumable.test(e,"attribute:"+m.attributeKey)&&this.fire("attribute:"+m.attributeKey+":$text",m,u)}}}_convertInsert(e,r,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,Array.from(e));for(const l of Array.from(e.getWalker({shallow:!0})).map(ol))this._testAndFire("insert",l,r)}_convertRemove(e,r,a,l){this.fire("remove:"+a,{position:e,length:r},l)}_convertAttribute(e,r,a,l,u){this._addConsumablesForRange(u.consumable,e,`attribute:${r}`);for(const p of e){const m={item:p.item,range:ke._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:r,attributeOldValue:a,attributeNewValue:l};this._testAndFire(`attribute:${r}`,m,u)}}_convertReinsert(e,r){const a=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,a);for(const l of a.map(ol))this._testAndFire("insert",{...l,reconversion:!0},r)}_convertMarkerAdd(e,r,a){if("$graveyard"==r.root.rootName)return;const l="addMarker:"+e;if(a.consumable.add(r,l),this.fire(l,{markerName:e,markerRange:r},a),a.consumable.consume(r,l)){this._addConsumablesForRange(a.consumable,r,l);for(const u of r.getItems()){if(!a.consumable.test(u,l))continue;const p={item:u,range:ke._createOn(u),markerName:e,markerRange:r};this.fire(l,p,a)}}}_convertMarkerRemove(e,r,a){"$graveyard"!=r.root.rootName&&this.fire("removeMarker:"+e,{markerName:e,markerRange:r},a)}_reduceChanges(e){const r={changes:e};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(e,r){for(const a of r){const l=a.item;if(null===e.test(l,"insert")){e.add(l,"insert");for(const u of l.getAttributeKeys())e.add(l,"attribute:"+u)}}return e}_addConsumablesForRange(e,r,a){for(const l of r.getItems())e.add(l,a);return e}_addConsumablesForSelection(e,r,a){e.add(r,"selection");for(const l of a)e.add(r,"addMarker:"+l.name);for(const l of r.getAttributeKeys())e.add(r,"attribute:"+l);return e}_testAndFire(e,r,a){const l=`${e}:${r.item.name||"$text"}`,u=r.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(r.item):r.item,p=this._firedEventsMap.get(a),m=p.get(u);if(m){if(m.has(l))return;m.add(l)}else p.set(u,new Set([l]));this.fire(l,r,a)}_testAndFireAddAttributes(e,r){const a={item:e,range:ke._createOn(e)};for(const l of a.item.getAttributeKeys())a.attributeKey=l,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(l),this._testAndFire(`attribute:${l}`,a,r)}_createConversionApi(e,r=new Set,a={}){const l={...this._conversionApi,consumable:new ah,writer:e,options:a,convertItem:u=>this._convertInsert(ke._createOn(u),l),convertChildren:u=>this._convertInsert(ke._createIn(u),l,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,l),canReuseView:u=>!r.has(l.mapper.toModelElement(u))};return this._firedEventsMap.set(l,new Map),l}}function ch(c,e,r){const a=e.getRange(),l=Array.from(c.getAncestors());return l.shift(),l.reverse(),!l.some(u=>{if(a.containsItem(u))return!!r.toViewElement(u).getCustomProperty("addHighlight")})}function ol(c){return{item:c.item,range:ke._createFromPositionAndShift(c.previousPosition,c.length)}}rt(Oo,St);class Yr{constructor(e,r,a){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,r,a)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let a=!1;for(const l of e._ranges)if(r.isEqual(l)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ke(e.start,e.end)}getFirstRange(){let e=null;for(const r of this._ranges)e&&!r.start.isBefore(e.start)||(e=r);return e?new ke(e.start,e.end):null}getLastRange(){let e=null;for(const r of this._ranges)e&&!r.end.isAfter(e.end)||(e=r);return e?new ke(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(e,r,a){if(null===e)this._setRanges([]);else if(e instanceof Yr)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof ke)this._setRanges([e],!!r&&!!r.backward);else if(e instanceof Te)this._setRanges([new ke(e)]);else if(e instanceof ra){const l=!!a&&!!a.backward;let u;if("in"==r)u=ke._createIn(e);else if("on"==r)u=ke._createOn(e);else{if(void 0===r)throw new I("model-selection-setto-required-second-parameter",[this,e]);u=new ke(Te._createAt(e,r))}this._setRanges([u],l)}else{if(!wi(e))throw new I("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,r&&!!r.backward)}}_setRanges(e,r=!1){const a=(e=Array.from(e)).some(l=>{if(!(l instanceof ke))throw new I("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(u=>!u.isEqual(l))});if(e.length!==this._ranges.length||a){this._removeAllRanges();for(const l of e)this._pushRange(l);this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0})}}setFocus(e,r){if(null===this.anchor)throw new I("model-selection-setfocus-no-ranges",[this,e]);const a=Te._createAt(e,r);if("same"==a.compareWith(this.focus))return;const l=this.anchor;this._ranges.length&&this._popRange(),"before"==a.compareWith(l)?(this._pushRange(new ke(a,l)),this._lastRangeBackward=!0):(this._pushRange(new ke(l,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,r){this.getAttribute(e)!==r&&(this._attrs.set(e,r),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(e){return"selection"===e||"model:selection"===e}*getSelectedBlocks(){const e=new WeakSet;for(const r of this.getRanges()){const a=b_(r.start,e);a&&Bo(a,r)&&(yield a);for(const u of r.getWalker()){const p=u.item;"elementEnd"==u.type&&dh(p,e,r)&&(yield p)}const l=b_(r.end,e);l&&!r.end.isTouching(Te._createAt(l,0))&&Bo(l,r)&&(yield l)}}containsEntireContent(e=this.anchor.root){const r=Te._createAt(e,0),a=Te._createAt(e,"end");return r.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ke(e.start,e.end))}_checkRange(e){for(let r=0;r<this._ranges.length;r++)if(e.isIntersecting(this._ranges[r]))throw new I("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[r]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ec(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&c.parent)}function dh(c,e,r){return Ec(c,e)&&Bo(c,r)}function b_(c,e){const r=c.parent.root.document.model.schema,a=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const u=a.find(p=>!l&&(l=r.isLimit(p),!l&&Ec(p,e)));return a.forEach(p=>e.add(p)),u}function Bo(c,e){const r=function(a){const l=a.root.document.model.schema;let u=a.parent;for(;u;){if(l.isBlock(u))return u;u=u.parent}}(c);return!r||!e.containsRange(ke._createOn(r),!0)}rt(Yr,St);class Ir extends ke{constructor(e,r){super(e,r),Kx.call(this)}detach(){this.stopListening()}is(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}toRange(){return new ke(this.start,this.end)}static fromRange(e){return new Ir(e.start,e.end)}}function Kx(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const r=e[0];r.isDocumentOperation&&$x.call(this,r)},{priority:"low"})}function $x(c){const e=this.getTransformedByOperation(c),r=ke._createFromRanges(e),a=!r.isEqual(this),l=function(p,m){switch(m.type){case"insert":return p.containsPosition(m.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(m.sourcePosition)||p.start.isEqual(m.sourcePosition)||p.containsPosition(m.targetPosition);case"split":return p.containsPosition(m.splitPosition)||p.containsPosition(m.insertionPosition)}return!1}(this,c);let u=null;if(a){"$graveyard"==r.root.rootName&&(u="remove"==c.type?c.sourcePosition:c.deletionPosition);const p=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",p,{deletionPosition:u})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:u})}rt(Ir,St);const Lo="selection:";class Kr{constructor(e){this._selection=new Yf(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}is(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}_setFocus(e,r){this._selection.setFocus(e,r)}_setTo(e,r,a){this._selection.setTo(e,r,a)}_setAttribute(e,r){this._selection.setAttribute(e,r)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Lo+e}static _isStoreAttributeKey(e){return e.startsWith(Lo)}}rt(Kr,St);class Yf extends Yr{constructor(e){super(),this.markers=new ar({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(r,a)=>{const l=a[0];l.isDocumentOperation&&"marker"!=l.type&&"rename"!=l.type&&"noop"!=l.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const r of this.getRanges())if(!this._document._validateSelectionRange(r))throw new I("document-selection-wrong-position",this,{range:r})}),this.listenTo(this._model.markers,"update",(r,a,l,u)=>{this._updateMarker(a,u)}),this.listenTo(this._document,"change",(r,a)=>{!function(l,u){const p=l.document.differ;for(const m of p.getChanges()){if("insert"!=m.type)continue;const b=m.position.parent;m.length===b.maxOffset&&l.enqueueChange(u,v=>{const x=Array.from(b.getAttributeKeys()).filter(y=>y.startsWith(Lo));for(const y of x)v.removeAttribute(y,b)})}}(this._model,a)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,r,a){super.setTo(e,r,a),this._updateAttributes(!0),this._updateMarkers()}setFocus(e,r){super.setFocus(e,r),this._updateAttributes(!0),this._updateMarkers()}setAttribute(e,r){this._setAttribute(e,r)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}removeAttribute(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}overrideGravity(){const e=ue();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new I("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(e){const r=this._prepareRange(e);r&&this._ranges.push(r)}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const r=Ir.fromRange(e);return r.on("change:range",(a,l,u)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const p=this._ranges.indexOf(r);this._ranges.splice(p,1),r.detach()}}),r}_updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let r=!1;for(const l of this._model.markers){const u=l.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const p=l.getRange();for(const m of this.getRanges())p.containsRange(m,!m.isCollapsed)&&e.push(l)}const a=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),r=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),r=!0);r&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(e,r){const a=e.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let l=!1;const u=Array.from(this.markers),p=this.markers.has(e);if(r){let m=!1;for(const b of this.getRanges())if(r.containsRange(b,!b.isCollapsed)){m=!0;break}m&&!p?(this.markers.add(e),l=!0):!m&&p&&(this.markers.remove(e),l=!0)}else p&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(e){const r=Er(this._getSurroundingAttributes()),a=Er(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,p]of this._attributePriority)"low"==p&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(r);const l=[];for(const[u,p]of this.getAttributes())a.has(u)&&a.get(u)===p||l.push(u);for(const[u]of a)this.hasAttribute(u)||l.push(u);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,r,a=!0){const l=a?"normal":"low";return("low"!=l||"normal"!=this._attributePriority.get(e))&&super.getAttribute(e)!==r&&(this._attrs.set(e,r),this._attributePriority.set(e,l),!0)}_removeAttribute(e,r=!0){const a=r?"normal":"low";return!("low"==a&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,a),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const r=new Set;for(const[a,l]of this.getAttributes())e.get(a)!==l&&this._removeAttribute(a,!1);for(const[a,l]of e)this._setAttribute(a,l,!1)&&r.add(a);return r}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const r of e.getAttributeKeys())r.startsWith(Lo)&&(yield[r.substr(Lo.length),e.getAttribute(r)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),r=this._model.schema;let a=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,u=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(a=hh(l)),a||(a=hh(u)),!this.isGravityOverridden&&!a){let p=l;for(;p&&!r.isInline(p)&&!a;)p=p.previousSibling,a=hh(p)}if(!a){let p=u;for(;p&&!r.isInline(p)&&!a;)p=p.nextSibling,a=hh(p)}a||(a=this._getStoredAttributes())}else{const l=this.getFirstRange();for(const u of l){if(u.item.is("element")&&r.isObject(u.item))break;if("text"==u.type){a=u.item.getAttributes();break}}}return a}_fixGraveyardSelection(e){const r=this._model.schema.getNearestSelectionRange(e);r&&this._pushRange(r)}}function hh(c){return c instanceof Gr||c instanceof en?c.getAttributes():null}class k_{constructor(e){this._dispatchers=e}add(e){for(const r of this._dispatchers)e(r);return this}}const ur=function(c){return ls(c,5)};class w_ extends k_{elementToElement(e){return this.add(function(r){return(r=ur(r)).model=sl(r.model),r.view=al(r.view,"container"),r.model.attributes.length&&(r.model.children=!0),a=>{a.on("insert:"+r.model.name,function(l,u=Qx){return(p,m,b)=>{if(!u(m.item,b.consumable,{preflight:!0}))return;const v=l(m.item,b,m);if(!v)return;u(m.item,b.consumable);const x=b.mapper.toViewPosition(m.range.start);b.mapper.bindElements(m.item,v),b.writer.insert(x,v),b.convertAttributes(m.item),Qf(v,m.item.getChildren(),b,{reconversion:m.reconversion})}}(r.view,A_(r.model)),{priority:r.converterPriority||"normal"}),(r.model.children||r.model.attributes.length)&&a.on("reduceChanges",C_(r.model),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(r){return(r=ur(r)).model=sl(r.model),r.view=al(r.view,"container"),r.model.children=!0,a=>{if(a._conversionApi.schema.checkChild(r.model.name,"$text"))throw new I("conversion-element-to-structure-disallowed-text",a,{elementName:r.model.name});var l,u;a.on("insert:"+r.model.name,(l=r.view,u=A_(r.model),(p,m,b)=>{if(!u(m.item,b.consumable,{preflight:!0}))return;const v=new Map;var D,P,B;b.writer._registerSlotFactory((D=m.item,P=v,B=b,(R,H="children")=>{const ee=R.createContainerElement("$slot");let ce=null;if("children"===H)ce=Array.from(D.getChildren());else{if("function"!=typeof H)throw new I("conversion-slot-mode-unknown",B.dispatcher,{modeOrFilter:H});ce=Array.from(D.getChildren()).filter(Ce=>H(Ce))}return P.set(ee,ce),ee}));const x=l(m.item,b,m);if(b.writer._clearSlotFactory(),!x)return;(function(D,P,B){const R=Array.from(P.values()).flat(),H=new Set(R);if(H.size!=R.length)throw new I("conversion-slot-filter-overlap",B.dispatcher,{element:D});if(H.size!=D.childCount)throw new I("conversion-slot-filter-incomplete",B.dispatcher,{element:D})})(m.item,v,b),u(m.item,b.consumable);const y=b.mapper.toViewPosition(m.range.start);b.mapper.bindElements(m.item,x),b.writer.insert(y,x),b.convertAttributes(m.item),function(D,P,B,R){B.mapper.on("modelToViewPosition",ce,{priority:"highest"});let H=null,ee=null;for([H,ee]of P)Qf(D,ee,B,R),B.writer.move(B.writer.createRangeIn(H),B.writer.createPositionBefore(H)),B.writer.remove(H);function ce(Ce,Ke){const Qt=ee.indexOf(Ke.modelPosition.nodeAfter);Qt<0||(Ke.viewPosition=Ke.mapper.findPositionIn(H,Qt))}B.mapper.off("modelToViewPosition",ce)}(x,v,b,{reconversion:m.reconversion})}),{priority:r.converterPriority||"normal"}),a.on("reduceChanges",C_(r.model),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(r){let a="attribute:"+((r=ur(r)).model.key?r.model.key:r.model);if(r.model.name&&(a+=":"+r.model.name),r.model.values)for(const u of r.model.values)r.view[u]=al(r.view[u],"attribute");else r.view=al(r.view,"attribute");const l=ll(r);return u=>{var p;u.on(a,(p=l,(m,b,v)=>{if(!v.consumable.test(b.item,m.name))return;const x=p(b.attributeOldValue,v,b),y=p(b.attributeNewValue,v,b);if(!x&&!y)return;v.consumable.consume(b.item,m.name);const D=v.writer;if(b.item instanceof Yr||b.item instanceof Kr)D.wrap(D.document.selection.getFirstRange(),y);else{let B=v.mapper.toViewRange(b.range);null!==b.attributeOldValue&&x&&(B=D.unwrap(B,x)),null!==b.attributeNewValue&&y&&D.wrap(B,y)}}),{priority:r.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(r){let a="attribute:"+((r=ur(r)).model.key?r.model.key:r.model);if(r.model.name&&(a+=":"+r.model.name),r.model.values)for(const u of r.model.values)r.view[u]=x_(r.view[u]);else r.view=x_(r.view);const l=ll(r);return u=>{var p;u.on(a,(p=l,(m,b,v)=>{if(!v.consumable.test(b.item,m.name))return;const x=p(b.attributeOldValue,v,b),y=p(b.attributeNewValue,v,b);if(!x&&!y)return;v.consumable.consume(b.item,m.name);const D=v.mapper.toViewElement(b.item),P=v.writer;if(!D)throw new I("conversion-attribute-to-attribute-on-text",v.dispatcher,b);if(null!==b.attributeOldValue&&x)if("class"==x.key){const B=li(x.value);for(const R of B)P.removeClass(R,D)}else if("style"==x.key){const B=Object.keys(x.value);for(const R of B)P.removeStyle(R,D)}else P.removeAttribute(x.key,D);if(null!==b.attributeNewValue&&y)if("class"==y.key){const B=li(y.value);for(const R of B)P.addClass(R,D)}else if("style"==y.key){const B=Object.keys(y.value);for(const R of B)P.setStyle(R,y.value[R],D)}else P.setAttribute(y.key,y.value,D)}),{priority:r.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(r){return(r=ur(r)).view=al(r.view,"ui"),a=>{var l;a.on("addMarker:"+r.model,(l=r.view,(u,p,m)=>{p.isOpening=!0;const b=l(p,m);p.isOpening=!1;const v=l(p,m);if(!b||!v)return;const x=p.markerRange;if(x.isCollapsed&&!m.consumable.consume(x,u.name))return;for(const P of x)if(!m.consumable.consume(P.item,u.name))return;const y=m.mapper,D=m.writer;D.insert(y.toViewPosition(x.start),b),m.mapper.bindElementToMarker(b,p.markerName),x.isCollapsed||(D.insert(y.toViewPosition(x.end),v),m.mapper.bindElementToMarker(v,p.markerName)),u.stop()}),{priority:r.converterPriority||"normal"}),a.on("removeMarker:"+r.model,(u,p,m)=>{const b=m.mapper.markerNameToElements(p.markerName);if(b){for(const v of b)m.mapper.unbindElementFromMarkerName(v,p.markerName),m.writer.clear(m.writer.createRangeOn(v),v);m.writer.clearClonedElementsGroup(p.markerName),u.stop()}},{priority:r.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(r){return a=>{var l,u;a.on("addMarker:"+r.model,(l=r.view,(u,p,m)=>{if(!p.item||!(p.item instanceof Yr||p.item instanceof Kr||p.item.is("$textProxy")))return;const b=$f(l,p,m);if(!b||!m.consumable.consume(p.item,u.name))return;const v=m.writer,x=v_(v,b),y=v.document.selection;if(p.item instanceof Yr||p.item instanceof Kr)v.wrap(y.getFirstRange(),x,y);else{const D=m.mapper.toViewRange(p.range),P=v.wrap(D,x);for(const B of P.getItems())if(B.is("attributeElement")&&B.isSimilar(x)){m.mapper.bindElementToMarker(B,p.markerName);break}}}),{priority:r.converterPriority||"normal"}),a.on("addMarker:"+r.model,(u=r.view,(p,m,b)=>{if(!(m.item&&m.item instanceof zt))return;const v=$f(u,m,b);if(!v||!b.consumable.test(m.item,p.name))return;const x=b.mapper.toViewElement(m.item);if(x&&x.getCustomProperty("addHighlight")){b.consumable.consume(m.item,p.name);for(const y of ke._createIn(m.item))b.consumable.consume(y.item,p.name);x.getCustomProperty("addHighlight")(x,v,b.writer),b.mapper.bindElementToMarker(x,m.markerName)}}),{priority:r.converterPriority||"normal"}),a.on("removeMarker:"+r.model,function(u){return(p,m,b)=>{if(m.markerRange.isCollapsed)return;const v=$f(u,m,b);if(!v)return;const x=v_(b.writer,v),y=b.mapper.markerNameToElements(m.markerName);if(y){for(const D of y)b.mapper.unbindElementFromMarkerName(D,m.markerName),D.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(D),x):D.getCustomProperty("removeHighlight")(D,v.id,b.writer);b.writer.clearClonedElementsGroup(m.markerName),p.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(r){const a=(r=ur(r)).model;return r.view||(r.view=l=>({group:a,name:l.substr(r.model.length+1)})),l=>{var u,p;l.on("addMarker:"+a,(u=r.view,(p,m,b)=>{const v=u(m.markerName,b);if(!v)return;const x=m.markerRange;b.consumable.consume(x,p.name)&&(Kf(x,!1,b,m,v),Kf(x,!0,b,m,v),p.stop())}),{priority:r.converterPriority||"normal"}),l.on("removeMarker:"+a,(p=r.view,(m,b,v)=>{const x=p(b.markerName,v);if(!x)return;const y=v.mapper.markerNameToElements(b.markerName);if(y){for(const P of y)v.mapper.unbindElementFromMarkerName(P,b.markerName),P.is("containerElement")?(D(`data-${x.group}-start-before`,P),D(`data-${x.group}-start-after`,P),D(`data-${x.group}-end-before`,P),D(`data-${x.group}-end-after`,P)):v.writer.clear(v.writer.createRangeOn(P),P);v.writer.clearClonedElementsGroup(b.markerName),m.stop()}function D(P,B){if(B.hasAttribute(P)){const R=new Set(B.getAttribute(P).split(","));R.delete(x.name),0==R.size?v.writer.removeAttribute(P,B):v.writer.setAttribute(P,Array.from(R).join(","),B)}}}),{priority:r.converterPriority||"normal"})}}(e))}}function v_(c,e){const r=c.createAttributeElement("span",e.attributes);return e.classes&&r._addClass(e.classes),"number"==typeof e.priority&&(r._priority=e.priority),r._id=e.id,r}function Kf(c,e,r,a,l){const u=e?c.start:c.end,p=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,m=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(p||m){let b,v;e&&p||!e&&!m?(b=p,v=!0):(b=m,v=!1);const x=r.mapper.toViewElement(b);if(x)return void function(y,D,P,B,R,H){const ee=`data-${H.group}-${D?"start":"end"}-${P?"before":"after"}`,ce=y.hasAttribute(ee)?y.getAttribute(ee).split(","):[];ce.unshift(H.name),B.writer.setAttribute(ee,ce.join(","),y),B.mapper.bindElementToMarker(y,R.markerName)}(x,e,v,r,a,l)}!function(b,v,x,y,D){const R=x.writer.createUIElement(`${D.group}-${v?"start":"end"}`,D.name?{name:D.name}:null);x.writer.insert(b,R),x.mapper.bindElementToMarker(R,y.markerName)}(r.mapper.toViewPosition(u),e,r,a,l)}function sl(c){return"string"==typeof c&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function al(c,e){return"function"==typeof c?c:(r,a)=>function(l,u,p){let m;"string"==typeof l&&(l={name:l});const b=u.writer,v=Object.assign({},l.attributes);if(m="container"==p?b.createContainerElement(l.name,v):"attribute"==p?b.createAttributeElement(l.name,v,{priority:l.priority||Js.DEFAULT_PRIORITY}):b.createUIElement(l.name,v),l.styles){const x=Object.keys(l.styles);for(const y of x)b.setStyle(y,l.styles[y],m)}if(l.classes){const x=l.classes;if("string"==typeof x)b.addClass(x,m);else for(const y of x)b.addClass(y,m)}return m}(c,a,e)}function ll(c){return c.model.values?(e,r)=>{const a=c.view[e];return a?a(e,r):null}:c.view}function x_(c){return"string"==typeof c?e=>({key:c,value:e}):"object"==typeof c?c.value?()=>c:e=>({key:c.key,value:e}):c}function $f(c,e,r){const a="function"==typeof c?c(e,r):c;return a?(a.priority||(a.priority=10),a.id||(a.id=e.markerName),a):null}function C_(c){const e=function(r){return(a,l)=>{if(!a.is("element",r.name))return!1;if("attribute"==l.type){if(r.attributes.includes(l.attributeKey))return!0}else if(r.children)return!0;return!1}}(c);return(r,a)=>{const l=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const u of a.changes){const p=u.position?u.position.parent:u.range.start.nodeAfter;if(p&&e(p,u)){if(!a.reconvertedElements.has(p)){a.reconvertedElements.add(p);const m=Te._createBefore(p);l.push({type:"remove",name:p.name,position:m,length:1},{type:"reinsert",name:p.name,position:m,length:1})}}else l.push(u)}a.changes=l}}function A_(c){return(e,r,a={})=>{const l=["insert"];for(const u of c.attributes)e.hasAttribute(u)&&l.push(`attribute:${u}`);return!!l.every(u=>r.test(e,u))&&(a.preflight||l.forEach(u=>r.consume(e,u)),!0)}}function Qf(c,e,r,a){for(const l of e)y_(c.root,l,r,a)||r.convertItem(l)}function y_(c,e,r,a){const{writer:l,mapper:u}=r;if(!a.reconversion)return!1;const p=u.toViewElement(e);return!(!p||p.root==c||!r.canReuseView(p)||(l.move(l.createRangeOn(p),u.toViewPosition(Te._createBefore(e))),0))}function Qx(c,e,{preflight:r}={}){return r?e.test(c,"insert"):e.consume(c,"insert")}function T_(c){const{schema:e,document:r}=c.model;for(const a of r.getRootNames()){const l=r.getRoot(a);if(l.isEmpty&&!e.checkChild(l,"$text")&&e.checkChild(l,"paragraph"))return c.insertElement("paragraph",l),!0}return!1}function S_(c,e,r){const a=r.createContext(c);return!!r.checkChild(a,"paragraph")&&!!r.checkChild(a.push("paragraph"),e)}function cl(c,e){const r=e.createElement("paragraph");return e.insert(r,c),e.createPositionAt(r,0)}class uh extends k_{elementToElement(e){return this.add(Jf(e))}elementToAttribute(e){return this.add(function(r){E_(r=ur(r));const a=Dc(r,!1),l=ci(r.view),u=l?"element:"+l:"element";return p=>{p.on(u,a,{priority:r.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(r){let a=null;("string"==typeof(r=ur(r)).view||r.view.key)&&(a=function(u){"string"==typeof u.view&&(u.view={key:u.view});const p=u.view.key;let m;return m="class"==p||"style"==p?{["class"==p?"classes":"styles"]:u.view.value}:{attributes:{[p]:void 0===u.view.value?/[\s\S]*/:u.view.value}},u.view.name&&(m.name=u.view.name),u.view=m,p}(r)),E_(r,a);const l=Dc(r,!0);return u=>{u.on("element",l,{priority:r.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(r){return function(a){const l=a.model;a.model=(u,p)=>{const m="string"==typeof l?l:l(u,p);return p.writer.createElement("$marker",{"data-name":m})}}(r=ur(r)),Jf(r)}(e))}dataToMarker(e){return this.add(function(r){(r=ur(r)).model||(r.model=u=>u?r.view+":"+u:r.view);const a=fh(D_(r,"start")),l=fh(D_(r,"end"));return u=>{u.on("element:"+r.view+"-start",a,{priority:r.converterPriority||"normal"}),u.on("element:"+r.view+"-end",l,{priority:r.converterPriority||"normal"});const p=he.get("low"),m=he.get("highest"),b=he.get(r.converterPriority)/m;var v;u.on("element",(v=r,(x,y,D)=>{const P=`data-${v.view}`;function B(R,H){for(const ee of H){const ce=v.model(ee,D),Ce=D.writer.createElement("$marker",{"data-name":ce});D.writer.insert(Ce,R),y.modelCursor=y.modelCursor.isEqual(R)?y.modelCursor.getShiftedBy(1):y.modelCursor._getTransformedByInsertion(R,1),y.modelRange=y.modelRange._getTransformedByInsertion(R,1)[0]}}(D.consumable.test(y.viewItem,{attributes:P+"-end-after"})||D.consumable.test(y.viewItem,{attributes:P+"-start-after"})||D.consumable.test(y.viewItem,{attributes:P+"-end-before"})||D.consumable.test(y.viewItem,{attributes:P+"-start-before"}))&&(y.modelRange||Object.assign(y,D.convertChildren(y.viewItem,y.modelCursor)),D.consumable.consume(y.viewItem,{attributes:P+"-end-after"})&&B(y.modelRange.end,y.viewItem.getAttribute(P+"-end-after").split(",")),D.consumable.consume(y.viewItem,{attributes:P+"-start-after"})&&B(y.modelRange.end,y.viewItem.getAttribute(P+"-start-after").split(",")),D.consumable.consume(y.viewItem,{attributes:P+"-end-before"})&&B(y.modelRange.start,y.viewItem.getAttribute(P+"-end-before").split(",")),D.consumable.consume(y.viewItem,{attributes:P+"-start-before"})&&B(y.modelRange.start,y.viewItem.getAttribute(P+"-start-before").split(",")))}),{priority:p+b})}}(e))}}function Jf(c){const e=fh(c=ur(c)),r=ci(c.view),a=r?"element:"+r:"element";return l=>{l.on(a,e,{priority:c.converterPriority||"normal"})}}function ci(c){return"string"==typeof c?c:"object"==typeof c&&"string"==typeof c.name?c.name:null}function fh(c){const e=new Hr(c.view);return(r,a,l)=>{const u=e.match(a.viewItem);if(!u)return;const p=u.match;if(p.name=!0,!l.consumable.test(a.viewItem,p))return;const m=(x=l,(b=c.model)instanceof Function?b(a.viewItem,x):x.writer.createElement(b));var b,x;m&&l.safeInsert(m,a.modelCursor)&&(l.consumable.consume(a.viewItem,p),l.convertChildren(a.viewItem,m),l.updateConversionResult(m,a))}}function E_(c,e=null){c.model={key:"object"!=typeof c.model?c.model:c.model.key,value:"object"!=typeof c.model||void 0===c.model.value?null===e||(u=>u.getAttribute(e)):c.model.value}}function Dc(c,e){const r=new Hr(c.view);return(a,l,u)=>{if(!l.modelRange&&e)return;const p=r.match(l.viewItem);if(!p||(function(x,y){const D="function"==typeof x?x(y):x;return!("object"==typeof D&&!ci(D)||D.classes||D.attributes||D.styles)}(c.view,l.viewItem)?p.match.name=!0:delete p.match.name,!u.consumable.test(l.viewItem,p.match)))return;const m=c.model.key,b="function"==typeof c.model.value?c.model.value(l.viewItem,u):c.model.value;null!==b&&(l.modelRange||Object.assign(l,u.convertChildren(l.viewItem,l.modelCursor)),function(x,y,D,P){let B=!1;for(const R of Array.from(x.getItems({shallow:D})))P.schema.checkAttribute(R,y.key)&&(B=!0,R.hasAttribute(y.key)||P.writer.setAttribute(y.key,y.value,R));return B}(l.modelRange,{key:m,value:b},e,u)&&(u.consumable.test(l.viewItem,{name:!0})&&(p.match.name=!0),u.consumable.consume(l.viewItem,p.match)))}}function D_(c,e){const r={};return r.view=c.view+"-"+e,r.model=(a,l)=>{const u=a.getAttribute("name"),p=c.model(u,l);return l.writer.createElement("$marker",{"data-name":p})},r}class Xf{constructor(e,r){this.model=e,this.view=new m_(r),this.mapper=new rl,this.downcastDispatcher=new Oo({mapper:this.mapper,schema:e.schema});const a=this.model.document,l=a.selection,u=this.model.markers;var p,m;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(p=>{this.downcastDispatcher.convertChanges(a.differ,u,p),this.downcastDispatcher.convertSelection(l,u,p)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(p=this.model,m=this.mapper,(b,v)=>{const x=v.newSelection,y=[];for(const P of x.getRanges())y.push(m.toModelRange(P));const D=p.createSelection(y,{backward:x.isBackward});D.isEqual(p.document.selection)||p.change(P=>{P.setSelection(D)})})),this.downcastDispatcher.on("insert:$text",(p,m,b)=>{if(!b.consumable.consume(m.item,p.name))return;const v=b.writer,x=b.mapper.toViewPosition(m.range.start),y=v.createText(m.item.data);v.insert(x,y)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(p,m,b)=>{b.convertAttributes(m.item),m.reconversion||!m.item.is("element")||m.item.isEmpty||b.convertChildren(m.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(p,m,b)=>{const v=b.mapper.toViewPosition(m.position),x=m.position.getShiftedBy(m.length),y=b.mapper.toViewPosition(x,{isPhantom:!0}),D=b.writer.createRange(v,y),P=b.writer.remove(D.getTrimmed());for(const B of b.writer.createRangeIn(P).getItems())b.mapper.unbindViewElement(B,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(p,m,b)=>{const v=b.writer,x=v.document.selection;for(const y of x.getRanges())y.isCollapsed&&y.end.parent.isAttached()&&b.writer.mergeAttributes(y.start);v.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(p,m,b)=>{const v=m.selection;if(v.isCollapsed||!b.consumable.consume(v,"selection"))return;const x=[];for(const y of v.getRanges()){const D=b.mapper.toViewRange(y);x.push(D)}b.writer.setSelection(x,{backward:v.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(p,m,b)=>{const v=m.selection;if(!v.isCollapsed||!b.consumable.consume(v,"selection"))return;const x=b.writer,y=v.getFirstPosition(),D=b.mapper.toViewPosition(y),P=x.breakAttributes(D);x.setSelection(P)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(p=>{if("$graveyard"==p.rootName)return null;const m=new bx(this.view.document,p.name);return m.rootName=p.rootName,this.mapper.bindElements(p,m),m})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const r="string"==typeof e?e:e.name,a=this.model.markers.get(r);if(!a)throw new I("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}rt(Xf,on);class Jx{constructor(){this._commands=new Map}add(e,r){this._commands.set(e,r)}get(e){return this._commands.get(e)}execute(e,...r){const a=this.get(e);if(!a)throw new I("commandcollection-command-not-found",this,{commandName:e});return a.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class dl{constructor(){this._consumables=new Map}add(e,r){let a;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?a=this._consumables.get(e):(a=new Xx(e),this._consumables.set(e,a)),a.add(r))}test(e,r){const a=this._consumables.get(e);return void 0===a?null:e.is("$text")||e.is("documentFragment")?a:a.test(r)}consume(e,r){return!!this.test(e,r)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(r),!0)}revert(e,r){const a=this._consumables.get(e);void 0!==a&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):a.revert(r))}static consumablesFromElement(e){const r={element:e,name:!0,attributes:[],classes:[],styles:[]},a=e.getAttributeKeys();for(const p of a)"style"!=p&&"class"!=p&&r.attributes.push(p);const l=e.getClassNames();for(const p of l)r.classes.push(p);const u=e.getStyleNames();for(const p of u)r.styles.push(p);return r}static createFrom(e,r){if(r||(r=new dl(e)),e.is("$text"))return r.add(e),r;e.is("element")&&r.add(e,dl.consumablesFromElement(e)),e.is("documentFragment")&&r.add(e);for(const a of e.getChildren())r=dl.createFrom(a,r);return r}}class Xx{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const r in this._consumables)r in e&&this._add(r,e[r])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const r in this._consumables)if(r in e){const a=this._test(r,e[r]);if(!0!==a)return a}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const r in this._consumables)r in e&&this._consume(r,e[r])}revert(e){e.name&&(this._canConsumeName=!0);for(const r in this._consumables)r in e&&this._revert(r,e[r])}_add(e,r){const a=ji(r)?r:[r],l=this._consumables[e];for(const u of a){if("attributes"===e&&("class"===u||"style"===u))throw new I("viewconsumable-invalid-attribute",this);if(l.set(u,!0),"styles"===e)for(const p of this.element.document.stylesProcessor.getRelatedStyles(u))l.set(p,!0)}}_test(e,r){const a=ji(r)?r:[r],l=this._consumables[e];for(const u of a)if("attributes"!==e||"class"!==u&&"style"!==u){const p=l.get(u);if(void 0===p)return null;if(!p)return!1}else{const p="class"==u?"classes":"styles",m=this._test(p,[...this._consumables[p].keys()]);if(!0!==m)return m}return!0}_consume(e,r){const a=ji(r)?r:[r],l=this._consumables[e];for(const u of a)if("attributes"!==e||"class"!==u&&"style"!==u){if(l.set(u,!1),"styles"==e)for(const p of this.element.document.stylesProcessor.getRelatedStyles(u))l.set(p,!1)}else{const p="class"==u?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(e,r){const a=ji(r)?r:[r],l=this._consumables[e];for(const u of a)if("attributes"!==e||"class"!==u&&"style"!==u)!1===l.get(u)&&l.set(u,!0);else{const p="class"==u?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class M_{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,r)=>{r[0]=new aa(r[0])},{priority:"highest"}),this.on("checkChild",(e,r)=>{r[0]=new aa(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(e,r){if(this._sourceDefinitions[e])throw new I("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},r)],this._clearCache()}extend(e,r){if(!this._sourceDefinitions[e])throw new I("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let r;return r="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[r]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const r=this.getDefinition(e);return!(!r||!r.isBlock)}isLimit(e){const r=this.getDefinition(e);return!(!r||!r.isLimit&&!r.isObject)}isObject(e){const r=this.getDefinition(e);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(e){const r=this.getDefinition(e);return!(!r||!r.isInline)}isSelectable(e){const r=this.getDefinition(e);return!(!r||!r.isSelectable&&!r.isObject)}isContent(e){const r=this.getDefinition(e);return!(!r||!r.isContent&&!r.isObject)}checkChild(e,r){return!!r&&this._checkContextMatch(r,e)}checkAttribute(e,r){const a=this.getDefinition(e.last);return!!a&&a.allowAttributes.includes(r)}checkMerge(e,r=null){if(e instanceof Te){const a=e.nodeBefore,l=e.nodeAfter;if(!(a instanceof zt))throw new I("schema-check-merge-no-element-before",this);if(!(l instanceof zt))throw new I("schema-check-merge-no-element-after",this);return this.checkMerge(a,l)}for(const a of r.getChildren())if(!this.checkChild(e,a))return!1;return!0}addChildCheck(e){this.on("checkChild",(r,[a,l])=>{if(!l)return;const u=e(a,l);"boolean"==typeof u&&(r.stop(),r.return=u)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(r,[a,l])=>{const u=e(a,l);"boolean"==typeof u&&(r.stop(),r.return=u)},{priority:"high"})}setAttributeProperties(e,r){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),r)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let r;for(r=e instanceof Te?e.parent:(e instanceof ke?[e]:Array.from(e.getRanges())).reduce((a,l)=>{const u=l.getCommonAncestor();return a?a.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(e,r){if(e.isCollapsed){const a=[...e.getFirstPosition().getAncestors(),new en("",e.getAttributes())];return this.checkAttribute(a,r)}{const a=e.getRanges();for(const l of a)for(const u of l)if(this.checkAttribute(u.item,r))return!0}return!1}*getValidRanges(e,r){e=function*(a){for(const l of a)yield*l.getMinimalFlatRanges()}(e);for(const a of e)yield*this._getValidRangesForRange(a,r)}getNearestSelectionRange(e,r="both"){if(this.checkChild(e,"$text"))return new ke(e);let a,l;const u=e.getAncestors().reverse().find(p=>this.isLimit(p))||e.root;"both"!=r&&"backward"!=r||(a=new No({boundaries:ke._createIn(u),startPosition:e,direction:"backward"})),"both"!=r&&"forward"!=r||(l=new No({boundaries:ke._createIn(u),startPosition:e}));for(const p of function*(m,b){let v=!1;for(;!v;){if(v=!0,m){const x=m.next();x.done||(v=!1,yield{walker:m,value:x.value})}if(b){const x=b.next();x.done||(v=!1,yield{walker:b,value:x.value})}}}(a,l)){const b=p.value;if(b.type==(p.walker==a?"elementEnd":"elementStart")&&this.isObject(b.item))return ke._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new ke(b.nextPosition)}return null}findAllowedParent(e,r){let a=e.parent;for(;a;){if(this.checkChild(a,r))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(e,r,a){const l=a.model;for(const[u,p]of Object.entries(r))l.schema.checkAttribute(e,u)&&a.setAttribute(u,p,e)}removeDisallowedAttributes(e,r){for(const a of e)if(a.is("$text"))F_(this,a,r);else{const l=ke._createIn(a).getPositions();for(const u of l)F_(this,u.nodeBefore||u.parent,r)}}getAttributesWithProperty(e,r,a){const l={};for(const[u,p]of e.getAttributes()){const m=this.getAttributeProperties(u);void 0!==m[r]&&(void 0!==a&&a!==m[r]||(l[u]=p))}return l}createContext(e){return new aa(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},r=this._sourceDefinitions,a=Object.keys(r);for(const l of a)e[l]=ph(r[l],l);for(const l of a)eC(e,l);for(const l of a)tC(e,l);for(const l of a)Mc(e,l);for(const l of a)I_(e,l),P_(e,l);for(const l of a)nC(e,l),iC(e,l),rC(e,l);this._compiledDefinitions=e}_checkContextMatch(e,r,a=r.length-1){const l=r.getItem(a);if(e.allowIn.includes(l.name)){if(0==a)return!0;{const u=this.getDefinition(l);return this._checkContextMatch(u,r,a-1)}}return!1}*_getValidRangesForRange(e,r){let a=e.start,l=e.start;for(const u of e.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(ke._createIn(u),r)),this.checkAttribute(u,r)||(a.isEqual(l)||(yield new ke(a,l)),a=Te._createAfter(u)),l=Te._createAfter(u);a.isEqual(l)||(yield new ke(a,l))}}rt(M_,on);class aa{constructor(e){if(e instanceof aa)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),this._items=e.map(sC)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const r=new aa([e]);return r._items=[...this._items,...r._items],r}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function ph(c,e){const r={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,l){for(const u of a){const p=Object.keys(u).filter(m=>m.startsWith("is"));for(const m of p)l[m]=u[m]}}(c,r),Ro(c,r,"allowIn"),Ro(c,r,"allowContentOf"),Ro(c,r,"allowWhere"),Ro(c,r,"allowAttributes"),Ro(c,r,"allowAttributesOf"),Ro(c,r,"allowChildren"),Ro(c,r,"inheritTypesFrom"),function(a,l){for(const u of a){const p=u.inheritAllFrom;p&&(l.allowContentOf.push(p),l.allowWhere.push(p),l.allowAttributesOf.push(p),l.inheritTypesFrom.push(p))}}(c,r),r}function eC(c,e){const r=c[e];for(const a of r.allowChildren){const l=c[a];l&&l.allowIn.push(e)}r.allowChildren.length=0}function tC(c,e){for(const r of c[e].allowContentOf)c[r]&&oC(c,r).forEach(a=>{a.allowIn.push(e)});delete c[e].allowContentOf}function Mc(c,e){for(const r of c[e].allowWhere){const a=c[r];a&&c[e].allowIn.push(...a.allowIn)}delete c[e].allowWhere}function I_(c,e){for(const r of c[e].allowAttributesOf){const a=c[r];a&&c[e].allowAttributes.push(...a.allowAttributes)}delete c[e].allowAttributesOf}function P_(c,e){const r=c[e];for(const a of r.inheritTypesFrom){const l=c[a];if(l){const u=Object.keys(l).filter(p=>p.startsWith("is"));for(const p of u)p in r||(r[p]=l[p])}}delete r.inheritTypesFrom}function nC(c,e){const r=c[e],a=r.allowIn.filter(l=>c[l]);r.allowIn=Array.from(new Set(a))}function iC(c,e){const r=c[e];for(const a of r.allowIn)c[a].allowChildren.push(e)}function rC(c,e){const r=c[e];r.allowAttributes=Array.from(new Set(r.allowAttributes))}function Ro(c,e,r){for(const a of c)"string"==typeof a[r]?e[r].push(a[r]):Array.isArray(a[r])&&e[r].push(...a[r])}function oC(c,e){const r=c[e];return(a=c,Object.keys(a).map(l=>a[l])).filter(l=>l.allowIn.includes(r.name));var a}function sC(c){return"string"==typeof c||c.is("documentFragment")?{name:"string"==typeof c?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function F_(c,e,r){for(const a of e.getAttributeKeys())c.checkAttribute(e,a)||r.removeAttribute(a,e)}class Pr{constructor(e={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this),this.conversionApi.keepEmptyElement=this._keepEmptyElement.bind(this)}convert(e,r,a=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(p,m){let b;for(const v of new aa(p)){const x={};for(const D of v.getAttributeKeys())x[D]=v.getAttribute(D);const y=m.createElement(v.name,x);b&&m.append(y,b),b=Te._createAt(y,0)}return b}(a,r),this.conversionApi.writer=r,this.conversionApi.consumable=dl.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),u=r.createDocumentFragment();if(l){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))r.append(p,u);u.markers=function(p,m){const b=new Set,v=new Map,x=ke._createIn(p).getItems();for(const y of x)"$marker"==y.name&&b.add(y);for(const y of b){const D=y.getAttribute("data-name"),P=m.createPositionBefore(y);v.has(D)?v.get(D).end=P.clone():v.set(D,new ke(P.clone())),m.remove(y)}return v}(u,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(e,r){const a=Object.assign({viewItem:e,modelCursor:r,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,a,this.conversionApi):e.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof ke))throw new I("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(e,r){let a=r.is("position")?r:Te._createAt(r,0);const l=new ke(a);for(const u of Array.from(e.getChildren())){const p=this._convertItem(u,a);p.modelRange instanceof ke&&(l.end=p.modelRange.end,a=p.modelCursor)}return{modelRange:l,modelCursor:a}}_safeInsert(e,r){const a=this._splitToAllowedParent(e,r);return!!a&&(this.conversionApi.writer.insert(e,a.position),!0)}_updateConversionResult(e,r){const a=this._getSplitParts(e),l=this.conversionApi.writer;r.modelRange||(r.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(a[a.length-1])));const u=this._cursorParents.get(e);r.modelCursor=u?l.createPositionAt(u,0):r.modelRange.end}_splitToAllowedParent(e,r){const{schema:a,writer:l}=this.conversionApi;let u=a.findAllowedParent(r,e);if(u){if(u===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return S_(r,e,a)?{position:cl(r,l)}:null;const p=this.conversionApi.writer.split(r,u),m=[];for(const v of p.range.getWalker())if("elementEnd"==v.type)m.push(v.item);else{const x=m.pop();this._registerSplitPair(x,v.item)}const b=p.range.end.parent;return this._cursorParents.set(e,b),{position:p.position,cursorParent:b}}_registerSplitPair(e,r){this._splitParts.has(e)||this._splitParts.set(e,[e]);const a=this._splitParts.get(e);this._splitParts.set(r,a),a.push(r)}_getSplitParts(e){let r;return r=this._splitParts.has(e)?this._splitParts.get(e):[e],r}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),e=!0);e&&this._removeEmptyElements()}}rt(Pr,St);class aC{getHtml(e){const r=document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}class lC{constructor(e){this.domParser=new DOMParser,this.domConverter=new Ac(e,{renderingMode:"data"}),this.htmlWriter=new aC}toData(e){const r=this.domConverter.viewToDom(e,document);return this.htmlWriter.getHtml(r)}toView(e){const r=this._toDom(e);return this.domConverter.domToView(r)}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const r=this.domParser.parseFromString(e,"text/html"),a=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)a.appendChild(l[0]);return a}}class N_{constructor(e,r){this.model=e,this.mapper=new rl,this.downcastDispatcher=new Oo({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(a,l,u)=>{if(!u.consumable.consume(l.item,a.name))return;const p=u.writer,m=u.mapper.toViewPosition(l.range.start),b=p.createText(l.item.data);p.insert(m,b)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,l,u)=>{u.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||u.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new Pr({schema:e.schema}),this.viewDocument=new Za(r),this.stylesProcessor=r,this.htmlProcessor=new lC(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Of(this.viewDocument),this.upcastDispatcher.on("text",(a,l,{schema:u,consumable:p,writer:m})=>{let b=l.modelCursor;if(!p.test(l.viewItem))return;if(!u.checkChild(b,"$text")){if(!S_(b,"$text",u)||0==l.viewItem.data.trim().length)return;b=cl(b,m)}p.consume(l.viewItem);const v=m.createText(l.viewItem.data);m.insert(v,b),l.modelRange=m.createRange(b,b.getShiftedBy(v.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,l,u)=>{if(!l.modelRange&&u.consumable.consume(l.viewItem,{name:!0})){const{modelRange:p,modelCursor:m}=u.convertChildren(l.viewItem,l.modelCursor);l.modelRange=p,l.modelCursor=m}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,l,u)=>{if(!l.modelRange&&u.consumable.consume(l.viewItem,{name:!0})){const{modelRange:p,modelCursor:m}=u.convertChildren(l.viewItem,l.modelCursor);l.modelRange=p,l.modelCursor=m}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.decorate("get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},T_)},{priority:"lowest"})}get(e={}){const{rootName:r="main",trim:a="empty"}=e;if(!this._checkIfRootsExists([r]))throw new I("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(r);return"empty"!==a||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,r={}){const a=this.toView(e,r);return this.processor.toData(a)}toView(e,r={}){const a=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const u=ke._createIn(e),p=new dr(a);this.mapper.bindElements(e,p);const m=e.is("documentFragment")?e.markers:function(b){const v=[],x=b.root.document;if(!x)return new Map;const y=ke._createIn(b);for(const D of x.model.markers){const P=D.getRange(),B=P.isCollapsed,R=P.start.isEqual(y.start)||P.end.isEqual(y.end);if(B&&R)v.push([D.name,P]);else{const H=y.getIntersection(P);H&&v.push([D.name,H])}}return v.sort(([D,P],[B,R])=>{if("after"!==P.end.compareWith(R.start))return 1;if("before"!==P.start.compareWith(R.end))return-1;switch(P.start.compareWith(R.start)){case"before":return 1;case"after":return-1;default:switch(P.end.compareWith(R.end)){case"before":return 1;case"after":return-1;default:return B.localeCompare(D)}}}),new Map(v)}(e);return this.downcastDispatcher.convert(u,m,l,r),p}init(e){if(this.model.document.version)throw new I("datacontroller-init-document-not-empty",this);let r={};if("string"==typeof e?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new I("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const l of Object.keys(r)){const u=this.model.document.getRoot(l);a.insert(this.parse(r[l],u),u,0)}}),Promise.resolve()}set(e,r={}){let a={};if("string"==typeof e?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new I("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(a)){const p=this.model.document.getRoot(u);l.remove(l.createRangeIn(p)),l.insert(this.parse(a[u],p),p,0)}})}parse(e,r="$root"){const a=this.processor.toView(e);return this.toModel(a,r)}toModel(e,r="$root"){return this.model.change(a=>this.upcastDispatcher.convert(e,a,r))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const r of e)if(!this.model.document.getRootNames().includes(r))return!1;return!0}}rt(N_,on);class cC{constructor(e,r){this._helpers=new Map,this._downcast=li(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=li(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,r){const a=this._downcast.includes(r);if(!this._upcast.includes(r)&&!a)throw new I("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[r],isDowncast:a})}for(e){if(!this._helpers.has(e))throw new I("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:r,view:a}of ep(e))this.for("upcast").elementToElement({model:r,view:a,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:r,view:a}of ep(e))this.for("upcast").elementToAttribute({view:a,model:r,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:r,view:a}of ep(e))this.for("upcast").attributeToAttribute({view:a,model:r})}_createConversionHelpers({name:e,dispatchers:r,isDowncast:a}){if(this._helpers.has(e))throw new I("conversion-group-exists",this);const l=a?new w_(r):new uh(r);this._helpers.set(e,l)}}function*ep(c){if(c.model.values)for(const e of c.model.values){const r={key:c.model.key,value:e},a=c.view[e],l=c.upcastAlso?c.upcastAlso[e]:void 0;yield*Ic(r,a,l)}else yield*Ic(c.model,c.view,c.upcastAlso)}function*Ic(c,e,r){if(yield{model:c,view:e},r)for(const a of li(r))yield{model:c,view:a}}class hl{constructor(e={}){"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},se("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:a=!0,isUndo:l=!1,isTyping:u=!1}=e;this.operations=[],this.isUndoable=r,this.isLocal=a,this.isUndo=l,this.isTyping=u}get type(){return se("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class Fr{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e){return new this(e.baseVersion)}}class fo{constructor(e){this.markers=new Map,this._children=new oa,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"===e||"model:documentFragment"===e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let r=this;for(const a of e)r=r.getChild(r.offsetToIndex(a));return r}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const r of this._children)e.push(r.toJSON());return e}static fromJSON(e){const r=[];for(const a of e)r.push(a.name?zt.fromJSON(a):en.fromJSON(a));return new fo(r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const a="string"==typeof(l=r)?[new en(l)]:(wi(l)||(l=[l]),Array.from(l).map(u=>"string"==typeof u?new en(u):u instanceof Gr?new en(u.data,u.getAttributes()):u));var l;for(const l of a)null!==l.parent&&l._remove(),l.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,r=1){const a=this._children._removeNodes(e,r);for(const l of a)l.parent=null;return a}}function gh(c,e){const r=(e=ul(e)).reduce((u,p)=>u+p.offsetSize,0),a=c.parent;Fc(c);const l=c.index;return a._insertChild(l,e),fl(a,l+e.length),fl(a,l),new ke(c,c.getShiftedBy(r))}function O_(c){if(!c.isFlat)throw new I("operation-utils-remove-range-not-flat",this);const e=c.start.parent;Fc(c.start),Fc(c.end);const r=e._removeChildren(c.start.index,c.end.index-c.start.index);return fl(e,c.start.index),r}function Pc(c,e){if(!c.isFlat)throw new I("operation-utils-move-range-not-flat",this);const r=O_(c);return gh(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),r)}function ul(c){const e=[];c instanceof Array||(c=[c]);for(let r=0;r<c.length;r++)if("string"==typeof c[r])e.push(new en(c[r]));else if(c[r]instanceof Gr)e.push(new en(c[r].data,c[r].getAttributes()));else if(c[r]instanceof fo||c[r]instanceof oa)for(const a of c[r])e.push(a);else c[r]instanceof ra&&e.push(c[r]);for(let r=1;r<e.length;r++){const a=e[r],l=e[r-1];a instanceof en&&l instanceof en&&B_(a,l)&&(e.splice(r-1,2,new en(l.data+a.data,l.getAttributes())),r--)}return e}function fl(c,e){const r=c.getChild(e-1),a=c.getChild(e);if(r&&a&&r.is("$text")&&a.is("$text")&&B_(r,a)){const l=new en(r.data+a.data,r.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,l)}}function Fc(c){const e=c.textNode,r=c.parent;if(e){const a=c.offset-e.startOffset,l=e.index;r._removeChildren(l,1);const u=new en(e.data.substr(0,a),e.getAttributes()),p=new en(e.data.substr(a),e.getAttributes());r._insertChild(l,[u,p])}}function B_(c,e){const r=c.getAttributes(),a=e.getAttributes();for(const l of r){if(l[1]!==e.getAttribute(l[0]))return!1;a.next()}return a.next().done}const L_=function(c,e){return t_(c,e)};class Vn extends Fr{constructor(e,r,a,l,u){super(u),this.range=e.clone(),this.key=r,this.oldValue=void 0===a?null:a,this.newValue=void 0===l?null:l}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Vn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Vn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new I("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!L_(e.getAttribute(this.key),this.oldValue))throw new I("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new I("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){L_(this.oldValue,this.newValue)||function(e,r,a){Fc(e.start),Fc(e.end);for(const l of e.getItems({shallow:!0})){const u=l.is("$textProxy")?l.textNode:l;null!==a?u._setAttribute(r,a):u._removeAttribute(r),fl(u.parent,u.index)}fl(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,r){return new Vn(ke.fromJSON(e.range,r),e.key,e.oldValue,e.newValue,e.baseVersion)}}class la extends Fr{constructor(e,r){super(null),this.sourcePosition=e.clone(),this.howMany=r}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new I("detach-operation-on-document-node",this)}_execute(){O_(ke._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Lt extends Fr{constructor(e,r,a,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent,a=this.sourcePosition.offset,l=this.targetPosition.offset;if(a+this.howMany>e.maxOffset)throw new I("move-operation-nodes-do-not-exist",this);if(e===r&&a<l&&l<a+this.howMany)throw new I("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Pi(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=a&&this.targetPosition.path[u]<a+this.howMany)throw new I("move-operation-node-into-itself",this)}}_execute(){Pc(ke._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,r){const a=Te.fromJSON(e.sourcePosition,r),l=Te.fromJSON(e.targetPosition,r);return new this(a,e.howMany,l,e.baseVersion)}}class di extends Fr{constructor(e,r,a){super(a),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new oa(ul(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new oa([...this.nodes].map(a=>a._clone(!0))),r=new di(this.position,e,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const r=new Te(this.position.root.document.graveyard,[0]);return new Lt(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new I("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new oa([...e].map(r=>r._clone(!0))),gh(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,r){const a=[];for(const u of e.nodes)a.push(u.name?zt.fromJSON(u):en.fromJSON(u));const l=new di(Te.fromJSON(e.position,r),a,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class Yi extends Fr{constructor(e,r,a,l,u,p){super(p),this.name=e,this.oldRange=r?r.clone():null,this.newRange=a?a.clone():null,this.affectsData=u,this._markers=l}get type(){return"marker"}clone(){return new Yi(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Yi(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,r){return new Yi(e.name,e.oldRange?ke.fromJSON(e.oldRange,r):null,e.newRange?ke.fromJSON(e.newRange,r):null,r.model.markers,e.affectsData,e.baseVersion)}}class Ki extends Fr{constructor(e,r,a,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=r,this.newName=a}get type(){return"rename"}clone(){return new Ki(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ki(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof zt))throw new I("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new I("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,r){return new Ki(Te.fromJSON(e.position,r),e.oldName,e.newName,e.baseVersion)}}class zo extends Fr{constructor(e,r,a,l,u){super(u),this.root=e,this.key=r,this.oldValue=a,this.newValue=l}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new zo(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new zo(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new I("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new I("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new I("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,r){if(!r.getRoot(e.root))throw new I("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new zo(r.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Zt extends Fr{constructor(e,r,a,l,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new Te(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ke(this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),a=new Te(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new sn(e,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent;if(!e.parent)throw new I("merge-operation-source-position-invalid",this);if(!r.parent)throw new I("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new I("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Pc(ke._createIn(e),this.targetPosition),Pc(ke._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,r){const a=Te.fromJSON(e.sourcePosition,r),l=Te.fromJSON(e.targetPosition,r),u=Te.fromJSON(e.graveyardPosition,r);return new this(a,e.howMany,l,u,e.baseVersion)}}class sn extends Fr{constructor(e,r,a,l,u){super(u),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=a,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Te(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ke(this.splitPosition,e)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const r=new Te(this.splitPosition.root.document.graveyard,[0]);return new Zt(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new I("split-operation-position-invalid",this);if(!e.parent)throw new I("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new I("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new I("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Pc(ke._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();gh(this.insertionPosition,r)}Pc(new ke(Te._createAt(e,this.splitPosition.offset),Te._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const r=e.path.slice(0,-1);return r[r.length-1]++,new Te(e.root,r,"toPrevious")}static fromJSON(e,r){const a=Te.fromJSON(e.splitPosition,r),l=Te.fromJSON(e.insertionPosition,r),u=e.graveyardPosition?Te.fromJSON(e.graveyardPosition,r):null;return new this(a,e.howMany,l,u,e.baseVersion)}}class tp extends zt{constructor(e,r,a="main"){super(r),this._document=e,this.rootName=a}get document(){return this._document}is(e,r){return r?r===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}toJSON(){return this.rootName}}class dC{constructor(e,r){this.model=e,this.batch=r}createText(e,r){return new en(e,r)}createElement(e,r){return new zt(e,r)}createDocumentFragment(){return new fo}cloneElement(e,r=!0){return e._clone(r)}insert(e,r,a=0){if(this._assertWriterUsedCorrectly(),e instanceof en&&""==e.data)return;const l=Te._createAt(r,a);if(e.parent){if(V_(e.root,l.root))return void this.move(ke._createOn(e),l);if(e.root.document)throw new I("model-writer-insert-forbidden-move",this);this.remove(e)}const p=new di(l,e,l.root.document?l.root.document.version:null);if(e instanceof en&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),e instanceof fo)for(const[m,b]of e.markers){const v=Te._createAt(b.root,0),x={range:new ke(b.start._getCombined(v,l),b.end._getCombined(v,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(m)?this.updateMarker(m,x):this.addMarker(m,x)}}insertText(e,r,a,l){r instanceof fo||r instanceof zt||r instanceof Te?this.insert(this.createText(e),r,a):this.insert(this.createText(e,r),a,l)}insertElement(e,r,a,l){r instanceof fo||r instanceof zt||r instanceof Te?this.insert(this.createElement(e),r,a):this.insert(this.createElement(e,r),a,l)}append(e,r){this.insert(e,r,"end")}appendText(e,r,a){r instanceof fo||r instanceof zt?this.insert(this.createText(e),r,"end"):this.insert(this.createText(e,r),a,"end")}appendElement(e,r,a){r instanceof fo||r instanceof zt?this.insert(this.createElement(e),r,"end"):this.insert(this.createElement(e,r),a,"end")}setAttribute(e,r,a){if(this._assertWriterUsedCorrectly(),a instanceof ke){const l=a.getMinimalFlatRanges();for(const u of l)R_(this,e,r,u)}else z_(this,e,r,a)}setAttributes(e,r){for(const[a,l]of Er(e))this.setAttribute(a,l,r)}removeAttribute(e,r){if(this._assertWriterUsedCorrectly(),r instanceof ke){const a=r.getMinimalFlatRanges();for(const l of a)R_(this,e,null,l)}else z_(this,e,null,r)}clearAttributes(e){this._assertWriterUsedCorrectly();const r=a=>{for(const l of a.getAttributeKeys())this.removeAttribute(l,a)};if(e instanceof ke)for(const a of e.getItems())r(a);else r(e)}move(e,r,a){if(this._assertWriterUsedCorrectly(),!(e instanceof ke))throw new I("writer-move-invalid-range",this);if(!e.isFlat)throw new I("writer-move-range-not-flat",this);const l=Te._createAt(r,a);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!V_(e.root,l.root))throw new I("writer-move-different-document",this);const p=new Lt(e.start,e.end.offset-e.start.offset,l,e.root.document?e.root.document.version:null);this.batch.addOperation(p),this.model.applyOperation(p)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof ke?e:ke._createOn(e)).getMinimalFlatRanges().reverse();for(const a of r)this._addOperationForAffectedMarkers("move",a),hC(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const r=e.nodeBefore,a=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(r instanceof zt))throw new I("writer-merge-no-element-before",this);if(!(a instanceof zt))throw new I("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,r,a){return this.model.createPositionFromPath(e,r,a)}createPositionAt(e,r){return this.model.createPositionAt(e,r)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,r){return this.model.createRange(e,r)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,r,a){return this.model.createSelection(e,r,a)}_mergeDetached(e){const r=e.nodeBefore,a=e.nodeAfter;this.move(ke._createIn(a),Te._createAt(r,"end")),this.remove(a)}_merge(e){const r=Te._createAt(e.nodeBefore,"end"),a=Te._createAt(e.nodeAfter,0),u=new Te(e.root.document.graveyard,[0]),m=new Zt(a,e.nodeAfter.maxOffset,r,u,e.root.document.version);this.batch.addOperation(m),this.model.applyOperation(m)}rename(e,r){if(this._assertWriterUsedCorrectly(),!(e instanceof zt))throw new I("writer-rename-not-element-instance",this);const a=e.root.document?e.root.document.version:null,l=new Ki(Te._createBefore(e),e.name,r,a);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,r){this._assertWriterUsedCorrectly();let a,l,u=e.parent;if(!u.parent)throw new I("writer-split-element-no-parent",this);if(r||(r=u.parent),!e.parent.getAncestors({includeSelf:!0}).includes(r))throw new I("writer-split-invalid-limit-element",this);do{const p=u.root.document?u.root.document.version:null,m=u.maxOffset-e.offset,b=sn.getInsertionPosition(e),v=new sn(e,m,b,null,p);this.batch.addOperation(v),this.model.applyOperation(v),a||l||(a=u,l=e.parent.nextSibling),u=(e=this.createPositionAfter(e.parent)).parent}while(u!==r);return{position:e,range:new ke(Te._createAt(a,"end"),Te._createAt(l,0))}}wrap(e,r){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new I("writer-wrap-range-not-flat",this);const a=r instanceof zt?r:new zt(r);if(a.childCount>0)throw new I("writer-wrap-element-not-empty",this);if(null!==a.parent)throw new I("writer-wrap-element-attached",this);this.insert(a,e.start);const l=new ke(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,Te._createAt(a,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new I("writer-unwrap-element-no-parent",this);this.move(ke._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,r){if(this._assertWriterUsedCorrectly(),!r||"boolean"!=typeof r.usingOperation)throw new I("writer-addmarker-no-usingoperation",this);const a=r.usingOperation,l=r.range,u=void 0!==r.affectsData&&r.affectsData;if(this.model.markers.has(e))throw new I("writer-addmarker-marker-exists",this);if(!l)throw new I("writer-addmarker-no-range",this);return a?(ca(this,e,null,l,u),this.model.markers.get(e)):this.model.markers._set(e,l,a,u)}updateMarker(e,r){this._assertWriterUsedCorrectly();const a="string"==typeof e?e:e.name,l=this.model.markers.get(a);if(!l)throw new I("writer-updatemarker-marker-not-exists",this);if(!r)return se("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(l);const u="boolean"==typeof r.usingOperation,p="boolean"==typeof r.affectsData,m=p?r.affectsData:l.affectsData;if(!u&&!r.range&&!p)throw new I("writer-updatemarker-wrong-options",this);const b=l.getRange(),v=r.range?r.range:b;u&&r.usingOperation!==l.managedUsingOperations?r.usingOperation?ca(this,a,null,v,m):(ca(this,a,b,null,m),this.model.markers._set(a,v,void 0,m)):l.managedUsingOperations?ca(this,a,b,v,m):this.model.markers._set(a,v,void 0,m)}removeMarker(e){this._assertWriterUsedCorrectly();const r="string"==typeof e?e:e.name;if(!this.model.markers.has(r))throw new I("writer-removemarker-no-marker",this);const a=this.model.markers.get(r);a.managedUsingOperations?ca(this,r,a.getRange(),null,a.affectsData):this.model.markers._remove(r)}setSelection(e,r,a){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,r,a)}setSelectionFocus(e,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,r)}setSelectionAttribute(e,r){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,r);else for(const[a,l]of Er(e))this._setSelectionAttribute(a,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const r of e)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,r){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const l=Kr._getStoreAttributeKey(e);this.setAttribute(l,r,a.anchor.parent)}a._setAttribute(e,r)}_removeSelectionAttribute(e){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const a=Kr._getStoreAttributeKey(e);this.removeAttribute(a,r.anchor.parent)}r._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new I("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,r){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const l=a.getRange();let u=!1;if("move"===e)u=r.containsPosition(l.start)||r.start.isEqual(l.start)||r.containsPosition(l.end)||r.end.isEqual(l.end);else{const m=r.nodeAfter,v=l.end.parent==m&&0==l.end.offset,x=l.end.nodeAfter==m,y=l.start.nodeAfter==m;u=l.start.parent==r.nodeBefore&&l.start.isAtEnd||v||x||y}u&&this.updateMarker(a.name,{range:l})}}}function R_(c,e,r,a){const l=c.model,u=l.document;let p,m,b,v=a.start;for(const y of a.getWalker({shallow:!0}))b=y.item.getAttribute(e),p&&m!=b&&(m!=r&&x(),v=p),p=y.nextPosition,m=b;function x(){const y=new ke(v,p),P=new Vn(y,e,m,r,y.root.document?u.version:null);c.batch.addOperation(P),l.applyOperation(P)}p instanceof Te&&p!=v&&m!=r&&x()}function z_(c,e,r,a){const l=c.model,u=l.document,p=a.getAttribute(e);let m,b;p!=r&&(a.root===a?b=new zo(a,e,p,r,a.document?u.version:null):(m=new ke(Te._createBefore(a),c.createPositionAfter(a)),b=new Vn(m,e,p,r,m.root.document?u.version:null)),c.batch.addOperation(b),l.applyOperation(b))}function ca(c,e,r,a,l){const u=c.model,m=new Yi(e,r,a,u.markers,l,u.document.version);c.batch.addOperation(m),u.applyOperation(m)}function hC(c,e,r,a){let l;if(c.root.document){const u=a.document,p=new Te(u.graveyard,[0]);l=new Lt(c,e,p,u.version)}else l=new la(c,e);r.addOperation(l),a.applyOperation(l)}function V_(c,e){return c===e||c instanceof tp&&e instanceof tp}class uC{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const r of e.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const r=this._isInInsertedElement(e.sourcePosition.parent),a=this._isInInsertedElement(e.targetPosition.parent);r||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),a||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const r=ke._createFromPositionAndShift(e.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(r)){const l=a.getData();this.bufferMarkerChange(a.name,l,l)}break}case"split":{const r=e.splitPosition.parent;this._isInInsertedElement(r)||this._markRemove(r,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const r=e.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1);const l=e.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,e.targetPosition.offset,r.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,r,a){const l=this._changedMarkers.get(e);l?(l.newMarkerData=a,null==l.oldMarkerData.range&&null==a.range&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:a,oldMarkerData:r})}getMarkersToRemove(){const e=[];for(const[r,a]of this._changedMarkers)null!=a.oldMarkerData.range&&e.push({name:r,range:a.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[r,a]of this._changedMarkers)null!=a.newMarkerData.range&&e.push({name:r,range:a.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,r])=>({name:e,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:r}of this._changedMarkers.values()){if(e.affectsData!==r.affectsData)return!0;if(e.affectsData){const a=e.range&&!r.range,l=!e.range&&r.range,u=e.range&&r.range&&!e.range.isEqual(r.range);if(a||l||u)return!0}}return!1}getChanges(e={includeChangesInGraveyard:!1}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const a of this._changesInElement.keys()){const l=this._changesInElement.get(a).sort((x,y)=>x.offset===y.offset?x.type!=y.type?"remove"==x.type?-1:1:0:x.offset<y.offset?-1:1),u=this._elementSnapshots.get(a),p=Nc(a.getChildren()),m=fC(u.length,l);let b=0,v=0;for(const x of m)if("i"===x)r.push(this._getInsertDiff(a,b,p[b])),b++;else if("r"===x)r.push(this._getRemoveDiff(a,b,u[v])),v++;else if("a"===x){const y=p[b].attributes,D=u[v].attributes;let P;if("$text"==p[b].name)P=new ke(Te._createAt(a,b),Te._createAt(a,b+1));else{const B=a.offsetToIndex(b);P=new ke(Te._createAt(a,b),Te._createAt(a.getChild(B),0))}r.push(...this._getAttributesDiff(P,D,y)),b++,v++}else b++,v++}r.sort((a,l)=>a.position.root!=l.position.root?a.position.root.rootName<l.position.root.rootName?-1:1:a.position.isEqual(l.position)?a.changeCount-l.changeCount:a.position.isBefore(l.position)?-1:1);for(let a=1,l=0;a<r.length;a++){const u=r[l],p=r[a],m="remove"==u.type&&"remove"==p.type&&"$text"==u.name&&"$text"==p.name&&u.position.isEqual(p.position),b="insert"==u.type&&"insert"==p.type&&"$text"==u.name&&"$text"==p.name&&u.position.parent==p.position.parent&&u.position.offset+u.length==p.position.offset,v="attribute"==u.type&&"attribute"==p.type&&u.position.parent==p.position.parent&&u.range.isFlat&&p.range.isFlat&&u.position.offset+u.length==p.position.offset&&u.attributeKey==p.attributeKey&&u.attributeOldValue==p.attributeOldValue&&u.attributeNewValue==p.attributeNewValue;m||b||v?(u.length++,v&&(u.range.end=u.range.end.getShiftedBy(1)),r[a]=null):l=a}r=r.filter(a=>a);for(const a of r)delete a.changeCount,"attribute"==a.type&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(j_),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const r=ke._createOn(e);for(const a of this._markerCollection.getMarkersIntersectingRange(r)){const l=a.getData();this.bufferMarkerChange(a.name,l,l)}this._cachedChanges=null}_markInsert(e,r,a){const l={type:"insert",offset:r,howMany:a,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,r,a){const l={type:"remove",offset:r,howMany:a,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,r,a)}_markAttribute(e){const r={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,r)}_markChange(e,r){this._makeSnapshot(e);const a=this._getChangesForElement(e);this._handleChange(r,a),a.push(r);for(let l=0;l<a.length;l++)a[l].howMany<1&&(a.splice(l,1),l--)}_getChangesForElement(e){let r;return this._changesInElement.has(e)?r=this._changesInElement.get(e):(r=[],this._changesInElement.set(e,r)),r}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Nc(e.getChildren()))}_handleChange(e,r){e.nodesToHandle=e.howMany;for(const a of r){const l=e.offset+e.howMany,u=a.offset+a.howMany;if("insert"==e.type&&("insert"==a.type&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<u&&(a.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==a.type&&e.offset<a.offset&&(a.offset+=e.howMany),"attribute"==a.type))if(e.offset<=a.offset)a.offset+=e.howMany;else if(e.offset<u){const p=a.howMany;a.howMany=e.offset-a.offset,r.unshift({type:"attribute",offset:l,howMany:p-a.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==a.type)if(l<=a.offset)a.offset-=e.howMany;else if(l<=u)if(e.offset<a.offset){const p=l-a.offset;a.offset=e.offset,a.howMany-=p,e.nodesToHandle-=p}else a.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=a.offset)e.nodesToHandle-=a.howMany,a.howMany=0;else if(e.offset<u){const p=u-e.offset;a.howMany-=p,e.nodesToHandle-=p}if("remove"==a.type&&(l<=a.offset?a.offset-=e.howMany:e.offset<a.offset&&(e.nodesToHandle+=a.howMany,a.howMany=0)),"attribute"==a.type)if(l<=a.offset)a.offset-=e.howMany;else if(e.offset<a.offset){const p=l-a.offset;a.offset=e.offset,a.howMany-=p}else if(e.offset<u)if(l<=u){const p=a.howMany;a.howMany=e.offset-a.offset,r.unshift({type:"attribute",offset:e.offset,howMany:p-a.howMany-e.nodesToHandle,count:this._changeCount++})}else a.howMany-=u-e.offset}if("attribute"==e.type){if("insert"==a.type)if(e.offset<a.offset&&l>a.offset){if(l>u){const p={type:"attribute",offset:u,howMany:l-u,count:this._changeCount++};this._handleChange(p,r),r.push(p)}e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=a.offset&&e.offset<u&&(l>u?(e.nodesToHandle=l-u,e.offset=u):e.nodesToHandle=0);if("remove"==a.type&&e.offset<a.offset&&l>a.offset){const p={type:"attribute",offset:a.offset,howMany:l-a.offset,count:this._changeCount++};this._handleChange(p,r),r.push(p),e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==a.type&&(e.offset>=a.offset&&l<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=a.offset&&l>=u&&(a.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,r,a){return{type:"insert",position:Te._createAt(e,r),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,r,a){return{type:"remove",position:Te._createAt(e,r),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,r,a){const l=[];a=new Map(a);for(const[u,p]of r){const m=a.has(u)?a.get(u):null;m!==p&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:p,attributeNewValue:m,changeCount:this._changeCount++}),a.delete(u)}for(const[u,p]of a)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const r=e.parent;if(!r)return!1;const a=this._changesInElement.get(r),l=e.startOffset;if(a)for(const u of a)if("insert"==u.type&&l>=u.offset&&l<u.offset+u.howMany)return!0;return this._isInInsertedElement(r)}_removeAllNestedChanges(e,r,a){const l=new ke(Te._createAt(e,r),Te._createAt(e,r+a));for(const u of l.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function Nc(c){const e=[];for(const r of c)if(r.is("$text"))for(let a=0;a<r.data.length;a++)e.push({name:"$text",attributes:new Map(r.getAttributes())});else e.push({name:r.name,attributes:new Map(r.getAttributes())});return e}function fC(c,e){const r=[];let a=0,l=0;for(const u of e){if(u.offset>a){for(let p=0;p<u.offset-a;p++)r.push("e");l+=u.offset-a}if("insert"==u.type){for(let p=0;p<u.howMany;p++)r.push("i");a=u.offset+u.howMany}else if("remove"==u.type){for(let p=0;p<u.howMany;p++)r.push("r");a=u.offset,l+=u.howMany}else r.push(..."a".repeat(u.howMany).split("")),a=u.offset+u.howMany,l+=u.howMany}if(l<c)for(let u=0;u<c-l-a;u++)r.push("e");return r}function j_(c){return!(c.position&&"$graveyard"==c.position.root.rootName||c.range&&"$graveyard"==c.range.root.rootName)}class U_{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new I("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,r=this.version){if(!this._operations.length)return[];const a=this._operations[0];void 0===e&&(e=a.baseVersion);let l=r-1;for(const[m,b]of this._gaps)e>m&&e<b&&(e=b),l>m&&l<b&&(l=m-1);if(l<a.baseVersion||e>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(e);void 0===u&&(u=0);let p=this._baseVersionToOperationIndex.get(l);return void 0===p&&(p=this._operations.length-1),this._operations.slice(u,p+1)}getOperation(e){const r=this._baseVersionToOperationIndex.get(e);if(void 0!==r)return this._operations[r]}setOperationAsUndone(e,r){this._undoPairs.set(r,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}function H_(c,e){return!!(r=c.charAt(e-1))&&1==r.length&&/[\ud800-\udbff]/.test(r)&&!!(a=c.charAt(e))&&1==a.length&&/[\udc00-\udfff]/.test(a);var a,r}function np(c,e){return!!(r=c.charAt(e))&&1==r.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const W_=function(){const c=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(r=>r.source).join("|")+")";return new RegExp(`${c}|${e}(?:\u200d${e})*`,"ug")}();function mh(c,e){const r=String(c).matchAll(W_);return Array.from(r).some(a=>a.index<e&&e<a.index+a[0].length)}const da="$graveyard";class Z_{constructor(e){this.model=e,this.history=new U_,this.selection=new Kr(this),this.roots=new ar({idProperty:"rootName"}),this.differ=new uC(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",da),this.listenTo(e,"applyOperation",(r,a)=>{const l=a[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(r,a)=>{const l=a[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(r,a,l,u,p)=>{const m={...a.getData(),range:u};this.differ.bufferMarkerChange(a.name,p,m),null===l&&a.on("change",(b,v)=>{const x=a.getData();this.differ.bufferMarkerChange(a.name,{...x,range:v},x)})})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(da)}createRoot(e="$root",r="main"){if(this.roots.get(r))throw new I("model-document-createroot-name-exists",this,{name:r});const a=new tp(this,e,r);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=da)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=kf(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),r=this.model,a=r.schema,l=r.createPositionFromPath(e,[0]);return a.getNearestSelectionRange(l)||r.createRange(l)}_validateSelectionRange(e){return ip(e.start)&&ip(e.end)}_callPostFixers(e){let r=!1;do{for(const a of this._postFixers)if(this.selection.refresh(),r=a(e),r)break}while(r)}}function ip(c){const e=c.textNode;if(e){const r=e.data,a=c.offset-e.startOffset;return!H_(r,a)&&!np(r,a)}return!0}rt(Z_,St);class q_{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e instanceof pl?e.name:e)}get(e){return this._markers.get(e)||null}_set(e,r,a=!1,l=!1){const u=e instanceof pl?e.name:e;if(u.includes(","))throw new I("markercollection-incorrect-marker-name",this);const p=this._markers.get(u);if(p){const v=p.getData(),x=p.getRange();let y=!1;return x.isEqual(r)||(p._attachLiveRange(Ir.fromRange(r)),y=!0),a!=p.managedUsingOperations&&(p._managedUsingOperations=a,y=!0),"boolean"==typeof l&&l!=p.affectsData&&(p._affectsData=l,y=!0),y&&this.fire("update:"+u,p,x,r,v),p}const m=Ir.fromRange(r),b=new pl(u,m,a,l);return this._markers.set(u,b),this.fire("update:"+u,b,null,r,{...b.getData(),range:null}),b}_remove(e){const r=e instanceof pl?e.name:e,a=this._markers.get(r);return!!a&&(this._markers.delete(r),this.fire("update:"+r,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(e){const r=e instanceof pl?e.name:e,a=this._markers.get(r);if(!a)throw new I("markercollection-refresh-marker-not-exists",this);const l=a.getRange();this.fire("update:"+r,a,l,l,a.getData())}*getMarkersAtPosition(e){for(const r of this)r.getRange().containsPosition(e)&&(yield r)}*getMarkersIntersectingRange(e){for(const r of this)null!==r.getRange().getIntersection(e)&&(yield r)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const r of this._markers.values())r.name.startsWith(e+":")&&(yield r)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}rt(q_,St);class pl{constructor(e,r,a,l){this.name=e,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=a,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._liveRange.toRange()}is(e){return"marker"===e||"model:marker"===e}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}rt(pl,St);class hi extends Fr{get type(){return"noop"}clone(){return new hi(this.baseVersion)}getReversed(){return new hi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const $r={};$r[Vn.className]=Vn,$r[di.className]=di,$r[Yi.className]=Yi,$r[Lt.className]=Lt,$r[hi.className]=hi,$r[Fr.className]=Fr,$r[Ki.className]=Ki,$r[zo.className]=zo,$r[sn.className]=sn,$r[Zt.className]=Zt;class ui extends Te{constructor(e,r,a="toNone"){if(super(e,r,a),!this.root.is("rootElement"))throw new I("model-liveposition-root-not-rootelement",e);G_.call(this)}detach(){this.stopListening()}is(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}toPosition(){return new Te(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,r){return new this(e.root,e.path.slice(),r||e.stickiness)}}function G_(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const r=e[0];r.isDocumentOperation&&Y_.call(this,r)},{priority:"low"})}function Y_(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const r=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",r)}}rt(ui,St);class pC{constructor(e,r,a){this.model=e,this.writer=r,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(e){for(const r of Array.from(e))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const r=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(e);if(a.isAfter(r)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new I("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?ke._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ke(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let r=this._checkAndAutoParagraphToAllowedPosition(e);r||(r=this._checkAndSplitToAllowedPosition(e),r)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ui.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new I("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ui.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ui.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof zt&&this._canMergeLeft(e)))return;const r=ui._createBefore(e);r.stickiness="toNext";const a=ui.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=ui._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ui._createAt(r.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof zt&&this._canMergeRight(e)))return;const r=ui._createAfter(e);if(r.stickiness="toNext",!this.position.isEqual(r))throw new I("insertcontent-invalid-insertion-position",this);this.position=Te._createAt(r.nodeBefore,"end");const a=ui.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=ui._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ui._createAt(r.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(e){const r=e.previousSibling;return r instanceof zt&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,e)}_canMergeRight(e){const r=e.nextSibling;return r instanceof zt&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(e,r)}_tryAutoparagraphing(e){const r=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,r)&&this.schema.checkChild(r,e)&&(r._appendChild(e),this._handleNode(r))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const r=this.writer.createElement("paragraph");return this.writer.insert(r,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=r,this.position=this.writer.createPositionAt(r,0),!0}_checkAndSplitToAllowedPosition(e){const r=this._getAllowedIn(this.position.parent,e);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===r&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,r){return this.schema.checkChild(e,r)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,r)}}function rp(c,e,r="auto"){const a=c.getSelectedElement();if(a&&e.schema.isObject(a)&&!e.schema.isInline(a))return["before","after"].includes(r)?e.createRange(e.createPositionAt(a,r)):e.createRangeOn(a);const l=Xn(c.getSelectedBlocks());if(!l)return e.createRange(c.focus);if(l.isEmpty)return e.createRange(e.createPositionAt(l,0));const u=e.createPositionAfter(l);return c.focus.isTouching(u)?e.createRange(u):e.createRange(e.createPositionBefore(l))}function K_(c,e,r={}){if(e.isCollapsed)return;const a=e.getFirstRange();if("$graveyard"==a.root.rootName)return;const l=c.schema;c.change(u=>{if(!r.doNotResetEntireContent&&function(v,x){const y=v.getLimitElement(x);if(!x.containsEntireContent(y))return!1;const D=x.getFirstRange();return D.start.parent!=D.end.parent&&v.checkChild(y,"paragraph")}(l,e))return void function(v,x){const y=v.model.schema.getLimitElement(x);v.remove(v.createRangeIn(y)),po(v,v.createPositionAt(y,0),x)}(u,e);const p={};if(!r.doNotAutoparagraph){const v=e.getSelectedElement();v&&Object.assign(p,l.getAttributesWithProperty(v,"copyOnReplace",!0))}const[m,b]=function(v){const x=v.root.document.model,y=v.start;let D=v.end;if(x.hasContent(v,{ignoreMarkers:!0})){const P=function(B){const R=B.parent,H=R.root.document.model.schema,ee=R.getAncestors({parentFirst:!0,includeSelf:!0});for(const ce of ee){if(H.isLimit(ce))return null;if(H.isBlock(ce))return ce}}(D);if(P&&D.isTouching(x.createPositionAt(P,0))){const B=x.createSelection(v);x.modifySelection(B,{direction:"backward"});const R=B.getLastPosition(),H=x.createRange(R,D);x.hasContent(H,{ignoreMarkers:!0})||(D=R)}}return[ui.fromPosition(y,"toPrevious"),ui.fromPosition(D,"toNext")]}(a);m.isTouching(b)||u.remove(u.createRange(m,b)),r.leaveUnmerged||(function(v,x,y){const D=v.model;if(!op(v.model.schema,x,y))return;const[P,B]=function(R,H){const ee=R.getAncestors(),ce=H.getAncestors();let Ce=0;for(;ee[Ce]&&ee[Ce]==ce[Ce];)Ce++;return[ee[Ce],ce[Ce]]}(x,y);!P||!B||(!D.hasContent(P,{ignoreMarkers:!0})&&D.hasContent(B,{ignoreMarkers:!0})?Q_(v,x,y,P.parent):$_(v,x,y,P.parent))}(u,m,b),l.removeDisallowedAttributes(m.parent.getChildren(),u)),sp(u,e,m),!r.doNotAutoparagraph&&function(v,x){const y=v.checkChild(x,"$text"),D=v.checkChild(x,"paragraph");return!y&&D}(l,m)&&po(u,m,e,p),m.detach(),b.detach()})}function $_(c,e,r,a){const l=e.parent,u=r.parent;if(l!=a&&u!=a){for(e=c.createPositionAfter(l),(r=c.createPositionBefore(u)).isEqual(e)||c.insert(u,e),c.merge(e);r.parent.isEmpty;){const p=r.parent;r=c.createPositionBefore(p),c.remove(p)}op(c.model.schema,e,r)&&$_(c,e,r,a)}}function Q_(c,e,r,a){const l=e.parent,u=r.parent;if(l!=a&&u!=a){for(e=c.createPositionAfter(l),(r=c.createPositionBefore(u)).isEqual(e)||c.insert(l,r);e.parent.isEmpty;){const p=e.parent;e=c.createPositionBefore(p),c.remove(p)}r=c.createPositionBefore(u),function(p,m){const b=m.nodeBefore,v=m.nodeAfter;b.name!=v.name&&p.rename(b,v.name),p.clearAttributes(b),p.setAttributes(Object.fromEntries(v.getAttributes()),b),p.merge(m)}(c,r),op(c.model.schema,e,r)&&Q_(c,e,r,a)}}function op(c,e,r){const a=e.parent,l=r.parent;return a!=l&&!c.isLimit(a)&&!c.isLimit(l)&&function(u,p,m){const b=new ke(u,p);for(const v of b.getWalker())if(m.isLimit(v.item))return!1;return!0}(e,r,c)}function po(c,e,r,a={}){const l=c.createElement("paragraph");c.model.schema.setAllowedAttributes(l,a,c),c.insert(l,e),sp(c,r,c.createPositionAt(l,0))}function sp(c,e,r){e instanceof Kr?c.setSelection(r):e.setTo(r)}const J_=' ,.?!:;"-()';function gC(c,e){const{isForward:r,walker:a,unit:l,schema:u,treatEmojiAsSingleUnit:p}=c,{type:m,item:b,nextPosition:v}=e;if("text"==m)return"word"===c.unit?function(x,y){let D=x.position.textNode;if(D){let P=x.position.offset-D.startOffset;for(;!gl(D.data,P,y)&&!bh(D,P,y);){x.next();const B=y?x.position.nodeAfter:x.position.nodeBefore;if(B&&B.is("$text")){const R=B.data.charAt(y?0:B.data.length-1);J_.includes(R)||(x.next(),D=x.position.textNode)}P=x.position.offset-D.startOffset}}return x.position}(a,r):function(x,y,D){const P=x.position.textNode;if(P){const B=P.data;let R=x.position.offset-P.startOffset;for(;H_(B,R)||"character"==y&&np(B,R)||D&&mh(B,R);)x.next(),R=x.position.offset-P.startOffset}return x.position}(a,l,p);if(m==(r?"elementStart":"elementEnd")){if(u.isSelectable(b))return Te._createAt(b,r?"after":"before");if(u.checkChild(v,"$text"))return v}else{if(u.isLimit(b))return void a.skip(()=>!0);if(u.checkChild(v,"$text"))return v}}function mC(c,e){const a=Te._createAt(c.root,e?"end":0);return e?new ke(c,a):new ke(a,c)}function gl(c,e,r){return J_.includes(c.charAt(e+(r?0:-1)))}function bh(c,e,r){return e===(r?c.endOffset:0)}function X_(c,e){const r=[];Array.from(c.getItems({direction:"backward"})).map(a=>e.createRangeOn(a)).filter(a=>(a.start.isAfter(c.start)||a.start.isEqual(c.start))&&(a.end.isBefore(c.end)||a.end.isEqual(c.end))).forEach(a=>{r.push(a.start.parent),e.remove(a)}),r.forEach(a=>{let l=a;for(;l.parent&&l.isEmpty;){const u=e.createRangeOn(l);l=l.parent,e.remove(u)}})}function kh(c,e){return c.isCollapsed?function(r,a){const l=r.start,u=a.getNearestSelectionRange(l);if(!u){const m=l.getAncestors().reverse().find(b=>a.isObject(b));return m?ke._createOn(m):null}if(!u.isCollapsed)return u;const p=u.start;return l.isEqual(p)?null:new ke(p)}(c,e):function(r,a){const{start:l,end:u}=r,p=a.checkChild(l,"$text"),m=a.checkChild(u,"$text"),b=a.getLimitElement(l),v=a.getLimitElement(u);if(b===v){if(p&&m)return null;if(function(D,P,B){const R=D.nodeAfter&&!B.isLimit(D.nodeAfter)||B.checkChild(D,"$text"),H=P.nodeBefore&&!B.isLimit(P.nodeBefore)||B.checkChild(P,"$text");return R||H}(l,u,a)){const D=l.nodeAfter&&a.isSelectable(l.nodeAfter)?null:a.getNearestSelectionRange(l,"forward"),P=u.nodeBefore&&a.isSelectable(u.nodeBefore)?null:a.getNearestSelectionRange(u,"backward");return new ke(D?D.start:l,P?P.end:u)}}const x=b&&!b.is("rootElement"),y=v&&!v.is("rootElement");if(x||y){const D=l.nodeAfter&&u.nodeBefore&&l.nodeAfter.parent===u.nodeBefore.parent,P=x&&(!D||!eb(l.nodeAfter,a)),B=y&&(!D||!eb(u.nodeBefore,a));let R=l,H=u;return P&&(R=Te._createBefore(ap(b,a))),B&&(H=Te._createAfter(ap(v,a))),new ke(R,H)}return null}(c,e)}function ap(c,e){let r=c,a=r;for(;e.isLimit(a)&&a.parent;)r=a,a=a.parent;return r}function eb(c,e){return c&&e.isSelectable(c)}class tb{constructor(){this.markers=new q_,this.document=new Z_(this),this.schema=new M_,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,r)=>{if("$marker"===r.name)return!0}),function _C(c){c.document.registerPostFixer(e=>function(r,a){const l=a.document.selection,u=a.schema,p=[];let m=!1;for(const b of l.getRanges()){const v=kh(b,u);v&&!v.isEqual(b)?(p.push(v),m=!0):p.push(b)}m&&r.setSelection(function(b){const v=[...b],x=new Set;let y=1;for(;y<v.length;){const D=v[y],P=v.slice(0,y);for(const[B,R]of P.entries())if(!x.has(B))if(D.isEqual(R))x.add(B);else if(D.isIntersecting(R)){x.add(B),x.add(y);const H=D.getJoined(R);v.push(H)}y++}return v.filter((D,P)=>!x.has(P))}(p),{backward:l.isBackward})}(e,c))}(this),this.document.registerPostFixer(T_)}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new hl,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(r){I.rethrowUnexpectedError(r,this)}}enqueueChange(e,r){try{e?"function"==typeof e?(r=e,e=new hl):e instanceof hl||(e=new hl(e)):e=new hl,this._pendingChanges.push({batch:e,callback:r}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(a){I.rethrowUnexpectedError(a,this)}}applyOperation(e){e._execute()}insertContent(e,r,a){return u=e,p=r,m=a,(l=this).change(b=>{let v;v=p?p instanceof Yr||p instanceof Kr?p:b.createSelection(p,m):l.document.selection,v.isCollapsed||l.deleteContent(v,{doNotAutoparagraph:!0});const x=new pC(l,b,v.anchor);let y;y=u.is("documentFragment")?u.getChildren():[u],x.handleNodes(y);const D=x.getSelectionRange();D&&(v instanceof Kr?b.setSelection(D):v.setTo(D));const P=x.getAffectedRange()||l.createRange(v.anchor);return x.destroy(),P});var l,u,p,m}insertObject(e,r,a,l){return function _h(c,e,r,a,l={}){if(!c.schema.isObject(e))throw new I("insertobject-element-not-an-object",c,{object:e});let u;u=r?r.is("selection")?r:c.createSelection(r,a):c.document.selection;let p=u;l.findOptimalPosition&&c.schema.isBlock(e)&&(p=c.createSelection(rp(u,c,l.findOptimalPosition)));const m=Xn(u.getSelectedBlocks()),b={};return m&&Object.assign(b,c.schema.getAttributesWithProperty(m,"copyOnReplace",!0)),c.change(v=>{p.isCollapsed||c.deleteContent(p,{doNotAutoparagraph:!0});let x=e;const y=p.anchor.parent;!c.schema.checkChild(y,e)&&c.schema.checkChild(y,"paragraph")&&c.schema.checkChild("paragraph",e)&&(x=v.createElement("paragraph"),v.insert(e,x)),c.schema.setAllowedAttributes(x,b,v);const D=c.insertContent(x,p);return D.isCollapsed||l.setSelection&&function(P,B,R,H){const ee=P.model;if("after"==R){let ce=B.nextSibling;!(ce&&ee.schema.checkChild(ce,"$text"))&&ee.schema.checkChild(B.parent,"paragraph")&&(ce=P.createElement("paragraph"),ee.schema.setAllowedAttributes(ce,H,P),ee.insertContent(ce,P.createPositionAfter(B))),ce&&P.setSelection(ce,0)}else{if("on"!=R)throw new I("insertobject-invalid-place-parameter-value",ee);P.setSelection(B,"on")}}(v,e,l.setSelection,b),D})}(this,e,r,a,l)}deleteContent(e,r){K_(this,e,r)}modifySelection(e,r){!function(a,l,u={}){const p=a.schema,m="backward"!=u.direction,b=u.unit?u.unit:"character",v=!!u.treatEmojiAsSingleUnit,y=new No({boundaries:mC(l.focus,m),singleCharacters:!0,direction:m?"forward":"backward"}),D={walker:y,schema:p,isForward:m,unit:b,treatEmojiAsSingleUnit:v};let P;for(;P=y.next();){if(P.done)return;const B=gC(D,P.value);if(B)return void(l instanceof Kr?a.change(R=>{R.setSelectionFocus(B)}):l.setFocus(B))}}(this,e,r)}getSelectedContent(e){return function(r,a){return r.change(l=>{const u=l.createDocumentFragment(),p=a.getFirstRange();if(!p||p.isCollapsed)return u;const m=p.start.root,b=p.start.getCommonPath(p.end),v=m.getNodeByPath(b);let x;x=p.start.parent==p.end.parent?p:l.createRange(l.createPositionAt(v,p.start.path[b.length]),l.createPositionAt(v,p.end.path[b.length]+1));const y=x.end.offset-x.start.offset;for(const D of x.getItems({shallow:!0}))D.is("$textProxy")?l.appendText(D.data,D.getAttributes(),u):l.append(l.cloneElement(D,!0),u);if(x!=p){const D=p._getTransformedByMove(x.start,l.createPositionAt(u,0),y)[0],P=l.createRange(l.createPositionAt(u,0),D.start);X_(l.createRange(D.end,l.createPositionAt(u,"end")),l),X_(P,l)}return u})}(this,e)}hasContent(e,r={}){const a=e instanceof zt?ke._createIn(e):e;if(a.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:u=!1}=r;if(!u)for(const p of this.markers.getMarkersIntersectingRange(a))if(p.affectsData)return!0;for(const p of a.getItems())if(this.schema.isContent(p)&&(!p.is("$textProxy")||!l||-1!==p.data.search(/\S/)))return!0;return!1}createPositionFromPath(e,r,a){return new Te(e,r,a)}createPositionAt(e,r){return Te._createAt(e,r)}createPositionAfter(e){return Te._createAfter(e)}createPositionBefore(e){return Te._createBefore(e)}createRange(e,r){return new ke(e,r)}createRangeIn(e){return ke._createIn(e)}createRangeOn(e){return ke._createOn(e)}createSelection(e,r,a){return new Yr(e,r,a)}createBatch(e){return new hl(e)}createOperationFromJSON(e){return class{static fromJSON(r,a){return $r[r.__className].fromJSON(r,a)}}.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new dC(this,this._pendingChanges[0].batch);const a=this._pendingChanges[0].callback(this._currentWriter);e.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}rt(tb,on);class nb extends Pn{constructor(e){super(),this.editor=e}set(e,r,a={}){if("string"==typeof r){const l=r;r=(u,p)=>{this.editor.execute(l),p()}}super.set(e,r,a)}}class ib{constructor(e={}){this._context=e.context||new lr({language:e.language||this.constructor.defaultConfig&&this.constructor.defaultConfig.language}),this._context._addEditor(this,!e.context);const a=Array.from(this.constructor.builtinPlugins||[]);this.config=new _f(e,this.constructor.defaultConfig),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new Ur(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Jx,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new tb;const l=new fc;this.data=new N_(this.model,l),this.editing=new Xf(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new cC([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new nb(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new I("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new I("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new I("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,r=e.get("plugins"),a=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],u=e.get("substitutePlugins")||[];return this.plugins.init(r.concat(l),a,u)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(r=>this.once("ready",r))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...e){try{return this.commands.execute(...e)}catch(r){I.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}}rt(ib,on);class bC{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,r){this._components.set(Oc(e),{callback:r,originalName:e})}create(e){if(!this.has(e))throw new I("componentfactory-item-missing",this,{name:e});return this._components.get(Oc(e)).callback(this.editor.locale)}has(e){return this._components.has(Oc(e))}}function Oc(c){return String(c).toLowerCase()}class rb{constructor(e){this.editor=e,this.componentFactory=new bC(e),this.focusTracker=new Ui,this.set("viewportOffset",this._readViewportOffsetFromConfig()),this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(e,r){this._editableElementsMap.set(e,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,r=e.config.get("ui.viewportOffset");if(r)return r;const a=e.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}}rt(rb,on);const kC={setData(c){this.data.set(c)},getData(c){return this.data.get(c)}},wC=kC,vC={updateSourceElement(){if(!this.sourceElement)throw new I("editor-missing-sourceelement",this);var c,e;c=this.sourceElement,e=this.data.get(),c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}};class ob extends ht{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ar({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new I("pendingactions-add-invalid-message",this);const r=Object.create(on);return r.set("message",e),this._actions.add(r),this.hasAny=!0,r}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Vo='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',Et={cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:Vo};function ks({emitter:c,activator:e,callback:r,contextElements:a}){c.listenTo(document,"mousedown",(l,u)=>{if(!e())return;const p="function"==typeof u.composedPath?u.composedPath():[];for(const m of a)if(m.contains(u.target)||p.includes(m))return;r()})}function wh(c){c.set("_isCssTransitionsDisabled",!1),c.disableCssTransitions=()=>{c._isCssTransitionsDisabled=!0},c.enableCssTransitions=()=>{c._isCssTransitionsDisabled=!1},c.extendTemplate({attributes:{class:[c.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function Nr({view:c}){c.listenTo(c.element,"submit",(e,r)=>{r.preventDefault(),c.fire("submit")},{useCapture:!0})}class jo extends ar{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(r,a,l)=>{this._renderViewIntoCollectionParent(a,l)}),this.on("remove",(r,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...e){if(!e.length||!e.every(r=>"string"==typeof r))throw new I("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const a of this)for(const l of e)a.delegate(l).to(r);this.on("add",(a,l)=>{for(const u of e)l.delegate(u).to(r)}),this.on("remove",(a,l)=>{for(const u of e)l.stopDelegating(u,r)})}}}_renderViewIntoCollectionParent(e,r){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[r])}}var sb=Ue(6150);Xe()(sb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class it{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ar,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,a)=>{a.locale=e}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=fr.bind(this,this)}createCollection(e){const r=new jo(e);return this._viewCollections.add(r),r}registerChild(e){wi(e)||(e=[e]);for(const r of e)this._unboundChildren.add(r)}deregisterChild(e){wi(e)||(e=[e]);for(const r of e)this._unboundChildren.remove(r)}setTemplate(e){this.template=new fr(e)}extendTemplate(e){fr.extend(this.template,e)}render(){if(this.isRendered)throw new I("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}rt(it,Xa),rt(it,on);class fr{constructor(e){Object.assign(this,hb(db(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new I("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(r){if(r.children)for(const a of r.children)Ch(a)?yield a:Ah(a)&&(yield*e(a))}(this)}static bind(e,r){return{to:(a,l)=>new lp({eventNameOrFunction:a,attribute:a,observable:e,emitter:r,callback:l}),if:(a,l,u)=>new Lc({observable:e,emitter:r,attribute:a,valueIfTrue:l,callback:u})}}static extend(e,r){if(e._isRendered)throw new I("template-extend-render",[this,e]);pb(e,hb(db(r)))}_renderNode(e){let r;if(r=e.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new I("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let r=e.node;return r||(r=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),r}_renderText(e){let r=e.node;return r?e.revertData.text=r.textContent:r=e.node=document.createTextNode(""),vh(this.text)?this._bindToObservable({schema:this.text,updater:ab(r),data:e}):r.textContent=this.text.join(""),r}_renderAttributes(e){let r,a,l,u;if(!this.attributes)return;const p=e.node,m=e.revertData;for(r in this.attributes)if(l=p.getAttribute(r),a=this.attributes[r],m&&(m.attributes[r]=l),u=ft(a[0])&&a[0].ns?a[0].ns:null,vh(a)){const b=u?a[0].value:a;m&&gb(r)&&b.unshift(l),this._bindToObservable({schema:b,updater:lb(p,r,u),data:e})}else"style"==r&&"string"!=typeof a[0]?this._renderStyleAttribute(a[0],e):(m&&l&&gb(r)&&a.unshift(l),a=a.map(b=>b&&b.value||b).reduce((b,v)=>b.concat(v),[]).reduce(fb,""),ml(a)||p.setAttributeNS(u,r,a))}_renderStyleAttribute(e,r){const a=r.node;for(const l in e){const u=e[l];vh(u)?this._bindToObservable({schema:[u],updater:cb(a,l),data:r}):a.style[l]=u}}_renderElementChildren(e){const r=e.node,a=e.intoFragment?document.createDocumentFragment():r,l=e.isApplying;let u=0;for(const p of this.children)if(yh(p)){if(!l){p.setParent(r);for(const m of p)a.appendChild(m.element)}}else if(Ch(p))l||(p.isRendered||p.render(),a.appendChild(p.element));else if(ta(p))a.appendChild(p);else if(l){const m={children:[],bindings:[],attributes:{}};e.revertData.children.push(m),p._renderNode({node:a.childNodes[u++],isApplying:!0,revertData:m})}else a.appendChild(p.render());e.intoFragment&&r.appendChild(a)}_setUpListeners(e){if(this.eventListeners)for(const r in this.eventListeners){const a=this.eventListeners[r].map(l=>{const[u,p]=r.split("@");return l.activateDomEventListener(u,p,e)});e.revertData&&e.revertData.bindings.push(a)}}_bindToObservable({schema:e,updater:r,data:a}){const l=a.revertData;xh(e,r,a);const u=e.filter(p=>!ml(p)).filter(p=>p.observable).map(p=>p.activateAttributeListener(e,r,a));l&&l.bindings.push(u)}_revertTemplateFromNode(e,r){for(const a of r.bindings)for(const l of a)l();if(r.text)e.textContent=r.text;else{for(const a in r.attributes){const l=r.attributes[a];null===l?e.removeAttribute(a):e.setAttribute(a,l)}for(let a=0;a<r.children.length;++a)this._revertTemplateFromNode(e.childNodes[a],r.children[a])}}}rt(fr,St);class Bc{constructor(e){Object.assign(this,e)}getValue(e){const r=this.observable[this.attribute];return this.callback?this.callback(r,e):r}activateAttributeListener(e,r,a){const l=()=>xh(e,r,a);return this.emitter.listenTo(this.observable,"change:"+this.attribute,l),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,l)}}}class lp extends Bc{activateDomEventListener(e,r,a){const l=(u,p)=>{r&&!p.target.matches(r)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(p):this.observable.fire(this.eventNameOrFunction,p))};return this.emitter.listenTo(a.node,e,l),()=>{this.emitter.stopListening(a.node,e,l)}}}class Lc extends Bc{getValue(e){return!ml(super.getValue(e))&&(this.valueIfTrue||!0)}}function vh(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(vh):c instanceof Bc)}function xh(c,e,{node:r}){let a=(u=r,c.map(p=>p instanceof Bc?p.getValue(u):p));var u;a=1==c.length&&c[0]instanceof Lc?a[0]:a.reduce(fb,""),ml(a)?e.remove():e.set(a)}function ab(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function lb(c,e,r){return{set(a){c.setAttributeNS(r,e,a)},remove(){c.removeAttributeNS(r,e)}}}function cb(c,e){return{set(r){c.style[e]=r},remove(){c.style[e]=null}}}function db(c){return E0(c,e=>{if(e&&(e instanceof Bc||Ah(e)||Ch(e)||yh(e)))return e})}function hb(c){if("string"==typeof c?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=li(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const r in e)ub(e,r);return e}(c.on),delete c.on),!c.text){c.attributes&&function(r){for(const a in r)r[a].value&&(r[a].value=li(r[a].value)),ub(r,a)}(c.attributes);const e=[];if(c.children)if(yh(c.children))e.push(c.children);else for(const r of c.children)Ah(r)||Ch(r)||ta(r)?e.push(r):e.push(new fr(r));c.children=e}return c}function ub(c,e){c[e]=li(c[e])}function fb(c,e){return ml(e)?c:ml(c)?e:`${c} ${e}`}function cp(c,e){for(const r in e)c[r]?c[r].push(...e[r]):c[r]=e[r]}function pb(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),cp(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),cp(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new I("ui-template-extend-children-mismatch",c);let r=0;for(const a of e.children)pb(c.children[r++],a)}}function ml(c){return!c&&0!==c}function Ch(c){return c instanceof it}function Ah(c){return c instanceof fr}function yh(c){return c instanceof jo}function gb(c){return"class"==c||"style"==c}const mb=function(c){return"string"==typeof c||!ji(c)&&yr(c)&&"[object String]"==Ar(c)};class CC extends jo{constructor(e,r=[]){super(r),this.locale=e}attachToDom(){this._bodyCollectionContainer=new fr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=function(r,a,l={},u=[]){const p=l&&l.xmlns,m=p?r.createElementNS(p,a):r.createElement(a);for(const b in l)m.setAttribute(b,l[b]);!mb(u)&&wi(u)||(u=[u]);for(let b of u)mb(b)&&(b=r.createTextNode(b)),m.appendChild(b);return m}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}var Th=Ue(1174);Xe()(Th.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _l extends it{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=e.getAttribute("viewBox");for(r&&(this.viewBox=r),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}var dp=Ue(9948);Xe()(dp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class hp extends it{constructor(e){super(e),this.set("text",""),this.set("position","s");const r=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",r.to("position",a=>"ck-tooltip_"+a),r.if("text","ck-hidden",a=>!a.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:r.to("text")}]}]})}}var bb=Ue(4499);Xe()(bb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Pt extends it{constructor(e){super(e);const r=this.bindTemplate,a=ue();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(a),this.iconView=new _l,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",l=>!l),r.if("isVisible","ck-hidden",l=>!l),r.to("isOn",l=>l?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],type:r.to("type",l=>l||"button"),tabindex:r.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${a}`,"aria-disabled":r.if("isEnabled",!0,l=>!l),"aria-pressed":r.to("isOn",l=>!!this.isToggleable&&String(l))},children:this.children,on:{mousedown:r.to(l=>{l.preventDefault()}),click:r.to(l=>{this.isEnabled?this.fire("execute"):l.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const e=new hp;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}_createLabelView(e){const r=new it;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),r}_createKeystrokeView(){const e=new it;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>Ga(r))}]}),e}_getTooltipString(e,r,a){return e?"string"==typeof e?e:(a&&(a=Ga(a)),e instanceof Function?e(r,a):`${r}${a?` (${a})`:""}`):""}}var kb=Ue(9681);Xe()(kb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class up extends Pt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new it;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}function Sh(c,e){const r=c.t,a={Black:r("Black"),"Dim grey":r("Dim grey"),Grey:r("Grey"),"Light grey":r("Light grey"),White:r("White"),Red:r("Red"),Orange:r("Orange"),Yellow:r("Yellow"),"Light green":r("Light green"),Green:r("Green"),Aquamarine:r("Aquamarine"),Turquoise:r("Turquoise"),"Light blue":r("Light blue"),Blue:r("Blue"),Purple:r("Purple")};return e.map(l=>{const u=a[l.label];return u&&u!=l.label&&(l.label=u),l})}function Eh(c){return c.map(SC).filter(e=>!!e)}function SC(c){return"string"==typeof c?{model:c,label:c,hasBorder:!1,view:{name:"span",styles:{color:c}}}:{model:c.color,label:c.label||c.color,hasBorder:void 0!==c.hasBorder&&c.hasBorder,view:{name:"span",styles:{color:`${c.color}`}}}}class EC extends Pt{constructor(e){super(e);const r=this.bindTemplate;this.set("color"),this.set("hasBorder"),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:r.to("color")},class:["ck","ck-color-grid__tile",r.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}function fp(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}class Uo{constructor(e){if(Object.assign(this,e),e.actions&&e.keystrokeHandler)for(const r in e.actions){let a=e.actions[r];"string"==typeof a&&(a=[a]);for(const l of a)e.keystrokeHandler.set(l,(u,p)=>{this[r](),p()})}}get first(){return this.focusables.find(pp)||null}get last(){return this.focusables.filter(pp).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((r,a)=>{const l=r.element===this.focusTracker.focusedElement;return l&&(e=a),l}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const r=this.current,a=this.focusables.length;if(!a)return null;if(null===r)return this[1===e?"first":"last"];let l=(r+a+e)%a;do{const u=this.focusables.get(l);if(pp(u))return u;l=(l+a+e)%a}while(l!==r);return null}}function pp(c){return!(!c.focus||!fp(c.element))}var wb=Ue(4923);Xe()(wb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class MC extends it{constructor(e,r){super(e);const a=r&&r.colorDefinitions||[],l={};r&&r.columns&&(l.gridTemplateColumns=`repeat( ${r.columns}, 1fr)`),this.set("selectedColor"),this.items=this.createCollection(),this.focusTracker=new Ui,this.keystrokes=new Pn,this._focusCycler=new Uo({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.items.on("add",(u,p)=>{p.isOn=p.color===this.selectedColor}),a.forEach(u=>{const p=new EC;p.set({color:u.color,label:u.label,tooltip:!0,hasBorder:u.options.hasBorder}),p.on("execute",()=>{this.fire("execute",{value:u.color,hasBorder:u.options.hasBorder,label:u.label})}),this.items.add(p)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:l}}),this.on("change:selectedColor",(u,p,m)=>{for(const b of this.items)b.isOn=b.color===m})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}const Dh='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class gp extends Pt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new _l;return e.content=Dh,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var mp=Ue(66);Xe()(mp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class xb extends it{constructor(e){super(e);const r=this.bindTemplate;this.set("class"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Pn,this.focusTracker=new Ui,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(e,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Pt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Pt,r=e.bindTemplate;return e.icon=Dh,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":r.to("isOn",a=>String(a))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class Cb extends it{constructor(e){super(e);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",a=>`ck-dropdown__panel_${a}`),r.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:r.to(a=>a.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}var Ab=Ue(3488);function Tb({element:c,target:e,positions:r,limiter:a,fitInViewport:l,viewportOffsetConfig:u}){os(e)&&(e=e()),os(a)&&(a=a());const p=(x=c)&&x.parentNode?x.offsetParent===yn.document.body?null:x.offsetParent:null,m=new Rt(c);var x;let b;const v={targetRect:new Rt(e),elementRect:m,positionedElementAncestor:p};if(a||l){const x=a&&new Rt(a).getVisible(),y=l&&function(D){D=Object.assign({top:0,bottom:0,left:0,right:0},D);const P=new Rt(yn.window);return P.top+=D.top,P.height-=D.top,P.bottom-=D.bottom,P.height-=D.bottom,P}(u);Object.assign(v,{limiterRect:x,viewportRect:y}),b=function(D,P){const{elementRect:B}=P,R=B.getArea(),H=D.map(Ce=>new bp(Ce,P)).filter(Ce=>!!Ce.name);let ee=0,ce=null;for(const Ce of H){const{_limiterIntersectionArea:Ke,_viewportIntersectionArea:at}=Ce;if(Ke===R)return Ce;const Qt=at**2+Ke**2;Qt>ee&&(ee=Qt,ce=Ce)}return ce}(r,v)||new bp(r[0],v)}else b=new bp(r[0],v);return b}function _p(c){const{scrollX:e,scrollY:r}=yn.window;return c.clone().moveBy(e,r)}Xe()(Ab.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bp{constructor(e,r){const a=e(r.targetRect,r.elementRect,r.viewportRect);if(!a)return;const{left:l,top:u,name:p,config:m}=a;Object.assign(this,{name:p,config:m}),this._positioningFunctionCorrdinates={left:l,top:u},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get _limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const r=this._options.viewportRect;if(!r)return e.getIntersectionArea(this._rect);{const a=e.getIntersection(r);if(a)return a.getIntersectionArea(this._rect)}}return 0}get _viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=_p(this._rect),this._options.positionedElementAncestor&&function(e,r){const a=_p(new Rt(r)),l=jf(r);let u=0,p=0;u-=a.left,p-=a.top,u+=r.scrollLeft,p+=r.scrollTop,u-=l.left,p-=l.top,e.moveBy(u,p)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}class bl extends it{constructor(e,r,a){super(e);const l=this.bindTemplate;this.buttonView=r,this.panelView=a,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new Pn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",l.to("class"),l.if("isEnabled","ck-disabled",u=>!u)],id:l.to("id"),"aria-describedby":l.to("ariaDescribedById")},children:[r,a]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?bl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(r,a)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,a())};this.keystrokes.set("arrowdown",(r,a)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,a())}),this.keystrokes.set("arrowright",(r,a)=>{this.isOpen&&a()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:r,southEast:a,southWest:l,northEast:u,northWest:p,southMiddleEast:m,southMiddleWest:b,northMiddleEast:v,northMiddleWest:x}=bl.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[a,l,m,b,e,u,p,v,x,r]:[l,a,b,m,e,p,u,x,v,r]}}bl.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},bl._getOptimalPosition=Tb;class Sb extends it{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Eb extends it{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Db(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}var Mb=Ue(5571);Xe()(Mb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class kl extends it{constructor(e,r){super(e);const a=this.bindTemplate,l=this.t;this.options=r||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ui,this.keystrokes=new Pn,this.set("class"),this.set("isCompact",!1),this.itemsView=new IC(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u="rtl"===e.uiLanguageDirection;this._focusCycler=new Uo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const p=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var m;this.options.shouldGroupWhenFull&&this.options.isFloating&&p.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:p,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")}},children:this.children,on:{mousedown:(m=this,m.bindTemplate.to(b=>{b.target===m.element&&b.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new PC(this):new Mh(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,r){const a=Db(e),l=a.items.filter((p,m,b)=>"|"===p||-1===a.removeItems.indexOf(p)&&("-"===p?!this.options.shouldGroupWhenFull||(se("toolbarview-line-break-ignored-when-grouping-items",b),!1):!!r.has(p)||(se("toolbarview-item-unavailable",{name:p}),!1))),u=this._cleanSeparators(l).map(p=>"|"===p?new Sb:"-"===p?new Eb:r.create(p));this.items.addMany(u)}_cleanSeparators(e){const r=p=>"-"!==p&&"|"!==p,a=e.length,l=e.findIndex(r),u=a-e.slice().reverse().findIndex(r);return e.slice(l,u).filter((p,m,b)=>!!r(p)||!(m>0&&b[m-1]===p))}}class IC extends it{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Mh{constructor(e){const r=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(a=>a),e.focusables.bindTo(e.items).using(a=>a),e.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class PC{constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(r,a)=>{const l=a.index;for(const u of a.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(u):this.ungroupedItems.remove(u);for(let u=l;u<l+a.added.length;u++){const p=a.added[u-l];u>this.ungroupedItems.length?this.groupedItems.add(p,u-this.ungroupedItems.length):this.ungroupedItems.add(p,u)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!fp(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,r=this.viewLocale.uiLanguageDirection,a=new Rt(e.lastChild),l=new Rt(e);if(!this.cachedPadding){const u=yn.window.getComputedStyle(e);this.cachedPadding=Number.parseInt(u["ltr"===r?"paddingRight":"paddingLeft"])}return"ltr"===r?a.right>l.right-this.cachedPadding:a.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new _n(this.viewElement,r=>{e&&e===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Sb),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,r=e.t,a=Qr(e);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",wp(a,[]),a.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:Vo}),a.toolbarView.items.bindTo(this.groupedItems).using(l=>l),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var wl=Ue(1162);Xe()(wl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ho extends it{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Ui,this.keystrokes=new Pn,this._focusCycler=new Uo({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class FC extends it{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class Ib extends it{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Pb=Ue(5075);Xe()(Pb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Fb=Ue(6875);function Qr(c,e=gp){const r=new e(c),a=new Cb(c),l=new bl(c,r,a);return r.bind("isEnabled").to(l),r instanceof gp?r.bind("isOn").to(l,"isOpen"):r.arrowView.bind("isOn").to(l,"isOpen"),(p=u=l).on("render",()=>{ks({emitter:p,activator:()=>p.isOpen,callback:()=>{p.isOpen=!1},contextElements:[p.element]})}),function(p){p.on("execute",m=>{m.source instanceof up||(p.isOpen=!1)})}(u),function(p){p.keystrokes.set("arrowdown",(m,b)=>{p.isOpen&&(p.panelView.focus(),b())}),p.keystrokes.set("arrowup",(m,b)=>{p.isOpen&&(p.panelView.focusLast(),b())})}(u),l;var u,p}function wp(c,e){const r=c.locale,a=r.t,l=c.toolbarView=new kl(r);l.set("ariaLabel",a("Dropdown toolbar")),c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(u=>l.items.add(u)),c.panelView.children.add(l),l.items.delegate("execute").to(c)}function vl(c,e){const r=c.locale,a=c.listView=new Ho(r);a.items.bindTo(e).using(({type:l,model:u})=>{if("separator"===l)return new Ib(r);if("button"===l||"switchbutton"===l){const p=new FC(r);let m;return m="button"===l?new Pt(r):new up(r),m.bind(...Object.keys(u)).to(u),m.delegate("execute").to(p),p.children.add(m),p}}),c.panelView.children.add(a),a.items.delegate("execute").to(c)}Xe()(Fb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Rc=Ue(4547);Xe()(Rc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class OC extends it{constructor(e){super(e),this.body=new CC(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var vp=Ue(2751);Xe()(vp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Tn extends it{constructor(e){super(e),this.set("text"),this.set("for"),this.id=`ck-editor__label_${ue()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class xp extends OC{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,r=new Tn;return r.text=e("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class BC extends it{constructor(e,r,a){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function r(a){e.change(l=>{const u=e.document.getRoot(a.name);l.addClass(a.isFocused?"ck-focused":"ck-blurred",u),l.removeClass(a.isFocused?"ck-blurred":"ck-focused",u)})}e.isRenderingInProgress?function a(l){e.once("change:isRenderingInProgress",(u,p,m)=>{m?a(l):r(l)})}(this):r(this)}}class LC extends BC{constructor(e,r,a){super(e,r,a),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView,r=this.t;e.change(a=>{const l=e.document.getRoot(this.name);a.setAttribute("aria-label",r("Rich Text Editor, %0",this.name),l)})}}var Lb=Ue(5523);Xe()(Lb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Rb extends it{constructor(e,r={}){super(e);const a=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:this.children});const l=new it(e);l.setTemplate({tag:"span",attributes:{class:["ck","ck-form__header__label"]},children:[{text:a.to("label")}]}),this.children.add(l)}}var Cp=Ue(6985);Xe()(Cp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class zC extends it{constructor(e){super(e),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new Ui,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),readonly:r.to("isReadOnly"),inputmode:r.to("inputMode"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById")},on:{input:r.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,r,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class yp extends zC{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var zc=Ue(8111);Xe()(zc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $n extends it{constructor(e,r){super(e);const a=`ck-labeled-field-view-${ue()}`,l=`ck-labeled-field-view-status-${ue()}`;this.fieldView=r(this,a,l),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(l),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,m)=>p||m);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",p=>!p),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(e){const r=new Tn(this.locale);return r.for=e,r.bind("text").to(this,"label"),r}_createStatusView(e){const r=new it(this.locale),a=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",l=>!l)],id:e,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),r}focus(){this.fieldView.focus()}}function Ni(c,e,r){const a=new yp(c.locale);return a.set({id:e,ariaDescribedById:r}),a.bind("isReadOnly").to(c,"isEnabled",l=>!l),a.bind("hasError").to(c,"errorText",l=>!!l),a.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(a),a}function Sp(c,e,r){const a=Qr(c.locale);return a.set({id:e,ariaDescribedById:r}),a.bind("isEnabled").to(c),a}class Ep extends ht{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(e,r={}){this._showNotification({message:e,type:"success",namespace:r.namespace,title:r.title})}showInfo(e,r={}){this._showNotification({message:e,type:"info",namespace:r.namespace,title:r.title})}showWarning(e,r={}){this._showNotification({message:e,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(e){this.fire(`show:${e.type}`+(e.namespace?`:${e.namespace}`:""),{message:e.message,type:e.type,title:e.title||""})}}class Vc{constructor(e,r){r&&sc(this,r),e&&this.set(e)}}function xl(c){return e=>e+c}rt(Vc,on);var Ih=Ue(8245);Xe()(Ih.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const zb=xl("px"),Mp=yn.document.body;class Hi extends it{constructor(e){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",a=>`ck-balloon-panel_${a}`),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",zb),left:r.to("left",zb)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const r=Hi.defaultPositions,a=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:Mp,fitInViewport:!0},e),l=Hi._getOptimalPosition(a),u=parseInt(l.left),p=parseInt(l.top),{name:m,config:b={}}=l,{withArrow:v=!0}=b;Object.assign(this,{top:p,left:u,position:m,withArrow:v})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const r=Ip(e.target),a=e.limiter?Ip(e.limiter):Mp;this.listenTo(yn.document,"scroll",(l,u)=>{const p=u.target,m=r&&p.contains(r),b=a&&p.contains(a);!m&&!b&&r&&a||this.attachTo(e)},{useCapture:!0}),this.listenTo(yn.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(yn.document,"scroll"),this.stopListening(yn.window,"resize")}}function Ip(c){return jr(c)?c:rh(c)?c.commonAncestorContainer:"function"==typeof c?Ip(c()):null}Hi.arrowHorizontalOffset=25,Hi.arrowVerticalOffset=10,Hi.stickyVerticalOffset=20,Hi._getOptimalPosition=Tb,Hi.defaultPositions=function({horizontalOffset:c=Hi.arrowHorizontalOffset,verticalOffset:e=Hi.arrowVerticalOffset,stickyVerticalOffset:r=Hi.stickyVerticalOffset,config:a}={}){return{northWestArrowSouthWest:(p,m)=>({top:l(p,m),left:p.left-c,name:"arrow_sw",...a&&{config:a}}),northWestArrowSouthMiddleWest:(p,m)=>({top:l(p,m),left:p.left-.25*m.width-c,name:"arrow_smw",...a&&{config:a}}),northWestArrowSouth:(p,m)=>({top:l(p,m),left:p.left-m.width/2,name:"arrow_s",...a&&{config:a}}),northWestArrowSouthMiddleEast:(p,m)=>({top:l(p,m),left:p.left-.75*m.width+c,name:"arrow_sme",...a&&{config:a}}),northWestArrowSouthEast:(p,m)=>({top:l(p,m),left:p.left-m.width+c,name:"arrow_se",...a&&{config:a}}),northArrowSouthWest:(p,m)=>({top:l(p,m),left:p.left+p.width/2-c,name:"arrow_sw",...a&&{config:a}}),northArrowSouthMiddleWest:(p,m)=>({top:l(p,m),left:p.left+p.width/2-.25*m.width-c,name:"arrow_smw",...a&&{config:a}}),northArrowSouth:(p,m)=>({top:l(p,m),left:p.left+p.width/2-m.width/2,name:"arrow_s",...a&&{config:a}}),northArrowSouthMiddleEast:(p,m)=>({top:l(p,m),left:p.left+p.width/2-.75*m.width+c,name:"arrow_sme",...a&&{config:a}}),northArrowSouthEast:(p,m)=>({top:l(p,m),left:p.left+p.width/2-m.width+c,name:"arrow_se",...a&&{config:a}}),northEastArrowSouthWest:(p,m)=>({top:l(p,m),left:p.right-c,name:"arrow_sw",...a&&{config:a}}),northEastArrowSouthMiddleWest:(p,m)=>({top:l(p,m),left:p.right-.25*m.width-c,name:"arrow_smw",...a&&{config:a}}),northEastArrowSouth:(p,m)=>({top:l(p,m),left:p.right-m.width/2,name:"arrow_s",...a&&{config:a}}),northEastArrowSouthMiddleEast:(p,m)=>({top:l(p,m),left:p.right-.75*m.width+c,name:"arrow_sme",...a&&{config:a}}),northEastArrowSouthEast:(p,m)=>({top:l(p,m),left:p.right-m.width+c,name:"arrow_se",...a&&{config:a}}),southWestArrowNorthWest:(p,m)=>({top:u(p),left:p.left-c,name:"arrow_nw",...a&&{config:a}}),southWestArrowNorthMiddleWest:(p,m)=>({top:u(p),left:p.left-.25*m.width-c,name:"arrow_nmw",...a&&{config:a}}),southWestArrowNorth:(p,m)=>({top:u(p),left:p.left-m.width/2,name:"arrow_n",...a&&{config:a}}),southWestArrowNorthMiddleEast:(p,m)=>({top:u(p),left:p.left-.75*m.width+c,name:"arrow_nme",...a&&{config:a}}),southWestArrowNorthEast:(p,m)=>({top:u(p),left:p.left-m.width+c,name:"arrow_ne",...a&&{config:a}}),southArrowNorthWest:(p,m)=>({top:u(p),left:p.left+p.width/2-c,name:"arrow_nw",...a&&{config:a}}),southArrowNorthMiddleWest:(p,m)=>({top:u(p),left:p.left+p.width/2-.25*m.width-c,name:"arrow_nmw",...a&&{config:a}}),southArrowNorth:(p,m)=>({top:u(p),left:p.left+p.width/2-m.width/2,name:"arrow_n",...a&&{config:a}}),southArrowNorthMiddleEast:(p,m)=>({top:u(p),left:p.left+p.width/2-.75*m.width+c,name:"arrow_nme",...a&&{config:a}}),southArrowNorthEast:(p,m)=>({top:u(p),left:p.left+p.width/2-m.width+c,name:"arrow_ne",...a&&{config:a}}),southEastArrowNorthWest:(p,m)=>({top:u(p),left:p.right-c,name:"arrow_nw",...a&&{config:a}}),southEastArrowNorthMiddleWest:(p,m)=>({top:u(p),left:p.right-.25*m.width-c,name:"arrow_nmw",...a&&{config:a}}),southEastArrowNorth:(p,m)=>({top:u(p),left:p.right-m.width/2,name:"arrow_n",...a&&{config:a}}),southEastArrowNorthMiddleEast:(p,m)=>({top:u(p),left:p.right-.75*m.width+c,name:"arrow_nme",...a&&{config:a}}),southEastArrowNorthEast:(p,m)=>({top:u(p),left:p.right-m.width+c,name:"arrow_ne",...a&&{config:a}}),viewportStickyNorth:(p,m,b)=>p.getIntersection(b)?{top:b.top+r,left:p.left+p.width/2-m.width/2,name:"arrowless",config:{withArrow:!1,...a}}:null};function l(p,m){return p.top-m.height-e}function u(p){return p.bottom+e}}();var Vb=Ue(1757);Xe()(Vb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var jb=Ue(3553);Xe()(jb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ph=xl("px");class Wo extends De{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const r=this.editor.editing.view,a=r.document.selection.editableElement;return a?r.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.view=new Hi(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new I("contextualballoon-add-view-exist",[this,e]);const r=e.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(r));const a=this._idToStack.get(r);e.singleViewMode&&this.showStack(r),a.set(e.view,e),this._viewToStack.set(e.view,a),a===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new I("contextualballoon-remove-view-not-exist",[this,e]);const r=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===r.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),1===r.size?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const r=this._idToStack.get(e);if(!r)throw new I("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)+1;e[r]||(r=0),this.showStack(this._getStackId(e[r]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)-1;e[r]||(r=e.length-1),this.showStack(this._getStackId(e[r]))}_createRotatorView(){const e=new UC(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,l)=>!l&&a>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,l)=>{if(l<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[u,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new HC(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,a)=>!a&&r>=2?Math.min(r-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:r="",withArrow:a=!0,singleViewMode:l=!1}){this.view.class=r,this.view.withArrow=a,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class UC extends it{constructor(e){super(e);const r=e.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ui,this.buttonPrevView=this._createButtonView(r("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(r("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,r){const a=new Pt(this.locale);return a.set({label:e,icon:r,tooltip:!0}),a}}class HC extends it{constructor(e,r){super(e);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:a.to("top",Ph),left:a.to("left",Ph),width:a.to("width",Ph),height:a.to("height",Ph)}},children:this.content}),this.on("change:numberOfPanels",(l,u,p,m)=>{p>m?this._addPanels(p-m):this._removePanels(m-p),this.updatePosition()})}_addPanels(e){for(;e--;){const r=new it;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(e){for(;e--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:r}=this._balloonPanelView,{width:a,height:l}=new Rt(this._balloonPanelView.element);Object.assign(this,{top:e,left:r,width:a,height:l})}}}var Cl=Ue(3609);Xe()(Cl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const fi=xl("px");class WC extends it{constructor(e){super(e);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new fr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",a=>a?"block":"none"),height:r.to("isSticky",a=>a?fi(this._panelRect.height):null)}}}).render(),this._contentPanel=new fr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",a=>a?fi(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_hasViewportTopOffset",a=>a?fi(this.viewportTopOffset):null),bottom:r.to("_isStickyToTheLimiter",a=>a?fi(this.limiterBottomOffset):null),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(yn.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let r;this.limiterElement?(r=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&r.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<r.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=r.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:fi(-yn.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}xl("px");var Pp=Ue(6706);Xe()(Pp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),xl("px"),xl("px");var Hb=Ue(8894);Xe()(Hb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const jc=new WeakMap;function Wb(c){const{view:e,element:r,text:a,isDirectHost:l=!0,keepOnFocus:u=!1}=c,p=e.document;jc.has(p)||(jc.set(p,new Map),p.registerPostFixer(m=>Al(p,m))),jc.get(p).set(r,{text:a,isDirectHost:l,keepOnFocus:u,hostElement:l?r:null}),e.change(m=>Al(p,m))}function Al(c,e){const r=jc.get(c),a=[];let l=!1;for(const[u,p]of r)p.isDirectHost&&(a.push(u),Uc(e,u,p)&&(l=!0));for(const[u,p]of r){if(p.isDirectHost)continue;const m=Fp(u);m&&(a.includes(m)||(p.hostElement=m,Uc(e,u,p)&&(l=!0)))}return l}function Uc(c,e,r){const{text:a,isDirectHost:l,hostElement:u}=r;let p=!1;return u.getAttribute("data-placeholder")!==a&&(c.setAttribute("data-placeholder",a,u),p=!0),(l||1==e.childCount)&&function(m,b){if(!m.isAttached()||Array.from(m.getChildren()).some(D=>!D.is("uiElement")))return!1;if(b)return!0;const x=m.document;if(!x.isFocused)return!0;const y=x.selection.anchor;return y&&y.parent!==m}(u,r.keepOnFocus)?(m=c,!(b=u).hasClass("ck-placeholder")&&(m.addClass("ck-placeholder",b),!0)&&(p=!0)):function Zb(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}(c,u)&&(p=!0),p;var m,b}function Fp(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}const Np=new Map;function Ot(c,e,r){let a=Np.get(c);a||(a=new Map,Np.set(c,a)),a.set(e,r)}function qC(c){return[c]}function qb(c,e,r={}){const a=function(l,u){const p=Np.get(l);return p&&p.has(u)?p.get(u):qC}(c.constructor,e.constructor);try{return a(c=c.clone(),e,r)}catch(l){throw l}}function GC(c,e,r){c=c.slice(),e=e.slice();const a=new Gb(r.document,r.useRelations,r.forceWeakRemove);a.setOriginalOperations(c),a.setOriginalOperations(e);const l=a.originalOperations;if(0==c.length||0==e.length)return{operationsA:c,operationsB:e,originalOperations:l};const u=new WeakMap;for(const b of c)u.set(b,0);const p={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let m=0;for(;m<c.length;){const b=c[m],v=u.get(b);if(v==e.length){m++;continue}const x=e[v],y=qb(b,x,a.getContext(b,x,!0)),D=qb(x,b,a.getContext(x,b,!1));a.updateRelation(b,x),a.setOriginalOperations(y,b),a.setOriginalOperations(D,x);for(const P of y)u.set(P,v+D.length);c.splice(m,1,...y),e.splice(v,1,...D)}if(r.padWithNoOps){const b=c.length-p.originalOperationsACount,v=e.length-p.originalOperationsBCount;$i(c,v-b),$i(e,b-v)}return yl(c,p.nextBaseVersionB),yl(e,p.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:l}}class Gb{constructor(e,r,a=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=r,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(e,r=null){const a=r?this.originalOperations.get(r):null;for(const l of e)this.originalOperations.set(l,a||l)}updateRelation(e,r){switch(e.constructor){case Lt:switch(r.constructor){case Zt:e.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,r,"insertAtSource"):e.targetPosition.isEqual(r.deletionPosition)?this._setRelation(e,r,"insertBetween"):e.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(e,r,"moveTargetAfter");break;case Lt:e.targetPosition.isEqual(r.sourcePosition)||e.targetPosition.isBefore(r.sourcePosition)?this._setRelation(e,r,"insertBefore"):this._setRelation(e,r,"insertAfter")}break;case sn:switch(r.constructor){case Zt:e.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(e,r,"splitBefore");break;case Lt:if(e.splitPosition.isEqual(r.sourcePosition)||e.splitPosition.isBefore(r.sourcePosition))this._setRelation(e,r,"splitBefore");else{const a=ke._createFromPositionAndShift(r.sourcePosition,r.howMany);e.splitPosition.hasSameParentAs(r.sourcePosition)&&a.containsPosition(e.splitPosition)&&this._setRelation(e,r,{howMany:a.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-a.start.offset})}}break;case Zt:switch(r.constructor){case Zt:e.targetPosition.isEqual(r.sourcePosition)||this._setRelation(e,r,"mergeTargetNotMoved"),e.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(e,r,"mergeSourceNotMoved"),e.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(e,r,"mergeSameElement");break;case sn:e.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(e,r,"splitAtSource")}break;case Yi:{const a=e.newRange;if(!a)return;switch(r.constructor){case Lt:{const l=ke._createFromPositionAndShift(r.sourcePosition,r.howMany),u=l.containsPosition(a.start)||l.start.isEqual(a.start),p=l.containsPosition(a.end)||l.end.isEqual(a.end);!u&&!p||l.containsRange(a)||this._setRelation(e,r,{side:u?"left":"right",path:u?a.start.path.slice():a.end.path.slice()});break}case Zt:{const l=a.start.isEqual(r.targetPosition),u=a.start.isEqual(r.deletionPosition),p=a.end.isEqual(r.deletionPosition),m=a.end.isEqual(r.sourcePosition);(l||u||p||m)&&this._setRelation(e,r,{wasInLeftElement:l,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:p,wasInRightElement:m});break}}break}}}getContext(e,r,a){return{aIsStrong:a,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(e,r):null,baRelation:this._useRelations?this._getRelation(r,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const r=this.originalOperations.get(e);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(e,r){const a=this.originalOperations.get(r),l=this._history.getUndoneOperation(a);if(!l)return null;const u=this.originalOperations.get(e),p=this._relations.get(u);return p&&p.get(l)||null}_setRelation(e,r,a){const l=this.originalOperations.get(e),u=this.originalOperations.get(r);let p=this._relations.get(l);p||(p=new Map,this._relations.set(l,p)),p.set(u,a)}}function yl(c,e){for(const r of c)r.baseVersion=e++}function $i(c,e){for(let r=0;r<e;r++)c.push(new hi(0))}function ws(c,e,r){const a=c.nodes.getNode(0).getAttribute(e);if(a==r)return null;const l=new ke(c.position,c.position.getShiftedBy(c.howMany));return new Vn(l,e,a,r,0)}function Yb(c,e){return null===c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function vs(c,e){const r=[];for(let a=0;a<c.length;a++){const l=c[a],u=new Lt(l.start,l.end.offset-l.start.offset,e,0);r.push(u);for(let p=a+1;p<c.length;p++)c[p]=c[p]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];e=e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return r}Ot(Vn,Vn,(c,e,r)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const a=c.range.getDifference(e.range).map(u=>new Vn(u,c.key,c.oldValue,c.newValue,0)),l=c.range.getIntersection(e.range);return l&&r.aIsStrong&&a.push(new Vn(l,e.key,e.newValue,c.newValue,0)),0==a.length?[new hi(0)]:a}return[c]}),Ot(Vn,di,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const r=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(a=>new Vn(a,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const a=ws(e,c.key,c.oldValue);a&&r.unshift(a)}return r}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),Ot(Vn,Zt,(c,e)=>{const r=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&r.push(ke._createFromPositionAndShift(e.graveyardPosition,1));const a=c.range._getTransformedByMergeOperation(e);return a.isCollapsed||r.push(a),r.map(l=>new Vn(l,c.key,c.oldValue,c.newValue,c.baseVersion))}),Ot(Vn,Lt,(c,e)=>function(a,l){const u=ke._createFromPositionAndShift(l.sourcePosition,l.howMany);let p=null,m=[];u.containsRange(a,!0)?p=a:a.start.hasSameParentAs(u.start)?(m=a.getDifference(u),p=a.getIntersection(u)):m=[a];const b=[];for(let v of m){v=v._getTransformedByDeletion(l.sourcePosition,l.howMany);const x=l.getMovedRangeStart(),y=v.start.hasSameParentAs(x);v=v._getTransformedByInsertion(x,l.howMany,y),b.push(...v)}return p&&b.push(p._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),b}(c.range,e).map(a=>new Vn(a,c.key,c.oldValue,c.newValue,c.baseVersion))),Ot(Vn,sn,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const r=c.clone();return r.range=new ke(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,r]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),Ot(di,Vn,(c,e)=>{const r=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const a=ws(c,e.key,e.newValue);a&&r.push(a)}return r}),Ot(di,di,(c,e,r)=>(c.position.isEqual(e.position)&&r.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),Ot(di,Lt,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Ot(di,sn,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),Ot(di,Zt,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),Ot(Yi,di,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),Ot(Yi,Yi,(c,e,r)=>{if(c.name==e.name){if(!r.aIsStrong)return[new hi(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),Ot(Yi,Zt,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),Ot(Yi,Lt,(c,e,r)=>{if(c.oldRange&&(c.oldRange=ke._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(r.abRelation){const a=ke._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if("left"==r.abRelation.side&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.start.path=r.abRelation.path,c.newRange.end=a.end,[c];if("right"==r.abRelation.side&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=a.start,c.newRange.end.path=r.abRelation.path,[c]}c.newRange=ke._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),Ot(Yi,sn,(c,e,r)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(r.abRelation){const a=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?c.newRange.start=Te._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!r.abRelation.wasInLeftElement&&(c.newRange.start=Te._createAt(e.moveTargetPosition)),c.newRange.end=c.newRange.end.isEqual(e.splitPosition)&&r.abRelation.wasInRightElement?Te._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?Te._createAt(e.insertionPosition):a.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),Ot(Zt,di,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),Ot(Zt,Zt,(c,e,r)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(r.bWasUndone){const a=e.graveyardPosition.path.slice();return a.push(0),c.sourcePosition=new Te(e.graveyardPosition.root,a),c.howMany=0,[c]}return[new hi(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!r.bWasUndone&&"splitAtSource"!=r.abRelation){const a="$graveyard"==c.targetPosition.root.rootName,l="$graveyard"==e.targetPosition.root.rootName;if(l&&!a||(!a||l)&&r.aIsStrong){const p=e.targetPosition._getTransformedByMergeOperation(e),m=c.targetPosition._getTransformedByMergeOperation(e);return[new Lt(p,c.howMany,m,0)]}return[new hi(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&r.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Ot(Zt,Lt,(c,e,r)=>{const a=ke._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!r.bWasUndone&&!r.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.sourcePosition)?[new hi(0)]:(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),Ot(Zt,sn,(c,e,r)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const a=0!=e.howMany,l=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(a||l||"mergeTargetNotMoved"==r.abRelation)return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==r.abRelation)return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if("mergeSameElement"==r.abRelation||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),Ot(Lt,di,(c,e)=>{const r=ke._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=r.start,c.howMany=r.end.offset-r.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),Ot(Lt,Lt,(c,e,r)=>{const a=ke._createFromPositionAndShift(c.sourcePosition,c.howMany),l=ke._createFromPositionAndShift(e.sourcePosition,e.howMany);let u,p=r.aIsStrong,m=!r.aIsStrong;if("insertBefore"==r.abRelation||"insertAfter"==r.baRelation?m=!0:"insertAfter"!=r.abRelation&&"insertBefore"!=r.baRelation||(m=!1),u=c.targetPosition.isEqual(e.targetPosition)&&m?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Yb(c,e)&&Yb(e,c))return[e.getReversed()];if(a.containsPosition(e.targetPosition)&&a.containsRange(l,!0))return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vs([a],u);if(l.containsPosition(c.targetPosition)&&l.containsRange(a,!0))return a.start=a.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),a.end=a.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),vs([a],u);const b=Pi(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==b||"extension"==b)return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vs([a],u);"remove"!=c.type||"remove"==e.type||r.aWasUndone||r.forceWeakRemove?"remove"==c.type||"remove"!=e.type||r.bWasUndone||r.forceWeakRemove||(p=!1):p=!0;const v=[],x=a.getDifference(l);for(const D of x){D.start=D.start._getTransformedByDeletion(e.sourcePosition,e.howMany),D.end=D.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const P="same"==Pi(D.start.getParentPath(),e.getMovedRangeStart().getParentPath()),B=D._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,P);v.push(...B)}const y=a.getIntersection(l);return null!==y&&p&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===v.length?v.push(y):1==v.length?l.start.isBefore(a.start)||l.start.isEqual(a.start)?v.unshift(y):v.push(y):v.splice(1,0,y)),0===v.length?[new hi(c.baseVersion)]:vs(v,u)}),Ot(Lt,sn,(c,e,r)=>{let a=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=r.abRelation||(a=c.targetPosition._getTransformedBySplitOperation(e));const l=ke._createFromPositionAndShift(c.sourcePosition,c.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=a,[c];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let p=new ke(e.splitPosition,l.end);return p=p._getTransformedBySplitOperation(e),vs([new ke(l.start,e.splitPosition),p],a)}c.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==r.abRelation&&(a=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==r.abRelation&&(a=c.targetPosition);const u=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const p=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);c.howMany>1&&p&&!r.aWasUndone&&u.push(ke._createFromPositionAndShift(e.insertionPosition,1))}return vs(u,a)}),Ot(Lt,Zt,(c,e,r)=>{const a=ke._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&a.containsPosition(e.sourcePosition))if("remove"!=c.type||r.forceWeakRemove){if(1==c.howMany)return r.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new hi(0)]}else if(!r.aWasUndone){const u=[];let p=e.graveyardPosition.clone(),m=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(u.push(new Lt(c.sourcePosition,c.howMany-1,c.targetPosition,0)),p=p._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),m=m._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const b=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),v=new Lt(p,1,b,0),x=v.getMovedRangeStart().path.slice();x.push(0);const y=new Te(v.targetPosition.root,x);m=m._getTransformedByMove(p,b,1);const D=new Lt(m,e.howMany,y,0);return u.push(v),u.push(D),u}const l=ke._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=l.start,c.howMany=l.end.offset-l.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),Ot(Ki,di,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),Ot(Ki,Zt,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),Ot(Ki,Lt,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Ot(Ki,Ki,(c,e,r)=>{if(c.position.isEqual(e.position)){if(!r.aIsStrong)return[new hi(0)];c.oldName=e.newName}return[c]}),Ot(Ki,sn,(c,e)=>{if("same"==Pi(c.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const r=new Ki(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,r]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),Ot(zo,zo,(c,e,r)=>{if(c.root===e.root&&c.key===e.key){if(!r.aIsStrong||c.newValue===e.newValue)return[new hi(0)];c.oldValue=e.newValue}return[c]}),Ot(sn,di,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),Ot(sn,Zt,(c,e,r)=>{if(!c.graveyardPosition&&!r.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const a=e.graveyardPosition.path.slice();a.push(0);const l=new Te(e.graveyardPosition.root,a),u=sn.getInsertionPosition(new Te(e.graveyardPosition.root,a)),p=new sn(l,0,u,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=sn.getInsertionPosition(c.splitPosition),c.graveyardPosition=p.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[p,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=sn.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Ot(sn,Lt,(c,e,r)=>{const a=ke._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const u=a.start.isEqual(c.graveyardPosition)||a.containsPosition(c.graveyardPosition);if(!r.bWasUndone&&u){const p=c.splitPosition._getTransformedByMoveOperation(e),m=c.graveyardPosition._getTransformedByMoveOperation(e),b=m.path.slice();b.push(0);const v=new Te(m.root,b);return[new Lt(p,c.howMany,v,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const l=c.splitPosition.isEqual(e.targetPosition);if(l&&("insertAtSource"==r.baRelation||"splitBefore"==r.abRelation))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=sn.getInsertionPosition(c.splitPosition),[c];if(l&&r.abRelation&&r.abRelation.howMany){const{howMany:u,offset:p}=r.abRelation;return c.howMany+=u,c.splitPosition=c.splitPosition.getShiftedBy(p),[c]}return c.splitPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.splitPosition)?(c.howMany-=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=sn.getInsertionPosition(c.splitPosition),[c]):(e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.insertionPosition=c.graveyardPosition?c.insertionPosition._getTransformedByMoveOperation(e):sn.getInsertionPosition(c.splitPosition),[c])}),Ot(sn,sn,(c,e,r)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new hi(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new hi(0)];if("splitBefore"==r.abRelation)return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const a="$graveyard"==c.splitPosition.root.rootName,l="$graveyard"==e.splitPosition.root.rootName;if(l&&!a||(!a||l)&&r.aIsStrong){const p=[];return e.howMany&&p.push(new Lt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&p.push(new Lt(c.splitPosition,c.howMany,c.moveTargetPosition,0)),p}return[new hi(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==r.abRelation)return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&"splitBefore"==r.baRelation){const a=e.insertionPosition.path.slice();a.push(0);const l=new Te(e.insertionPosition.root,a);return[c,new Lt(c.insertionPosition,1,l,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=sn.getInsertionPosition(c.splitPosition),[c]});class Nh extends Po{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Oh extends Po{constructor(e){super(e),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Ci{constructor(e){this.document=e}createDocumentFragment(e){return new dr(this.document,e)}createElement(e,r,a){return new Gn(this.document,e,r,a)}createText(e){return new et(this.document,e)}clone(e,r=!1){return e._clone(r)}appendChild(e,r){return r._appendChild(e)}insertChild(e,r,a){return a._insertChild(e,r)}removeChildren(e,r,a){return a._removeChildren(e,r)}remove(e){const r=e.parent;return r?this.removeChildren(r.getChildIndex(e),1,r):[]}replace(e,r){const a=e.parent;if(a){const l=a.getChildIndex(e);return this.removeChildren(l,1,a),this.insertChild(l,r,a),!0}return!1}unwrapElement(e){const r=e.parent;if(r){const a=r.getChildIndex(e);this.remove(e),this.insertChild(a,e.getChildren(),r)}}rename(e,r){const a=new Gn(this.document,e,r.getAttributes(),r.getChildren());return this.replace(r,a)?a:null}setAttribute(e,r,a){a._setAttribute(e,r)}removeAttribute(e,r){r._removeAttribute(e)}addClass(e,r){r._addClass(e)}removeClass(e,r){r._removeClass(e)}setStyle(e,r,a){sr(e)&&void 0===a&&(a=r),a._setStyle(e,r)}removeStyle(e,r){r._removeStyle(e)}setCustomProperty(e,r,a){a._setCustomProperty(e,r)}removeCustomProperty(e,r){return r._removeCustomProperty(e)}createPositionAt(e,r){return Oe._createAt(e,r)}createPositionAfter(e){return Oe._createAfter(e)}createPositionBefore(e){return Oe._createBefore(e)}createRange(e,r){return new ct(e,r)}createRangeOn(e){return ct._createOn(e)}createRangeIn(e){return ct._createIn(e)}createSelection(e,r,a){return new Zr(e,r,a)}}const Bh=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Lh=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,YC=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Kb=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,Tl=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Hc=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Rh(c){return c.startsWith("#")?Bh.test(c):c.startsWith("rgb")?Lh.test(c)||YC.test(c):c.startsWith("hsl")?Kb.test(c)||Tl.test(c):Hc.has(c.toLowerCase())}const Ft=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function z2(c){return Ft.includes(c)}const Fn=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function ha(c){return Fn.test(c)}const xs=/^[+-]?[0-9]*([.][0-9]+)?%$/,Wc=["repeat-x","repeat-y","repeat","space","round","no-repeat"],pr=["center","top","bottom","left","right"];function Ct(c){return pr.includes(c)}const Zo=["fixed","scroll","local"];function Cs(c){return Zo.includes(c)}const $b=/^url\(/;function gr(c){return $b.test(c)}function qo(c=""){if(""===c)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Zc(c),r=e[0],l=e[1]||r;return{top:r,bottom:e[2]||r,right:l,left:e[3]||l}}function Jr(c){return e=>{const{top:r,right:a,bottom:l,left:u}=e,p=[];return[r,a,u,l].every(m=>!!m)?p.push([c,KC(e)]):(r&&p.push([c+"-top",r]),a&&p.push([c+"-right",a]),l&&p.push([c+"-bottom",l]),u&&p.push([c+"-left",u])),p}}function KC({top:c,right:e,bottom:r,left:a}){const l=[];return a!==e?l.push(c,e,r,a):r!==c?l.push(c,e,r):e!==c?l.push(c,e):l.push(c),l.join(" ")}function Zc(c){return c.replace(/, /g,",").split(" ").map(e=>e.replace(/,/g,", "))}function ei(c){c.setNormalizer("background",$C),c.setNormalizer("background-color",e=>({path:"background.color",value:e})),c.setReducer("background",e=>{const r=[];return r.push(["background-color",e.color]),r}),c.setStyleRelation("background",["background-color"])}function $C(c){const e={},r=Zc(c);for(const l of r)Wc.includes(l)?(e.repeat=e.repeat||[],e.repeat.push(l)):Ct(l)?(e.position=e.position||[],e.position.push(l)):Cs(l)?e.attachment=l:Rh(l)?e.color=l:gr(l)&&(e.image=l);return{path:"background",value:e}}function Ai(c){c.setNormalizer("border",qc),c.setNormalizer("border-top",Go("top")),c.setNormalizer("border-right",Go("right")),c.setNormalizer("border-bottom",Go("bottom")),c.setNormalizer("border-left",Go("left")),c.setNormalizer("border-color",mr("color")),c.setNormalizer("border-width",mr("width")),c.setNormalizer("border-style",mr("style")),c.setNormalizer("border-top-color",Wi("color","top")),c.setNormalizer("border-top-style",Wi("style","top")),c.setNormalizer("border-top-width",Wi("width","top")),c.setNormalizer("border-right-color",Wi("color","right")),c.setNormalizer("border-right-style",Wi("style","right")),c.setNormalizer("border-right-width",Wi("width","right")),c.setNormalizer("border-bottom-color",Wi("color","bottom")),c.setNormalizer("border-bottom-style",Wi("style","bottom")),c.setNormalizer("border-bottom-width",Wi("width","bottom")),c.setNormalizer("border-left-color",Wi("color","left")),c.setNormalizer("border-left-style",Wi("style","left")),c.setNormalizer("border-left-width",Wi("width","left")),c.setExtractor("border-top",zh("top")),c.setExtractor("border-right",zh("right")),c.setExtractor("border-bottom",zh("bottom")),c.setExtractor("border-left",zh("left")),c.setExtractor("border-top-color","border.color.top"),c.setExtractor("border-right-color","border.color.right"),c.setExtractor("border-bottom-color","border.color.bottom"),c.setExtractor("border-left-color","border.color.left"),c.setExtractor("border-top-width","border.width.top"),c.setExtractor("border-right-width","border.width.right"),c.setExtractor("border-bottom-width","border.width.bottom"),c.setExtractor("border-left-width","border.width.left"),c.setExtractor("border-top-style","border.style.top"),c.setExtractor("border-right-style","border.style.right"),c.setExtractor("border-bottom-style","border.style.bottom"),c.setExtractor("border-left-style","border.style.left"),c.setReducer("border-color",Jr("border-color")),c.setReducer("border-style",Jr("border-style")),c.setReducer("border-width",Jr("border-width")),c.setReducer("border-top",Yo("top")),c.setReducer("border-right",Yo("right")),c.setReducer("border-bottom",Yo("bottom")),c.setReducer("border-left",Yo("left")),c.setReducer("border",function(){return r=>{const a=Gc(r,"top"),l=Gc(r,"right"),u=Gc(r,"bottom"),p=Gc(r,"left"),m=[a,l,u,p],b={width:e(m,"width"),style:e(m,"style"),color:e(m,"color")},v=Ko(b,"all");return v.length?v:[...Object.entries(b).reduce((y,[D,P])=>(P&&(y.push([`border-${D}`,P]),m.forEach(B=>B[D]=null)),y),[]),...Ko(a,"top"),...Ko(l,"right"),...Ko(u,"bottom"),...Ko(p,"left")]};function e(r,a){return r.map(l=>l[a]).reduce((l,u)=>l==u?l:null)}}()),c.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),c.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),c.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),c.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),c.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),c.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),c.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),c.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function qc(c){const{color:e,style:r,width:a}=Bp(c);return{path:"border",value:{color:qo(e),style:qo(r),width:qo(a)}}}function Go(c){return e=>{const{color:r,style:a,width:l}=Bp(e),u={};return void 0!==r&&(u.color={[c]:r}),void 0!==a&&(u.style={[c]:a}),void 0!==l&&(u.width={[c]:l}),{path:"border",value:u}}}function mr(c){return e=>({path:"border",value:Op(e,c)})}function Op(c,e){return{[e]:qo(c)}}function Wi(c,e){return r=>({path:"border",value:{[c]:{[e]:r}}})}function zh(c){return(e,r)=>{if(r.border)return Gc(r.border,c)}}function Gc(c,e){const r={};return c.width&&c.width[e]&&(r.width=c.width[e]),c.style&&c.style[e]&&(r.style=c.style[e]),c.color&&c.color[e]&&(r.color=c.color[e]),r}function Bp(c){const e={},r=Zc(c);for(const a of r)ha(a)||/thin|medium|thick/.test(a)?e.width=a:z2(a)?e.style=a:e.color=a;return e}function Yo(c){return e=>Ko(e,c)}function Ko(c,e){const r=[];if(c&&c.width&&r.push("width"),c&&c.style&&r.push("style"),c&&c.color&&r.push("color"),3==r.length){const a=r.map(l=>c[l]).join(" ");return["all"==e?["border",a]:[`border-${e}`,a]]}return"all"==e?[]:r.map(a=>[`border-${e}-${a}`,c[a]])}function Qb(c){c.setNormalizer("padding",r=>({path:"padding",value:qo(r)})),c.setNormalizer("padding-top",r=>({path:"padding.top",value:r})),c.setNormalizer("padding-right",r=>({path:"padding.right",value:r})),c.setNormalizer("padding-bottom",r=>({path:"padding.bottom",value:r})),c.setNormalizer("padding-left",r=>({path:"padding.left",value:r})),c.setReducer("padding",Jr("padding")),c.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}class Lp extends rb{constructor(e,r){super(e),this.view=r,this._toolbarConfig=Db(e.config.get("toolbar")),this._elementReplacer=new Zx}get element(){return this.view.element}init(e){const a=this.view,l=this.editor.editing.view,u=a.editable,p=l.document.getRoot();u.name=p.rootName,a.render();const m=u.element;this.setEditableElement(u.name,m),this.focusTracker.add(m),a.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(m),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const e=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.detachDomRoot(e.editable.name),e.destroy(),super.destroy()}_initToolbar(){const e=this.editor,r=this.view,a=e.editing.view;r.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),r.stickyPanel.limiterElement=r.element,r.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:l})=>l),r.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function({origin:l,originKeystrokeHandler:u,originFocusTracker:p,toolbar:m,beforeFocus:b,afterBlur:v}){p.add(m.element),u.set("Alt+F10",(x,y)=>{p.isFocused&&!m.focusTracker.isFocused&&(b&&b(),m.focus(),y())}),m.keystrokes.set("Esc",(x,y)=>{m.focusTracker.isFocused&&(l.focus(),v&&v(),y())})}({origin:a,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:r.toolbar})}_initPlaceholder(){const e=this.editor,r=e.editing.view,a=r.document.getRoot(),l=e.sourceElement,u=e.config.get("placeholder")||l&&"textarea"===l.tagName.toLowerCase()&&l.getAttribute("placeholder");u&&Wb({view:r,element:a,text:u,isDirectHost:!1,keepOnFocus:!0})}}var Jb=Ue(3638);Xe()(Jb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Xb extends xp{constructor(e,r,a={}){super(e),this.stickyPanel=new WC(e),this.toolbar=new kl(e,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new LC(e,r)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Rp extends ib{constructor(e,r={}){if(!jr(e)&&void 0!==r.initialData)throw new I("editor-create-initial-data",null);var u,p;super(r),void 0===this.config.get("initialData")&&this.config.set("initialData",jr(u=e)?(p=u)instanceof HTMLTextAreaElement?p.value:p.innerHTML:u),jr(e)&&(this.sourceElement=e),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new Xb(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new Lp(this,l),function(u){if(!os(u.updateSourceElement))throw new I("attachtoform-missing-elementapi-interface",u);const p=u.sourceElement;if(p&&"textarea"===p.tagName.toLowerCase()&&p.form){let m;const b=p.form,v=()=>u.updateSourceElement();os(b.submit)&&(m=b.submit,b.submit=()=>{v(),m.apply(b)}),b.addEventListener("submit",v),u.on("destroy",()=>{b.removeEventListener("submit",v),m&&(b.submit=m)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,r={}){return new Promise(a=>{const l=new this(e,r);a(l.initPlugins().then(()=>l.ui.init(jr(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}rt(Rp,wC),rt(Rp,vC);class Yc{constructor(e,r=20){this.model=e,this.size=0,this.limit=r,this.isLocked=!1,this._changeCallback=(a,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}class As extends vt{constructor(e,r){super(e),this._buffer=new Yc(e.model,r)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const r=this.editor.model,a=r.document,l=e.text||"",u=l.length,p=e.range?r.createSelection(e.range):a.selection,m=e.resultRange;r.enqueueChange(this._buffer.batch,b=>{this._buffer.lock(),r.deleteContent(p),l&&r.insertContent(b.createText(l,a.selection.getAttributes()),p),m?b.setSelection(m):p.is("documentSelection")||b.setSelection(p),this._buffer.unlock(),this._buffer.input(u)})}}function zp(c){if(c.newChildren.length-c.oldChildren.length!=1)return;const e=function(a,l){const u=[];let p,m=0;return a.forEach(x=>{"equal"==x?(b(),m++):"insert"==x?(v("insert")?p.values.push(l[m]):(b(),p={type:"insert",index:m,values:[l[m]]}),m++):v("delete")?p.howMany++:(b(),p={type:"delete",index:m,howMany:1})}),b(),u;function b(){p&&(u.push(p),p=null)}function v(x){return p&&p.type==x}}(ms(c.oldChildren,c.newChildren,QC),c.newChildren);if(e.length>1)return;const r=e[0];return r.values[0]&&r.values[0].is("$text")?r:void 0}function QC(c,e){return c&&c.is("$text")&&e&&e.is("$text")?c.data===e.data:c===e}function ek(c,e){return c.shiftKey&&c.keyCode===_t.delete&&!e.selection.isCollapsed}const Vp=[Fi("arrowUp"),Fi("arrowRight"),Fi("arrowDown"),Fi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let c=112;c<=135;c++)Vp.push(c);function Vh(c){return!(!c.ctrlKey&&!c.metaKey)||Vp.includes(c.keyCode)}class JC{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,r){if(function(a){if(0==a.length)return!1;for(const l of a)if("children"===l.type&&!zp(l))return!0;return!1}(e))this._handleContainerChildrenMutations(e,r);else for(const a of e)this._handleTextMutation(a,r),this._handleTextNodeInsertion(a)}_handleContainerChildrenMutations(e,r){const a=function(zi){const oi=zi.map(xr=>xr.node).reduce((xr,Lr)=>xr.getCommonAncestor(Lr,{includeSelf:!0}));if(oi)return oi.getAncestors({includeSelf:!0,parentFirst:!0}).find(xr=>xr.is("containerElement")||xr.is("rootElement"))}(e);if(!a)return;const l=this.editor.editing.view.domConverter.mapViewToDom(a),u=new Ac(this.editor.editing.view.document),p=this.editor.data.toModel(u.domToView(l)).getChild(0),m=this.editor.editing.mapper.toModelElement(a);if(!m)return;const b=Array.from(p.getChildren()),v=Array.from(m.getChildren()),x=b[b.length-1],y=v[v.length-1],D=x&&x.is("element","softBreak"),P=y&&!y.is("element","softBreak");D&&P&&b.pop();const B=this.editor.model.schema;if(!tk(b,B)||!tk(v,B))return;const R=b.map(zi=>zi.is("$text")?zi.data:"@").join("").replace(/\u00A0/g," "),H=v.map(zi=>zi.is("$text")?zi.data:"@").join("").replace(/\u00A0/g," ");if(H===R)return;const ee=ms(H,R),{firstChangeAt:ce,insertions:Ce,deletions:Ke}=nk(ee);let at=null;r&&(at=this.editing.mapper.toModelRange(r.getFirstRange()));const Qt=R.substr(ce,Ce),Ht=this.editor.model.createRange(this.editor.model.createPositionAt(m,ce),this.editor.model.createPositionAt(m,ce+Ke));this.editor.execute("input",{text:Qt,range:Ht,resultRange:at})}_handleTextMutation(e,r){if("text"!=e.type)return;const a=e.newText.replace(/\u00A0/g," "),l=e.oldText.replace(/\u00A0/g," ");if(l===a)return;const u=ms(l,a),{firstChangeAt:p,insertions:m,deletions:b}=nk(u);let v=null;r&&(v=this.editing.mapper.toModelRange(r.getFirstRange()));const x=this.editing.view.createPositionAt(e.node,p),y=this.editing.mapper.toModelPosition(x),D=this.editor.model.createRange(y,y.getShiftedBy(b)),P=a.substr(p,m);this.editor.execute("input",{text:P,range:D,resultRange:v})}_handleTextNodeInsertion(e){if("children"!=e.type)return;const r=zp(e),a=this.editing.view.createPositionAt(e.node,r.index),l=this.editing.mapper.toModelPosition(a);this.editor.execute("input",{text:r.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(l)})}}function tk(c,e){return c.every(r=>e.isInline(r))}function nk(c){let e=null,r=null;for(let u=0;u<c.length;u++)"equal"!=c[u]&&(e=null===e?u:e,r=u);let a=0,l=0;for(let u=e;u<=r;u++)"insert"!=c[u]&&a++,"delete"!=c[u]&&l++;return{insertions:l,deletions:a,firstChangeAt:e}}class Sl extends De{static get pluginName(){return"Input"}init(){const e=this.editor,r=new As(e,e.config.get("typing.undoStep")||20);var a;e.commands.add("input",r),function(a){let l=null;const u=a.model,p=a.editing.view,m=a.commands.get("input");function v(){const x=m.buffer;x.lock(),u.enqueueChange(x.batch,()=>{u.deleteContent(u.document.selection)}),x.unlock()}p.document.on($t.isAndroid?"beforeinput":"keydown",(x,y)=>function b(x){if($t.isWindows&&ek(x,p.document))return;const y=u.document,D=p.document.isComposing,P=l&&l.isEqual(y.selection);l=null,m.isEnabled&&(Vh(x)||y.selection.isCollapsed||D&&229===x.keyCode||!D&&229===x.keyCode&&P||v())}(y),{priority:"lowest"}),p.document.on("compositionstart",function(){const x=u.document,y=1!==x.selection.rangeCount||x.selection.getFirstRange().isFlat;x.selection.isCollapsed||y||v()},{priority:"lowest"}),p.document.on("compositionend",()=>{l=u.createSelection(u.document.selection)},{priority:"lowest"})}(e),(a=e).editing.view.document.on("mutations",(l,u,p)=>{new JC(a).handle(u,p)})}}class ys extends vt{constructor(e,r){super(e),this.direction=r,this._buffer=new Yc(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const r=this.editor.model,a=r.document;r.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const u=l.createSelection(e.selection||a.selection),p=e.sequence||1,m=u.isCollapsed;if(u.isCollapsed&&r.modifySelection(u,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(p))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(u,p))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let b=0;u.getFirstRange().getMinimalFlatRanges().forEach(v=>{b+=Kd(v.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(u,{doNotResetEntireContent:m,direction:this.direction}),this._buffer.input(b),l.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const r=this.editor.model,a=r.document.selection,l=r.schema.getLimitElement(a);if(!a.isCollapsed||!a.containsEntireContent(l)||!r.schema.checkChild(l,"paragraph"))return!1;const u=l.getChild(0);return!u||"paragraph"!==u.name}_replaceEntireContentWithParagraph(e){const r=this.editor.model,l=r.schema.getLimitElement(r.document.selection),u=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(u,l),e.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(e,r){const a=this.editor.model;if(r>1||"backward"!=this.direction||!e.isCollapsed)return!1;const l=e.getFirstPosition(),u=a.schema.getLimitElement(l),p=u.getChild(0);return l.parent==p&&!!e.containsEntireContent(p)&&!!a.schema.checkChild(u,"paragraph")&&"paragraph"!=p.name}}class XC extends uo{constructor(e){super(e);const r=e.document;let a=0;function l(u,p,m){const b=new Yn(r,"delete",r.selection.getFirstRange());r.fire(b,new bs(r,p,m)),b.stop.called&&u.stop()}r.on("keyup",(u,p)=>{p.keyCode!=_t.delete&&p.keyCode!=_t.backspace||(a=0)}),r.on("keydown",(u,p)=>{if($t.isWindows&&ek(p,r))return;const m={};if(p.keyCode==_t.delete)m.direction="forward",m.unit="character";else{if(p.keyCode!=_t.backspace)return;m.direction="backward",m.unit="codePoint"}m.unit=($t.isMac?p.altKey:p.ctrlKey)?"word":m.unit,m.sequence=++a,l(u,p.domEvent,m)}),$t.isAndroid&&r.on("beforeinput",(u,p)=>{if("deleteContentBackward"!=p.domEvent.inputType)return;const m={unit:"codepoint",direction:"backward",sequence:1},b=p.domTarget.ownerDocument.defaultView.getSelection();b.anchorNode==b.focusNode&&b.anchorOffset+1!=b.focusOffset&&(m.selectionToRemove=e.domConverter.domSelectionToView(b)),l(u,p.domEvent,m)})}observe(){}}class Ts extends De{static get pluginName(){return"Delete"}init(){const e=this.editor,r=e.editing.view,a=r.document,l=e.model.document;r.addObserver(XC),this._undoOnBackspace=!1;const u=new ys(e,"forward");if(e.commands.add("deleteForward",u),e.commands.add("forwardDelete",u),e.commands.add("delete",new ys(e,"backward")),this.listenTo(a,"delete",(p,m)=>{const b={unit:m.unit,sequence:m.sequence};if(m.selectionToRemove){const v=e.model.createSelection(),x=[];for(const y of m.selectionToRemove.getRanges())x.push(e.editing.mapper.toModelRange(y));v.setTo(x),b.selection=v}e.execute("forward"==m.direction?"deleteForward":"delete",b),m.preventDefault(),r.scrollToTheSelection()},{priority:"low"}),$t.isAndroid){let p=null;this.listenTo(a,"delete",(m,b)=>{const v=b.domTarget.ownerDocument.defaultView.getSelection();p={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}},{priority:"lowest"}),this.listenTo(a,"keyup",(m,b)=>{if(p){const v=b.domTarget.ownerDocument.defaultView.getSelection();v.collapse(p.anchorNode,p.anchorOffset),v.extend(p.focusNode,p.focusOffset),p=null}})}this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(p,m)=>{this._undoOnBackspace&&"backward"==m.direction&&1==m.sequence&&"codePoint"==m.unit&&(this._undoOnBackspace=!1,e.execute("undo"),m.preventDefault(),p.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Ss extends De{static get requires(){return[Sl,Ts]}static get pluginName(){return"Typing"}}function jp(c,e){let r=c.start;return{text:Array.from(c.getItems()).reduce((a,l)=>l.is("$text")||l.is("$textProxy")?a+l.data:(r=e.createPositionAfter(l),""),""),range:e.createRange(r,c.end)}}class Up{constructor(e,r){this.model=e,this.testCallback=r,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(r,{directChange:a})=>{a&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(e,"change:data",(r,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(e,r={}){const a=this.model,l=a.document.selection,u=a.createRange(a.createPositionAt(l.focus.parent,0),l.focus),{text:p,range:m}=jp(u,a),b=this.testCallback(p);if(!b&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!b,b){const v=Object.assign(r,{text:p,range:m});"object"==typeof b&&Object.assign(v,b),this.fire(`matched:${e}`,v)}}}rt(Up,on);class ik extends De{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,l=e.locale,u=e.model.document.selection;this.listenTo(e.editing.view.document,"arrowKey",(p,m)=>{if(!u.isCollapsed||m.shiftKey||m.altKey||m.ctrlKey)return;const b=m.keyCode==_t.arrowright,v=m.keyCode==_t.arrowleft;if(!b&&!v)return;const x=l.contentLanguageDirection;let y=!1;y="ltr"===x&&b||"rtl"===x&&v?this._handleForwardMovement(m):this._handleBackwardMovement(m),!0===y&&p.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(u,"change:range",(p,m)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!m.directChange&&Wh(u.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const r=this.attributes,a=this.editor.model.document.selection,l=a.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!jh(a,r))&&(Wh(l,r)?(Hh(e),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(e){const r=this.attributes,a=this.editor.model,l=a.document.selection,u=l.getFirstPosition();return this._isGravityOverridden?(Hh(e),this._restoreGravity(),Uh(a,r,u),!0):u.isAtStart?!!jh(l,r)&&(Hh(e),Uh(a,r,u),!0):(m=r,Wh(u.getShiftedBy(-1),m)?u.isAtEnd&&!jh(l,r)&&Wh(u,r)?(Hh(e),Uh(a,r,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0);var m}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function jh(c,e){for(const r of e)if(c.hasAttribute(r))return!0;return!1}function Uh(c,e,r){const a=r.nodeBefore;c.change(l=>{a?l.setSelectionAttribute(a.getAttributes()):l.removeSelectionAttribute(e)})}function Hh(c){c.preventDefault()}function Wh(c,e){const{nodeBefore:r,nodeAfter:a}=c;for(const l of e){const u=r?r.getAttribute(l):void 0;if((a?a.getAttribute(l):void 0)!==u)return!0}return!1}var Hp=/[\\^$.*+?()[\]{}|]/g,rk=RegExp(Hp.source);const Zi={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:El('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:El("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:El("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:El('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:El('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:El("'"),to:[null,"\u201a",null,"\u2019"]}},Wp={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},sk=["symbols","mathematical","typography","quotes"];function eA(c){return"string"==typeof c?new RegExp(`(${function(c){return(c=xf(c))&&rk.test(c)?c.replace(Hp,"\\$&"):c}(c)})$`):c}function tA(c){return"string"==typeof c?()=>[c]:c instanceof Array?()=>c:c}function Or(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function El(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function Dl(c,e,r,a){return a.createRange(Zp(c,e,r,!0,a),Zp(c,e,r,!1,a))}function Zp(c,e,r,a,l){let u=c.textNode||(a?c.nodeBefore:c.nodeAfter),p=null;for(;u&&u.getAttribute(e)==r;)p=u,u=a?u.previousSibling:u.nextSibling;return p?l.createPositionAt(p,a?"before":"after"):c}function yi(c,e,r,a){let l,u=null;"function"==typeof a?l=a:(u=c.commands.get(a),l=()=>{c.execute(a)}),c.model.document.on("change:data",(p,m)=>{if(u&&!u.isEnabled||!e.isEnabled)return;const b=Xn(c.model.document.selection.getRanges());if(!b.isCollapsed||m.isUndo||!m.isLocal)return;const v=Array.from(c.model.document.differ.getChanges()),x=v[0];if(1!=v.length||"insert"!==x.type||"$text"!=x.name||1!=x.length)return;const y=x.position.parent;if(y.is("element","codeBlock")||y.is("element","listItem")&&"function"!=typeof a&&!["numberedList","bulletedList","todoList"].includes(a)||u&&!0===u.value)return;const D=y.getChild(0),P=c.model.createRangeOn(D);if(!P.containsRange(b)&&!b.end.isEqual(P.end))return;const B=r.exec(D.data.substr(0,b.end.offset));B&&c.model.enqueueChange(R=>{const H=R.createPositionAt(y,0),ee=R.createPositionAt(y,B[0].length),ce=new Ir(H,ee);if(!1!==l({match:B})){R.remove(ce);const Ce=c.model.document.selection.getFirstRange(),Ke=R.createRangeIn(y);!y.isEmpty||Ke.isEqual(Ce)||Ke.containsRange(Ce,!0)||R.remove(y)}ce.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Qi(c,e,r,a){let l,u;r instanceof RegExp?l=r:u=r,u=u||(p=>{let m;const b=[],v=[];for(;null!==(m=l.exec(p))&&!(m&&m.length<4);){let{index:x,1:y,2:D,3:P}=m;x+=m[0].length-(y+D+P).length;const H=[x+y.length+D.length,x+y.length+D.length+P.length];b.push([x,x+y.length]),b.push(H),v.push([x+y.length,x+y.length+D.length])}return{remove:b,format:v}}),c.model.document.on("change:data",(p,m)=>{if(m.isUndo||!m.isLocal||!e.isEnabled)return;const b=c.model,v=b.document.selection;if(!v.isCollapsed)return;const x=Array.from(b.document.differ.getChanges()),y=x[0];if(1!=x.length||"insert"!==y.type||"$text"!=y.name||1!=y.length)return;const D=v.focus,P=D.parent,{text:B,range:R}=function(Ce,Ke){let at=Ce.start;return{text:Array.from(Ce.getItems()).reduce((Qt,Ht)=>!Ht.is("$text")&&!Ht.is("$textProxy")||Ht.getAttribute("code")?(at=Ke.createPositionAfter(Ht),""):Qt+Ht.data,""),range:Ke.createRange(at,Ce.end)}}(b.createRange(b.createPositionAt(P,0),D),b),H=u(B),ee=ak(R.start,H.format,b),ce=ak(R.start,H.remove,b);ee.length&&ce.length&&b.enqueueChange(Ce=>{if(!1!==a(Ce,ee)){for(const Ke of ce.reverse())Ce.remove(Ke);b.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function ak(c,e,r){return e.filter(a=>void 0!==a[0]&&void 0!==a[1]).map(a=>r.createRange(c.getShiftedBy(a[0]),c.getShiftedBy(a[1])))}function Kc(c,e){return(r,a)=>{if(!c.commands.get(e).isEnabled)return!1;const l=c.model.schema.getValidRanges(a,e);for(const u of l)r.setAttribute(e,!0,u);r.removeSelectionAttribute(e)}}function*ua(c,e){for(const r of e)r&&c.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class nA extends vt{execute(){const e=this.editor.model,r=e.document;e.change(a=>{(function(l,u,p,m){const b=p.isCollapsed,v=p.getFirstRange(),x=v.start.parent,y=v.end.parent;if(m.isLimit(x)||m.isLimit(y))b||x!=y||l.deleteContent(p);else if(b){const D=ua(u.model.schema,p.getAttributes());qp(u,v.start),u.setSelectionAttribute(D)}else{const D=!(v.start.isAtStart&&v.end.isAtEnd),P=x==y;l.deleteContent(p,{leaveUnmerged:D}),D&&(P?qp(u,p.focus):u.setSelection(y,0))}})(this.editor.model,a,r.selection,e.schema),this.fire("afterExecute",{writer:a})})}}function qp(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}class Gp extends uo{constructor(e){super(e);const r=this.document;r.on("keydown",(a,l)=>{if(this.isEnabled&&l.keyCode==_t.enter){const u=new Yn(r,"enter",r.selection.getFirstRange());r.fire(u,new bs(r,l.domEvent,{isSoft:l.shiftKey})),u.stop.called&&a.stop()}})}observe(){}}class Zh extends De{static get pluginName(){return"Enter"}init(){const e=this.editor,r=e.editing.view,a=r.document;r.addObserver(Gp),e.commands.add("enter",new nA(e)),this.listenTo(a,"enter",(l,u)=>{u.preventDefault(),u.isSoft||(e.execute("enter"),r.scrollToTheSelection())},{priority:"low"})}}class _r extends vt{execute(){const e=this.editor.model,r=e.document;e.change(a=>{(function(l,u,p){const m=p.isCollapsed,b=p.getFirstRange(),x=b.end.parent,y=b.start.parent==x;if(m){const D=ua(l.schema,p.getAttributes());Xr(l,u,b.end),u.removeSelectionAttribute(p.getAttributeKeys()),u.setSelectionAttribute(D)}else{const D=!(b.start.isAtStart&&b.end.isAtEnd);l.deleteContent(p,{leaveUnmerged:D}),y?Xr(l,u,p.focus):D&&u.setSelection(x,0)}})(e,a,r.selection),this.fire("afterExecute",{writer:a})})}refresh(){const e=this.editor.model;this.isEnabled=function(a,l){if(l.rangeCount>1)return!1;const u=l.anchor;if(!u||!a.checkChild(u,"softBreak"))return!1;const p=l.getFirstRange(),m=p.start.parent,b=p.end.parent;return!((fa(m,a)||fa(b,a))&&m!==b)}(e.schema,e.document.selection)}}function Xr(c,e,r){const a=e.createElement("softBreak");c.insertContent(a,r),e.setSelection(a,"after")}function fa(c,e){return!c.is("rootElement")&&(e.isLimit(c)||fa(c.parent,e))}class Ml extends De{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,a=e.conversion,l=e.editing.view,u=l.document;e.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(p,{writer:m})=>m.createEmptyElement("br")}),l.addObserver(Gp),e.commands.add("shiftEnter",new _r(e)),this.listenTo(u,"enter",(p,m)=>{m.preventDefault(),m.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class iA extends vt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor.model,a=r.schema,u=Array.from(r.document.selection.getSelectedBlocks()),p=void 0===e.forceValue?!this.value:e.forceValue;r.change(m=>{if(p){const b=u.filter(v=>qh(v)||lk(a,v));this._applyQuote(m,b)}else this._removeQuote(m,u.filter(qh))})}_getValue(){const e=Xn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!qh(e))}_checkEnabled(){if(this.value)return!0;const r=this.editor.model.schema,a=Xn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&lk(r,a)}_removeQuote(e,r){Yp(e,r).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void e.unwrap(a.start.parent);if(a.start.isAtStart){const u=e.createPositionBefore(a.start.parent);return void e.move(a,u)}a.end.isAtEnd||e.split(a.end);const l=e.createPositionAfter(a.end.parent);e.move(a,l)})}_applyQuote(e,r){const a=[];Yp(e,r).reverse().forEach(l=>{let u=qh(l.start);u||(u=e.createElement("blockQuote"),e.wrap(l,u)),a.push(u)}),a.reverse().reduce((l,u)=>l.nextSibling==u?(e.merge(e.createPositionAfter(l)),l):u)}}function qh(c){return"blockQuote"==c.parent.name?c.parent:null}function Yp(c,e){let r,a=0;const l=[];for(;a<e.length;){const u=e[a],p=e[a+1];r||(r=c.createPositionBefore(u)),p&&u.nextSibling==p||(l.push(c.createRange(r,c.createPositionAfter(u))),r=null),a++}return l}function lk(c,e){const r=c.checkChild(e.parent,"blockQuote"),a=c.checkChild(["$root","blockQuote"],e);return r&&a}class rA extends De{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Zh,Ts]}init(){const e=this.editor,r=e.model.schema;e.commands.add("blockQuote",new iA(e)),r.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(p=>{const m=e.model.document.differ.getChanges();for(const b of m)if("insert"==b.type){const v=b.position.nodeAfter;if(!v)continue;if(v.is("element","blockQuote")&&v.isEmpty)return p.remove(v),!0;if(v.is("element","blockQuote")&&!r.checkChild(b.position,v))return p.unwrap(v),!0;if(v.is("element")){const x=p.createRangeIn(v);for(const y of x.getItems())if(y.is("element","blockQuote")&&!r.checkChild(p.createPositionBefore(y),y))return p.unwrap(y),!0}}else if("remove"==b.type){const v=b.position.parent;if(v.is("element","blockQuote")&&v.isEmpty)return p.remove(v),!0}return!1});const a=this.editor.editing.view.document,l=e.model.document.selection,u=e.commands.get("blockQuote");this.listenTo(a,"enter",(p,m)=>{!l.isCollapsed||!u.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),m.preventDefault(),p.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(p,m)=>{if("backward"!=m.direction||!l.isCollapsed||!u.value)return;const b=l.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),m.preventDefault(),p.stop())},{context:"blockquote"})}}var ck=Ue(636);Xe()(ck.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Es extends De{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,r=e.t;e.ui.componentFactory.add("blockQuote",a=>{const l=e.commands.get("blockQuote"),u=new Pt(a);return u.set({label:r("Block quote"),icon:Et.quote,tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(u,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),u})}}class oA extends vt{constructor(e,r){super(e),this.attributeKey=r}refresh(){const e=this.editor.model,r=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(e={}){const r=this.editor.model,a=r.document.selection,l=void 0===e.forceValue?!this.value:e.forceValue;r.change(u=>{if(a.isCollapsed)l?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const p=r.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const m of p)l?u.setAttribute(this.attributeKey,l,m):u.removeAttribute(this.attributeKey,m)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,r=e.schema,a=e.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const l of a.getRanges())for(const u of l.getItems())if(r.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const Il="bold";class $c extends De{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Il}),e.model.schema.setAttributeProperties(Il,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Il,view:"strong",upcastAlso:["b",r=>{const a=r.getStyle("font-weight");return a?"bold"==a||Number(a)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(Il,new oA(e,Il)),e.keystrokes.set("CTRL+B",Il)}}const Kp="bold";class Nn extends De{static get pluginName(){return"BoldUI"}init(){const e=this.editor,r=e.t;e.ui.componentFactory.add(Kp,a=>{const l=e.commands.get(Kp),u=new Pt(a);return u.set({label:r("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(u,"execute",()=>{e.execute(Kp),e.editing.view.focus()}),u})}}class $p{constructor(){const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const r=this._reader;return this.total=e.size,new Promise((a,l)=>{r.onload=()=>{const u=r.result;this._data=u,a(u)},r.onerror=()=>{l("error")},r.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}rt($p,on);class br extends De{static get pluginName(){return"FileRepository"}static get requires(){return[ob]}init(){this.loaders=new ar,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,r)=>r?e/r*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return se("filerepository-no-upload-adapter"),null;const r=new Pl(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(e,r),e instanceof Promise&&r.file.then(a=>{this._loadersMap.set(a,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let a=0;for(const l of this.loaders)a+=l.uploaded;this.uploaded=a}),r.on("change:uploadTotal",()=>{let a=0;for(const l of this.loaders)l.uploadTotal&&(a+=l.uploadTotal);this.uploadTotal=a}),r}destroyLoader(e){const r=e instanceof Pl?e:this.getLoader(e);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((a,l)=>{a===r&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(ob);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,a=l=>`${r("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else e.remove(this._pendingAction),this._pendingAction=null}}rt(br,on);class Pl{constructor(e,r){this.id=ue(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=r(this),this._reader=new $p,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,l)=>l?a/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new I("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e}).catch(e=>{throw"aborted"===e?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if("idle"!=this.status)throw new I("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw"aborted"===this.status?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const r={};return r.promise=new Promise((a,l)=>{r.rejecter=l,r.isFulfilled=!1,e.then(u=>{r.isFulfilled=!0,a(u)}).catch(u=>{r.isFulfilled=!0,l(u)})}),r}}rt(Pl,on);class sA extends it{constructor(e){super(e),this.buttonView=new Pt(e),this._fileInputView=new Gh(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Gh extends it{constructor(e){super(e),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class pi{constructor(e){this.loader=e}upload(){return new Promise((e,r)=>{const a=this.reader=new window.FileReader;a.addEventListener("load",()=>{e({default:a.result})}),a.addEventListener("error",l=>{r(l)}),a.addEventListener("abort",()=>{r()}),this.loader.file.then(l=>{a.readAsDataURL(l)})})}abort(){this.reader.abort()}}const dk="abcdefghijklmnopqrstuvwxyz0123456789";class Jp{constructor(e,r,a){this.loader=e,this.url=r,this.t=a}upload(){return this.loader.file.then(e=>new Promise((r,a)=>{this._initRequest(),this._initListeners(r,a,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,r,a){const l=this.xhr,u=this.loader,p=(0,this.t)("Cannot upload file:")+` ${a.name}.`;l.addEventListener("error",()=>r(p)),l.addEventListener("abort",()=>r()),l.addEventListener("load",()=>{const m=l.response;if(!m||!m.uploaded)return r(m&&m.error&&m.error.message?m.error.message:p);e({default:m.url})}),l.upload&&l.upload.addEventListener("progress",m=>{m.lengthComputable&&(u.uploadTotal=m.total,u.uploaded=m.loaded)})}_sendRequest(e){const r=new FormData;r.append("upload",e),r.append("ckCsrfToken",function hk(){let c=function(a){a=a.toLowerCase();const l=document.cookie.split(";");for(const u of l){const p=u.split("=");if(decodeURIComponent(p[0].trim().toLowerCase())===a)return decodeURIComponent(p[1])}return null}("ckCsrfToken");var r;return c&&40==c.length||(c=function(a){let l="";const u=new Uint8Array(40);window.crypto.getRandomValues(u);for(let p=0;p<u.length;p++){const m=dk.charAt(u[p]%dk.length);l+=Math.random()>.5?m.toUpperCase():m}return l}(),r=c,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(r)+";path=/"),c}()),this.xhr.send(r)}}const Xp={autoRefresh:!0};class Qc{constructor(e,r=Xp){if(!e)throw new I("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh="function"==typeof e?e:()=>{return a=e,new Promise((l,u)=>{const p=new XMLHttpRequest;p.open("GET",a),p.addEventListener("load",()=>{const m=p.status,b=p.response;return m<200||m>299?u(new I("token-cannot-download-new-token",null)):l(b)}),p.addEventListener("error",()=>u(new Error("Network Error"))),p.addEventListener("abort",()=>u(new Error("Abort"))),p.send()});var a},this._options=Object.assign({},Xp,r)}init(){return new Promise((e,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(r)})}refreshToken(){return this._refresh().then(e=>{this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const r="string"==typeof e,a=!/^".*"$/.test(e),l=r&&3===e.split(".").length;if(!a||!l)throw new I("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:r}=JSON.parse(atob(e));return r?Math.floor((1e3*r-Date.now())/2):36e5}catch{return 36e5}}static create(e,r=Xp){return new Qc(e,r).init()}}rt(Qc,on);const aA=Qc,fn=/^data:(\S*?);base64,/;class Ds{constructor(e,r,a){if(!e)throw new I("fileuploader-missing-file",null);if(!r)throw new I("fileuploader-missing-token",null);if(!a)throw new I("fileuploader-missing-api-address",null);this.file=function(l){if("string"!=typeof l)return!1;const u=l.match(fn);return!(!u||!u.length)}(e)?function(l,u=512){try{const p=l.match(fn)[1],m=atob(l.replace(fn,"")),b=[];for(let v=0;v<m.length;v+=u){const x=m.slice(v,v+u),y=new Array(x.length);for(let D=0;D<x.length;D++)y[D]=x.charCodeAt(D);b.push(new Uint8Array(y))}return new Blob(b,{type:p})}catch{throw new I("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=r,this._apiAddress=a}onProgress(e){return this.on("progress",(r,a)=>e(a)),this}onError(e){return this.once("error",(r,a)=>e(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this,r=this.xhr;function a(l){return()=>e.fire("error",l)}r.addEventListener("error",a("Network Error")),r.addEventListener("abort",a("Abort")),r.upload&&r.upload.addEventListener("progress",l=>{l.lengthComputable&&this.fire("progress",{total:l.total,uploaded:l.loaded})}),r.addEventListener("load",()=>{const l=r.status,u=r.response;if(l<200||l>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const e=new FormData,r=this.xhr;return e.append("file",this.file),new Promise((a,l)=>{r.addEventListener("load",()=>{const u=r.status,p=r.response;return u<200||u>299?l(p.message?new I("fileuploader-uploading-data-failed",this,{message:p.message}):p.error):a(p)}),r.addEventListener("error",()=>l(new Error("Network Error"))),r.addEventListener("abort",()=>l(new Error("Abort"))),r.send(e)})}}rt(Ds,St);class tn{constructor(e,r){if(!e)throw new I("uploadgateway-missing-token",null);if(!r)throw new I("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=r}upload(e){return new Ds(e,this._token,this._apiAddress)}}class On extends ht{static get pluginName(){return"CloudServicesCore"}createToken(e,r){return new aA(e,r)}createUploadGateway(e,r){return new tn(e,r)}}class eo{constructor(e){this.files=function(r){const a=Array.from(r.files||[]),l=Array.from(r.items||[]);return a.length?a:l.filter(u=>"file"===u.kind).map(u=>u.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,r){this._native.setData(e,r)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class tg extends Po{constructor(e){super(e);const r=this.document;function a(l){return(u,p)=>{p.preventDefault();const m=p.dropRange?[p.dropRange]:null,b=new pe(r,l);r.fire(b,{dataTransfer:p.dataTransfer,method:u.name,targetRanges:m,target:p.target}),b.stop.called&&p.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(r,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",a("dragging"),{priority:"low"})}onDomEvent(e){const r={dataTransfer:new eo(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(r.dropRange=function(a,l){const u=l.target.ownerDocument,p=l.clientX,m=l.clientY;let b;return u.caretRangeFromPoint&&u.caretRangeFromPoint(p,m)?b=u.caretRangeFromPoint(p,m):l.rangeParent&&(b=u.createRange(),b.setStart(l.rangeParent,l.rangeOffset),b.collapse(!0)),b?a.domConverter.domRangeToView(b):null}(this.view,e)),this.fire(e.type,e,r)}}const pa=["figcaption","li"];function uk(c){let e="";if(c.is("$text")||c.is("$textProxy"))e=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))e=c.getAttribute("alt");else if(c.is("element","br"))e="\n";else{let r=null;for(const a of c.getChildren()){const l=uk(a);r&&(r.is("containerElement")||a.is("containerElement"))&&(pa.includes(r.name)||pa.includes(a.name)?e+="\n":e+="\n\n"),e+=l,r=a}}return e}class to extends De{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(tg),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,r=e.model,a=e.editing.view,l=a.document;this.listenTo(l,"clipboardInput",u=>{e.isReadOnly&&u.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(u,p)=>{const m=p.dataTransfer;let b=p.content||"";var v;b||(m.getData("text/html")?b=m.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(D,P)=>1==P.length?" ":P).replace(/<!--[\s\S]*?-->/g,""):m.getData("text/plain")&&(((v=(v=m.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||v.includes("<br>"))&&(v=`<p>${v}</p>`),b=v),b=this.editor.data.htmlProcessor.toView(b));const x=new pe(this,"inputTransformation");this.fire(x,{content:b,dataTransfer:m,targetRanges:p.targetRanges,method:p.method}),x.stop.called&&u.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(u,p)=>{if(p.content.isEmpty)return;const m=this.editor.data.toModel(p.content,"$clipboardHolder");0!=m.childCount&&(u.stop(),r.change(()=>{this.fire("contentInsertion",{content:m,method:p.method,dataTransfer:p.dataTransfer,targetRanges:p.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(u,p)=>{p.resultRange=r.insertContent(p.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,r=e.model.document,a=e.editing.view.document;function l(u,p){const m=p.dataTransfer;p.preventDefault();const b=e.data.toView(e.model.getSelectedContent(r.selection));a.fire("clipboardOutput",{dataTransfer:m,content:b,method:u.name})}this.listenTo(a,"copy",l,{priority:"low"}),this.listenTo(a,"cut",(u,p)=>{e.isReadOnly?p.preventDefault():l(u,p)},{priority:"low"}),this.listenTo(a,"clipboardOutput",(u,p)=>{p.content.isEmpty||(p.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(p.content)),p.dataTransfer.setData("text/plain",uk(p.content))),"cut"==p.method&&e.model.deleteContent(r.selection)},{priority:"low"})}}class ng{constructor(){this._stack=[]}add(e,r){const a=this._stack,l=a[0];this._insertDescriptor(e);const u=a[0];l===u||ig(l,u)||this.fire("change:top",{oldDescriptor:l,newDescriptor:u,writer:r})}remove(e,r){const a=this._stack,l=a[0];this._removeDescriptor(e);const u=a[0];l===u||ig(l,u)||this.fire("change:top",{oldDescriptor:l,newDescriptor:u,writer:r})}_insertDescriptor(e){const r=this._stack,a=r.findIndex(u=>u.id===e.id);if(ig(e,r[a]))return;a>-1&&r.splice(a,1);let l=0;for(;r[l]&&Br(r[l],e);)l++;r.splice(l,0,e)}_removeDescriptor(e){const r=this._stack,a=r.findIndex(l=>l.id===e);a>-1&&r.splice(a,1)}}function ig(c,e){return c&&e&&c.priority==e.priority&&Fl(c.classes)==Fl(e.classes)}function Br(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&Fl(c.classes)>Fl(e.classes)}function Fl(c){return Array.isArray(c)?c.sort().join(","):c}rt(ng,St);const Ji="ck-widget_selected";function bn(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function Yh(c,e,r={}){if(!c.is("containerElement"))throw new I("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass("ck-widget",c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=pk,r.label&&e.setCustomProperty("widgetLabel",r.label,c),r.hasSelectionHandle&&function(a,l){const u=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(p){const m=this.toDomElement(p),b=new _l;return b.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),b.render(),m.appendChild(b.element),m});l.insert(l.createPositionAt(a,0),u),l.addClass(["ck-widget_with-selection-handle"],a)}(c,e),og(c,e),c}function wt(c,e,r){if(e.classes&&r.addClass(li(e.classes),c),e.attributes)for(const a in e.attributes)r.setAttribute(a,e.attributes[a],c)}function rg(c,e,r){if(e.classes&&r.removeClass(li(e.classes),c),e.attributes)for(const a in e.attributes)r.removeAttribute(a,c)}function og(c,e,r=wt,a=rg){const l=new ng;l.on("change:top",(u,p)=>{p.oldDescriptor&&a(c,p.oldDescriptor,p.writer),p.newDescriptor&&r(c,p.newDescriptor,p.writer)}),e.setCustomProperty("addHighlight",(u,p,m)=>l.add(p,m),c),e.setCustomProperty("removeHighlight",(u,p,m)=>l.remove(p,m),c)}function Jc(c){const e=c.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function Sn(c,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(r,a,l)=>{e.setAttribute("contenteditable",l?"false":"true",c)}),c.on("change:isFocused",(r,a,l)=>{l?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),og(c,e),c}function fk(c,e){const r=c.getSelectedElement();if(r){const a=Ms(c);if(a)return e.createRange(e.createPositionAt(r,a))}return rp(c,e)}function pk(){return null}const $o="widget-type-around";function Bn(c,e,r){return c&&bn(c)&&!r.isInline(e)}function Ms(c){return c.getAttribute($o)}var gk=Ue(5137);Xe()(gk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const no=["before","after"],lA=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Kh="ck-widget__type-around_disabled";class qt extends De{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Zh,Ts]}constructor(e){super(e),this._currentFakeCaretModelElement=null}init(){const e=this.editor,r=e.editing.view;this.on("change:isEnabled",(a,l,u)=>{r.change(p=>{for(const m of r.document.roots)u?p.removeClass(Kh,m):p.addClass(Kh,m)}),u||e.model.change(p=>{p.removeSelectionAttribute($o)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(e,r){const a=this.editor,l=a.editing.view,u=a.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(e,r),attributes:u}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,r,a,l){this.listenTo(e,r,(...u)=>{this.isEnabled&&a(...u)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,r=Ms(e);if(!r)return!1;const a=e.getSelectedElement();return this._insertParagraph(a,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,r=e.model.schema,a=e.locale.t,l={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(u,p,m)=>{const b=m.mapper.toViewElement(p.item);Bn(b,p.item,r)&&function(v,x,y){const D=v.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(P){const B=this.toDomElement(P);return function(R,H){for(const ee of no){const ce=new fr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ee}`],title:H[ee]},children:[R.ownerDocument.importNode(lA,!0)]});R.appendChild(ce.render())}}(B,x),function(R){const H=new fr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});R.appendChild(H.render())}(B),B});v.insert(v.createPositionAt(y,"end"),D)}(m.writer,l,b)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,r=e.model,a=r.document.selection,l=r.schema;function p(m){return`ck-widget_type-around_show-fake-caret_${m}`}this._listenToIfEnabled(e.editing.view.document,"arrowKey",(m,b)=>{this._handleArrowKeyPress(m,b)},{context:[bn,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(m,b)=>{b.directChange&&e.model.change(v=>{v.removeSelectionAttribute($o)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const m=a.getSelectedElement();m&&Bn(e.editing.mapper.toViewElement(m),m,l)||e.model.change(b=>{b.removeSelectionAttribute($o)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(m,b,v)=>{const x=v.writer;if(this._currentFakeCaretModelElement){const B=v.mapper.toViewElement(this._currentFakeCaretModelElement);B&&(x.removeClass(no.map(p),B),this._currentFakeCaretModelElement=null)}const y=b.selection.getSelectedElement();if(!y)return;const D=v.mapper.toViewElement(y);if(!Bn(D,y,l))return;const P=Ms(b.selection);P&&(x.addClass(p(P),D),this._currentFakeCaretModelElement=y)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(m,b,v)=>{v||e.model.change(x=>{x.removeSelectionAttribute($o)})})}_handleArrowKeyPress(e,r){const a=this.editor,l=a.model,u=l.document.selection,p=l.schema,m=a.editing.view,b=function(y,D){const P=_c(y,D);return"down"===P||"right"===P}(r.keyCode,a.locale.contentLanguageDirection),v=m.document.selection.getSelectedElement();let x;Bn(v,a.editing.mapper.toModelElement(v),p)?x=this._handleArrowKeyPressOnSelectedWidget(b):u.isCollapsed?x=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):r.shiftKey||(x=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),x&&(r.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,a=Ms(r.document.selection);return r.change(l=>a?a!==(e?"after":"before")&&(l.removeSelectionAttribute($o),!0):(l.setSelectionAttribute($o,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const r=this.editor,a=r.model,l=a.schema,u=r.plugins.get("Widget"),p=u._getObjectElementNextToSelection(e);return!!Bn(r.editing.mapper.toViewElement(p),p,l)&&(a.change(m=>{u._setSelectionOverElement(p),m.setSelectionAttribute($o,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const r=this.editor,a=r.model,l=a.schema,u=r.editing.mapper,p=a.document.selection,m=e?p.getLastPosition().nodeBefore:p.getFirstPosition().nodeAfter;return!!Bn(u.toViewElement(m),m,l)&&(a.change(b=>{b.setSelection(m,"on"),b.setSelectionAttribute($o,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,r=e.editing.view;this._listenToIfEnabled(r.document,"mousedown",(a,l)=>{const u=l.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const p=u.classList.contains("ck-widget__type-around__button_before")?"before":"after",m=function(v,x){const y=v.closest(".ck-widget");return x.mapDomToView(y)}(u,r.domConverter),b=e.editing.mapper.toModelElement(m);this._insertParagraph(b,p),l.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,r=e.model.document.selection;this._listenToIfEnabled(e.editing.view.document,"enter",(l,u)=>{if("atTarget"!=l.eventPhase)return;const p=r.getSelectedElement(),m=e.editing.mapper.toViewElement(p),b=e.model.schema;let v;this._insertParagraphAccordingToFakeCaretPosition()?v=!0:Bn(m,p,b)&&(this._insertParagraph(p,u.isSoft?"before":"after"),v=!0),v&&(u.preventDefault(),l.stop())},{context:bn})}_enableInsertingParagraphsOnTypingKeystroke(){const r=[_t.enter,_t.delete,_t.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",(a,l)=>{r.includes(l.keyCode)||Vh(l)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,a=e.model,l=a.schema;this._listenToIfEnabled(e.editing.view.document,"delete",(u,p)=>{if("atTarget"!=u.eventPhase)return;const m=Ms(a.document.selection);if(!m)return;const b=p.direction,v=a.document.selection.getSelectedElement(),x="forward"==b;if("before"===m===x)e.execute("delete",{selection:a.createSelection(v,"on")});else{const y=l.getNearestSelectionRange(a.createPositionAt(v,m),b);if(y)if(y.isCollapsed){const D=a.createSelection(y.start);if(a.modifySelection(D,{direction:b}),D.focus.isEqual(y.start)){const P=function(B,R){let H=R;for(const ee of R.getAncestors({parentFirst:!0})){if(ee.childCount>1||B.isLimit(ee))break;H=ee}return H}(l,y.start.parent);a.deleteContent(a.createSelection(P,"on"),{doNotAutoparagraph:!0})}else a.change(P=>{P.setSelection(y),e.execute(x?"deleteForward":"delete")})}else a.change(D=>{D.setSelection(y),e.execute(x?"deleteForward":"delete")})}p.preventDefault(),u.stop()},{context:bn})}_enableInsertContentIntegration(){const r=this.editor.model,a=r.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(l,[u,p])=>{if(p&&!p.is("documentSelection"))return;const m=Ms(a);return m?(l.stop(),r.change(b=>{const v=a.getSelectedElement(),x=r.createPositionAt(v,m),y=b.createSelection(x),D=r.insertContent(u,y);return b.setSelection(y),D})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const r=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(a,l)=>{const[,u,,p={}]=l;if(u&&!u.is("documentSelection"))return;const m=Ms(r);m&&(p.findOptimalPosition=m,l[3]=p)},{priority:"high"})}_enableDeleteContentIntegration(){const r=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(a,[l])=>{l&&!l.is("documentSelection")||Ms(r)&&a.stop()},{priority:"high"})}}function mk(c,e,r){const a=c.schema,l=c.createRangeIn(e.root),u="forward"==r?"elementStart":"elementEnd";for(const{previousPosition:p,item:m,type:b}of l.getWalker({startPosition:e,direction:r})){if(a.isLimit(m)&&!a.isInline(m))return p;if(b==u&&a.isBlock(m))return null}return null}function jt(c,e,r){const a="backward"==r?e.end:e.start;if(c.checkChild(a,"$text"))return a;for(const{nextPosition:l}of e.getWalker({direction:r}))if(c.checkChild(l,"$text"))return l;return null}var ag=Ue(6507);Xe()(ag.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Nl extends De{static get pluginName(){return"Widget"}static get requires(){return[qt,Ts]}init(){const e=this.editor,r=e.editing.view,a=r.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(l,u,p)=>{const m=p.writer,b=u.selection;if(b.isCollapsed)return;const v=b.getSelectedElement();if(!v)return;const x=e.editing.mapper.toViewElement(v);bn(x)&&p.consumable.consume(b,"selection")&&m.setSelection(m.createRangeOn(x),{fake:!0,label:Jc(x)})}),this.editor.editing.downcastDispatcher.on("selection",(l,u,p)=>{this._clearPreviouslySelectedWidgets(p.writer);const m=p.writer,b=m.document.selection;let v=null;for(const x of b.getRanges())for(const y of x){const D=y.item;bn(D)&&!cA(D,v)&&(m.addClass(Ji,D),this._previouslySelected.add(D),v=D)}},{priority:"low"}),r.addObserver(Oh),this.listenTo(a,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(a,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[bn,"$text"]}),this.listenTo(a,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(a,"arrowKey",function sg(c){const e=c.model;return(r,a)=>{const u=a.keyCode==_t.arrowdown,p=a.shiftKey,m=e.document.selection;if(a.keyCode!=_t.arrowup&&!u)return;const b=u;if(p&&!(x=m).isCollapsed&&x.isBackward==b)return;var x;const v=function(x,y,D){const P=x.model;if(D){const B=y.isCollapsed?y.focus:y.getLastPosition(),R=mk(P,B,"forward");if(!R)return null;const H=P.createRange(B,R),ee=jt(P.schema,H,"backward");return ee?P.createRange(B,ee):null}{const B=y.isCollapsed?y.focus:y.getFirstPosition(),R=mk(P,B,"backward");if(!R)return null;const H=P.createRange(R,B),ee=jt(P.schema,H,"forward");return ee?P.createRange(ee,B):null}}(c,m,b);if(v){if(v.isCollapsed&&(m.isCollapsed||p))return;(v.isCollapsed||function(x,y,D){const P=x.model,B=x.view.domConverter;if(D){const Ce=P.createSelection(y.start);P.modifySelection(Ce),Ce.focus.isAtEnd||y.start.isEqual(Ce.focus)||(y=P.createRange(Ce.focus,y.end))}const R=x.mapper.toViewRange(y),H=B.viewRangeToDom(R),ee=Rt.getDomRangeRects(H);let ce;for(const Ce of ee)if(void 0!==ce){if(Math.round(Ce.top)>=ce)return!1;ce=Math.max(ce,Math.round(Ce.bottom))}else ce=Math.round(Ce.bottom);return!0}(c,v,b))&&(e.change(x=>{const y=b?v.end:v.start;if(p){const D=e.createSelection(m.anchor);D.setFocus(y),x.setSelection(D)}else x.setSelection(y)}),r.stop(),a.preventDefault(),a.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(l,u)=>{this._handleDelete("forward"==u.direction)&&(u.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(e,r){const a=this.editor,l=a.editing.view,u=l.document;let p=r.target;if(function(b){for(;b;){if(b.is("editableElement")&&!b.is("rootElement"))return!0;if(bn(b))return!1;b=b.parent}return!1}(p)){if(($t.isSafari||$t.isGecko)&&r.domEvent.detail>=3){const b=a.editing.mapper,v=p.is("attributeElement")?p.findAncestor(y=>!y.is("attributeElement")):p,x=b.toModelElement(v);r.preventDefault(),this.editor.model.change(y=>{y.setSelection(x,"in")})}return}if(!bn(p)&&(p=p.findAncestor(bn),!p))return;$t.isAndroid&&r.preventDefault(),u.isFocused||l.focus();const m=a.editing.mapper.toModelElement(p);this._setSelectionOverElement(m)}_handleSelectionChangeOnArrowKeyPress(e,r){const a=r.keyCode,l=this.editor.model,u=l.schema,p=l.document.selection,m=p.getSelectedElement(),b=_c(a,this.editor.locale.contentLanguageDirection),v="down"==b||"right"==b,x="up"==b||"down"==b;if(m&&u.isObject(m)){const D=v?p.getLastPosition():p.getFirstPosition(),P=u.getNearestSelectionRange(D,v?"forward":"backward");return void(P&&(l.change(B=>{B.setSelection(P)}),r.preventDefault(),e.stop()))}if(!p.isCollapsed&&!r.shiftKey){const D=p.getFirstPosition(),P=p.getLastPosition(),B=D.nodeAfter,R=P.nodeBefore;return void((B&&u.isObject(B)||R&&u.isObject(R))&&(l.change(H=>{H.setSelection(v?P:D)}),r.preventDefault(),e.stop()))}if(!p.isCollapsed)return;const y=this._getObjectElementNextToSelection(v);if(y&&u.isObject(y)){if(u.isInline(y)&&x)return;this._setSelectionOverElement(y),r.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,r){const a=this.editor.model,l=a.schema,u=a.document.selection.getSelectedElement();u&&l.isObject(u)&&(r.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const r=this.editor.model.document.selection;if(!r.isCollapsed)return;const a=this._getObjectElementNextToSelection(e);return a?(this.editor.model.change(l=>{let u=r.anchor.parent;for(;u.isEmpty;){const p=u;u=p.parent,l.remove(p)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(e))})}_getObjectElementNextToSelection(e){const r=this.editor.model,a=r.schema,l=r.document.selection,u=r.createSelection(l);if(r.modifySelection(u,{direction:e?"forward":"backward"}),u.isEqual(l))return null;const p=e?u.focus.nodeBefore:u.focus.nodeAfter;return p&&a.isObject(p)?p:null}_clearPreviouslySelectedWidgets(e){for(const r of this._previouslySelected)e.removeClass(Ji,r);this._previouslySelected.clear()}}function cA(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}const lg=function(c,e,r){var a=!0,l=!0;if("function"!=typeof c)throw new TypeError("Expected a function");return ft(r)&&(a="leading"in r?!!r.leading:a,l="trailing"in r?!!r.trailing:l),tl(c,e,{leading:a,maxWait:e,trailing:l})};var bk=Ue(390);Xe()(bk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class cg extends De{static get pluginName(){return"DragDrop"}static get requires(){return[to,Nl]}init(){const e=this.editor,r=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=lg(a=>this._updateDropMarker(a),40),this._removeDropMarkerDelayed=Xc(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Xc(()=>this._clearDraggableAttributes(),40),r.addObserver(tg),r.addObserver(Oh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(a,l,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,l,u)=>{u||this._finalizeDragging(!1)}),$t.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,r=e.model,a=r.document,l=e.editing.view,u=l.document;this.listenTo(u,"dragstart",(p,m)=>{const b=a.selection;if(m.target&&m.target.is("editableElement"))return void m.preventDefault();const v=m.target?an(m.target):null;if(v){const D=e.editing.mapper.toModelElement(v);this._draggedRange=Ir.fromRange(r.createRangeOn(D)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!u.selection.isCollapsed){const D=u.selection.getSelectedElement();D&&bn(D)||(this._draggedRange=Ir.fromRange(b.getFirstRange()))}if(!this._draggedRange)return void m.preventDefault();this._draggingUid=ue(),m.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",m.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const x=r.createSelection(this._draggedRange.toRange()),y=e.data.toView(r.getSelectedContent(x));u.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:y,method:p.name}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(p,m)=>{this._finalizeDragging(!m.dataTransfer.isCanceled&&"move"==m.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&l.focus()}),this.listenTo(u,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(p,m)=>{if(!this.isEnabled)return void(m.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const b=dg(e,m.targetRanges,m.target);this._draggedRange||(m.dataTransfer.dropEffect="copy"),$t.isGecko||("copy"==m.dataTransfer.effectAllowed?m.dataTransfer.dropEffect="copy":["all","copyMove"].includes(m.dataTransfer.effectAllowed)&&(m.dataTransfer.dropEffect="move")),b&&this._updateDropMarkerThrottled(b)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"clipboardInput",(a,l)=>{if("drop"!=l.method)return;const u=dg(e,l.targetRanges,l.target);return this._removeDropMarker(),u?(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==hg(l.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(u,!0)?(this._finalizeDragging(!1),void a.stop()):void(l.targetRanges=[e.editing.mapper.toViewRange(u)])):(this._finalizeDragging(!1),void a.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(to);e.on("contentInsertion",(r,a)=>{if(!this.isEnabled||"drop"!==a.method)return;const l=a.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(r,a)=>{if(!this.isEnabled||"drop"!==a.method)return;const l="move"==hg(a.dataTransfer);this._finalizeDragging((!a.resultRange||!a.resultRange.isCollapsed)&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,r=e.editing.view,a=r.document;this.listenTo(a,"mousedown",(l,u)=>{if($t.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let p=an(u.target);if($t.isBlink&&!e.isReadOnly&&!p&&!a.selection.isCollapsed){const m=a.selection.getSelectedElement();m&&bn(m)||(p=a.selection.editableElement)}p&&(r.change(m=>{m.setAttribute("draggable","true",p)}),this._draggableElement=e.editing.mapper.toModelElement(p))}),this.listenTo(a,"mouseup",()=>{$t.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(r=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&r.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:a})=>{if(e.model.schema.checkChild(r.markerRange.start,"$text"))return a.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(l){const u=this.toDomElement(l);return u.innerHTML="&NoBreak;<span></span>&NoBreak;",u})}})}_updateDropMarker(e){const r=this.editor,a=r.model.markers;r.model.change(l=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(r=>{r.removeMarker("drop-target")})}_finalizeDragging(e){const r=this.editor,a=r.model;this._removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&a.deleteContent(a.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function dg(c,e,r){const a=c.model,l=c.editing.mapper;let u=null;const p=e?e[0].start:null;if(r.is("uiElement")&&(r=r.parent),u=function(v,x){const y=v.model,D=v.editing.mapper;if(bn(x))return y.createRangeOn(D.toModelElement(x));if(!x.is("editableElement")){const P=x.findAncestor(B=>bn(B)||B.is("editableElement"));if(bn(P))return y.createRangeOn(D.toModelElement(P))}return null}(c,r),u)return u;const m=function(v,x){const y=v.editing.mapper,D=v.editing.view,P=y.toModelElement(x);if(P)return P;const B=D.createPositionBefore(x),R=y.findMappedViewAncestor(B);return y.toModelElement(R)}(c,r),b=p?l.toModelPosition(p):null;return b?(u=function(v,x,y){const D=v.model;if(!D.schema.checkChild(y,"$block"))return null;const P=D.createPositionAt(y,0),B=x.path.slice(0,P.path.length),R=D.createPositionFromPath(x.root,B).nodeAfter;return R&&D.schema.isObject(R)?D.createRangeOn(R):null}(c,b,m),u||(u=a.schema.getNearestSelectionRange(b,$t.isGecko?"forward":"backward"),u||function(v,x){const y=v.model;for(;x;){if(y.schema.isObject(x))return y.createRangeOn(x);x=x.parent}}(c,b.parent))):function(v,x){const y=v.model,D=y.schema,P=y.createPositionAt(x,0);return D.getNearestSelectionRange(P,"forward")}(c,m)}function hg(c){return $t.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function Xc(c,e){let r;function a(...l){a.cancel(),r=setTimeout(()=>c(...l),e)}return a.cancel=()=>{clearTimeout(r)},a}function an(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(bn);if(bn(c))return c;const e=c.findAncestor(r=>bn(r)||r.is("editableElement"));return bn(e)?e:null}class mo extends De{static get pluginName(){return"PastePlainText"}static get requires(){return[to]}init(){const e=this.editor,r=e.model,a=e.editing.view,l=a.document,u=r.document.selection;let p=!1;a.addObserver(tg),this.listenTo(l,"keydown",(m,b)=>{p=b.shiftKey}),e.plugins.get(to).on("contentInsertion",(m,b)=>{(p||function(v,x){if(v.childCount>1)return!1;const y=v.getChild(0);return!x.isObject(y)&&0==[...y.getAttributeKeys()].length}(b.content,r.schema))&&r.change(v=>{const x=Array.from(u.getAttributes()).filter(([D])=>r.schema.getAttributeProperties(D).isFormatting);u.isCollapsed||r.deleteContent(u,{doNotAutoparagraph:!0}),x.push(...u.getAttributes());const y=v.createRangeIn(b.content);for(const D of y.getItems())D.is("$textProxy")&&v.setAttributes(x,D)})})}}class kk extends De{static get pluginName(){return"Clipboard"}static get requires(){return[to,cg,mo]}}class wk extends vt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,r=e.document.selection;let a=e.schema.getLimitElement(r);if(r.containsEntireContent(a)||!vk(e.schema,a))do{if(a=a.parent,!a)return}while(!vk(e.schema,a));e.change(l=>{l.setSelection(a,"in")})}}function vk(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const dA=mc("Ctrl+A");class hA extends De{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,r=e.editing.view.document;e.commands.add("selectAll",new wk(e)),this.listenTo(r,"keydown",(a,l)=>{Fi(l)===dA&&(e.execute("selectAll"),l.preventDefault())})}}class xk extends De{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",r=>{const a=e.commands.get("selectAll"),l=new Pt(r);return l.set({label:(0,r.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),l})}}class Ck extends De{static get requires(){return[hA,xk]}static get pluginName(){return"SelectAll"}}class gi extends vt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(r,a)=>{a[1]={...a[1]};const l=a[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(r,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const r=this.editor.model.document.selection,a={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:e,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,r,a){const l=this.editor.model,u=l.document,p=[],m=e.map(v=>v.getTransformedByOperations(a)),b=m.flat();for(const v of m){const x=v.filter(y=>y.root!=u.graveyard).filter(y=>!Ne(y,b));x.length&&(ed(x),p.push(x[0]))}p.length&&l.change(v=>{v.setSelection(p,{backward:r})})}_undo(e,r){const a=this.editor.model,l=a.document;this._createdBatches.add(r);const u=e.operations.slice().filter(p=>p.isDocumentOperation);u.reverse();for(const p of u){const b=Array.from(l.history.getOperations(p.baseVersion+1)),v=GC([p.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const x of v)r.addOperation(x),a.applyOperation(x),l.history.setOperationAsUndone(p,x)}}}function ed(c){c.sort((e,r)=>e.start.isBefore(r.start)?-1:1);for(let e=1;e<c.length;e++){const r=c[e-1].getJoined(c[e],!0);r&&(e--,c.splice(e,2,r))}}function Ne(c,e){return e.some(r=>r!==c&&r.containsRange(c,!0))}class ug extends gi{execute(e=null){const r=e?this._stack.findIndex(u=>u.batch==e):this._stack.length-1,a=this._stack.splice(r,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(a.batch,l);const u=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,u),this.fire("revert",a.batch,l)}),this.refresh()}}class uA extends gi{execute(){const e=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const l=this.editor.model.document.history.getOperations(e.batch.operations[e.batch.operations.length-1].baseVersion+1);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,r)}),this.refresh()}}class fg extends De{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new ug(e),this._redoCommand=new uA(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,a)=>{const l=a[0];if(!l.isDocumentOperation)return;const u=l.batch,p=this._redoCommand._createdBatches.has(u),m=this._undoCommand._createdBatches.has(u);this._batchRegistry.has(u)||(this._batchRegistry.add(u),u.isUndoable&&(p?this._undoCommand.addBatch(u):m||(this._undoCommand.addBatch(u),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,a,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const Ol='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',jn='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Is extends De{static get pluginName(){return"UndoUI"}init(){const e=this.editor,r=e.locale,a=e.t,l="ltr"==r.uiLanguageDirection?Ol:jn,u="ltr"==r.uiLanguageDirection?jn:Ol;this._addButton("undo",a("Undo"),"CTRL+Z",l),this._addButton("redo",a("Redo"),"CTRL+Y",u)}_addButton(e,r,a,l){const u=this.editor;u.ui.componentFactory.add(e,p=>{const m=u.commands.get(e),b=new Pt(p);return b.set({label:r,icon:l,keystroke:a,tooltip:!0}),b.bind("isEnabled").to(m,"isEnabled"),this.listenTo(b,"execute",()=>{u.execute(e),u.editing.view.focus()}),b})}}class Xi extends De{static get requires(){return[fg,Is]}static get pluginName(){return"Undo"}}class fA extends vt{refresh(){const e=this.editor.model,r=Xn(e.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&Ak(r,e.schema)}execute(e={}){const r=this.editor.model,a=r.document;r.change(l=>{const u=(e.selection||a.selection).getSelectedBlocks();for(const p of u)!p.is("element","paragraph")&&Ak(p,r.schema)&&l.rename(p,"paragraph")})}}function Ak(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class yk extends vt{execute(e){const r=this.editor.model,a=e.attributes;let l=e.position;r.change(u=>{const p=u.createElement("paragraph");if(a&&r.schema.setAllowedAttributes(p,a,u),!r.schema.checkChild(l.parent,p)){const m=r.schema.findAllowedParent(l,p);if(!m)return;l=u.split(l,m).position}r.insertContent(p,l),u.setSelection(p,"in")})}}class Bl extends De{static get pluginName(){return"Paragraph"}init(){const e=this.editor,r=e.model;e.commands.add("paragraph",new fA(e)),e.commands.add("insertParagraph",new yk(e)),r.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(a,{writer:l})=>Bl.paragraphLikeElements.has(a.name)?a.isEmpty?null:l.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}Bl.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Tk extends vt{constructor(e,r){super(e),this.modelElements=r}refresh(){const e=Xn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(r=>td(e,r,this.editor.model.schema))}execute(e){const r=this.editor.model,a=r.document,l=e.value;r.change(u=>{const p=Array.from(a.selection.getSelectedBlocks()).filter(m=>td(m,l,r.schema));for(const m of p)m.is("element",l)||u.rename(m,l)})}}function td(c,e,r){return r.checkChild(c.parent,e)&&!r.isObject(c)}const $h="paragraph";class Sk extends De{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Bl]}init(){const e=this.editor,r=e.config.get("heading.options"),a=[];for(const l of r)l.model!==$h&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),a.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Tk(e,a))}afterInit(){const e=this.editor,r=e.commands.get("enter"),a=e.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(l,u)=>{const p=e.model.document.selection.getFirstPosition().parent;a.some(m=>p.is("element",m.model))&&!p.is("element",$h)&&0===p.childCount&&u.writer.rename(p,$h)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:he.get("low")+1})}}var pg=Ue(3230);Xe()(pg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ek extends De{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,r=e.t,a=function(p){const m=p.t,b={Paragraph:m("Paragraph"),"Heading 1":m("Heading 1"),"Heading 2":m("Heading 2"),"Heading 3":m("Heading 3"),"Heading 4":m("Heading 4"),"Heading 5":m("Heading 5"),"Heading 6":m("Heading 6")};return p.config.get("heading.options").map(v=>{const x=b[v.title];return x&&x!=v.title&&(v.title=x),v})}(e),l=r("Choose heading"),u=r("Heading");e.ui.componentFactory.add("heading",p=>{const m={},b=new ar,v=e.commands.get("heading"),x=e.commands.get("paragraph"),y=[v];for(const P of a){const B={type:"button",model:new Vc({label:P.title,class:P.class,withText:!0})};"paragraph"===P.model?(B.model.bind("isOn").to(x,"value"),B.model.set("commandName","paragraph"),y.push(x)):(B.model.bind("isOn").to(v,"value",R=>R===P.model),B.model.set({commandName:"heading",commandValue:P.model})),b.add(B),m[P.model]=P.title}const D=Qr(p);return vl(D,b),D.buttonView.set({isOn:!1,withText:!0,tooltip:u}),D.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),D.bind("isEnabled").toMany(y,"isEnabled",(...P)=>P.some(B=>B)),D.buttonView.bind("label").to(v,"value",x,"value",(P,B)=>{const R=P||B&&"paragraph";return m[R]?m[R]:l}),this.listenTo(D,"execute",P=>{e.execute(P.source.commandName,P.source.commandValue?{value:P.source.commandValue}:void 0),e.editing.view.focus()}),D})}}class Rl extends De{static get requires(){return[Wo]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const r=e.plugins.get("BalloonToolbar");this.listenTo(r,"show",a=>{(function(l){const u=l.getSelectedElement();return!(!u||!bn(u))})(e.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:r,items:a,getRelatedElement:l,balloonClassName:u="ck-toolbar-container"}){if(!a.length)return void se("widget-toolbar-no-items",{toolbarId:e});const p=this.editor,m=p.t,b=new kl(p.locale);if(b.ariaLabel=r||m("Widget toolbar"),this._toolbarDefinitions.has(e))throw new I("widget-toolbar-duplicated",this,{toolbarId:e});b.fillFromConfig(a,p.ui.componentFactory),this._toolbarDefinitions.set(e,{view:b,getRelatedElement:l,balloonClassName:u})}_updateToolbarsVisibility(){let e=0,r=null,a=null;for(const l of this._toolbarDefinitions.values()){const u=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const p=u.getAncestors().length;p>e&&(e=p,r=u,a=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}a&&this._showToolbar(a,r)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,r){this._isToolbarVisible(e)?gg(this.editor,r):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Qh(this.editor,r),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const l=a.getRelatedElement(this.editor.editing.view.document.selection);gg(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function gg(c,e){const r=c.plugins.get("ContextualBalloon"),a=Qh(c,e);r.updatePosition(a)}function Qh(c,e){const a=Hi.defaultPositions;return{target:c.editing.view.domConverter.mapViewToDom(e),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}class mg{constructor(e){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}begin(e,r,a){const l=new Rt(r);this.activeHandlePosition=function(p){const m=["top-left","top-right","bottom-right","bottom-left"];for(const b of m)if(p.classList.contains(_g(b)))return b}(e),this._referenceCoordinates=function(p,m){const b=new Rt(p),v=m.split("-"),x={x:"right"==v[1]?b.right:b.left,y:"bottom"==v[0]?b.bottom:b.top};return x.x+=p.ownerDocument.defaultView.scrollX,x.y+=p.ownerDocument.defaultView.scrollY,x}(r,function(p){const m=p.split("-"),b={top:"bottom",bottom:"top",left:"right",right:"left"};return`${b[m[0]]}-${b[m[1]]}`}(this.activeHandlePosition)),this.originalWidth=l.width,this.originalHeight=l.height,this.aspectRatio=l.width/l.height;const u=a.style.width;this.originalWidthPercents=u&&u.match(/^\d+(\.\d*)?%$/)?parseFloat(u):function(p,m){const b=p.parentElement,v=parseFloat(b.ownerDocument.defaultView.getComputedStyle(b).width);return m.width/v*100}(a,l)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function _g(c){return`ck-widget__resizer__handle-${c}`}rt(mg,on);class Dk extends it{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",r=>r?`ck-orientation-${r}`:"")],style:{display:e.if("_isVisible","none",r=>!r)}},children:[{text:e.to("_label")}]})}_bindToState(e,r){this.bind("_isVisible").to(r,"proposedWidth",r,"proposedHeight",(a,l)=>null!==a&&null!==l),this.bind("_label").to(r,"proposedHandleHostWidth",r,"proposedHandleHostHeight",r,"proposedWidthPercents",(a,l,u)=>"px"===e.unit?`${a}\xd7${l}`:`${u}%`),this.bind("_viewPosition").to(r,"activeHandlePosition",r,"proposedHandleHostWidth",r,"proposedHandleHostHeight",(a,l,u)=>l<50||u<50?"above-center":a)}_dismiss(){this.unbind(),this._isVisible=!1}}class nd{constructor(e){this._options=e,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",r=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),r.stop())},{priority:"high"}),this.on("change:isEnabled",()=>{this.isEnabled&&this.redraw()})}attach(){const e=this,r=this._options.viewElement;this._options.editor.editing.view.change(a=>{const l=a.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(u){const p=this.toDomElement(u);return e._appendHandles(p),e._appendSizeUI(p),e.on("change:isEnabled",(m,b,v)=>{p.style.display=v?"":"none"}),p.style.display=e.isEnabled?"":"none",p});a.insert(a.createPositionAt(r,"end"),l),a.addClass("ck-widget_with-resizer",r),this._viewResizerWrapper=l})}begin(e){this.state=new mg(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const r=this._proposeNewSize(e);this._options.editor.editing.view.change(p=>{const m=this._options.unit||"%";p.setStyle("width",("%"===m?r.widthPercents:r.width)+m,this._options.viewElement)});const a=this._getHandleHost(),l=new Rt(a);r.handleHostWidth=Math.round(l.width),r.handleHostHeight=Math.round(l.height);const u=new Rt(a);r.width=Math.round(u.width),r.height=Math.round(u.height),this.redraw(l),this.state.update(r)}commit(){const e=this._options.unit||"%",r=("%"===e?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(r)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const r=this._domResizerWrapper;if(!((a=r)&&a.ownerDocument&&a.ownerDocument.contains(a)))return;var a;const l=r.parentElement,u=this._getHandleHost(),p=this._viewResizerWrapper,m=[p.getStyle("width"),p.getStyle("height"),p.getStyle("left"),p.getStyle("top")];let b;if(l.isSameNode(u)){const v=e||new Rt(u);b=[v.width+"px",v.height+"px",void 0,void 0]}else b=[u.offsetWidth+"px",u.offsetHeight+"px",u.offsetLeft+"px",u.offsetTop+"px"];"same"!==Pi(m,b)&&this._options.editor.editing.view.change(v=>{v.setStyle({width:b[0],height:b[1],left:b[2],top:b[3]},p)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const r=this.state,a_x=(l=e).pageX,a_y=l.pageY;var l;const u=!this._options.isCentered||this._options.isCentered(this),p={x:r._referenceCoordinates.x-(a_x+r.originalWidth),y:a_y-r.originalHeight-r._referenceCoordinates.y};u&&r.activeHandlePosition.endsWith("-right")&&(p.x=a_x-(r._referenceCoordinates.x+r.originalWidth)),u&&(p.x*=2);const m={width:Math.abs(r.originalWidth+p.x),height:Math.abs(r.originalHeight+p.y)};m.dominant=m.width/r.aspectRatio>m.height?"width":"height",m.max=m[m.dominant];const b={width:m.width,height:m.height};return"width"==m.dominant?b.height=b.width/r.aspectRatio:b.width=b.height*r.aspectRatio,{width:Math.round(b.width),height:Math.round(b.height),widthPercents:Math.min(Math.round(r.originalWidthPercents/r.originalWidth*b.width*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const r=["top-left","top-right","bottom-right","bottom-left"];for(const l of r)e.appendChild(new fr({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(a=l,`ck-widget__resizer__handle-${a}`)}}).render());var a}_appendSizeUI(e){this._sizeView=new Dk,this._sizeView.render(),e.appendChild(this._sizeView.element)}}rt(nd,on);var bg=Ue(2263);Xe()(bg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class id extends De{static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,r=yn.window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,e.view.addObserver(Oh),this._observer=Object.create(Xa),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(r,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(r,"mouseup",this._mouseUpListener.bind(this));const a=()=>{this.visibleResizer&&this.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=lg(a,200),this.on("change:visibleResizer",a),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[u,p]of this._resizers)u.isAttached()||(this._resizers.delete(u),p.destroy())},{priority:"lowest"}),this._observer.listenTo(yn.window,"resize",this._redrawFocusedResizerThrottled);const l=this.editor.editing.view.document.selection;l.on("change",()=>{const u=l.getSelectedElement();this.visibleResizer=this.getResizerByViewElement(u)||null})}destroy(){this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawFocusedResizerThrottled.cancel()}attachTo(e){const r=new nd(e),a=this.editor.plugins;if(r.attach(),a.has("WidgetToolbarRepository")){const u=a.get("WidgetToolbarRepository");r.on("begin",()=>{u.forceDisabled("resize")},{priority:"lowest"}),r.on("cancel",()=>{u.clearForceDisabled("resize")},{priority:"highest"}),r.on("commit",()=>{u.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,r);const l=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(l)==r&&(this.visibleResizer=r),r}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const r of this._resizers.values())if(r.containsHandle(e))return r}_mouseDownListener(e,r){const a=r.domTarget;nd.isResizeHandle(a)&&(this._activeResizer=this._getResizerByHandle(a),this._activeResizer&&(this._activeResizer.begin(a),e.stop(),r.preventDefault()))}_mouseMoveListener(e,r){this._activeResizer&&this._activeResizer.updateSize(r)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}rt(id,on);class Jh extends vt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!(!this.isEnabled||!e.hasAttribute("alt"))&&e.getAttribute("alt")}execute(e){const r=this.editor,a=r.plugins.get("ImageUtils"),l=r.model,u=a.getClosestSelectedImageElement(l.document.selection);l.change(p=>{p.setAttribute("alt",e.newValue,u)})}}function Xh(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot()])}function wg(c,e){const r=c.plugins.get("ImageUtils"),a=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return u=>r.isInlineImageView(u)?a&&(u.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==e?null:function l(u){const p={name:!0};return u.hasAttribute("src")&&(p.attributes=["src"]),p}(u):null}function Ps(c,e){const r=Xn(e.getSelectedBlocks());return!r||c.isObject(r)||r.isEmpty&&"listItem"!=r.name?"imageBlock":"imageInline"}class ti extends De{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},r=null,a=null){const l=this.editor,u=l.model,p=u.document.selection;a=Mk(l,r||p,a),e={...Object.fromEntries(p.getAttributes()),...e};for(const m in e)u.schema.checkAttribute(a,m)||delete e[m];return u.change(m=>{const b=m.createElement(a,e);return u.insertObject(b,r,null,{setSelection:"on",findOptimalPosition:!r&&"imageInline"!=a}),b.parent?b:null})}getClosestSelectedImageWidget(e){const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let a=e.getFirstPosition().parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const r=e.getSelectedElement();return this.isImage(r)?r:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(r,a){if("imageBlock"==Mk(r,a)){const l=function(u,p){const m=fk(u,p).start.parent;return m.isEmpty&&!m.is("element","$root")?m.parent:m}(a,r.model);if(r.model.schema.checkChild(l,"imageBlock"))return!0}else if(r.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(r){return[...r.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(e)}toImageWidget(e,r,a){return r.setCustomProperty("image",!0,e),Yh(e,r,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${a}`:a}})}isImageWidget(e){return!!e.getCustomProperty("image")&&bn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const r=this.editor.editing.view;for(const{item:a}of r.createRangeIn(e))if(this.isInlineImageView(a))return a}}function Mk(c,e,r){const a=c.model.schema,l=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?r||("inline"===l?"imageInline":"block"===l?"imageBlock":e.is("selection")?Ps(a,e):a.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class mi extends De{static get requires(){return[ti]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Jh(this.editor))}}var Fs=Ue(6831);Xe()(Fs.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var zl=Ue(1590);Xe()(zl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class mA extends it{constructor(e){super(e);const r=this.locale.t;this.focusTracker=new Ui,this.keystrokes=new Pn,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),Et.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Et.cancel,"ck-button-cancel","cancel"),this._focusables=new jo,this._focusCycler=new Uo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),wh(this)}render(){super.render(),this.keystrokes.listenTo(this.element),Nr({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,r,a,l){const u=new Pt(this.locale);return u.set({label:e,icon:r,tooltip:!0}),u.extendTemplate({attributes:{class:a}}),l&&u.delegate("execute").to(this,l),u}_createLabeledInputView(){const e=this.locale.t,r=new $n(this.locale,Ni);return r.label=e("Text alternative"),r}}function Ik(c){const e=c.editing.view,r=Hi.defaultPositions,a=c.plugins.get("ImageUtils");return{target:e.domConverter.viewToDom(a.getClosestSelectedImageWidget(e.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class _A extends De{static get requires(){return[Wo]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const e=this.editor,r=e.t;e.ui.componentFactory.add("imageTextAlternative",a=>{const l=e.commands.get("imageTextAlternative"),u=new Pt(a);return u.set({label:r("Change image text alternative"),icon:Et.lowVision,tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const e=this.editor,r=e.editing.view.document,a=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new mA(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,u)=>{this._hideForm(!0),u()}),this.listenTo(e.ui,"update",()=>{a.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(l){const u=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const p=Ik(l);u.updatePosition(p)}}(e):this._hideForm(!0)}),ks({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const e=this.editor,r=e.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Ik(e)}),a.fieldView.value=a.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class vg extends De{static get requires(){return[mi,_A]}static get pluginName(){return"ImageTextAlternative"}}function _i(c,e){return a=>{a.on(`attribute:srcset:${e}`,r)};function r(a,l,u){if(!u.consumable.consume(l.item,a.name))return;const p=u.writer,m=u.mapper.toViewElement(l.item),b=c.findViewImgElement(m);if(null===l.attributeNewValue){const v=l.attributeOldValue;v.data&&(p.removeAttribute("srcset",b),p.removeAttribute("sizes",b),v.width&&p.removeAttribute("width",b))}else{const v=l.attributeNewValue;v.data&&(p.setAttribute("srcset",v.data,b),p.setAttribute("sizes","100vw",b),v.width&&p.setAttribute("width",v.width,b))}}}function ni(c,e,r){return l=>{l.on(`attribute:${r}:${e}`,a)};function a(l,u,p){if(!p.consumable.consume(u.item,l.name))return;const m=p.writer,b=p.mapper.toViewElement(u.item),v=c.findViewImgElement(b);m.setAttribute(u.attributeKey,u.attributeNewValue||"",v)}}class we extends uo{observe(e){this.listenTo(e,"load",(r,a)=>{const l=a.target;this.checkShouldIgnoreEventFromTarget(l)||"IMG"==l.tagName&&this._fireEvents(a)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class Qo extends vt{constructor(e){super(e);const r=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===r&&se("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===r&&se("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(e){const r=li(e.source),a=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(a.getAttributes());r.forEach((p,m)=>{const b=a.getSelectedElement();if("string"==typeof p&&(p={src:p}),m&&b&&l.isImage(b)){const v=this.editor.model.createPositionAfter(b);l.insertImage({...p,...u},v)}else l.insertImage({...p,...u})})}}class Oi extends De{static get requires(){return[ti]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,r=e.conversion;e.editing.view.addObserver(we),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:l=>{const u={data:l.getAttribute("srcset")};return l.hasAttribute("width")&&(u.width=l.getAttribute("width")),u}}});const a=new Qo(e);e.commands.add("insertImage",a),e.commands.add("imageInsert",a)}}class Ae extends vt{constructor(e,r){super(e),this._modelElementName=r}refresh(){const e=this.editor.plugins.get("ImageUtils"),r=e.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?e.isInlineImage(r):e.isBlockImage(r)}execute(){const r=this.editor.model,a=this.editor.plugins.get("ImageUtils"),l=a.getClosestSelectedImageElement(r.document.selection),u=Object.fromEntries(l.getAttributes());return u.src||u.uploadId?r.change(p=>{const m=Array.from(r.markers).filter(x=>x.getRange().containsItem(l)),b=a.insertImage(u,r.createSelection(l,"on"),this._modelElementName);if(!b)return null;const v=p.createRangeOn(b);for(const x of m){const y=x.getRange(),D="$graveyard"!=y.root.rootName?y.getJoined(v,!0):v;p.updateMarker(x,{range:D})}return{oldElement:l,newElement:b}}):null}}class Vl extends De{static get requires(){return[Oi,ti,to]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new Ae(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,r=e.t,a=e.conversion,l=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:p})=>Xh(p)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:p})=>l.toImageWidget(Xh(p),p,r("image widget"))}),a.for("downcast").add(ni(l,"imageBlock","src")).add(ni(l,"imageBlock","alt")).add(_i(l,"imageBlock")),a.for("upcast").elementToElement({view:wg(e,"imageBlock"),model:(u,{writer:p})=>p.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:null)}).add(function(u){return m=>{m.on("element:figure",p)};function p(m,b,v){if(!v.consumable.test(b.viewItem,{name:!0,classes:"image"}))return;const x=u.findViewImgElement(b.viewItem);if(!x||!v.consumable.test(x,{name:!0}))return;v.consumable.consume(b.viewItem,{name:!0,classes:"image"});const y=Xn(v.convertItem(x,b.modelCursor).modelRange.getItems());y?(v.convertChildren(b.viewItem,y),v.updateConversionResult(y,b)):v.consumable.revert(b.viewItem,{name:!0,classes:"image"})}}(l))}_setupClipboardIntegration(){const e=this.editor,r=e.model,a=e.editing.view,l=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(u,p)=>{const m=Array.from(p.content.getChildren());let b;if(!m.every(l.isInlineImageView))return;b=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):r.document.selection.getFirstRange();const v=r.createSelection(b);if("imageBlock"===Ps(r.schema,v)){const x=new Ci(a.document),y=m.map(D=>x.createElement("figure",{class:"image"},D));p.content=x.createDocumentFragment(y)}})}}var xg=Ue(9048);Xe()(xg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Cg extends De{static get requires(){return[Vl,Nl,vg]}static get pluginName(){return"ImageBlock"}}class Ag extends De{static get requires(){return[Oi,ti,to]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,r=e.model.schema;r.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),r.addChildCheck((a,l)=>{if(a.endsWith("caption")&&"imageInline"===l.name)return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new Ae(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,r=e.t,a=e.conversion,l=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:p})=>p.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:p})=>{return l.toImageWidget((m=p).createContainerElement("span",{class:"image-inline"},m.createEmptyElement("img")),p,r("image widget"));var m}}),a.for("downcast").add(ni(l,"imageInline","src")).add(ni(l,"imageInline","alt")).add(_i(l,"imageInline")),a.for("upcast").elementToElement({view:wg(e,"imageInline"),model:(u,{writer:p})=>p.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:null)})}_setupClipboardIntegration(){const e=this.editor,r=e.model,a=e.editing.view,l=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(u,p)=>{const m=Array.from(p.content.getChildren());let b;if(!m.every(l.isBlockImageView))return;b=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):r.document.selection.getFirstRange();const v=r.createSelection(b);if("imageInline"===Ps(r.schema,v)){const x=new Ci(a.document),y=m.map(D=>1===D.childCount?(Array.from(D.getAttributes()).forEach(P=>x.setAttribute(...P,l.findViewImgElement(D))),D.getChild(0)):D);p.content=x.createDocumentFragment(y)}})}}class Ln extends De{static get requires(){return[Ag,Nl,vg]}static get pluginName(){return"ImageInline"}}class bA extends vt{refresh(){const e=this.editor,r=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(Vl))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,l=a.getSelectedElement();if(!l){const u=r.getCaptionFromModelSelection(a);return this.isEnabled=!!u,void(this.value=!!u)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(l),this.value=!!this.isEnabled&&!!r.getCaptionFromImageModelElement(l)}execute(e={}){const{focusCaptionOnShow:r}=e;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,r)})}_showImageCaption(e,r){const a=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing");let u=a.getSelectedElement();const p=l._getSavedCaption(u);this.editor.plugins.get("ImageUtils").isInlineImage(u)&&(this.editor.execute("imageTypeBlock"),u=a.getSelectedElement());const m=p||e.createElement("caption");e.append(m,u),r&&e.setSelection(m,"in")}_hideImageCaption(e){const r=this.editor,a=r.model.document.selection,l=r.plugins.get("ImageCaptionEditing"),u=r.plugins.get("ImageCaptionUtils");let p,m=a.getSelectedElement();m?p=u.getCaptionFromImageModelElement(m):(p=u.getCaptionFromModelSelection(a),m=p.parent),l._saveCaption(m,p),e.setSelection(m,"on"),e.remove(p)}}class Pk extends De{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[ti]}getCaptionFromImageModelElement(e){for(const r of e.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(e){const r=this.editor.plugins.get("ImageUtils"),a=e.getFirstPosition().findAncestor("caption");return a&&r.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(e){const r=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&r.isBlockImageView(e.parent)?{name:!0}:null}}class yg extends De{static get requires(){return[ti,Pk]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,r=e.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new bA(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration()}_setupConversion(){const e=this.editor,r=e.editing.view,a=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),u=e.t;e.conversion.for("upcast").elementToElement({view:p=>l.matchImageCaptionViewElement(p),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(p,{writer:m})=>a.isBlockImage(p.parent)?m.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(p,{writer:m})=>{if(!a.isBlockImage(p.parent))return null;const b=m.createEditableElement("figcaption");return m.setCustomProperty("imageCaption",!0,b),Wb({view:r,element:b,text:u("Enter image caption"),keepOnFocus:!0}),Sn(b,m)}})}_setupImageTypeCommandsIntegration(){const e=this.editor,r=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),u=e.commands.get("imageTypeBlock"),p=m=>{if(!m.return)return;const{oldElement:b,newElement:v}=m.return;if(!b)return;if(r.isBlockImage(b)){const y=a.getCaptionFromImageModelElement(b);if(y)return void this._saveCaption(v,y)}const x=this._getSavedCaption(b);x&&this._saveCaption(v,x)};l&&this.listenTo(l,"execute",p,{priority:"low"}),u&&this.listenTo(u,"execute",p,{priority:"low"})}_getSavedCaption(e){const r=this._savedCaptionsMap.get(e);return r?zt.fromJSON(r):null}_saveCaption(e,r){this._savedCaptionsMap.set(e,r.toJSON())}}class pn extends De{static get requires(){return[Pk]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,r=e.editing.view,a=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",u=>{const p=e.commands.get("toggleImageCaption"),m=new Pt(u);return m.set({icon:Et.caption,tooltip:!0,isToggleable:!0}),m.bind("isOn","isEnabled").to(p,"value","isEnabled"),m.bind("label").to(p,"value",b=>l(b?"Toggle caption off":"Toggle caption on")),this.listenTo(m,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const b=a.getCaptionFromModelSelection(e.model.document.selection);if(b){const v=e.editing.mapper.toViewElement(b);r.scrollToTheSelection(),r.change(x=>{x.addClass("image__caption_highlighted",v)})}}),m})}}var Fk=Ue(8662);Xe()(Fk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class wA extends vt{constructor(e,r){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(a=>{if(a.isDefault)for(const l of a.modelElements)this._defaultStyles[l]=a.name;return[a.name,a]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!!this.isEnabled&&(e.hasAttribute("imageStyle")?e.getAttribute("imageStyle"):this._defaultStyles[e.name])}execute(e={}){const r=this.editor,a=r.model,l=r.plugins.get("ImageUtils");a.change(u=>{const p=e.value;let m=l.getClosestSelectedImageElement(a.document.selection);p&&this.shouldConvertImageType(p,m)&&(this.editor.execute(l.isBlockImage(m)?"imageTypeInline":"imageTypeBlock"),m=l.getClosestSelectedImageElement(a.document.selection)),!p||this._styles.get(p).isDefault?u.removeAttribute("imageStyle",m):u.setAttribute("imageStyle",p,m)})}shouldConvertImageType(e,r){return!this._styles.get(e).modelElements.includes(r.name)}}const{objectFullWidth:Un,objectInline:st,objectLeft:Bi,objectRight:pt,objectCenter:Tt,objectBlockLeft:Tg,objectBlockRight:io}=Et,ro={get inline(){return{name:"inline",title:"In line",icon:st,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Bi,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Tg,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Tt,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:pt,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:io,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Tt,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:pt,modelElements:["imageBlock"],className:"image-style-side"}}},Sg={full:Un,left:Tg,right:io,center:Tt,inlineLeft:Bi,inlineRight:pt,inline:st},ga=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Nk(c){se("image-style-configuration-definition-invalid",c)}const kr={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(r){return"string"==typeof(r="string"==typeof r?ro[r]?{...ro[r]}:{name:r}:function(a,l){const u={...l};for(const p in a)Object.prototype.hasOwnProperty.call(l,p)||(u[p]=a[p]);return u}(ro[r.name],r)).icon&&(r.icon=Sg[r.icon]||r.icon),r}(e)).filter(e=>function(r,{isBlockPluginLoaded:a,isInlinePluginLoaded:l}){const{modelElements:u,name:p}=r;if(!(u&&u.length&&p))return Nk({style:r}),!1;{const m=[a?"imageBlock":null,l?"imageInline":null];if(!u.some(b=>m.includes(b)))return se("image-style-missing-dependency",{style:r,missingPlugins:u.map(b=>"imageBlock"===b?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...ga]:[]},warnInvalidStyle:Nk,DEFAULT_OPTIONS:ro,DEFAULT_ICONS:Sg,DEFAULT_DROPDOWN_DEFINITIONS:ga};function Ti(c,e){for(const r of e)if(r.name===c)return r}class ii extends De{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[ti]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:r}=kr,a=this.editor,l=a.plugins.has("ImageBlockEditing"),u=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",r(l,u)),this.normalizedStyles=e({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:u}),this._setupConversion(l,u),this._setupPostFixer(),a.commands.add("imageStyle",new wA(a,this.normalizedStyles))}_setupConversion(e,r){const a=this.editor,l=a.model.schema,u=(p=this.normalizedStyles,(b,v,x)=>{if(!x.consumable.consume(v.item,b.name))return;const y=Ti(v.attributeNewValue,p),D=Ti(v.attributeOldValue,p),P=x.mapper.toViewElement(v.item),B=x.writer;D&&B.removeClass(D.className,P),y&&B.addClass(y.className,P)});var p;const m=function(b){const v={imageInline:b.filter(x=>!x.isDefault&&x.modelElements.includes("imageInline")),imageBlock:b.filter(x=>!x.isDefault&&x.modelElements.includes("imageBlock"))};return(x,y,D)=>{if(!y.modelRange)return;const P=y.viewItem,B=Xn(y.modelRange.getItems());if(B&&D.schema.checkAttribute(B,"imageStyle"))for(const R of v[B.name])D.consumable.consume(P,{classes:R.className})&&D.writer.setAttribute("imageStyle",R.name,B)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",u),a.data.downcastDispatcher.on("attribute:imageStyle",u),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",m,{priority:"low"})),r&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",m,{priority:"low"}))}_setupPostFixer(){const e=this.editor,r=e.model.document,a=e.plugins.get(ti),l=new Map(this.normalizedStyles.map(u=>[u.name,u]));r.registerPostFixer(u=>{let p=!1;for(const m of r.differ.getChanges())if("insert"==m.type||"attribute"==m.type&&"imageStyle"==m.attributeKey){let b="insert"==m.type?m.position.nodeAfter:m.range.start.nodeAfter;if(b&&b.is("element","paragraph")&&b.childCount>0&&(b=b.getChild(0)),!a.isImage(b))continue;const v=b.getAttribute("imageStyle");if(!v)continue;const x=l.get(v);x&&x.modelElements.includes(b.name)||(u.removeAttribute("imageStyle",b),p=!0)}return p})}}var Ok=Ue(4622);Xe()(Ok.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Eg extends De{static get requires(){return[ii]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],a=Bk(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of a)this._createButton(u);const l=Bk([...r.filter(ft),...kr.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const u of l)this._createDropdown(u,a)}_createDropdown(e,r){const a=this.editor.ui.componentFactory;a.add(e.name,l=>{let u;const{defaultItem:p,items:m,title:b}=e,v=m.filter(P=>r.find(({name:B})=>Lk(B)===P)).map(P=>{const B=a.create(P);return P===p&&(u=B),B});m.length!==v.length&&kr.warnInvalidStyle({dropdown:e});const x=Qr(l,xb),y=x.buttonView,D=y.arrowView;return wp(x,v),y.set({label:Rk(b,u.label),class:null,tooltip:!0}),D.unbind("label"),D.set({label:b}),y.bind("icon").toMany(v,"isOn",(...P)=>{const B=P.findIndex(qs);return B<0?u.icon:v[B].icon}),y.bind("label").toMany(v,"isOn",(...P)=>{const B=P.findIndex(qs);return Rk(b,B<0?u.label:v[B].label)}),y.bind("isOn").toMany(v,"isOn",(...P)=>P.some(qs)),y.bind("class").toMany(v,"isOn",(...P)=>P.some(qs)?"ck-splitbutton_flatten":null),y.on("execute",()=>{v.some(({isOn:P})=>P)?x.isOpen=!x.isOpen:u.fire("execute")}),x.bind("isEnabled").toMany(v,"isEnabled",(...P)=>P.some(qs)),x})}_createButton(e){const r=e.name;this.editor.ui.componentFactory.add(Lk(r),a=>{const l=this.editor.commands.get("imageStyle"),u=new Pt(a);return u.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value",p=>p===r),u.on("execute",this._executeCommand.bind(this,r)),u})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Bk(c,e){for(const r of c)e[r.title]&&(r.title=e[r.title]);return c}function Lk(c){return`imageStyle:${c}`}function Rk(c,e){return(c?c+": ":"")+e}function wr(c){const e=c.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function ma(c){return new Promise((e,r)=>{const a=c.getAttribute("src");fetch(a).then(l=>l.blob()).then(l=>{const u=Ns(l,a),p=u.replace("image/",""),m=new File([l],`image.${p}`,{type:u});e(m)}).catch(l=>{return l&&"TypeError"===l.name?(u=a,(p=u,new Promise((m,b)=>{const v=yn.document.createElement("img");v.addEventListener("load",()=>{const x=yn.document.createElement("canvas");x.width=v.width,x.height=v.height,x.getContext("2d").drawImage(v,0,0),x.toBlob(y=>y?m(y):b())}),v.addEventListener("error",()=>b()),v.src=p})).then(p=>{const m=Ns(p,u),b=m.replace("image/","");return new File([p],`image.${b}`,{type:m})})).then(e).catch(r):r(l);var u,p})})}function Ns(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class _a extends De{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,r=e.t,a=l=>{const u=new sA(l),p=e.commands.get("uploadImage"),m=e.config.get("image.upload.types"),b=wr(m);return u.set({acceptedType:m.map(v=>`image/${v}`).join(","),allowMultipleFiles:!0}),u.buttonView.set({label:r("Insert image"),icon:Et.image,tooltip:!0}),u.buttonView.bind("isEnabled").to(p),u.on("done",(v,x)=>{const y=Array.from(x).filter(D=>b.test(D.type));y.length&&e.execute("uploadImage",{file:y})}),u};e.ui.componentFactory.add("uploadImage",a),e.ui.componentFactory.add("imageUpload",a)}}var zk=Ue(5870);Xe()(zk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var eu=Ue(9899);Xe()(eu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var jk=Ue(9825);Xe()(jk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Mg extends De{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...r)=>this.uploadStatusChange(...r)),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...r)=>this.uploadStatusChange(...r))}uploadStatusChange(e,r,a){const l=this.editor,u=r.item,p=u.getAttribute("uploadId");if(!a.consumable.consume(r.item,e.name))return;const m=l.plugins.get("ImageUtils"),b=l.plugins.get(br),v=p?r.attributeNewValue:null,x=this.placeholder,y=l.editing.mapper.toViewElement(u),D=a.writer;if("reading"==v)return nu(y,D),void Ig(m,x,y,D);if("uploading"==v){const P=b.loaders.get(p);return nu(y,D),void(P?(Pg(y,D),function(B,R,H,ee){const ce=function(Ce){const Ke=Ce.createUIElement("div",{class:"ck-progress-bar"});return Ce.setCustomProperty("progressBar",!0,Ke),Ke}(R);R.insert(R.createPositionAt(B,"end"),ce),H.on("change:uploadedPercent",(Ce,Ke,at)=>{ee.change(Qt=>{Qt.setStyle("width",at+"%",ce)})})}(y,D,P,l.editing.view),function(B,R,H,ee){if(ee.data){const ce=B.findViewImgElement(R);H.setAttribute("src",ee.data,ce)}}(m,y,D,P)):Ig(m,x,y,D))}"complete"==v&&b.loaders.get(p)&&function(P,B,R){const H=B.createUIElement("div",{class:"ck-image-upload-complete-icon"});B.insert(B.createPositionAt(P,"end"),H),setTimeout(()=>{R.change(ee=>ee.remove(ee.createRangeOn(H)))},3e3)}(y,D,l.editing.view),Os(y,D,"progressBar"),Pg(y,D),D.removeClass("ck-appear",y)}}function nu(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function Ig(c,e,r,a){r.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",r);const l=c.findViewImgElement(r);l.getAttribute("src")!==e&&a.setAttribute("src",e,l),Uk(r,"placeholder")||a.insert(a.createPositionAfter(l),function(u){const p=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,p),p}(a))}function Pg(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),Os(c,e,"placeholder")}function Uk(c,e){for(const r of c.getChildren())if(r.getCustomProperty(e))return r}function Os(c,e,r){const a=Uk(c,r);a&&e.remove(e.createRangeOn(a))}class jl extends vt{refresh(){const e=this.editor,r=e.plugins.get("ImageUtils"),a=e.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(a)}execute(e){const r=li(e.file),a=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(a.getAttributes());r.forEach((p,m)=>{const b=a.getSelectedElement();if(m&&b&&l.isImage(b)){const v=this.editor.model.createPositionAfter(b);this._uploadImage(p,u,v)}else this._uploadImage(p,u)})}_uploadImage(e,r,a){const l=this.editor,u=l.plugins.get(br).createLoader(e),p=l.plugins.get("ImageUtils");u&&p.insertImage({...r,uploadId:u.id},a)}}class Li extends De{static get requires(){return[br,Ep,to,ti]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,r=e.model.document,a=e.conversion,l=e.plugins.get(br),u=e.plugins.get("ImageUtils"),p=wr(e.config.get("image.upload.types")),m=new jl(e);e.commands.add("uploadImage",m),e.commands.add("imageUpload",m),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(b,v)=>{if(x=v.dataTransfer,Array.from(x.types).includes("text/html")&&""!==x.getData("text/html"))return;var x;const y=Array.from(v.dataTransfer.files).filter(D=>!!D&&p.test(D.type));y.length&&(b.stop(),e.model.change(D=>{v.targetRanges&&D.setSelection(v.targetRanges.map(P=>e.editing.mapper.toModelRange(P))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:y})})}))}),this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(b,v)=>{const x=Array.from(e.editing.view.createRangeIn(v.content)).filter(D=>{return!(!u.isInlineImageView(B=D.item)||!B.getAttribute("src"))&&(B.getAttribute("src").match(/^data:image\/\w+;base64,/g)||B.getAttribute("src").match(/^blob:/g))&&!D.item.getAttribute("uploadProcessed");var B}).map(D=>({promise:ma(D.item),imageElement:D.item}));if(!x.length)return;const y=new Ci(e.editing.view.document);for(const D of x){y.setAttribute("uploadProcessed",!0,D.imageElement);const P=l.createLoader(D.promise);P&&(y.setAttribute("src","",D.imageElement),y.setAttribute("uploadId",P.id,D.imageElement))}}),e.editing.view.document.on("dragover",(b,v)=>{v.preventDefault()}),r.on("change",()=>{const b=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),v=new Set;for(const x of b)if("insert"==x.type&&"$text"!=x.name){const y=x.position.nodeAfter,D="$graveyard"==x.position.root.rootName;for(const P of ba(e,y)){const B=P.getAttribute("uploadId");if(!B)continue;const R=l.loaders.get(B);R&&(D?v.has(B)||R.abort():(v.add(B),this._uploadImageElements.set(B,P),"idle"==R.status&&this._readAndUpload(R)))}}}),this.on("uploadComplete",(b,{imageElement:v,data:x})=>{const y=x.urls?x.urls:x;this.editor.model.change(D=>{D.setAttribute("src",y.default,v),this._parseAndSetSrcsetAttributeOnImage(y,v,D)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const r=this.editor,a=r.model,l=r.locale.t,u=r.plugins.get(br),p=r.plugins.get(Ep),m=r.plugins.get("ImageUtils"),b=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},x=>{x.setAttribute("uploadStatus","reading",b.get(e.id))}),e.read().then(()=>{const x=e.upload(),y=b.get(e.id);if($t.isSafari){const D=r.editing.mapper.toViewElement(y),P=m.findViewImgElement(D);r.editing.view.once("render",()=>{if(!P.parent)return;const B=r.editing.view.domConverter.mapViewToDom(P.parent);if(!B)return;const R=B.style.display;B.style.display="none",B._ckHack=B.offsetHeight,B.style.display=R})}return a.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","uploading",y)}),x}).then(x=>{a.enqueueChange({isUndoable:!1},y=>{const D=b.get(e.id);y.setAttribute("uploadStatus","complete",D),this.fire("uploadComplete",{data:x,imageElement:D})}),v()}).catch(x=>{if("error"!==e.status&&"aborted"!==e.status)throw x;"error"==e.status&&x&&p.showWarning(x,{title:l("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},y=>{y.remove(b.get(e.id))}),v()});function v(){a.enqueueChange({isUndoable:!1},x=>{const y=b.get(e.id);x.removeAttribute("uploadId",y),x.removeAttribute("uploadStatus",y),b.delete(e.id)}),u.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,r,a){let l=0;const u=Object.keys(e).filter(p=>{const m=parseInt(p,10);if(!isNaN(m))return l=Math.max(l,m),!0}).map(p=>`${e[p]} ${p}w`).join(", ");""!=u&&a.setAttribute("srcset",{data:u,width:l},r)}}function ba(c,e){const r=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(a=>r.isImage(a.item)).map(a=>a.item)}class xA extends De{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new a0(e)),e.commands.add("outdent",new a0(e))}}const od='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Hk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class CA extends De{static get pluginName(){return"IndentUI"}init(){const e=this.editor,r=e.locale,a=e.t,l="ltr"==r.uiLanguageDirection?od:Hk,u="ltr"==r.uiLanguageDirection?Hk:od;this._defineButton("indent",a("Increase indent"),l),this._defineButton("outdent",a("Decrease indent"),u)}_defineButton(e,r,a){const l=this.editor;l.ui.componentFactory.add(e,u=>{const p=l.commands.get(e),m=new Pt(u);return m.set({label:r,icon:a,tooltip:!0}),m.bind("isOn","isEnabled").to(p,"value","isEnabled"),this.listenTo(m,"execute",()=>{l.execute(e),l.editing.view.focus()}),m})}}const ka="italic";class AA extends De{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ka}),e.model.schema.setAttributeProperties(ka,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ka,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(ka,new oA(e,ka)),e.keystrokes.set("CTRL+I",ka)}}const Fg="italic";class Ng extends De{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,r=e.t;e.ui.componentFactory.add(Fg,a=>{const l=e.commands.get(Fg),u=new Pt(a);return u.set({label:r("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(u,"execute",()=>{e.execute(Fg),e.editing.view.focus()}),u})}}class er{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(r=>this._definitions.add(r)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(r,a,l)=>{if(!l.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!l.schema.isInline(a.item))return;const u=l.writer,p=u.document.selection;for(const m of this._definitions){const b=u.createAttributeElement("a",m.attributes,{priority:5});m.classes&&u.addClass(m.classes,b);for(const v in m.styles)u.setStyle(v,m.styles[v],b);u.setCustomProperty("link",!0,b),m.callback(a.attributeNewValue)?a.item.is("selection")?u.wrap(p.getFirstRange(),b):u.wrap(l.mapper.toViewRange(a.range),b):u.unwrap(l.mapper.toViewRange(a.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(r,a,{writer:l,mapper:u})=>{const p=u.toViewElement(a.item),m=Array.from(p.getChildren()).find(b=>"a"===b.name);for(const b of this._definitions){const v=Er(b.attributes);if(b.callback(a.attributeNewValue)){for(const[x,y]of v)"class"===x?l.addClass(y,m):l.setAttribute(x,y,m);b.classes&&l.addClass(b.classes,m);for(const x in b.styles)l.setStyle(x,b.styles[x],m)}else{for(const[x,y]of v)"class"===x?l.removeClass(y,m):l.removeAttribute(x,m);b.classes&&l.removeClass(b.classes,m);for(const x in b.styles)l.removeStyle(x,m)}}})}}}var Wk=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const sd=function(c){return Wk.test(c)};var Og="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Bg="\\ud83c[\\udffb-\\udfff]",yA="[^\\ud800-\\udfff]",Zk="(?:\\ud83c[\\udde6-\\uddff]){2}",qk="[\\ud800-\\udbff][\\udc00-\\udfff]",ri="(?:"+Og+"|"+Bg+")?",Lg="[\\ufe0e\\ufe0f]?",TA=Lg+ri+"(?:\\u200d(?:"+[yA,Zk,qk].join("|")+")"+Lg+ri+")*",Rg="(?:"+[yA+Og+"?",Og,Zk,qk,"[\\ud800-\\udfff]"].join("|")+")",zg=RegExp(Bg+"(?="+Bg+")|"+Rg+TA,"g");const EA=function(e){e=xf(e);var r=sd(e)?function(c){return sd(c)?function(c){return c.match(zg)||[]}(c):function(c){return c.split("")}(c)}(e):void 0,a=r?r[0]:e.charAt(0),l=r?function(c,e,r){var a=c.length;return Cf(c,1,r=void 0===r?a:r)}(r).join(""):e.slice(1);return a.toUpperCase()+l},DA=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,wa=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Jo=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,MA=/^((\w+:(\/{2,})?)|(\W))/i,ad="Ctrl+K";function ld(c,{writer:e}){const r=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,r),r}function ou(c){return function(e){return e.replace(DA,"").match(wa)}(c=String(c))?c:"#"}function Vg(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function jg(c,e){const r=Jo.test(c)?"mailto:":e,l=!!r&&!MA.test(c);return c&&l?r+c:c}function mt(c){window.open(c,"_blank","noopener")}class cd extends vt{constructor(e){super(e),this.manualDecorators=new ar,this.automaticDecorators=new er}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,r=e.document.selection,a=r.getSelectedElement()||Xn(r.getSelectedBlocks());Vg(a,e.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(a,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(r,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,r={}){const a=this.editor.model,l=a.document.selection,u=[],p=[];for(const m in r)r[m]?u.push(m):p.push(m);a.change(m=>{if(l.isCollapsed){const b=l.getFirstPosition();if(l.hasAttribute("linkHref")){const v=Dl(b,"linkHref",l.getAttribute("linkHref"),a);m.setAttribute("linkHref",e,v),u.forEach(x=>{m.setAttribute(x,!0,v)}),p.forEach(x=>{m.removeAttribute(x,v)}),m.setSelection(m.createPositionAfter(v.end.nodeBefore))}else if(""!==e){const v=Er(l.getAttributes());v.set("linkHref",e),u.forEach(y=>{v.set(y,!0)});const{end:x}=a.insertContent(m.createText(e,v),b);m.setSelection(x)}["linkHref",...u,...p].forEach(v=>{m.removeSelectionAttribute(v)})}else{const b=a.schema.getValidRanges(l.getRanges(),"linkHref"),v=[];for(const y of l.getSelectedBlocks())a.schema.checkAttribute(y,"linkHref")&&v.push(m.createRangeOn(y));const x=v.slice();for(const y of b)this._isRangeToUpdate(y,v)&&x.push(y);for(const y of x)m.setAttribute("linkHref",e,y),u.forEach(D=>{m.setAttribute(D,!0,y)}),p.forEach(D=>{m.removeAttribute(D,y)})}})}_getDecoratorStateFromModel(e){const r=this.editor.model,a=r.document.selection,l=a.getSelectedElement();return Vg(l,r.schema)?l.getAttribute(e):a.getAttribute(e)}_isRangeToUpdate(e,r){for(const a of r)if(a.containsRange(e))return!1;return!0}}class dd extends vt{refresh(){const e=this.editor.model,r=e.document.selection,a=r.getSelectedElement();this.isEnabled=Vg(a,e.schema)?e.schema.checkAttribute(a,"linkHref"):e.schema.checkAttributeInSelection(r,"linkHref")}execute(){const r=this.editor.model,a=r.document.selection,l=this.editor.commands.get("link");r.change(u=>{const p=a.isCollapsed?[Dl(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),r)]:r.schema.getValidRanges(a.getRanges(),"linkHref");for(const m of p)if(u.removeAttribute("linkHref",m),l)for(const b of l.manualDecorators)u.removeAttribute(b.id,m)})}}class va{constructor({id:e,label:r,attributes:a,classes:l,styles:u,defaultValue:p}){this.id=e,this.set("value"),this.defaultValue=p,this.label=r,this.attributes=a,this.classes=l,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}rt(va,on);var Vt=Ue(399);Xe()(Vt.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Yk="automatic",PA=/^(https?:)?\/\//;class Kk extends De{static get pluginName(){return"LinkEditing"}static get requires(){return[ik,Sl,to]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:ld}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,l)=>ld(ou(a),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new cd(e)),e.commands.add("unlink",new dd(e));const r=function(a,l){const u={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return l.forEach(p=>(p.label&&u[p.label]&&(p.label=u[p.label]),p)),l}(e.t,function(a){const l=[];if(a)for(const[u,p]of Object.entries(a)){const m=Object.assign({},p,{id:`link${EA(u)}`});l.push(m)}return l}(e.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(a=>a.mode===Yk)),this._enableManualDecorators(r.filter(a=>"manual"===a.mode)),e.plugins.get(ik).registerAttribute("linkHref"),function(a,l,u,p){const m=a.editing.view,b=new Set;m.document.registerPostFixer(v=>{const x=a.model.document.selection;let y=!1;if(x.hasAttribute(l)){const D=Dl(x.getFirstPosition(),l,x.getAttribute(l),a.model),P=a.editing.mapper.toViewRange(D);for(const B of P.getItems())B.is("element","a")&&!B.hasClass(p)&&(v.addClass(p,B),b.add(B),y=!0)}return y}),a.conversion.for("editingDowncast").add(v=>{function x(){m.change(y=>{for(const D of b.values())y.removeClass(p,D),b.delete(D)})}v.on("insert",x,{priority:"highest"}),v.on("remove",x,{priority:"highest"}),v.on("attribute",x,{priority:"highest"}),v.on("selection",x,{priority:"highest"})})}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const r=this.editor,a=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:Yk,callback:l=>PA.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(e),a.length&&r.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const r=this.editor,a=r.commands.get("link").manualDecorators;e.forEach(l=>{r.model.schema.extend("$text",{allowAttributes:l.id}),l=new va(l),a.add(l),r.conversion.for("downcast").attributeToElement({model:l.id,view:(u,{writer:p,schema:m},{item:b})=>{if(m.isInline(b)&&u){const v=p.createAttributeElement("a",l.attributes,{priority:5});l.classes&&p.addClass(l.classes,v);for(const x in l.styles)p.setStyle(x,l.styles[x],v);return p.setCustomProperty("link",!0,v),v}}}),r.conversion.for("upcast").elementToAttribute({view:{name:"a",...l._createPattern()},model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,r=e.editing.view.document,a=e.model.document;this.listenTo(r,"click",(l,u)=>{if(!($t.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let p=u.domTarget;if("a"!=p.tagName.toLowerCase()&&(p=p.closest("a")),!p)return;const m=p.getAttribute("href");m&&(l.stop(),u.preventDefault(),mt(m))},{context:"$capture"}),this.listenTo(r,"enter",(l,u)=>{const p=a.selection,m=p.getSelectedElement(),b=m?m.getAttribute("linkHref"):p.getAttribute("linkHref");b&&u.domEvent.altKey&&(l.stop(),mt(b))},{context:"a"})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,r=e.document.selection;this.listenTo(e,"insertContent",()=>{const a=r.anchor.nodeBefore,l=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(l&&l.hasAttribute("linkHref")||e.change(u=>{Ug(u,su(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,r=e.model;e.editing.view.addObserver(Oh);let a=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const l=r.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const u=l.getFirstPosition(),p=Dl(u,"linkHref",l.getAttribute("linkHref"),r);(u.isTouching(p.start)||u.isTouching(p.end))&&r.change(m=>{Ug(m,su(r.schema))})})}_enableTypingOverLink(){const e=this.editor;let a,l;this.listenTo(e.editing.view.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const u=e.model.document.selection;u.isCollapsed||(l?l=!1:$k(e)&&function(p){const m=p.document.selection,b=m.getFirstPosition(),v=m.getLastPosition(),x=b.nodeAfter;return!!(x&&x.is("$text")&&x.hasAttribute("linkHref"))&&(x===(v.textNode||v.nodeBefore)||Dl(b,"linkHref",x.getAttribute("linkHref"),p).containsRange(p.createRange(b,v),!0))}(e.model)&&(a=u.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(u,[p])=>{l=!1,$k(e)&&a&&(e.model.change(m=>{for(const[b,v]of a)m.setAttribute(b,v,p)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,r=e.model,a=r.document.selection;let u=!1,p=!1;this.listenTo(e.editing.view.document,"delete",(m,b)=>{p=b.domEvent.keyCode===_t.backspace},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{u=!1;const m=a.getFirstPosition(),b=a.getAttribute("linkHref");if(!b)return;const v=Dl(m,"linkHref",b,r);u=v.containsPosition(m)||v.end.isEqual(m)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{p&&(p=!1,u||e.model.enqueueChange(m=>{Ug(m,su(r.schema))}))},{priority:"low"})}}function Ug(c,e){c.removeSelectionAttribute("linkHref");for(const r of e)c.removeSelectionAttribute(r)}function $k(c){return c.model.change(e=>e.batch).isTyping}function su(c){return c.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var _o=Ue(4827);Xe()(_o.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Qk extends it{constructor(e,r){super(e);const a=e.t;this.focusTracker=new Ui,this.keystrokes=new Pn,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Et.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),Et.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusables=new jo,this._focusCycler=new Uo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children}),wh(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,r)=>(e[r.name]=r.isOn,e),{})}render(){super.render(),Nr({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,r=new $n(this.locale,Ni);return r.label=e("Link URL"),r}_createButton(e,r,a,l){const u=new Pt(this.locale);return u.set({label:e,icon:r,tooltip:!0}),u.extendTemplate({attributes:{class:a}}),l&&u.delegate("execute").to(this,l),u}_createManualDecoratorSwitches(e){const r=this.createCollection();for(const a of e.manualDecorators){const l=new up(this.locale);l.set({name:a.id,label:a.label,withText:!0}),l.bind("isOn").toMany([a,e],"value",(u,p)=>void 0===p&&void 0===u?a.defaultValue:u),l.on("execute",()=>{a.set("value",!l.isOn)}),r.add(l)}return r}_createFormChildren(e){const r=this.createCollection();if(r.add(this.urlInputView),e.length){const a=new it;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(a)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}}var au=Ue(9465);Xe()(au.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class xa extends it{constructor(e){super(e);const r=e.t;this.focusTracker=new Ui,this.keystrokes=new Pn,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(r("Edit link"),Et.pencil,"edit"),this.set("href"),this._focusables=new jo,this._focusCycler=new Uo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,r,a){const l=new Pt(this.locale);return l.set({label:e,icon:r,tooltip:!0}),l.delegate("execute").to(this,a),l}_createPreviewButton(){const e=new Pt(this.locale),r=this.bindTemplate,a=this.t;return e.set({withText:!0,tooltip:a("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",l=>l&&ou(l)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",l=>l||a("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e.template.eventListeners={},e}}const oo="link-ui";class Xk extends De{static get requires(){return[Wo]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(Nh),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Wo),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:oo,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:oo,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,r=new xa(e.locale),a=e.commands.get("link"),l=e.commands.get("unlink");return r.bind("href").to(a,"value"),r.editButtonView.bind("isEnabled").to(a),r.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{e.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(u,p)=>{this._hideUI(),p()}),r.keystrokes.set(ad,(u,p)=>{this._addFormView(),p()}),r}_createFormView(){const e=this.editor,r=e.commands.get("link"),a=e.config.get("link.defaultProtocol"),l=new Qk(e.locale,r);return l.urlInputView.fieldView.bind("value").to(r,"value"),l.urlInputView.bind("isReadOnly").to(r,"isEnabled",u=>!u),l.saveButtonView.bind("isEnabled").to(r),this.listenTo(l,"submit",()=>{const{value:u}=l.urlInputView.fieldView.element,p=jg(u,a);e.execute("link",p,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(u,p)=>{this._closeFormView(),p()}),l}_createToolbarLinkButton(){const e=this.editor,r=e.commands.get("link"),a=e.t;e.keystrokes.set(ad,(l,u)=>{u(),r.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",l=>{const u=new Pt(l);return u.isEnabled=!0,u.label=a("Link"),u.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',u.keystroke=ad,u.tooltip=!0,u.isToggleable=!0,u.bind("isEnabled").to(r,"isEnabled"),u.bind("isOn").to(r,"value",p=>!!p),this.listenTo(u,"execute",()=>this._showUI(!0)),u})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(r,a)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),a())},{priority:"high"}),this.editor.keystrokes.set("Esc",(r,a)=>{this._isUIVisible&&(this._hideUI(),a())}),ks({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,r=e.editing.view.document;let a=this._getSelectedLinkElement(),l=p();const u=()=>{const m=this._getSelectedLinkElement(),b=p();a&&!m||!a&&b!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=m,l=b};function p(){return r.selection.focus.getAncestors().reverse().find(m=>m.is("element"))}this.listenTo(e.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,a=e.document;let l=null;if(this.editor.model.markers.has(oo)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(oo)),p=e.createRange(e.createPositionBefore(u[0]),e.createPositionAfter(u[u.length-1]));l=e.domConverter.viewRangeToDom(p)}else l=()=>{const u=this._getSelectedLinkElement();return u?e.domConverter.mapViewToDom(u):e.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,r=e.document.selection,a=r.getSelectedElement();if(r.isCollapsed||a&&bn(a))return Hg(r.getFirstPosition());{const l=r.getFirstRange().getTrimmed(),u=Hg(l.start),p=Hg(l.end);return u&&u==p&&e.createRangeIn(u).getTrimmed().isEqual(l)?u:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(r=>{const a=e.document.selection.getFirstRange();if(e.markers.has(oo))r.updateMarker(oo,{range:a});else if(a.start.isAtEnd){const l=a.start.getLastMatchingPosition(({item:u})=>!e.schema.isContent(u),{boundaries:a});r.addMarker(oo,{usingOperation:!1,affectsData:!1,range:r.createRange(l,a.end)})}else r.addMarker(oo,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(oo)&&e.change(r=>{r.removeMarker(oo)})}}function Hg(c){return c.getAncestors().find(e=>{return(r=e).is("attributeElement")&&!!r.getCustomProperty("link");var r})}const ew=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class NA extends De{static get requires(){return[Ts]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,r=new Up(e.model,a=>{if(!((u=a).length>4&&" "===u[u.length-1]&&" "!==u[u.length-2]))return;var u;const l=tw(a.substr(0,a.length-1));return l?{url:l}:void 0});r.on("matched:data",(a,l)=>{const{batch:u,range:p,url:m}=l;if(!u.isTyping)return;const b=p.end.getShiftedBy(-1),v=b.getShiftedBy(-m.length),x=e.model.createRange(v,b);this._applyAutoLink(m,x)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,r=e.model,a=e.commands.get("enter");a&&a.on("execute",()=>{const l=r.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const u=r.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const e=this.editor,r=e.model,a=e.commands.get("shiftEnter");a&&a.on("execute",()=>{const l=r.document.selection.getFirstPosition(),u=r.createRange(r.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(e){const r=this.editor.model,{text:a,range:l}=jp(e,r),u=tw(a);if(u){const p=r.createRange(l.end.getShiftedBy(-u.length),l.end);this._applyAutoLink(u,p)}}_applyAutoLink(e,r){const a=this.editor.model,l=this.editor.plugins.get("Delete");var p;this.isEnabled&&(p=a).schema.checkAttributeInSelection(p.createSelection(r),"linkHref")&&a.enqueueChange(u=>{const p=this.editor.config.get("link.defaultProtocol"),m=jg(e,p);u.setAttribute("linkHref",m,r),a.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function tw(c){const e=ew.exec(c);return e?e[2]:null}class Wg extends vt{constructor(e,r){super(e),this.type=r}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor.model,l=Array.from(r.document.selection.getSelectedBlocks()).filter(p=>cu(p,r.schema)),u=void 0!==e.forceValue?!e.forceValue:this.value;r.change(p=>{if(u){let m=l[l.length-1].nextSibling,b=Number.POSITIVE_INFINITY,v=[];for(;m&&"listItem"==m.name&&0!==m.getAttribute("listIndent");){const x=m.getAttribute("listIndent");x<b&&(b=x),v.push({element:m,listIndent:x-b}),m=m.nextSibling}v=v.reverse();for(const x of v)p.setAttribute("listIndent",x.listIndent,x.element)}if(!u){let m=Number.POSITIVE_INFINITY;for(const b of l)b.is("element","listItem")&&b.getAttribute("listIndent")<m&&(m=b.getAttribute("listIndent"));m=0===m?1:m,lu(l,!0,m),lu(l,!1,m)}for(const m of l.reverse())u&&"listItem"==m.name?p.rename(m,"paragraph"):u||"listItem"==m.name?u||"listItem"!=m.name||m.getAttribute("listType")==this.type||p.setAttribute("listType",this.type,m):(p.setAttributes({listType:this.type,listIndent:0},m),p.rename(m,"listItem"));this.fire("_executeCleanup",l)})}_getValue(){const e=Xn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const r=this.editor.model.schema,a=Xn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&cu(a,r)}}function lu(c,e,r){const a=e?c[0]:c[c.length-1];if(a.is("element","listItem")){let l=a[e?"previousSibling":"nextSibling"],u=a.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=r;)u>l.getAttribute("listIndent")&&(u=l.getAttribute("listIndent")),l.getAttribute("listIndent")==u&&c[e?"unshift":"push"](l),l=l[e?"previousSibling":"nextSibling"]}}function cu(c,e){return e.checkChild(c.parent,"listItem")&&!e.isObject(c)}class nw extends vt{constructor(e,r){super(e),this._indentBy="forward"==r?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;let a=Array.from(e.document.selection.getSelectedBlocks());e.change(l=>{const u=a[a.length-1];let p=u.nextSibling;for(;p&&"listItem"==p.name&&p.getAttribute("listIndent")>u.getAttribute("listIndent");)a.push(p),p=p.nextSibling;this._indentBy<0&&(a=a.reverse());for(const m of a){const b=m.getAttribute("listIndent")+this._indentBy;b<0?l.rename(m,"paragraph"):l.setAttribute("listIndent",b,m)}this.fire("_executeCleanup",a)})}_checkEnabled(){const e=Xn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const r=e.getAttribute("listIndent"),a=e.getAttribute("listType");let l=e.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=r;){if(l.getAttribute("listIndent")==r)return l.getAttribute("listType")==a;l=l.previousSibling}return!1}return!0}}function iw(c,e,r,a){const l=e.parent,u=r.mapper,p=r.writer;let m=u.toViewPosition(a.createPositionBefore(c));const b=Zg(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),v=c.previousSibling;if(b&&b.getAttribute("listIndent")==c.getAttribute("listIndent")){const x=u.toViewElement(b);m=p.breakContainer(p.createPositionAfter(x))}else if(v&&"listItem"==v.name){m=u.toViewPosition(a.createPositionAt(v,"end"));const x=u.findMappedViewAncestor(m),y=function(D){for(const P of D.getChildren())if("ul"==P.name||"ol"==P.name)return P;return null}(x);m=y?p.createPositionBefore(y):p.createPositionAt(x,"end")}else m=u.toViewPosition(a.createPositionBefore(c));if(m=rw(m),p.insert(m,l),v&&"listItem"==v.name){const x=u.toViewElement(v),y=p.createRange(p.createPositionAt(x,0),m).getWalker({ignoreElementEnd:!0});for(const D of y)if(D.item.is("element","li")){const P=p.breakContainer(p.createPositionBefore(D.item)),B=D.item.parent,R=p.createPositionAt(e,"end");tr(p,R.nodeBefore,R.nodeAfter),p.move(p.createRangeOn(B),R),y.position=P}}else{const x=l.nextSibling;if(x&&(x.is("element","ul")||x.is("element","ol"))){let y=null;for(const D of x.getChildren()){const P=u.toModelElement(D);if(!(P&&P.getAttribute("listIndent")>c.getAttribute("listIndent")))break;y=D}y&&(p.breakContainer(p.createPositionAfter(y)),p.move(p.createRangeOn(y.parent),p.createPositionAt(e,"end")))}}tr(p,l,l.nextSibling),tr(p,l.previousSibling,l)}function tr(c,e,r){return!e||!r||"ul"!=e.name&&"ol"!=e.name||e.name!=r.name||e.getAttribute("class")!==r.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(e))}function rw(c){return c.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Zg(c,e){const r=!!e.sameIndent,a=!!e.smallerIndent,l=e.listIndent;let u=c;for(;u&&"listItem"==u.name;){const p=u.getAttribute("listIndent");if(r&&l==p||a&&l>p)return u;u="forward"===e.direction?u.nextSibling:u.previousSibling}return null}function qg(c,e,r,a){c.ui.componentFactory.add(e,l=>{const u=c.commands.get(e),p=new Pt(l);return p.set({label:r,icon:a,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(u,"value","isEnabled"),p.on("execute",()=>{c.execute(e),c.editing.view.focus()}),p})}function ow(){const c=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||c?0:N0.call(this)}function du(c){return(e,r,a)=>{const l=a.consumable;if(!l.test(r.item,"insert")||!l.test(r.item,"attribute:listType")||!l.test(r.item,"attribute:listIndent"))return;l.consume(r.item,"insert"),l.consume(r.item,"attribute:listType"),l.consume(r.item,"attribute:listIndent");const u=r.item;iw(u,function OA(c,e){const r=e.mapper,a=e.writer,l="numbered"==c.getAttribute("listType")?"ol":"ul",u=function(m){const b=m.createContainerElement("li");return b.getFillerOffset=ow,b}(a),p=a.createContainerElement(l,null);return a.insert(a.createPositionAt(p,0),u),r.bindElements(c,u),u}(u,a),a,c)}}function BA(c,e,r){if(!r.consumable.test(e.item,c.name))return;const a=r.mapper.toViewElement(e.item),l=r.writer;l.breakContainer(l.createPositionBefore(a)),l.breakContainer(l.createPositionAfter(a)),l.rename("numbered"==e.attributeNewValue?"ol":"ul",a.parent)}function LA(c,e,r){r.consumable.consume(e.item,c.name);const a=r.mapper.toViewElement(e.item).parent,l=r.writer;tr(l,a,a.nextSibling),tr(l,a.previousSibling,a)}function sw(c,e,r){if(r.consumable.test(e.item,c.name)&&"listItem"!=e.item.name){let a=r.mapper.toViewPosition(e.range.start);const l=r.writer,u=[];for(;("ul"==a.parent.name||"ol"==a.parent.name)&&(a=l.breakContainer(a),"li"==a.parent.name);){const p=a,m=l.createPositionAt(a.parent,"end");if(!p.isEqual(m)){const b=l.remove(l.createRange(p,m));u.push(b)}a=l.createPositionAfter(a.parent)}if(u.length>0){for(let p=0;p<u.length;p++){const m=a.nodeBefore;if(a=l.insert(a,u[p]).end,p>0){const b=tr(l,m,m.nextSibling);b&&b.parent==m&&a.offset--}}tr(l,a.nodeBefore,a.nodeAfter)}}}function RA(c,e,r){const a=r.mapper.toViewPosition(e.position);tr(r.writer,a.nodeBefore,a.nodeAfter)}function zA(c,e,r){if(r.consumable.consume(e.viewItem,{name:!0})){const a=r.writer,l=a.createElement("listItem"),u=function(b){let v=0,x=b.parent;for(;x;){if(x.is("element","li"))v++;else{const y=x.previousSibling;y&&y.is("element","li")&&v++}x=x.parent}return v}(e.viewItem);if(a.setAttribute("listIndent",u,l),a.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",l),!r.safeInsert(l,e.modelCursor))return;const m=function(b,v,x){const{writer:y,schema:D}=x;let P=y.createPositionAfter(b);for(const B of v)if("ul"==B.name||"ol"==B.name)P=x.convertItem(B,P).modelCursor;else{const R=x.convertItem(B,y.createPositionAt(b,"end")),H=R.modelRange.start.nodeAfter;H&&H.is("element")&&!D.checkChild(b,H.name)&&(b=R.modelCursor.parent.is("element","listItem")?R.modelCursor.parent:cw(R.modelCursor),P=y.createPositionAfter(b))}return P}(l,e.viewItem.getChildren(),r);e.modelRange=a.createRange(e.modelCursor,m),r.updateConversionResult(l,e)}}function Gg(c,e,r){if(r.consumable.test(e.viewItem,{name:!0})){const a=Array.from(e.viewItem.getChildren());for(const l of a)!l.is("element","li")&&!Ca(l)&&l._remove()}}function aw(c,e,r){if(r.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const a=[...e.viewItem.getChildren()];let l=!1;for(const u of a)l&&!Ca(u)&&u._remove(),Ca(u)&&(l=!0)}}function lw(c){return(e,r)=>{if(r.isPhantom)return;const a=r.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const l=r.mapper.toViewElement(a),u=l.getAncestors().find(Ca),p=c.createPositionAt(l,0).getWalker();for(const m of p){if("elementStart"==m.type&&m.item.is("element","li")){r.viewPosition=m.previousPosition;break}if("elementEnd"==m.type&&m.item==u){r.viewPosition=m.nextPosition;break}}}}}function hu(c,[e,r]){let a,l=e.is("documentFragment")?e.getChild(0):e;if(a=r?this.createSelection(r):this.document.selection,l&&l.is("element","listItem")){const u=a.getFirstPosition();let p=null;if(u.parent.is("element","listItem")?p=u.parent:u.nodeBefore&&u.nodeBefore.is("element","listItem")&&(p=u.nodeBefore),p){const m=p.getAttribute("listIndent");if(m>0)for(;l&&l.is("element","listItem");)l._setAttribute("listIndent",l.getAttribute("listIndent")+m),l=l.nextSibling}}}function cw(c){const e=new No({startPosition:c});let r;do{r=e.next()}while(!r.value.item.is("element","listItem"));return r.value.item}function Yg(c,e,r,a,l,u){const p=Zg(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c,foo:"b"}),m=l.mapper,b=l.writer,v=p?p.getAttribute("listIndent"):null;let x;if(p)if(v==c){const y=m.toViewElement(p).parent;x=b.createPositionAfter(y)}else{const y=u.createPositionAt(p,"end");x=m.toViewPosition(y)}else x=r;x=rw(x);for(const y of[...a.getChildren()])Ca(y)&&(x=b.move(b.createRangeOn(y),x).end,tr(b,y,y.nextSibling),tr(b,y.previousSibling,y))}function Ca(c){return c.is("element","ol")||c.is("element","ul")}class VA extends De{static get pluginName(){return"ListEditing"}static get requires(){return[Zh,Ts]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const r=e.data,a=e.editing;var l;e.model.document.registerPostFixer(p=>function(m,b){const v=m.document.differ.getChanges(),x=new Map;let y=!1;for(const R of v)if("insert"==R.type&&"listItem"==R.name)D(R.position);else if("insert"==R.type&&"listItem"!=R.name){if("$text"!=R.name){const H=R.position.nodeAfter;H.hasAttribute("listIndent")&&(b.removeAttribute("listIndent",H),y=!0),H.hasAttribute("listType")&&(b.removeAttribute("listType",H),y=!0),H.hasAttribute("listStyle")&&(b.removeAttribute("listStyle",H),y=!0),H.hasAttribute("listReversed")&&(b.removeAttribute("listReversed",H),y=!0),H.hasAttribute("listStart")&&(b.removeAttribute("listStart",H),y=!0);for(const ee of Array.from(m.createRangeIn(H)).filter(ce=>ce.item.is("element","listItem")))D(ee.previousPosition)}D(R.position.getShiftedBy(R.length))}else"remove"==R.type&&"listItem"==R.name?D(R.position):("attribute"==R.type&&"listIndent"==R.attributeKey||"attribute"==R.type&&"listType"==R.attributeKey)&&D(R.range.start);for(const R of x.values())P(R),B(R);return y;function D(R){const H=R.nodeBefore;if(H&&H.is("element","listItem")){let ee=H;if(x.has(ee))return;for(let ce=ee.previousSibling;ce&&ce.is("element","listItem");ce=ee.previousSibling)if(ee=ce,x.has(ee))return;x.set(H,ee)}else{const ee=R.nodeAfter;ee&&ee.is("element","listItem")&&x.set(ee,ee)}}function P(R){let H=0,ee=null;for(;R&&R.is("element","listItem");){const ce=R.getAttribute("listIndent");if(ce>H){let Ce;null===ee?(ee=ce-H,Ce=H):(ee>ce&&(ee=ce),Ce=ce-ee),b.setAttribute("listIndent",Ce,R),y=!0}else ee=null,H=R.getAttribute("listIndent")+1;R=R.nextSibling}}function B(R){let H=[],ee=null;for(;R&&R.is("element","listItem");){const ce=R.getAttribute("listIndent");if(ee&&ee.getAttribute("listIndent")>ce&&(H=H.slice(0,ce+1)),0!=ce)if(H[ce]){const Ce=H[ce];R.getAttribute("listType")!=Ce&&(b.setAttribute("listType",Ce,R),y=!0)}else H[ce]=R.getAttribute("listType");ee=R,R=R.nextSibling}}}(e.model,p)),a.mapper.registerViewToModelLength("li",uu),r.mapper.registerViewToModelLength("li",uu),a.mapper.on("modelToViewPosition",lw(a.view)),a.mapper.on("viewToModelPosition",(l=e.model,(p,m)=>{const b=m.viewPosition,v=b.parent,x=m.mapper;if("ul"==v.name||"ol"==v.name){if(b.isAtEnd){const y=x.toModelElement(b.nodeBefore),D=x.getModelLength(b.nodeBefore);m.modelPosition=l.createPositionBefore(y).getShiftedBy(D)}else{const y=x.toModelElement(b.nodeAfter);m.modelPosition=l.createPositionBefore(y)}p.stop()}else if("li"==v.name&&b.nodeBefore&&("ul"==b.nodeBefore.name||"ol"==b.nodeBefore.name)){const y=x.toModelElement(v);let D=1,P=b.nodeBefore;for(;P&&Ca(P);)D+=x.getModelLength(P),P=P.previousSibling;m.modelPosition=l.createPositionBefore(y).getShiftedBy(D),p.stop()}})),r.mapper.on("modelToViewPosition",lw(a.view)),e.conversion.for("editingDowncast").add(p=>{var m;p.on("insert",sw,{priority:"high"}),p.on("insert:listItem",du(e.model)),p.on("attribute:listType:listItem",BA,{priority:"high"}),p.on("attribute:listType:listItem",LA,{priority:"low"}),p.on("attribute:listIndent:listItem",(m=e.model,(b,v,x)=>{if(!x.consumable.consume(v.item,"attribute:listIndent"))return;const y=x.mapper.toViewElement(v.item),D=x.writer;D.breakContainer(D.createPositionBefore(y)),D.breakContainer(D.createPositionAfter(y));const P=y.parent,B=P.previousSibling,R=D.createRangeOn(P);D.remove(R),B&&B.nextSibling&&tr(D,B,B.nextSibling),Yg(v.attributeOldValue+1,v.range.start,R.start,y,x,m),iw(v.item,y,x,m);for(const H of v.item.getChildren())x.consumable.consume(H,"insert")})),p.on("remove:listItem",function(m){return(b,v,x)=>{const y=x.mapper.toViewPosition(v.position).getLastMatchingPosition(ee=>!ee.item.is("element","li")).nodeAfter,D=x.writer;D.breakContainer(D.createPositionBefore(y)),D.breakContainer(D.createPositionAfter(y));const P=y.parent,B=P.previousSibling,R=D.createRangeOn(P),H=D.remove(R);B&&B.nextSibling&&tr(D,B,B.nextSibling),Yg(x.mapper.toModelElement(y).getAttribute("listIndent")+1,v.position,R.start,y,x,m);for(const ee of D.createRangeIn(H).getItems())x.mapper.unbindViewElement(ee);b.stop()}}(e.model)),p.on("remove",RA,{priority:"low"})}),e.conversion.for("dataDowncast").add(p=>{p.on("insert",sw,{priority:"high"}),p.on("insert:listItem",du(e.model))}),e.conversion.for("upcast").add(p=>{p.on("element:ul",Gg,{priority:"high"}),p.on("element:ol",Gg,{priority:"high"}),p.on("element:li",aw,{priority:"high"}),p.on("element:li",zA)}),e.model.on("insertContent",hu,{priority:"high"}),e.commands.add("numberedList",new Wg(e,"numbered")),e.commands.add("bulletedList",new Wg(e,"bulleted")),e.commands.add("indentList",new nw(e,"forward")),e.commands.add("outdentList",new nw(e,"backward"));const u=a.view.document;this.listenTo(u,"enter",(p,m)=>{const b=this.editor.model.document,v=b.selection.getLastPosition().parent;b.selection.isCollapsed&&"listItem"==v.name&&v.isEmpty&&(this.editor.execute("outdentList"),m.preventDefault(),p.stop())},{context:"li"}),this.listenTo(u,"delete",(p,m)=>{if("backward"!==m.direction)return;const b=this.editor.model.document.selection;if(!b.isCollapsed)return;const v=b.getFirstPosition();if(!v.isAtStart)return;const x=v.parent;"listItem"===x.name&&(x.previousSibling&&"listItem"===x.previousSibling.name||(this.editor.execute("outdentList"),m.preventDefault(),p.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(p,m)=>{const b=m.shiftKey?"outdentList":"indentList";this.editor.commands.get(b).isEnabled&&(e.execute(b),m.stopPropagation(),m.preventDefault(),p.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,r=e.get("indent"),a=e.get("outdent");r&&r.registerChildCommand(e.get("indentList")),a&&a.registerChildCommand(e.get("outdentList"))}}function uu(c){let e=1;for(const r of c.getChildren())if("ul"==r.name||"ol"==r.name)for(const a of r.getChildren())e+=uu(a);return e}class dw extends De{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;qg(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),qg(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Kg(c,e){return a=>{a.on("attribute:url:media",r)};function r(a,l,u){if(!u.consumable.consume(l.item,a.name))return;const p=l.attributeNewValue,m=u.writer,b=u.mapper.toViewElement(l.item),v=[...b.getChildren()].find(y=>y.getCustomProperty("media-content"));m.remove(v);const x=c.getMediaViewElement(m,p,e);m.insert(m.createPositionAt(b,0),x)}}function Xo(c,e,r,a){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,r,a),c.createSlot()])}function hw(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function uw(c,e,r,a){c.change(l=>{const u=l.createElement("media",{url:e});c.insertObject(u,r,null,{setSelection:"on",findOptimalPosition:a})})}class Hn extends vt{refresh(){const e=this.editor.model,r=e.document.selection,a=hw(r);this.value=a?a.getAttribute("url"):null,this.isEnabled=function(l){const u=l.getSelectedElement();return!!u&&"media"===u.name}(r)||function(l,u){let p=fk(l,u).start.parent;return p.isEmpty&&!u.schema.isLimit(p)&&(p=p.parent),u.schema.checkChild(p,"media")}(r,e)}execute(e){const r=this.editor.model,a=r.document.selection,l=hw(a);l?r.change(u=>{u.setAttribute("url",e,l)}):uw(r,e,a,!0)}}class qi{constructor(e,r){const a=r.providers,l=r.extraProviders||[],u=new Set(r.removeProviders),p=a.concat(l).filter(m=>{const b=m.name;return b?!u.has(b):(se("media-embed-no-provider-name",{provider:m}),!1)});this.locale=e,this.providerDefinitions=p}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,r,a){return this._getMedia(r).getViewElement(e,a)}_getMedia(e){if(!e)return new Wn(this.locale);e=e.trim();for(const r of this.providerDefinitions){const a=r.html,l=li(r.url);for(const u of l){const p=this._getUrlMatches(e,u);if(p)return new Wn(this.locale,e,p,a)}}return null}_getUrlMatches(e,r){let a=e.match(r);if(a)return a;let l=e.replace(/^https?:\/\//,"");return a=l.match(r),a||(l=l.replace(/^www\./,""),a=l.match(r),a||null)}}class Wn{constructor(e,r,a,l){this.url=this._getValidUrl(r),this._t=e.t,this._match=a,this._previewRenderer=l}getViewElement(e,r){const a={};let l;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),r.renderForEditingView&&(a.class="ck-media__wrapper");const u=this._getPreviewHtml(r);l=e.createRawElement("div",a,(p,m)=>{m.setContentOf(p,u)})}else this.url&&(a.url=this.url),l=e.createEmptyElement(r.elementName,a);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new hp,r=new _l;return e.text=this._t("Open media in new tab"),r.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',r.viewBox="0 0 64 42",new fr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[r]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var vr=Ue(952);Xe()(vr.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class fu extends De{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new qi(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,r=e.model.schema,a=e.t,l=e.conversion,u=e.config.get("mediaEmbed.previewsInData"),p=e.config.get("mediaEmbed.elementName"),m=this.registry;e.commands.add("mediaEmbed",new Hn(e)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(b,{writer:v})=>{const x=b.getAttribute("url");return Xo(v,m,x,{elementName:p,renderMediaPreview:x&&u})}}),l.for("dataDowncast").add(Kg(m,{elementName:p,renderMediaPreview:u})),l.for("editingDowncast").elementToStructure({model:"media",view:(b,{writer:v})=>{const x=b.getAttribute("url");return y=Xo(v,m,x,{elementName:p,renderForEditingView:!0}),D=v,P=a("media widget"),D.setCustomProperty("media",!0,y),Yh(y,D,{label:P});var y,D,P}}),l.for("editingDowncast").add(Kg(m,{elementName:p,renderForEditingView:!0})),l.for("upcast").elementToElement({view:b=>["oembed",p].includes(b.name)&&b.getAttribute("url")?{name:!0}:null,model:(b,{writer:v})=>{const x=b.getAttribute("url");if(m.hasMedia(x))return v.createElement("media",{url:x})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(b,{writer:v})=>{const x=b.getAttribute("data-oembed-url");if(m.hasMedia(x))return v.createElement("media",{url:x})}}).add(b=>{b.on("element:figure",function(v,x,y){if(!y.consumable.consume(x.viewItem,{name:!0,classes:"media"}))return;const{modelRange:D,modelCursor:P}=y.convertChildren(x.viewItem,x.modelCursor);x.modelRange=D,x.modelCursor=P,Xn(D.getItems())||y.consumable.revert(x.viewItem,{name:!0,classes:"media"})})})}}const pw=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class hd extends De{static get requires(){return[kk,Ts,Xi]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,r=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const a=r.selection.getFirstRange(),l=ui.fromPosition(a.start);l.stickiness="toPrevious";const u=ui.fromPosition(a.end);u.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(l,u),l.detach(),u.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(yn.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,r){const a=this.editor,l=a.plugins.get(fu).registry,u=new Ir(e,r),p=u.getWalker({ignoreElementEnd:!0});let m="";for(const b of p)b.item.is("$textProxy")&&(m+=b.item.data);m=m.trim(),m.match(pw)&&l.hasMedia(m)&&a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ui.fromPosition(e),this._timeoutId=yn.window.setTimeout(()=>{a.model.change(b=>{let v;this._timeoutId=null,b.remove(u),u.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(v=this._positionToInsert),uw(a.model,m,v,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get("Delete").requestUndoOnBackspace()},100)):u.detach()}}var gw=Ue(3525);Xe()(gw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Aa extends it{constructor(e,r){super(r);const a=r.t;this.focusTracker=new Ui,this.keystrokes=new Pn,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Et.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(a("Cancel"),Et.cancel,"ck-button-cancel","cancel"),this._focusables=new jo,this._focusCycler=new Uo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),wh(this)}render(){super.render(),Nr({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element);const e=r=>r.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(r,a)=>{a.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const r=e(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,r=new $n(this.locale,Ni),a=r.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),r.label=e("Media URL"),r.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{r.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),r}_createButton(e,r,a,l){const u=new Pt(this.locale);return u.set({label:e,icon:r,tooltip:!0}),u.extendTemplate({attributes:{class:a}}),l&&u.delegate("execute").to(this,l),u}}class ud extends De{static get requires(){return[fu]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,r=e.commands.get("mediaEmbed"),a=e.plugins.get(fu).registry;e.ui.componentFactory.add("mediaEmbed",l=>{const u=Qr(l),p=new Aa((m=e.t,b=a,[v=>{if(!v.url.length)return m("The URL must not be empty.")},v=>{if(!b.hasMedia(v.url))return m("This media URL is not supported.")}]),e.locale);var m,b;return this._setUpDropdown(u,p,r,e),this._setUpForm(u,p,r),u})}_setUpDropdown(e,r,a){const l=this.editor,u=l.t,p=e.buttonView;function m(){l.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(a),e.panelView.children.add(r),p.set({label:u("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),p.on("open",()=>{r.disableCssTransitions(),r.url=a.value||"",r.urlInputView.fieldView.select(),r.focus(),r.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{r.isValid()&&(l.execute("mediaEmbed",r.url),m())}),e.on("change:isOpen",()=>r.resetFormStatus()),e.on("cancel",()=>m())}_setUpForm(e,r,a){r.delegate("submit","cancel").to(e),r.urlInputView.bind("value").to(a,"value"),r.urlInputView.bind("isReadOnly").to(a,"isEnabled",l=>!l)}}var Bs=Ue(5777);function HA(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function _w(c,e,r){const a=e.parent,l=r.createElement(c.type),u=a.getChildIndex(e)+1;return r.insertChild(u,l,a),c.style&&r.setStyle("list-style-type",c.style,l),c.startIndex&&c.startIndex>1&&r.setAttribute("start",c.startIndex,l),l}function WA(c){const e={},r=c.getStyle("mso-list");if(r){const a=r.match(/(^|\s{1,100})l(\d+)/i),l=r.match(/\s{0,100}lfo(\d+)/i),u=r.match(/\s{0,100}level(\d+)/i);a&&l&&u&&(e.id=a[2],e.order=l[1],e.indent=u[1])}return e}Xe()(Bs.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const pu=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class bw{constructor(e){this.document=e}isActive(e){return pu.test(e)}execute(e){const r=new Ci(this.document),{body:a}=e._parsedData;(function(l,u){for(const p of l.getChildren())if(p.is("element","b")&&"normal"===p.getStyle("font-weight")){const m=l.getChildIndex(p);u.remove(p),u.insertChild(m,p.getChildren(),l)}})(a,r),function(l,u){for(const p of u.createRangeIn(l)){const m=p.item;if(m.is("element","li")){const b=m.getChild(0);b&&b.is("element","p")&&u.unwrapElement(b)}}}(a,r),e.content=a}}function qA(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const kw=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,ww=/xmlns:o="urn:schemas-microsoft-com/i;class bo{constructor(e){this.document=e}isActive(e){return kw.test(e)||ww.test(e)}execute(e){const{body:r,stylesString:a}=e._parsedData;(function UA(c,e){if(!c.childCount)return;const r=new Ci(c.document),a=function(p,m){const b=m.createRangeIn(p),v=new Hr({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),x=[];for(const y of b)if("elementStart"===y.type&&v.match(y.item)){const D=WA(y.item);x.push({element:y.item,id:D.id,order:D.order,indent:D.indent})}return x}(c,r);if(!a.length)return;let l=null,u=1;a.forEach((p,m)=>{const b=function(B,R){if(!B)return!0;if(B.id!==R.id)return R.indent-B.indent!=1;const H=R.element.previousSibling;return!H||!((ee=H).is("element","ol")||ee.is("element","ul"));var ee}(a[m-1],p),x=(D=p,(y=b?null:a[m-1])?D.indent-y.indent:D.indent-1);var y,D;if(b&&(l=null,u=1),!l||0!==x){const B=function(R,H){const ce=/mso-level-number-format:([^;]{0,100});/gi,Ce=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Ke=new RegExp(`@list l${R.id}:level${R.indent}\\s*({[^}]*)`,"gi").exec(H);let at="decimal",Qt="ol",Ht=null;if(Ke&&Ke[1]){const zi=ce.exec(Ke[1]);if(zi&&zi[1]&&(at=zi[1].trim(),Qt="bullet"!==at&&"image"!==at?"ol":"ul"),"bullet"===at){const oi=function(xr){const Lr=function(Vs){if(Vs.getChild(0).is("$text"))return null;for(const ts of Vs.getChildren()){if(!ts.is("element","span"))continue;const ql=ts.getChild(0);return ql.is("$text")?ql:ql.getChild(0)}}(xr);if(!Lr)return null;const Rr=Lr._data;return"o"===Rr?"circle":"\xb7"===Rr?"disc":"\xa7"===Rr?"square":null}(R.element);oi&&(at=oi)}else{const oi=Ce.exec(Ke[1]);oi&&oi[1]&&(Ht=parseInt(oi[1]))}}return{type:Qt,startIndex:Ht,style:HA(at)}}(p,e);if(l)if(p.indent>u){const R=l.getChild(l.childCount-1),H=R.getChild(R.childCount-1);l=_w(B,H,r),u+=1}else p.indent<u&&(l=function(H,ee){const ce=H.getAncestors({parentFirst:!0});let Ce=null,Ke=0;for(const at of ce)if("ul"!==at.name&&"ol"!==at.name||Ke++,Ke===ee){Ce=at;break}return Ce}(l,u-p.indent),u=parseInt(p.indent));else l=_w(B,p.element,r);p.indent<=u&&(l.is("element",B.type)||(l=r.rename(B.type,l)))}const P=(function(H,ee){const ce=new Hr({name:"span",styles:{"mso-list":"Ignore"}}),Ce=ee.createRangeIn(H);for(const Ke of Ce)"elementStart"===Ke.type&&ce.match(Ke.item)&&ee.remove(Ke.item)}(B=p.element,R=r),R.rename("li",B));var B,R;r.appendChild(P,l)})})(r,a),function ZA(c,e){if(!c.childCount)return;const r=new Ci;(function(u,p,m){const b=m.createRangeIn(p),v=new Hr({name:"img"}),x=[];for(const y of b)if(v.match(y.item)){const D=y.item,P=D.getAttribute("v:shapes")?D.getAttribute("v:shapes").split(" "):[];P.length&&P.every(B=>u.indexOf(B)>-1)?x.push(D):D.getAttribute("src")||x.push(D)}for(const y of x)m.remove(y)})(function(u,p){const m=p.createRangeIn(u),b=new Hr({name:/v:(.+)/}),v=[];for(const x of m){if("elementStart"!=x.type)continue;const y=x.item,D=y.previousSibling&&y.previousSibling.name||null;b.match(y)&&y.getAttribute("o:gfxdata")&&"v:shapetype"!==D&&v.push(x.item.getAttribute("id"))}return v}(c,r),c,r),function(u,p){const m=p.createRangeIn(u),b=new Hr({name:/v:(.+)/}),v=[];for(const x of m)"elementStart"==x.type&&b.match(x.item)&&v.push(x.item);for(const x of v)p.remove(x)}(c,r);const l=function(u,p){const m=p.createRangeIn(u),b=new Hr({name:"img"}),v=[];for(const x of m)b.match(x.item)&&x.item.getAttribute("src").startsWith("file://")&&v.push(x.item);return v}(c,r);l.length&&function(u,p,m){if(u.length===p.length)for(let b=0;b<u.length;b++){const v=`data:${p[b].type};base64,${qA(p[b].hex)}`;m.setAttribute("src",v,u[b])}}(l,function(u){if(!u)return[];const p=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,m=new RegExp("(?:("+p.source+"))([\\da-fA-F\\s]+)\\}","g"),b=u.match(m),v=[];if(b)for(const x of b){let y=!1;x.includes("\\pngblip")?y="image/png":x.includes("\\jpegblip")&&(y="image/jpeg"),y&&v.push({hex:x.replace(p,"").replace(/[^\da-fA-F]/g,""),type:y})}return v}(e),r)}(r,e.dataTransfer.getData("text/rtf")),e.content=r}}function Ls(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,r)=>1===r.length?" ":Array(r.length+1).join("\xa0 ").substr(0,r.length))}function Rn(c,e,r,a,l=1){e>l?a.setAttribute(c,e,r):a.removeAttribute(c,r)}function ya(c,e,r={}){const a=c.createElement("tableCell",r);return c.insertElement("paragraph",a),c.insert(a,e),a}function gu(c,e){const a=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:l}=c.getCellLocation(e);return!!a&&l<a}function fd(c){return e=>{e.on(`element:${c}`,(r,a,l)=>{if(a.modelRange&&a.viewItem.isEmpty){const p=l.writer.createPositionAt(a.modelRange.start.nodeAfter,0);l.writer.insertElement("paragraph",p)}},{priority:"low"})}}function vw(c){let e=0,r=0;const a=Array.from(c.getChildren()).filter(l=>"th"===l.name||"td"===l.name);for(;r<a.length&&"th"===a[r].name;)e+=parseInt(a[r].getAttribute("colspan")||1),r++;return e}class Ut{constructor(e,r={}){this._table=e,this._startRow=void 0!==r.row?r.row:r.startRow||0,this._endRow=void 0!==r.row?r.row:r.endRow,this._startColumn=void 0!==r.column?r.column:r.startColumn||0,this._endColumn=void 0!==r.column?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(a.cell,a.row,a.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const u=parseInt(l.getAttribute("colspan")||1),p=parseInt(l.getAttribute("rowspan")||1);(u>1||p>1)&&this._recordSpans(l,p,u),this._shouldSkipSlot()||(r=this._formatOutValue(l)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,r=this._row,a=this._column){return{done:!1,value:new KA(this,e,r,a)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,r,a){const l={cell:e,row:this._row,column:this._column};for(let u=this._row;u<this._row+r;u++)for(let p=this._column;p<this._column+a;p++)u==this._row&&p==this._column||this._markSpannedCell(u,p,l)}_markSpannedCell(e,r,a){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(r,a)}}class KA{constructor(e,r,a,l){this.cell=r,this.row=e._row,this.column=e._column,this.cellAnchorRow=a,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function $g(c,e={}){return(r,{writer:a})=>{const l=r.getAttribute("headingRows")||0,u=[];l>0&&u.push(a.createContainerElement("thead",null,a.createSlot(m=>m.is("element","tableRow")&&m.index<l))),l<c.getRows(r)&&u.push(a.createContainerElement("tbody",null,a.createSlot(m=>m.is("element","tableRow")&&m.index>=l)));const p=a.createContainerElement("figure",{class:"table"},[a.createContainerElement("table",null,u),a.createSlot(m=>!m.is("element","tableRow"))]);return e.asWidget?((b=a).setCustomProperty("table",!0,m=p),Yh(m,b,{hasSelectionHandle:!0})):p;var m,b}}function xw(c={}){return(e,{writer:r})=>{const a=e.parent,l=a.parent,u=l.getChildIndex(a),p=new Ut(l,{row:u}),m=l.getAttribute("headingRows")||0,b=l.getAttribute("headingColumns")||0;for(const v of p)if(v.cell==e){const x=v.row<m||v.column<b?"th":"td";return c.asWidget?Sn(r.createEditableElement(x),r):r.createContainerElement(x)}}}function Cw(c={}){return(e,{writer:r,consumable:a,mapper:l})=>{if(e.parent.is("element","tableCell")&&Si(e))return c.asWidget?r.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(a.consume(e,"insert"),void l.bindElements(e,l.toViewElement(e.parent)))}}function Si(c){return 1==c.parent.childCount&&![...c.getAttributeKeys()].length}class $A extends vt{refresh(){const e=this.editor.model;this.isEnabled=function(l,u){const p=l.getFirstPosition().parent;return u.checkChild(p===p.root?p:p.parent,"table")}(e.document.selection,e.schema)}execute(e={}){const r=this.editor.model,a=this.editor.plugins.get("TableUtils"),l=this.editor.config.get("table"),u=l.defaultHeadings.rows,p=l.defaultHeadings.columns;void 0===e.headingRows&&u&&(e.headingRows=u),void 0===e.headingColumns&&p&&(e.headingColumns=p),r.change(m=>{const b=a.createTable(m,e);r.insertObject(b,null,null,{findOptimalPosition:"auto"}),m.setSelection(m.createPositionAt(b.getNodeByPath([0,0,0]),0))})}}class Aw extends vt{constructor(e,r={}){super(e),this.order=r.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,r=e.model.document.selection,a=e.plugins.get("TableUtils"),l="above"===this.order,u=a.getSelectionAffectedTableCells(r),p=a.getRowIndexes(u),m=l?p.first:p.last,b=u[0].findAncestor("table");a.insertRows(b,{at:l?m:m+1,copyStructureFromAbove:!l})}}class pd extends vt{constructor(e,r={}){super(e),this.order=r.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,r=e.model.document.selection,a=e.plugins.get("TableUtils"),l="left"===this.order,u=a.getSelectionAffectedTableCells(r),p=a.getColumnIndexes(u),m=l?p.first:p.last,b=u[0].findAncestor("table");a.insertColumns(b,{columns:1,at:l?m:m+1})}}class mu extends vt{constructor(e,r={}){super(e),this.direction=r.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(r,2):e.splitCellVertically(r,2)}}function yw(c,e,r){const{startRow:a,startColumn:l,endRow:u,endColumn:p}=e,m=r.createElement("table"),b=u-a+1;for(let x=0;x<b;x++)r.insertElement("tableRow",m,"end");const v=[...new Ut(c,{startRow:a,endRow:u,startColumn:l,endColumn:p,includeAllSlots:!0})];for(const{row:x,column:y,cell:D,isAnchor:P,cellAnchorRow:B,cellAnchorColumn:R}of v){const ee=m.getChild(x-a);if(P){const ce=r.cloneElement(D);r.append(ce,ee),Mw(ce,x,y,u,p,r)}else(B<a||R<l)&&ya(r,r.createPositionAt(ee,"end"))}return function(x,y,D,P,B){const R=parseInt(y.getAttribute("headingRows")||0);R>0&&Rn("headingRows",R-D,x,B,0);const H=parseInt(y.getAttribute("headingColumns")||0);H>0&&Rn("headingColumns",H-P,x,B,0)}(m,c,a,l,r),m}function Tw(c,e,r=0){const a=[],l=new Ut(c,{startRow:r,endRow:e-1});for(const u of l){const{row:p,cellHeight:m}=u,b=p+m-1;p<e&&e<=b&&a.push(u)}return a}function Sw(c,e,r){const a=c.parent,l=a.parent,u=a.index,p=e-u,m={},b=parseInt(c.getAttribute("rowspan"))-p;b>1&&(m.rowspan=b);const v=parseInt(c.getAttribute("colspan")||1);v>1&&(m.colspan=v);const x=u+p,y=[...new Ut(l,{startRow:u,endRow:x,includeAllSlots:!0})];let D,P=null;for(const B of y){const{row:R,column:H,cell:ee}=B;ee===c&&void 0===D&&(D=H),void 0!==D&&D===H&&R===x&&(P=ya(r,B.getPositionBefore(),m))}return Rn("rowspan",p,c,r),P}function Ew(c,e){const r=[],a=new Ut(c);for(const l of a){const{column:u,cellWidth:p}=l,m=u+p-1;u<e&&e<=m&&r.push(l)}return r}function Dw(c,e,r,a){const l=r-e,u={},p=parseInt(c.getAttribute("colspan"))-l;p>1&&(u.colspan=p);const m=parseInt(c.getAttribute("rowspan")||1);m>1&&(u.rowspan=m);const b=ya(a,a.createPositionAfter(c),u);return Rn("colspan",l,c,a),b}function Mw(c,e,r,a,l,u){const p=parseInt(c.getAttribute("colspan")||1),m=parseInt(c.getAttribute("rowspan")||1);r+p-1>l&&Rn("colspan",l-r+1,c,u,1),e+m-1>a&&Rn("rowspan",a-e+1,c,u,1)}function Qg(c,e){const r=e.getColumns(c),a=new Array(r).fill(0);for(const{column:u}of new Ut(c))a[u]++;const l=a.reduce((u,p,m)=>p?u:[...u,m],[]);return l.length>0&&(e.removeColumns(c,{at:l[l.length-1]}),!0)}function Jg(c,e){const r=[],a=e.getRows(c);for(let l=0;l<a;l++)c.getChild(l).isEmpty&&r.push(l);return r.length>0&&(e.removeRows(c,{at:r[r.length-1]}),!0)}function Xg(c,e){Qg(c,e)||Jg(c,e)}function Iw(c,e){const r=Array.from(new Ut(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));return r.every(({cellHeight:l})=>1===l)?e.lastRow:e.lastRow+(r[0].cellHeight-1)}function Pw(c,e){const r=Array.from(new Ut(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));return r.every(({cellWidth:l})=>1===l)?e.lastColumn:e.lastColumn+(r[0].cellWidth-1)}class _u extends vt{constructor(e,r){super(e),this.direction=r.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,r=e.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],l=this.value,u=this.direction;e.change(p=>{const m="right"==u||"down"==u,b=m?a:l,v=m?l:a,x=v.parent;var R,H,ee;H=b,ee=p,em(R=v)||(em(H)&&ee.remove(ee.createRangeIn(H)),ee.move(ee.createRangeIn(R),ee.createPositionAt(H,"end"))),ee.remove(R);const y=this.isHorizontal?"colspan":"rowspan",D=parseInt(a.getAttribute(y)||1),P=parseInt(l.getAttribute(y)||1);p.setAttribute(y,D+P,b),p.setSelection(p.createRangeIn(b));const B=this.editor.plugins.get("TableUtils");Xg(x.findAncestor("table"),B)})}_getMergeableCell(){const e=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),a=r.getTableCellsContainingSelection(e.selection)[0];if(!a)return;const l=this.isHorizontal?function(m,b,v){const y="right"==b?m.nextSibling:m.previousSibling,D=(m.parent.parent.getAttribute("headingColumns")||0)>0;if(!y)return;const P="right"==b?m:y,B="right"==b?y:m,{column:R}=v.getCellLocation(P),{column:H}=v.getCellLocation(B),ee=parseInt(P.getAttribute("colspan")||1),ce=gu(v,P),Ce=gu(v,B);return D&&ce!=Ce?void 0:R+ee===H?y:void 0}(a,this.direction,r):function(m,b,v){const x=m.parent,y=x.parent,D=y.getChildIndex(x);if("down"==b&&D===v.getRows(y)-1||"up"==b&&0===D)return;const P=parseInt(m.getAttribute("rowspan")||1),B=y.getAttribute("headingRows")||0;if(B&&("down"==b&&D+P===B||"up"==b&&D===B))return;const ee=parseInt(m.getAttribute("rowspan")||1),ce="down"==b?D+ee:D,Ce=[...new Ut(y,{endRow:ce})],Ke=Ce.find(Qt=>Qt.cell===m).column,at=Ce.find(({row:Qt,cellHeight:Ht,column:zi})=>zi===Ke&&("down"==b?Qt===ce:ce===Qt+Ht));return at&&at.cell}(a,this.direction,r);if(!l)return;const u=this.isHorizontal?"rowspan":"colspan",p=parseInt(a.getAttribute(u)||1);return parseInt(l.getAttribute(u)||1)===p?l:void 0}}function em(c){return 1==c.childCount&&c.getChild(0).is("element","paragraph")&&c.getChild(0).isEmpty}class QA extends vt{refresh(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=r[0];if(a){const l=a.findAncestor("table"),u=this.editor.plugins.get("TableUtils").getRows(l)-1,p=e.getRowIndexes(r);this.isEnabled=!(0===p.first&&p.last===u)}else this.isEnabled=!1}execute(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),a=r.getSelectionAffectedTableCells(e.document.selection),l=r.getRowIndexes(a),u=a[0],p=u.findAncestor("table"),m=r.getCellLocation(u).column;e.change(b=>{r.removeRows(p,{at:l.first,rows:l.last-l.first+1});const x=function(y,D,P,B){const R=y.getChild(Math.min(D,B-1));let H=R.getChild(0),ee=0;for(const ce of R.getChildren()){if(ee>P)return H;H=ce,ee+=parseInt(ce.getAttribute("colspan")||1)}return H}(p,l.first,m,r.getRows(p));b.setSelection(b.createPositionAt(x,0))})}}class JA extends vt{refresh(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=r[0];if(a){const l=a.findAncestor("table"),u=e.getColumns(l),{first:p,last:m}=e.getColumnIndexes(r);this.isEnabled=m-p<u-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[r,a]=function(b,v){const x=v.getSelectionAffectedTableCells(b),y=x[0],D=x.pop(),P=[y,D];return y.isBefore(D)?P:P.reverse()}(this.editor.model.document.selection,e),l=r.parent.parent,u=[...new Ut(l)],p={first:u.find(b=>b.cell===r).column,last:u.find(b=>b.cell===a).column},m=(b=u,v=r,x=a,y=p,parseInt(x.getAttribute("colspan")||1)>1?x:v.previousSibling||x.nextSibling?x.nextSibling||v.previousSibling:y.first?b.reverse().find(({column:D})=>D<y.first).cell:b.reverse().find(({column:D})=>D>y.last).cell);var b,v,x,y;this.editor.model.change(b=>{const v=p.last-p.first+1;this.editor.plugins.get("TableUtils").removeColumns(l,{at:p.first,columns:v}),b.setSelection(b.createPositionAt(m,0))})}}class XA extends vt{refresh(){const a=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),l=a.length>0;this.isEnabled=l,this.value=l&&a.every(u=>this._isInHeading(u,u.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),a=this.editor.model,l=r.getSelectionAffectedTableCells(a.document.selection),u=l[0].findAncestor("table"),{first:p,last:m}=r.getRowIndexes(l),b=this.value?p:m+1,v=u.getAttribute("headingRows")||0;a.change(x=>{if(b){const y=Tw(u,b,b>v?v:0);for(const{cell:D}of y)Sw(D,b,x)}Rn("headingRows",b,u,x,0)})}_isInHeading(e,r){const a=parseInt(r.getAttribute("headingRows")||0);return!!a&&e.parent.index<a}}class ey extends vt{refresh(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),a=r.getSelectionAffectedTableCells(e.document.selection),l=a.length>0;this.isEnabled=l,this.value=l&&a.every(u=>gu(r,u))}execute(e={}){if(e.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),a=this.editor.model,l=r.getSelectionAffectedTableCells(a.document.selection),u=l[0].findAncestor("table"),{first:p,last:m}=r.getColumnIndexes(l),b=this.value?p:m+1;a.change(v=>{if(b){const x=Ew(u,b);for(const{cell:y,column:D}of x)Dw(y,D,b,v)}Rn("headingColumns",b,u,v,0)})}}class Ei extends De{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const r=e.parent,a=r.parent,l=a.getChildIndex(r),u=new Ut(a,{row:l});for(const{cell:p,row:m,column:b}of u)if(p===e)return{row:m,column:b}}createTable(e,r){const a=e.createElement("table"),l=parseInt(r.rows)||2,u=parseInt(r.columns)||2;return tm(e,a,0,l,u),r.headingRows&&Rn("headingRows",Math.min(r.headingRows,l),a,e,0),r.headingColumns&&Rn("headingColumns",Math.min(r.headingColumns,u),a,e,0),a}insertRows(e,r={}){const a=this.editor.model,l=r.at||0,u=r.rows||1,p=void 0!==r.copyStructureFromAbove,m=r.copyStructureFromAbove?l-1:l,b=this.getRows(e),v=this.getColumns(e);if(l>b)throw new I("tableutils-insertrows-insert-out-of-range",this,{options:r});a.change(x=>{const y=e.getAttribute("headingRows")||0;if(y>l&&Rn("headingRows",y+u,e,x,0),!p&&(0===l||l===b))return void tm(x,e,l,u,v);const D=p?Math.max(l,m):l,P=new Ut(e,{endRow:D}),B=new Array(v).fill(1);for(const{row:R,column:H,cellHeight:ee,cellWidth:ce,cell:Ce}of P){const Ke=R+ee-1,at=R<=m&&m<=Ke;R<l&&l<=Ke?(x.setAttribute("rowspan",ee+u,Ce),B[H]=-ce):p&&at&&(B[H]=ce)}for(let R=0;R<u;R++){const H=x.createElement("tableRow");x.insert(H,e,l);for(let ee=0;ee<B.length;ee++){const ce=B[ee],Ce=x.createPositionAt(H,"end");ce>0&&ya(x,Ce,ce>1?{colspan:ce}:null),ee+=Math.abs(ce)-1}}})}insertColumns(e,r={}){const l=r.at||0,u=r.columns||1;this.editor.model.change(p=>{const m=e.getAttribute("headingColumns");l<m&&p.setAttribute("headingColumns",m+u,e);const b=this.getColumns(e);if(0===l||b===l){for(const x of e.getChildren())x.is("element","tableRow")&&Ul(u,p,p.createPositionAt(x,l?"end":0));return}const v=new Ut(e,{column:l,includeAllSlots:!0});for(const x of v){const{row:y,cell:D,cellAnchorColumn:P,cellAnchorRow:B,cellWidth:R,cellHeight:H}=x;if(P<l){p.setAttribute("colspan",R+u,D);const ee=B+H-1;for(let ce=y;ce<=ee;ce++)v.skipRow(ce)}else Ul(u,p,x.getPositionBefore())}})}removeRows(e,r){const a=this.editor.model,l=r.rows||1,u=this.getRows(e),p=r.at,m=p+l-1;if(m>u-1)throw new I("tableutils-removerows-row-index-out-of-range",this,{table:e,options:r});a.change(b=>{const{cellsToMove:v,cellsToTrim:x}=function(y,D,P){const B=new Map,R=[];for(const{row:H,column:ee,cellHeight:ce,cell:Ce}of new Ut(y,{endRow:P})){const Ke=H+ce-1;if(H>=D&&H<=P&&Ke>P&&B.set(ee,{cell:Ce,rowspan:ce-(P-H+1)}),H<D&&Ke>=D){let at;at=Ke>=P?P-D+1:Ke-D+1,R.push({cell:Ce,rowspan:ce-at})}}return{cellsToMove:B,cellsToTrim:R}}(e,p,m);v.size&&function(y,D,P,B){const R=[...new Ut(y,{includeAllSlots:!0,row:D})],H=y.getChild(D);let ee;for(const{column:ce,cell:Ce,isAnchor:Ke}of R)if(P.has(ce)){const{cell:at,rowspan:Qt}=P.get(ce),Ht=ee?B.createPositionAfter(ee):B.createPositionAt(H,0);B.move(B.createRangeOn(at),Ht),Rn("rowspan",Qt,at,B),ee=at}else Ke&&(ee=Ce)}(e,m+1,v,b);for(let y=m;y>=p;y--)b.remove(e.getChild(y));for(const{rowspan:y,cell:D}of x)Rn("rowspan",y,D,b);(function(y,D,P,B){const R=y.getAttribute("headingRows")||0;D<R&&Rn("headingRows",P<R?R-(P-D+1):D,y,B,0)})(e,p,m,b),Qg(e,this)||Jg(e,this)})}removeColumns(e,r){const l=r.at,p=r.at+(r.columns||1)-1;this.editor.model.change(m=>{!function(b,v,x){const y=b.getAttribute("headingColumns")||0;if(y&&v.first<y){const D=Math.min(y-1,v.last)-v.first+1;x.setAttribute("headingColumns",y-D,b)}}(e,{first:l,last:p},m);for(let b=p;b>=l;b--)for(const{cell:v,column:x,cellWidth:y}of[...new Ut(e)])x<=b&&y>1&&x+y>b?Rn("colspan",y-1,v,m):x===b&&m.remove(v);Jg(e,this)||Qg(e,this)})}splitCellVertically(e,r=2){const a=this.editor.model,l=e.parent.parent,u=parseInt(e.getAttribute("rowspan")||1),p=parseInt(e.getAttribute("colspan")||1);a.change(m=>{if(p>1){const{newCellsSpan:b,updatedSpan:v}=Fw(p,r);Rn("colspan",v,e,m);const x={};b>1&&(x.colspan=b),u>1&&(x.rowspan=u),Ul(p>r?r-1:p-1,m,m.createPositionAfter(e),x)}if(p<r){const b=r-p,v=[...new Ut(l)],{column:x}=v.find(({cell:B})=>B===e),y=v.filter(({cell:B,cellWidth:R,column:H})=>B!==e&&H===x||H<x&&H+R>x);for(const{cell:B,cellWidth:R}of y)m.setAttribute("colspan",R+b,B);const D={};u>1&&(D.rowspan=u),Ul(b,m,m.createPositionAfter(e),D);const P=l.getAttribute("headingColumns")||0;P>x&&Rn("headingColumns",P+b,l,m)}})}splitCellHorizontally(e,r=2){const a=this.editor.model,l=e.parent,u=l.parent,p=u.getChildIndex(l),m=parseInt(e.getAttribute("rowspan")||1),b=parseInt(e.getAttribute("colspan")||1);a.change(v=>{if(m>1){const x=[...new Ut(u,{startRow:p,endRow:p+m-1,includeAllSlots:!0})],{newCellsSpan:y,updatedSpan:D}=Fw(m,r);Rn("rowspan",D,e,v);const{column:P}=x.find(({cell:R})=>R===e),B={};y>1&&(B.rowspan=y),b>1&&(B.colspan=b);for(const R of x){const{column:H,row:ee}=R,ce=H===P,Ce=(ee+p+D)%y==0;ee>=p+D&&ce&&Ce&&Ul(1,v,R.getPositionBefore(),B)}}if(m<r){const x=r-m,y=[...new Ut(u,{startRow:0,endRow:p})];for(const{cell:B,cellHeight:R,row:H}of y)B!==e&&H+R>p&&v.setAttribute("rowspan",R+x,B);const D={};b>1&&(D.colspan=b),tm(v,u,p+1,x,1,D);const P=u.getAttribute("headingRows")||0;P>p&&Rn("headingRows",P+x,u,v)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((r,a)=>r+parseInt(a.getAttribute("colspan")||1),0)}getRows(e){return Array.from(e.getChildren()).reduce((r,a)=>a.is("element","tableRow")?r+1:r,0)}createTableWalker(e,r={}){return new Ut(e,r)}getSelectedTableCells(e){const r=[];for(const a of this.sortRanges(e.getRanges())){const l=a.getContainedElement();l&&l.is("element","tableCell")&&r.push(l)}return r}getTableCellsContainingSelection(e){const r=[];for(const a of e.getRanges()){const l=a.start.findAncestor("tableCell");l&&r.push(l)}return r}getSelectionAffectedTableCells(e){const r=this.getSelectedTableCells(e);return r.length?r:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const r=e.map(a=>a.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(e){const r=e[0].findAncestor("table"),a=[...new Ut(r)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const r=new Set,a=new Set;let l=0;for(const p of e){const{row:m,column:b}=this.getCellLocation(p),v=parseInt(p.getAttribute("rowspan")||1),x=parseInt(p.getAttribute("colspan")||1);r.add(m),a.add(b),v>1&&r.add(m+v-1),x>1&&a.add(b+x-1),l+=v*x}return function(p,m){const b=Array.from(p.values()),v=Array.from(m.values());return(Math.max(...b)-Math.min(...b)+1)*(Math.max(...v)-Math.min(...v)+1)}(r,a)==l}sortRanges(e){return Array.from(e).sort(ty)}_getFirstLastIndexesObject(e){const r=e.sort((a,l)=>a-l);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(e){const r=e[0].findAncestor("table"),a=this.getRowIndexes(e),l=parseInt(r.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(a,l))return!1;const u=parseInt(r.getAttribute("headingColumns")||0),p=this.getColumnIndexes(e);return this._areIndexesInSameSection(p,u)}_areIndexesInSameSection({first:e,last:r},a){return e<a==r<a}}function tm(c,e,r,a,l,u={}){for(let p=0;p<a;p++){const m=c.createElement("tableRow");c.insert(m,e,r),Ul(l,c,c.createPositionAt(m,"end"),u)}}function Ul(c,e,r,a={}){for(let l=0;l<c;l++)ya(e,r,a)}function Fw(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(c/e);return{newCellsSpan:r,updatedSpan:c-r*e+r}}function ty(c,e){return c.start.isBefore(e.start)?-1:1}class ny extends vt{refresh(){const e=this.editor.plugins.get(Ei),r=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(r,this.editor.plugins.get(Ei))}execute(){const e=this.editor.model,r=this.editor.plugins.get(Ei);e.change(a=>{const l=r.getSelectedTableCells(e.document.selection),u=l.shift(),{mergeWidth:p,mergeHeight:m}=function(b,v,x){let y=0,D=0;for(const R of v){const{row:H,column:ee}=x.getCellLocation(R);y=Ow(R,ee,y,"colspan"),D=Ow(R,H,D,"rowspan")}const{row:P,column:B}=x.getCellLocation(b);return{mergeWidth:y-B,mergeHeight:D-P}}(u,l,r);Rn("colspan",p,u,a),Rn("rowspan",m,u,a);for(const b of l)iy(b,u,a);Xg(u.findAncestor("table"),r),a.setSelection(u,"in")})}}function iy(c,e,r){Nw(c)||(Nw(e)&&r.remove(r.createRangeIn(e)),r.move(r.createRangeIn(c),r.createPositionAt(e,"end"))),r.remove(c)}function Nw(c){return 1==c.childCount&&c.getChild(0).is("element","paragraph")&&c.getChild(0).isEmpty}function Ow(c,e,r,a){const l=parseInt(c.getAttribute(a)||1);return Math.max(r,e+l)}class ry extends vt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),a=r.getSelectionAffectedTableCells(e.document.selection),l=r.getRowIndexes(a),u=a[0].findAncestor("table"),p=[];for(let m=l.first;m<=l.last;m++)for(const b of u.getChild(m).getChildren())p.push(e.createRangeOn(b));e.change(m=>{m.setSelection(p)})}}class Bw extends vt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,a=e.getSelectionAffectedTableCells(r.document.selection),l=a[0],u=a.pop(),p=l.findAncestor("table"),m=e.getCellLocation(l),b=e.getCellLocation(u),v=Math.min(m.column,b.column),x=Math.max(m.column,b.column),y=[];for(const D of new Ut(p,{startColumn:v,endColumn:x}))y.push(r.createRangeOn(D.cell));r.change(D=>{D.setSelection(y)})}}function sy(c,e){let r=!1;const a=function(l){const u=parseInt(l.getAttribute("headingRows")||0),p=Array.from(l.getChildren()).reduce((b,v)=>v.is("element","tableRow")?b+1:b,0),m=[];for(const{row:b,cell:v,cellHeight:x}of new Ut(l)){if(x<2)continue;const y=b<u?u:p;b+x>y&&m.push({cell:v,rowspan:y-b})}return m}(c);if(a.length){r=!0;for(const l of a)Rn("rowspan",l.rowspan,l.cell,e,1)}return r}function ay(c,e){let r=!1;const a=function(m){const b=new Array(m.childCount).fill(0);for(const{rowIndex:v}of new Ut(m,{includeAllSlots:!0}))b[v]++;return b}(c),l=[];for(const[m,b]of a.entries())!b&&c.getChild(m).is("element","tableRow")&&l.push(m);if(l.length){r=!0;for(const m of l.reverse())e.remove(c.getChild(m)),a.splice(m,1)}const u=a.filter((m,b)=>c.getChild(b).is("element","tableRow")),p=u[0];if(!u.every(m=>m===p)){const m=u.reduce((b,v)=>v>b?v:b,0);for(const[b,v]of u.entries()){const x=m-v;if(x){for(let y=0;y<x;y++)ya(e,e.createPositionAt(c.getChild(b),"end"));r=!0}}}return r}function ly(c){const r=c.attributeKey;return"attribute"===c.type&&("headingRows"===r||"colspan"===r||"rowspan"===r)}function dy(c,e){let r=!1;for(const a of c.getChildren())a.is("element","tableRow")&&(r=nm(a,e)||r);return r}function nm(c,e){let r=!1;for(const a of c.getChildren())r=im(a,e)||r;return r}function im(c,e){if(0==c.childCount)return e.insertElement("paragraph",c),!0;const r=Array.from(c.getChildren()).filter(a=>a.is("$text"));for(const a of r)e.wrap(e.createRangeOn(a),"paragraph");return!!r.length}function hy(c){return!(!c.position||!c.position.parent.is("element","tableCell"))&&("insert"==c.type&&"$text"==c.name||"remove"==c.type)}function Lw(c,e){if(!c.is("element","paragraph"))return!1;const r=e.toViewElement(c);return!!r&&Si(c)!==r.is("element","span")}var Rw=Ue(4777);Xe()(Rw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class rm extends De{static get pluginName(){return"TableEditing"}static get requires(){return[Ei]}init(){const e=this.editor,r=e.model,a=r.schema,l=e.conversion,u=e.plugins.get(Ei);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(p=>{p.on("element:figure",(m,b,v)=>{if(!v.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const x=function(D){for(const P of D.getChildren())if(P.is("element","table"))return P}(b.viewItem);if(!x||!v.consumable.test(x,{name:!0}))return;v.consumable.consume(b.viewItem,{name:!0,classes:"table"});const y=Xn(v.convertItem(x,b.modelCursor).modelRange.getItems());y?(v.convertChildren(b.viewItem,v.writer.createPositionAt(y,"end")),v.updateConversionResult(y,b)):v.consumable.revert(b.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(function YA(){return c=>{c.on("element:table",(e,r,a)=>{const l=r.viewItem;if(!a.consumable.test(l,{name:!0}))return;const{rows:u,headingRows:p,headingColumns:m}=function(x){const y={headingRows:0,headingColumns:0},D=[],P=[];let B;for(const R of Array.from(x.getChildren()))if("tbody"===R.name||"thead"===R.name||"tfoot"===R.name){"thead"!==R.name||B||(B=R);const H=Array.from(R.getChildren()).filter(ee=>ee.is("element","tr"));for(const ee of H)if("thead"===ee.parent.name&&ee.parent===B)y.headingRows++,D.push(ee);else{P.push(ee);const ce=vw(ee);ce>y.headingColumns&&(y.headingColumns=ce)}}return y.rows=[...D,...P],y}(l),b={};m&&(b.headingColumns=m),p&&(b.headingRows=p);const v=a.writer.createElement("table",b);if(a.safeInsert(v,r.modelCursor)){if(a.consumable.consume(l,{name:!0}),u.forEach(x=>a.convertItem(x,a.writer.createPositionAt(v,"end"))),a.convertChildren(l,a.writer.createPositionAt(v,"end")),v.isEmpty){const x=a.writer.createElement("tableRow");a.writer.insert(x,a.writer.createPositionAt(v,"end")),ya(a.writer,a.writer.createPositionAt(x,"end"))}a.updateConversionResult(v,r)}})}}()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:$g(u,{asWidget:!0})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:$g(u)}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(p=>{p.on("element:tr",(m,b)=>{b.viewItem.isEmpty&&0==b.modelCursor.index&&m.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(p,{writer:m})=>p.isEmpty?m.createEmptyElement("tr"):m.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(fd("td")),l.for("upcast").add(fd("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:xw({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:xw()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:Cw({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:Cw(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:om("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:om("rowspan")},view:"rowspan"}),e.data.mapper.on("modelToViewPosition",(p,m)=>{const b=m.modelPosition.parent,v=m.modelPosition.nodeBefore;if(!b.is("element","tableCell")||!v||!v.is("element","paragraph"))return;const x=m.mapper.toViewElement(v),y=m.mapper.toViewElement(b);x===y&&(m.viewPosition=m.mapper.findPositionIn(y,v.maxOffset))}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new $A(e)),e.commands.add("insertTableRowAbove",new Aw(e,{order:"above"})),e.commands.add("insertTableRowBelow",new Aw(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new pd(e,{order:"left"})),e.commands.add("insertTableColumnRight",new pd(e,{order:"right"})),e.commands.add("removeTableRow",new QA(e)),e.commands.add("removeTableColumn",new JA(e)),e.commands.add("splitTableCellVertically",new mu(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new mu(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new ny(e)),e.commands.add("mergeTableCellRight",new _u(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new _u(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new _u(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new _u(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new ey(e)),e.commands.add("setTableRowHeader",new XA(e)),e.commands.add("selectTableRow",new ry(e)),e.commands.add("selectTableColumn",new Bw(e)),function oy(c){c.document.registerPostFixer(e=>function(r,a){const l=a.document.differ.getChanges();let u=!1;const p=new Set;for(const m of l){let b;"table"==m.name&&"insert"==m.type&&(b=m.position.nodeAfter),"tableRow"!=m.name&&"tableCell"!=m.name||(b=m.position.findAncestor("table")),ly(m)&&(b=m.range.start.findAncestor("table")),b&&!p.has(b)&&(u=sy(b,r)||u,u=ay(b,r)||u,p.add(b))}return u}(e,c))}(r),function cy(c){c.document.registerPostFixer(e=>function(r,a){const l=a.document.differ.getChanges();let u=!1;for(const p of l)"insert"==p.type&&"table"==p.name&&(u=dy(p.position.nodeAfter,r)||u),"insert"==p.type&&"tableRow"==p.name&&(u=nm(p.position.nodeAfter,r)||u),"insert"==p.type&&"tableCell"==p.name&&(u=im(p.position.nodeAfter,r)||u),hy(p)&&(u=im(p.position.parent,r)||u);return u}(e,c))}(r),this.listenTo(r.document,"change:data",()=>{(function(p,m){const b=p.document.differ;for(const v of b.getChanges()){let x,y=!1;if("attribute"==v.type){const R=v.range.start.nodeAfter;if(!R||!R.is("element","table")||"headingRows"!=v.attributeKey&&"headingColumns"!=v.attributeKey)continue;x=R,y="headingRows"==v.attributeKey}else"tableRow"!=v.name&&"tableCell"!=v.name||(x=v.position.findAncestor("table"),y="tableRow"==v.name);if(!x)continue;const D=x.getAttribute("headingRows")||0,P=x.getAttribute("headingColumns")||0,B=new Ut(x);for(const R of B){const H=R.row<D||R.column<P?"th":"td",ee=m.mapper.toViewElement(R.cell);ee&&ee.is("element")&&ee.name!=H&&m.reconvertItem(y?R.cell.parent:R.cell)}}})(r,e.editing),function(p,m){const b=p.document.differ,v=new Set;for(const x of b.getChanges()){const y="attribute"==x.type?x.range.start.parent:x.position.parent;y.is("element","tableCell")&&v.add(y)}for(const x of v.values()){const y=Array.from(x.getChildren()).filter(D=>Lw(D,m.mapper));for(const D of y)m.reconvertItem(D)}}(r,e.editing)})}}function om(c){return e=>{const r=parseInt(e.getAttribute(c));return Number.isNaN(r)||r<=0?null:r}}var zw=Ue(8085);Xe()(zw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class fy extends it{constructor(e){super(e);const r=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,l)=>`${l} \xd7 ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:r.to("label")}]}],on:{mousedown:r.to(a=>{a.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,l)=>{const{row:u,column:p}=l.target.dataset;this.set({rows:parseInt(u),columns:parseInt(p)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const e=this.rows,r=this.columns;this.items.map((a,l)=>{const u=Math.floor(l/10)<e&&l%10<r;a.set("isOn",u)})}_createGridCollection(){const e=[];for(let r=0;r<100;r++){const a=Math.floor(r/10);e.push(new jw(this.locale,a+1,r%10+1))}return this.createCollection(e)}}class jw extends it{constructor(e,r,a){super(e);const l=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",l.if("isOn","ck-on")],"data-row":r,"data-column":a}})}}class Uw extends De{static get pluginName(){return"TableUI"}init(){const e=this.editor,r=this.editor.t,a="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",l=>{const u=e.commands.get("insertTable"),p=Qr(l);let m;return p.bind("isEnabled").to(u),p.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:r("Insert table"),tooltip:!0}),p.on("change:isOpen",()=>{m||(m=new fy(l),p.panelView.children.add(m),m.delegate("execute").to(p),p.buttonView.on("open",()=>{m.rows=0,m.columns=0}),p.on("execute",()=>{e.execute("insertTable",{rows:m.rows,columns:m.columns}),e.editing.view.focus()}))}),p}),e.ui.componentFactory.add("tableColumn",l=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,l)}),e.ui.componentFactory.add("tableRow",l=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,l)})}_prepareDropdown(e,r,a,l){const u=this.editor,p=Qr(l),m=this._fillDropdownWithListOptions(p,a);return p.buttonView.set({label:e,icon:r,tooltip:!0}),p.bind("isEnabled").toMany(m,"isEnabled",(...b)=>b.some(v=>v)),this.listenTo(p,"execute",b=>{u.execute(b.source.commandName),u.editing.view.focus()}),p}_prepareMergeSplitButtonDropdown(e,r,a,l){const u=this.editor,p=Qr(l,xb),m="mergeTableCells",b=u.commands.get(m),v=this._fillDropdownWithListOptions(p,a);return p.buttonView.set({label:e,icon:r,tooltip:!0,isEnabled:!0}),p.bind("isEnabled").toMany([b,...v],"isEnabled",(...x)=>x.some(y=>y)),this.listenTo(p.buttonView,"execute",()=>{u.execute(m),u.editing.view.focus()}),this.listenTo(p,"execute",x=>{u.execute(x.source.commandName),u.editing.view.focus()}),p}_fillDropdownWithListOptions(e,r){const a=this.editor,l=[],u=new ar;for(const p of r)py(p,a,l,u);return vl(e,u),l}}function py(c,e,r,a){const l=c.model=new Vc(c.model),{commandName:u,bindIsOn:p}=c.model;if("button"===c.type||"switchbutton"===c.type){const m=e.commands.get(u);r.push(m),l.set({commandName:u}),l.bind("isEnabled").to(m),p&&l.bind("isOn").to(m,"value")}l.set({withText:!0}),a.add(c)}var Hw=Ue(5593);Xe()(Hw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Rs extends De{static get pluginName(){return"TableSelection"}static get requires(){return[Ei,Ei]}init(){this.listenTo(this.editor.model,"deleteContent",(r,a)=>this._handleDeleteContent(r,a),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const a=this.editor.plugins.get(Ei).getSelectedTableCells(this.editor.model.document.selection);return 0==a.length?null:a}getSelectionAsFragment(){const e=this.editor.plugins.get(Ei),r=this.getSelectedTableCells();return r?this.editor.model.change(a=>{const l=a.createDocumentFragment(),{first:u,last:p}=e.getColumnIndexes(r),{first:m,last:b}=e.getRowIndexes(r),v=r[0].findAncestor("table");let x=b,y=p;if(e.isSelectionRectangular(r)){const P={firstColumn:u,lastColumn:p,firstRow:m,lastRow:b};x=Iw(v,P),y=Pw(v,P)}const D=yw(v,{startRow:m,startColumn:u,endRow:x,endColumn:y},a);return a.insert(D,l,0),l}):null}setCellSelection(e,r){const a=this._getCellsToSelect(e,r);this.editor.model.change(l=>{l.setSelection(a.cells.map(u=>l.createRangeOn(u)),{backward:a.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Xn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,r=new Set;e.conversion.for("editingDowncast").add(a=>a.on("selection",(l,u,p)=>{const m=p.writer;!function(x){for(const y of r)x.removeClass("ck-editor__editable_selected",y);r.clear()}(m);const b=this.getSelectedTableCells();if(!b)return;for(const x of b){const y=p.mapper.toViewElement(x);m.addClass("ck-editor__editable_selected",y),r.add(y)}const v=p.mapper.toViewElement(b[b.length-1]);m.setSelection(v,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;e.model.change(a=>{const l=a.createPositionAt(r[0],0),u=e.model.schema.getNearestSelectionRange(l);a.setSelection(u)})}})}_handleDeleteContent(e,r){const a=this.editor.plugins.get(Ei),[l,u]=r,p=this.editor.model,m=!u||"backward"==u.direction,b=a.getSelectedTableCells(l);b.length&&(e.stop(),p.change(v=>{const x=b[m?b.length-1:0];p.change(D=>{for(const P of b)p.deleteContent(D.createSelection(P,"in"))});const y=p.schema.getNearestSelectionRange(v.createPositionAt(x,0));l.is("documentSelection")?v.setSelection(y):l.setTo(y)}))}_getCellsToSelect(e,r){const a=this.editor.plugins.get("TableUtils"),l=a.getCellLocation(e),u=a.getCellLocation(r),p=Math.min(l.row,u.row),m=Math.max(l.row,u.row),b=Math.min(l.column,u.column),v=Math.max(l.column,u.column),x=new Array(m-p+1).fill(null).map(()=>[]),y={startRow:p,endRow:m,startColumn:b,endColumn:v};for(const{row:B,cell:R}of new Ut(e.findAncestor("table"),y))x[B-p].push(R);const D=u.row<l.row,P=u.column<l.column;return D&&x.reverse(),P&&x.forEach(B=>B.reverse()),{cells:x.flat(),backward:D||P}}}class my extends De{static get pluginName(){return"TableClipboard"}static get requires(){return[Rs,Ei]}init(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"copy",(a,l)=>this._onCopyCut(a,l)),this.listenTo(r,"cut",(a,l)=>this._onCopyCut(a,l)),this.listenTo(e.model,"insertContent",(a,l)=>this._onInsertContent(a,...l),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,r){const a=this.editor.plugins.get(Rs);if(!a.getSelectedTableCells()||"cut"==e.name&&this.editor.isReadOnly)return;r.preventDefault(),e.stop();const u=this.editor.editing.view.document,p=this.editor.data.toView(a.getSelectionAsFragment());u.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:p,method:e.name})}_onInsertContent(e,r,a){if(a&&!a.is("documentSelection"))return;const l=this.editor.model,u=this.editor.plugins.get(Ei);let p=Ww(r,l);if(!p)return;const m=u.getSelectionAffectedTableCells(l.document.selection);m.length?(e.stop(),l.change(b=>{const v={width:u.getColumns(p),height:u.getRows(p)},x=function(H,ee,ce,Ce){const Ke=H[0].findAncestor("table"),at=Ce.getColumnIndexes(H),Qt=Ce.getRowIndexes(H),Ht={firstColumn:at.first,lastColumn:at.last,firstRow:Qt.first,lastRow:Qt.last},zi=1===H.length;return zi&&(Ht.lastRow+=ee.height-1,Ht.lastColumn+=ee.width-1,function(oi,xr,Lr,Rr){const Vs=Rr.getColumns(oi),ts=Rr.getRows(oi);Lr>Vs&&Rr.insertColumns(oi,{at:Vs,columns:Lr-Vs}),xr>ts&&Rr.insertRows(oi,{at:ts,rows:xr-ts})}(Ke,Ht.lastRow+1,Ht.lastColumn+1,Ce)),zi||!Ce.isSelectionRectangular(H)?function(oi,xr,Lr){const{firstRow:Rr,lastRow:Vs,firstColumn:ts,lastColumn:ql}=xr,C1={first:Rr,last:Vs},A1={first:ts,last:ql};am(oi,ts,C1,Lr),am(oi,ql+1,C1,Lr),sm(oi,Rr,A1,Lr),sm(oi,Vs+1,A1,Lr,Rr)}(Ke,Ht,ce):(Ht.lastRow=Iw(Ke,Ht),Ht.lastColumn=Pw(Ke,Ht)),Ht}(m,v,b,u),D=x.lastColumn-x.firstColumn+1,P={startRow:0,startColumn:0,endRow:Math.min(x.lastRow-x.firstRow+1,v.height)-1,endColumn:Math.min(D,v.width)-1};p=yw(p,P,b);const B=m[0].findAncestor("table"),R=this._replaceSelectedCellsWithPasted(p,v,B,x,b);if(this.editor.plugins.get("TableSelection").isEnabled){const H=u.sortRanges(R.map(ee=>b.createRangeOn(ee)));b.setSelection(H)}else b.setSelection(R[0],0)})):Xg(p,u)}_replaceSelectedCellsWithPasted(e,r,a,l,u){const{width:p,height:m}=r,b=function(H,ee,ce){const Ce=new Array(ce).fill(null).map(()=>new Array(ee).fill(null));for(const{column:Ke,row:at,cell:Qt}of new Ut(H))Ce[at][Ke]=Qt;return Ce}(e,p,m),v=[...new Ut(a,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],x=[];let y;for(const H of v){const{row:ee,column:ce}=H;ce===l.firstColumn&&(y=H.getPositionBefore());const at=b[(ee-l.firstRow)%m][(ce-l.firstColumn)%p],Qt=at?u.cloneElement(at):null,Ht=this._replaceTableSlotCell(H,Qt,y,u);Ht&&(Mw(Ht,ee,ce,l.lastRow,l.lastColumn,u),x.push(Ht),y=u.createPositionAfter(Ht))}const D=parseInt(a.getAttribute("headingRows")||0),P=parseInt(a.getAttribute("headingColumns")||0),R=l.firstColumn<P&&P<=l.lastColumn;if(l.firstRow<D&&D<=l.lastRow){const H=sm(a,D,{first:l.firstColumn,last:l.lastColumn},u,l.firstRow);x.push(...H)}if(R){const H=am(a,P,{first:l.firstRow,last:l.lastRow},u);x.push(...H)}return x}_replaceTableSlotCell(e,r,a,l){const{cell:u,isAnchor:p}=e;return p&&l.remove(u),r?(l.insert(r,a),r):null}getTableIfOnlyTableInContent(e,r){return Ww(e,r)}}function Ww(c,e){if(!c.is("documentFragment")&&!c.is("element"))return null;if(c.is("element","table"))return c;if(1==c.childCount&&c.getChild(0).is("element","table"))return c.getChild(0);const r=e.createRangeIn(c);for(const a of r.getItems())if(a.is("element","table")){const l=e.createRange(r.start,e.createPositionBefore(a));if(e.hasContent(l,{ignoreWhitespaces:!0}))return null;const u=e.createRange(e.createPositionAfter(a),r.end);return e.hasContent(u,{ignoreWhitespaces:!0})?null:a}return null}function sm(c,e,r,a,l=0){if(!(e<1))return Tw(c,e,l).filter(({column:u,cellWidth:p})=>Zw(u,p,r)).map(({cell:u})=>Sw(u,e,a))}function am(c,e,r,a){if(!(e<1))return Ew(c,e).filter(({row:l,cellHeight:u})=>Zw(l,u,r)).map(({cell:l,column:u})=>Dw(l,u,e,a))}function Zw(c,e,r){const a=c+e-1,{first:l,last:u}=r;return c>=l&&c<=u||c<l&&a>=l}class _y extends De{static get pluginName(){return"TableKeyboard"}static get requires(){return[Rs,Ei]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...r)=>this._onArrowKey(...r),{context:"table"}),this.listenTo(e,"tab",(...r)=>this._handleTabOnSelectedTable(...r),{context:"figure"}),this.listenTo(e,"tab",(...r)=>this._handleTab(...r),{context:["th","td"]})}_handleTabOnSelectedTable(e,r){const a=this.editor,l=a.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(r.preventDefault(),r.stopPropagation(),e.stop(),a.model.change(u=>{u.setSelection(u.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,r){const a=this.editor,l=this.editor.plugins.get(Ei),p=!r.shiftKey;let m=l.getTableCellsContainingSelection(a.model.document.selection)[0];if(m||(m=this.editor.plugins.get("TableSelection").getFocusCell()),!m)return;r.preventDefault(),r.stopPropagation(),e.stop();const b=m.parent,v=b.parent,x=v.getChildIndex(b),y=b.getChildIndex(m),D=0===y;if(!p&&D&&0===x)return void a.model.change(H=>{H.setSelection(H.createRangeOn(v))});const P=y===b.childCount-1,B=x===l.getRows(v)-1;if(p&&B&&P&&(a.execute("insertTableRowBelow"),x===l.getRows(v)-1))return void a.model.change(H=>{H.setSelection(H.createRangeOn(v))});let R;if(p&&P)R=v.getChild(x+1).getChild(0);else if(!p&&D){const H=v.getChild(x-1);R=H.getChild(H.childCount-1)}else R=b.getChild(y+(p?1:-1));a.model.change(H=>{H.setSelection(H.createRangeIn(R))})}_onArrowKey(e,r){const l=_c(r.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(l,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),e.stop())}_handleArrowKeys(e,r){const a=this.editor.plugins.get(Ei),l=this.editor.model,u=l.document.selection,p=["right","down"].includes(e),m=a.getSelectedTableCells(u);if(m.length){let v;return v=r?this.editor.plugins.get("TableSelection").getFocusCell():p?m[m.length-1]:m[0],this._navigateFromCellInDirection(v,e,r),!0}const b=u.focus.findAncestor("tableCell");if(!b)return!1;if(!u.isCollapsed)if(r){if(u.isBackward==p&&!u.containsEntireContent(b))return!1}else{const v=u.getSelectedElement();if(!v||!l.schema.isObject(v))return!1}return!!this._isSelectionAtCellEdge(u,b,p)&&(this._navigateFromCellInDirection(b,e,r),!0)}_isSelectionAtCellEdge(e,r,a){const l=this.editor.model,u=this.editor.model.schema,p=a?e.getLastPosition():e.getFirstPosition();if(!u.getLimitElement(p).is("element","tableCell"))return l.createPositionAt(r,a?"end":0).isTouching(p);const m=l.createSelection(p);return l.modifySelection(m,{direction:a?"forward":"backward"}),p.isEqual(m.focus)}_navigateFromCellInDirection(e,r,a=!1){const l=this.editor.model,u=e.findAncestor("table"),p=[...new Ut(u,{includeAllSlots:!0})],{row:m,column:b}=p[p.length-1],v=p.find(({cell:R})=>R==e);let{row:x,column:y}=v;switch(r){case"left":y--;break;case"up":x--;break;case"right":y+=v.cellWidth;break;case"down":x+=v.cellHeight}if(x<0||x>m||y<0&&x<=0||y>b&&x>=m)return void l.change(R=>{R.setSelection(R.createRangeOn(u))});y<0?(y=a?0:b,x--):y>b&&(y=a?b:0,x++);const D=p.find(R=>R.row==x&&R.column==y).cell,P=["right","down"].includes(r),B=this.editor.plugins.get("TableSelection");if(a&&B.isEnabled){const R=B.getAnchorCell()||e;B.setCellSelection(R,D)}else{const R=l.createPositionAt(D,P?0:"end");l.change(H=>{H.setSelection(R)})}}}class by extends Po{constructor(e){super(e),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class ky extends De{static get pluginName(){return"TableMouse"}static get requires(){return[Rs,Ei]}init(){this.editor.editing.view.addObserver(by),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,r=e.plugins.get(Ei);let a=!1;const l=e.plugins.get(Rs);this.listenTo(e.editing.view.document,"mousedown",(u,p)=>{const m=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!p.domEvent.shiftKey)return;const b=l.getAnchorCell()||r.getTableCellsContainingSelection(m)[0];if(!b)return;const v=this._getModelTableCellFromDomEvent(p);v&&qw(b,v)&&(a=!0,l.setCellSelection(b,v),p.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(e.editing.view.document,"selectionChange",u=>{a&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let r,a,l=!1,u=!1;const p=e.plugins.get(Rs);this.listenTo(e.editing.view.document,"mousedown",(m,b)=>{this.isEnabled&&p.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(b)))}),this.listenTo(e.editing.view.document,"mousemove",(m,b)=>{if(!b.domEvent.buttons||!r)return;const v=this._getModelTableCellFromDomEvent(b);v&&qw(r,v)&&(a=v,l||a==r||(l=!0)),l&&(u=!0,p.setCellSelection(r,a),b.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,u=!1,r=null,a=null}),this.listenTo(e.editing.view.document,"selectionChange",m=>{u&&m.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const a=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function qw(c,e){return c.parent.parent==e.parent.parent}var Gw=Ue(4104);function vy(c){const e=c.getSelectedElement();return e&&Yw(e)?e:null}function bu(c){let e=c.getFirstPosition().parent;for(;e;){if(e.is("element")&&Yw(e))return e;e=e.parent}return null}function Yw(c){return!!c.getCustomProperty("table")&&bn(c)}Xe()(Gw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class xy extends vt{refresh(){const e=this.editor,r=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!r,this.value=r&&r.hasAttribute("width")?{width:r.getAttribute("width"),height:null}:null}execute(e){const r=this.editor,a=r.model,l=r.plugins.get("ImageUtils").getClosestSelectedImageElement(a.document.selection);this.value={width:e.width,height:null},l&&a.change(u=>{u.setAttribute("width",e.width,l)})}}class lm extends De{static get requires(){return[ti]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,r=new xy(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",r),e.commands.add("imageResize",r)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(e){const r=this.editor;r.conversion.for("downcast").add(a=>a.on(`attribute:width:${e}`,(l,u,p)=>{if(!p.consumable.consume(u.item,l.name))return;const m=p.writer,b=p.mapper.toViewElement(u.item);null!==u.attributeNewValue?(m.setStyle("width",u.attributeNewValue,b),m.addClass("image_resized",b)):(m.removeStyle("width",b),m.removeClass("image_resized",b))})),r.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===e?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:a=>a.getStyle("width")}})}}const Cy=/(image|image-inline)/,cm="image_resized";class dm extends De{static get requires(){return[id]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,r=e.editing.view;r.addObserver(we),this.listenTo(r.document,"imageLoaded",(a,l)=>{if(!l.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const u=e.editing.view.domConverter,p=u.domToView(l.target).findAncestor({classes:Cy});let m=this.editor.plugins.get(id).getResizerByViewElement(p);if(m)return void m.redraw();const b=e.editing.mapper,v=b.toModelElement(p);m=e.plugins.get(id).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:v,viewElement:p,editor:e,getHandleHost:x=>x.querySelector("img"),getResizeHost:()=>u.viewToDom(b.toViewElement(v.parent)),isCentered(){const x=v.getAttribute("imageStyle");return!x||"block"==x||"alignCenter"==x},onCommit(x){r.change(y=>{y.removeClass(cm,p)}),e.execute("resizeImage",{width:x})}}),m.on("updateSize",()=>{p.hasClass(cm)||r.change(x=>{x.addClass(cm,p)})}),m.bind("isEnabled").to(this)})}}const hm={small:Et.objectSizeSmall,medium:Et.objectSizeMedium,large:Et.objectSizeLarge,original:Et.objectSizeFull};class Ay extends De{static get requires(){return[lm]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,r=e.config.get("image.resizeOptions"),a=e.commands.get("resizeImage");this.bind("isEnabled").to(a);for(const l of r)this._registerImageResizeButton(l);this._registerImageResizeDropdown(r)}_registerImageResizeButton(e){const r=this.editor,{name:a,value:l,icon:u}=e,p=l?l+this._resizeUnit:null;r.ui.componentFactory.add(a,m=>{const b=new Pt(m),v=r.commands.get("resizeImage"),x=this._getOptionLabelValue(e,!0);if(!hm[u])throw new I("imageresizebuttons-missing-icon",r,e);return b.set({label:x,icon:hm[u],tooltip:x,isToggleable:!0}),b.bind("isEnabled").to(this),b.bind("isOn").to(v,"value",Kw(p)),this.listenTo(b,"execute",()=>{r.execute("resizeImage",{width:p})}),b})}_registerImageResizeDropdown(e){const r=this.editor,a=r.t,l=e.find(p=>!p.value),u=p=>{const m=r.commands.get("resizeImage"),b=Qr(p,gp),v=b.buttonView;return v.set({tooltip:a("Resize image"),commandValue:l.value,icon:hm.medium,isToggleable:!0,label:this._getOptionLabelValue(l),withText:!0,class:"ck-resize-image-button"}),v.bind("label").to(m,"value",x=>x&&x.width?x.width:this._getOptionLabelValue(l)),b.bind("isOn").to(m),b.bind("isEnabled").to(this),vl(b,this._getResizeDropdownListItemDefinitions(e,m)),b.listView.ariaLabel=a("Image resize list"),this.listenTo(b,"execute",x=>{r.execute(x.source.commandName,{width:x.source.commandValue}),r.editing.view.focus()}),b};r.ui.componentFactory.add("resizeImage",u),r.ui.componentFactory.add("imageResize",u)}_getOptionLabelValue(e,r){const a=this.editor.t;return e.label?e.label:r?e.value?a("Resize image to %0",e.value+this._resizeUnit):a("Resize image to the original size"):e.value?e.value+this._resizeUnit:a("Original")}_getResizeDropdownListItemDefinitions(e,r){const a=new ar;return e.map(l=>{const u=l.value?l.value+this._resizeUnit:null,p={type:"button",model:new Vc({commandName:"resizeImage",commandValue:u,label:this._getOptionLabelValue(l),withText:!0,icon:null})};p.model.bind("isOn").to(r,"value",Kw(u)),a.add(p)}),a}}function Kw(c){return e=>null===c&&e===c||e&&e.width===c}var $w=Ue(1043);function um(c,e){const{viewElement:r,defaultValue:a,modelAttribute:l,styleName:u,reduceBoxSides:p=!1}=e;c.for("upcast").attributeToAttribute({view:{name:r,styles:{[u]:/[\s\S]+/}},model:{key:l,value:m=>{const b=m.getNormalizedStyle(u),v=p?wu(b):b;if(a!==v)return v}}})}function fm(c,e,r,a){c.for("upcast").add(l=>l.on("element:"+e,(u,p,m)=>{if(!p.modelRange)return;const b=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(P=>p.viewItem.hasStyle(P));if(!b.length)return;const v={styles:b};if(!m.consumable.test(p.viewItem,v))return;const x=[...p.modelRange.getItems({shallow:!0})].pop();m.consumable.consume(p.viewItem,v);const y={style:p.viewItem.getNormalizedStyle("border-style"),color:p.viewItem.getNormalizedStyle("border-color"),width:p.viewItem.getNormalizedStyle("border-width")},D={style:wu(y.style),color:wu(y.color),width:wu(y.width)};D.style!==a.style&&m.writer.setAttribute(r.style,D.style,x),D.color!==a.color&&m.writer.setAttribute(r.color,D.color,x),D.width!==a.width&&m.writer.setAttribute(r.width,D.width,x)}))}function gd(c,{modelElement:e,modelAttribute:r,styleName:a}){c.for("downcast").attributeToAttribute({model:{name:e,key:r},view:l=>({key:"style",value:{[a]:l}})})}function ku(c,{modelAttribute:e,styleName:r}){c.for("downcast").add(a=>a.on(`attribute:${e}:table`,(l,u,p)=>{const{item:m,attributeNewValue:b}=u,{mapper:v,writer:x}=p;if(!p.consumable.consume(u.item,l.name))return;const y=[...v.toViewElement(m).getChildren()].find(D=>D.is("element","table"));b?x.setStyle(r,b,y):x.removeStyle(r,y)}))}function wu(c){if(c)return["top","right","bottom","left"].map(e=>c[e]).reduce((e,r)=>e==r?e:null)||c}Xe()($w.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ta extends vt{constructor(e,r,a){super(e),this.attributeName=r,this._defaultValue=a}refresh(){const e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e,this.value=this._getValue(e)}execute(e={}){const r=this.editor.model,a=r.document.selection,{value:l,batch:u}=e,p=a.getFirstPosition().findAncestor("table"),m=this._getValueToSet(l);r.enqueueChange(u,b=>{m?b.setAttribute(this.attributeName,m,p):b.removeAttribute(this.attributeName,p)})}_getValue(e){if(!e)return;const r=e.getAttribute(this.attributeName);return r!==this._defaultValue?r:void 0}_getValueToSet(e){if(e!==this._defaultValue)return e}}class Ty extends Ta{constructor(e,r){super(e,"tableBackgroundColor",r)}}function Sa(c){if(!c||!ft(c))return c;const{top:e,right:r,bottom:a,left:l}=c;return e==r&&r==a&&a==l?e:void 0}function Ea(c,e){const r=parseFloat(c);return Number.isNaN(r)||String(r)!==String(c)?c:`${r}${e}`}function vu(c,e={}){const r=Object.assign({borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:""},c);return e.includeAlignmentProperty&&!r.alignment&&(r.alignment="center"),e.includePaddingProperty&&!r.padding&&(r.padding=""),e.includeVerticalAlignmentProperty&&!r.verticalAlignment&&(r.verticalAlignment="middle"),e.includeHorizontalAlignmentProperty&&!r.horizontalAlignment&&(r.horizontalAlignment=e.isRightToLeftContent?"right":"left"),r}class Sy extends Ta{constructor(e,r){super(e,"tableBorderColor",r)}_getValue(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}}class Ey extends Ta{constructor(e,r){super(e,"tableBorderStyle",r)}_getValue(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}}class pm extends Ta{constructor(e,r){super(e,"tableBorderWidth",r)}_getValue(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}_getValueToSet(e){if((e=Ea(e,"px"))!==this._defaultValue)return e}}class Qw extends Ta{constructor(e,r){super(e,"tableWidth",r)}_getValueToSet(e){if((e=Ea(e,"px"))!==this._defaultValue)return e}}class Jw extends Ta{constructor(e,r){super(e,"tableHeight",r)}_getValueToSet(e){return(e=Ea(e,"px"))===this._defaultValue?null:e}}class Xw extends Ta{constructor(e,r){super(e,"tableAlignment",r)}}const Hl=/^(left|center|right)$/,Dy=/^(left|none|right)$/;class Da extends De{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[rm]}init(){const e=this.editor,r=e.model.schema,a=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});const l=vu(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});var p,m;e.data.addStyleProcessorRules(Ai),function(u,p,m){const b={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};u.extend("table",{allowAttributes:Object.values(b)}),fm(p,"table",b,m),ku(p,{modelAttribute:b.color,styleName:"border-color"}),ku(p,{modelAttribute:b.style,styleName:"border-style"}),ku(p,{modelAttribute:b.width,styleName:"border-width"})}(r,a,{color:l.borderColor,style:l.borderStyle,width:l.borderWidth}),e.commands.add("tableBorderColor",new Sy(e,l.borderColor)),e.commands.add("tableBorderStyle",new Ey(e,l.borderStyle)),e.commands.add("tableBorderWidth",new pm(e,l.borderWidth)),p=a,m=l.alignment,r.extend("table",{allowAttributes:["tableAlignment"]}),p.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:b=>({key:"style",value:{float:"center"===b?"none":b}}),converterPriority:"high"}),p.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Dy}},model:{key:"tableAlignment",value:b=>{let v=b.getStyle("float");return"none"===v&&(v="center"),v===m?null:v}}}).attributeToAttribute({view:{attributes:{align:Hl}},model:{name:"table",key:"tableAlignment",value:b=>{const v=b.getAttribute("align");return v===m?null:v}}}),e.commands.add("tableAlignment",new Xw(e,l.alignment)),My(r,a,{modelAttribute:"tableWidth",styleName:"width",defaultValue:l.width}),e.commands.add("tableWidth",new Qw(e,l.width)),My(r,a,{modelAttribute:"tableHeight",styleName:"height",defaultValue:l.height}),e.commands.add("tableHeight",new Jw(e,l.height)),e.data.addStyleProcessorRules(ei),function(u,p,m){const{modelAttribute:b}=m;u.extend("table",{allowAttributes:[b]}),um(p,{viewElement:"table",...m}),ku(p,m)}(r,a,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:l.backgroundColor}),e.commands.add("tableBackgroundColor",new Ty(e,l.backgroundColor))}}function My(c,e,r){const{modelAttribute:a}=r;c.extend("table",{allowAttributes:[a]}),um(e,{viewElement:/^(table|figure)$/,...r}),gd(e,{modelElement:"table",...r})}var e1=Ue(4082);Xe()(e1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Py extends it{constructor(e,r){super(e);const a=this.bindTemplate;this.set("value",""),this.set("id"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.set("ariaDescribedById"),this.options=r,this._dropdownView=this._createDropdownView(),this._inputView=this._createInputTextView(),this._stillTyping=!1,this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color",a.if("hasError","ck-error")],id:a.to("id"),"aria-invalid":a.if("hasError",!0),"aria-describedby":a.to("ariaDescribedById")},children:[this._dropdownView,this._inputView]}),this.on("change:value",(l,u,p)=>this._setInputValue(p))}focus(){this._inputView.focus()}_createDropdownView(){const e=this.locale,r=e.t,a=this.bindTemplate,l=this._createColorGrid(e),u=Qr(e),p=new it,m=this._createRemoveColorButton();return p.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:a.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",a.if("value","ck-hidden",b=>""!=b)]}}]}),u.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),u.buttonView.children.add(p),u.buttonView.tooltip=r("Color picker"),u.panelPosition="rtl"===e.uiLanguageDirection?"se":"sw",u.panelView.children.add(m),u.panelView.children.add(l),u.bind("isEnabled").to(this,"isReadOnly",b=>!b),u}_createInputTextView(){const r=new yp(this.locale);return r.extendTemplate({on:{blur:r.bindTemplate.to("blur")}}),r.value=this.value,r.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(r),r.on("input",()=>{const a=r.element.value,l=this.options.colorDefinitions.find(u=>a===u.label);this._stillTyping=!0,this.value=l&&l.color||a}),r.on("blur",()=>{this._stillTyping=!1,this._setInputValue(r.element.value)}),r.delegate("input").to(this),r}_createRemoveColorButton(){const e=this.locale,r=e.t,a=new Pt(e),l=this.options.defaultColorValue||"",u=r(l?"Restore default":"Remove color");return a.class="ck-input-color__remove-color",a.withText=!0,a.icon=Et.eraser,a.label=u,a.on("execute",()=>{this.value=l,this._dropdownView.isOpen=!1,this.fire("input")}),a}_createColorGrid(e){const r=new MC(e,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});return r.on("execute",(a,l)=>{this.value=l.value,this._dropdownView.isOpen=!1,this.fire("input")}),r.bind("selectedColor").to(this,"value"),r}_setInputValue(e){if(!this._stillTyping){const r=t1(e),a=this.options.colorDefinitions.find(l=>r===t1(l.color));this._inputView.value=a?a.label:e||""}}}function t1(c){return c.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const gm=c=>""===c;function xu(c){return{none:c("None"),solid:c("Solid"),dotted:c("Dotted"),dashed:c("Dashed"),double:c("Double"),groove:c("Groove"),ridge:c("Ridge"),inset:c("Inset"),outset:c("Outset")}}function n1(c){return c('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function i1(c){return c('The value is invalid. Try "10px" or "2em" or simply "2".')}function Cu(c){return c=c.trim(),gm(c)||Rh(c)}function md(c){return c=c.trim(),gm(c)||o1(c)||ha(c)||xs.test(c)}function r1(c){return c=c.trim(),gm(c)||o1(c)||ha(c)}function mm(c,e){const r=new ar,a=xu(c.t);for(const l in a){const u={type:"button",model:new Vc({_borderStyleValue:l,label:a[l],withText:!0})};"none"===l?u.model.bind("isOn").to(c,"borderStyle",p=>"none"===e?!p:p===l):u.model.bind("isOn").to(c,"borderStyle",p=>p===l),r.add(u)}return r}function _m(c){const{view:e,icons:r,toolbar:a,labels:l,propertyName:u,nameToValue:p,defaultValue:m}=c;for(const b in l){const v=new Pt(e.locale);v.set({label:l[b],icon:r[b],tooltip:l[b]});const x=p?p(b):b;v.bind("isOn").to(e,u,y=>{let D=y;return""===y&&m&&(D=m),x===D}),v.on("execute",()=>{e[u]=x}),a.items.add(v)}}const Au=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function yu(c){return(e,r,a)=>{const l=new Py(e.locale,{colorDefinitions:(u=c.colorConfig,u.map(p=>({color:p.model,label:p.label,options:{hasBorder:p.hasBorder}}))),columns:c.columns,defaultColorValue:c.defaultColorValue});var u;return l.set({id:r,ariaDescribedById:a}),l.bind("isReadOnly").to(e,"isEnabled",p=>!p),l.bind("hasError").to(e,"errorText",p=>!!p),l.on("input",()=>{e.errorText=null}),e.bind("isEmpty","isFocused").to(l),l}}function o1(c){const e=parseFloat(c);return!Number.isNaN(e)&&c===String(e)}var s1=Ue(9865);Xe()(s1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Zn extends it{constructor(e,r={}){super(e);const a=this.bindTemplate;this.set("class",r.class||null),this.children=this.createCollection(),r.children&&r.children.forEach(l=>this.children.add(l)),this.set("_role",null),this.set("_ariaLabelledBy",null),r.labelView&&this.set({_role:"group",_ariaLabelledBy:r.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",a.to("class")],role:a.to("_role"),"aria-labelledby":a.to("_ariaLabelledBy")},children:this.children})}}var l1=Ue(4880);Xe()(l1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var c1=Ue(198);Xe()(c1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var d1=Ue(9221);Xe()(d1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const h1={left:Et.objectLeft,center:Et.objectCenter,right:Et.objectRight};class u1 extends it{constructor(e,r){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=r;const{borderStyleDropdown:a,borderWidthInput:l,borderColorInput:u,borderRowLabel:p}=this._createBorderFields(),{backgroundRowLabel:m,backgroundInput:b}=this._createBackgroundFields(),{widthInput:v,operatorLabel:x,heightInput:y,dimensionsLabel:D}=this._createDimensionFields(),{alignmentToolbar:P,alignmentLabel:B}=this._createAlignmentFields();this.focusTracker=new Ui,this.keystrokes=new Pn,this.children=this.createCollection(),this.borderStyleDropdown=a,this.borderWidthInput=l,this.borderColorInput=u,this.backgroundInput=b,this.widthInput=v,this.heightInput=y,this.alignmentToolbar=P;const{saveButtonView:R,cancelButtonView:H}=this._createActionButtons();this.saveButtonView=R,this.cancelButtonView=H,this._focusables=new jo,this._focusCycler=new Uo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Rb(e,{label:this.t("Table properties")})),this.children.add(new Zn(e,{labelView:p,children:[p,a,u,l],class:"ck-table-form__border-row"})),this.children.add(new Zn(e,{labelView:m,children:[m,b],class:"ck-table-form__background-row"})),this.children.add(new Zn(e,{children:[new Zn(e,{labelView:D,children:[D,v,x,y],class:"ck-table-form__dimensions-row"}),new Zn(e,{labelView:B,children:[B,P],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Zn(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Nr({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,r={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},a=yu({colorConfig:this.options.borderColors,columns:5,defaultColorValue:r.color}),l=this.locale,u=this.t,p=new Tn(l);p.text=u("Border");const m=xu(this.t),b=new $n(l,Sp);b.set({label:u("Style"),class:"ck-table-form__border-style"}),b.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:u("Style")}),b.fieldView.buttonView.bind("label").to(this,"borderStyle",y=>m[y||"none"]),b.fieldView.on("execute",y=>{this.borderStyle=y.source._borderStyleValue}),b.bind("isEmpty").to(this,"borderStyle",y=>!y),vl(b.fieldView,mm(this,r.style));const v=new $n(l,Ni);v.set({label:u("Width"),class:"ck-table-form__border-width"}),v.fieldView.bind("value").to(this,"borderWidth"),v.bind("isEnabled").to(this,"borderStyle",Tu),v.fieldView.on("input",()=>{this.borderWidth=v.fieldView.element.value});const x=new $n(l,a);return x.set({label:u("Color"),class:"ck-table-form__border-color"}),x.fieldView.bind("value").to(this,"borderColor"),x.bind("isEnabled").to(this,"borderStyle",Tu),x.fieldView.on("input",()=>{this.borderColor=x.fieldView.value}),this.on("change:borderStyle",(y,D,P,B)=>{Tu(P)||(this.borderColor="",this.borderWidth=""),Tu(B)||(this.borderColor=r.color,this.borderWidth=r.width)}),{borderRowLabel:p,borderStyleDropdown:b,borderColorInput:x,borderWidthInput:v}}_createBackgroundFields(){const e=this.locale,r=this.t,a=new Tn(e);a.text=r("Background");const l=yu({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor}),u=new $n(e,l);return u.set({label:r("Color"),class:"ck-table-properties-form__background"}),u.fieldView.bind("value").to(this,"backgroundColor"),u.fieldView.on("input",()=>{this.backgroundColor=u.fieldView.value}),{backgroundRowLabel:a,backgroundInput:u}}_createDimensionFields(){const e=this.locale,r=this.t,a=new Tn(e);a.text=r("Dimensions");const l=new $n(e,Ni);l.set({label:r("Width"),class:"ck-table-form__dimensions-row__width"}),l.fieldView.bind("value").to(this,"width"),l.fieldView.on("input",()=>{this.width=l.fieldView.element.value});const u=new it(e);u.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xd7"}]});const p=new $n(e,Ni);return p.set({label:r("Height"),class:"ck-table-form__dimensions-row__height"}),p.fieldView.bind("value").to(this,"height"),p.fieldView.on("input",()=>{this.height=p.fieldView.element.value}),{dimensionsLabel:a,widthInput:l,operatorLabel:u,heightInput:p}}_createAlignmentFields(){const e=this.locale,r=this.t,a=new Tn(e);a.text=r("Alignment");const l=new kl(e);return l.set({isCompact:!0,ariaLabel:r("Table alignment toolbar")}),_m({view:this,icons:h1,toolbar:l,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:a,alignmentToolbar:l}}_createActionButtons(){const e=this.locale,r=this.t,a=new Pt(e),l=new Pt(e),u=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return a.set({label:r("Save"),icon:Et.check,class:"ck-button-save",type:"submit",withText:!0}),a.bind("isEnabled").toMany(u,"errorText",(...p)=>p.every(m=>!m)),l.set({label:r("Cancel"),icon:Et.cancel,class:"ck-button-cancel",withText:!0}),l.delegate("execute").to(this,"cancel"),{saveButtonView:a,cancelButtonView:l}}get _alignmentLabels(){const e=this.locale,r=this.t,a=r("Align table to the left"),l=r("Center table"),u=r("Align table to the right");return"rtl"===e.uiLanguageDirection?{right:u,center:l,left:a}:{left:a,center:l,right:u}}}function Tu(c){return"none"!==c}const Ma=Hi.defaultPositions,bm=[Ma.northArrowSouth,Ma.northArrowSouthWest,Ma.northArrowSouthEast,Ma.southArrowNorth,Ma.southArrowNorthWest,Ma.southArrowNorthEast,Ma.viewportStickyNorth];function f1(c,e){const r=c.plugins.get("ContextualBalloon");if(bu(c.editing.view.document.selection)){let a;a="cell"===e?g1(c):p1(c),r.updatePosition(a)}}function p1(c){const e=c.model.document.selection.getFirstPosition().findAncestor("table"),r=c.editing.mapper.toViewElement(e);return{target:c.editing.view.domConverter.viewToDom(r),positions:bm}}function g1(c){const e=c.editing.mapper,r=c.editing.view.domConverter,a=c.model.document.selection;if(a.rangeCount>1)return{target:()=>function(p,m){const b=m.editing.mapper,v=m.editing.view.domConverter,x=Array.from(p).map(y=>{const D=Su(y.start),P=b.toViewElement(D);return new Rt(v.viewToDom(P))});return Rt.getBoundingRect(x)}(a.getRanges(),c),positions:bm};const l=Su(a.getFirstPosition()),u=e.toViewElement(l);return{target:r.viewToDom(u),positions:bm}}function Su(c){return c.nodeAfter&&c.nodeAfter.is("element","tableCell")?c.nodeAfter:c.findAncestor("tableCell")}const km={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class By extends De{static get requires(){return[Wo]}static get pluginName(){return"TablePropertiesUI"}constructor(e){super(e),e.config.define("table.tableProperties",{borderColors:Au,backgroundColors:Au})}init(){const e=this.editor,r=e.t;this._defaultTableProperties=vu(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=e.plugins.get(Wo),this.view=this._createPropertiesView(),this._undoStepBatch=null,e.ui.componentFactory.add("tableProperties",a=>{const l=new Pt(a);l.set({label:r("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(l,"execute",()=>this._showView());const u=Object.values(km).map(p=>e.commands.get(p));return l.bind("isEnabled").toMany(u,"isEnabled",(...p)=>p.some(m=>m)),l})}destroy(){super.destroy(),this.view.destroy()}_createPropertiesView(){const e=this.editor,r=e.config.get("table.tableProperties"),a=Eh(r.borderColors),l=Sh(e.locale,a),u=Eh(r.backgroundColors),p=Sh(e.locale,u),m=new u1(e.locale,{borderColors:l,backgroundColors:p,defaultTableProperties:this._defaultTableProperties}),b=e.t;m.render(),this.listenTo(m,"submit",()=>{this._hideView()}),this.listenTo(m,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),m.keystrokes.set("Esc",(y,D)=>{this._hideView(),D()}),ks({emitter:m,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const v=n1(b),x=i1(b);return m.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle",this._defaultTableProperties.borderStyle)),m.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:m.borderColorInput,commandName:"tableBorderColor",errorText:v,validator:Cu,defaultValue:this._defaultTableProperties.borderColor})),m.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:m.borderWidthInput,commandName:"tableBorderWidth",errorText:x,validator:r1,defaultValue:this._defaultTableProperties.borderWidth})),m.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:m.backgroundInput,commandName:"tableBackgroundColor",errorText:v,validator:Cu,defaultValue:this._defaultTableProperties.backgroundColor})),m.on("change:width",this._getValidatedPropertyChangeCallback({viewField:m.widthInput,commandName:"tableWidth",errorText:x,validator:md,defaultValue:this._defaultTableProperties.width})),m.on("change:height",this._getValidatedPropertyChangeCallback({viewField:m.heightInput,commandName:"tableHeight",errorText:x,validator:md,defaultValue:this._defaultTableProperties.height})),m.on("change:alignment",this._getPropertyChangeCallback("tableAlignment",this._defaultTableProperties.alignment)),m}_fillViewFormFromCommandValues(){const e=this.editor.commands,r=e.get("tableBorderStyle");Object.entries(km).map(([a,l])=>{const u=this._defaultTableProperties[a]||"";return[a,e.get(l).value||u]}).forEach(([a,l])=>{("borderColor"!==a&&"borderWidth"!==a||"none"!==r.value)&&this.view.set(a,l)})}_showView(){const e=this.editor;this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:p1(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){this.stopListening(this.editor.ui,"update"),this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor;bu(e.editing.view.document.selection)?this._isViewVisible&&f1(e,"table"):this._hideView()}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(e,r){return(a,l,u,p)=>{(p||r!==u)&&this.editor.execute(e,{value:u,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:r,viewField:a,validator:l,errorText:u,defaultValue:p}=e,m=tl(()=>{a.errorText=u},500);return(b,v,x,y)=>{m.cancel(),(y||p!==x)&&(l(x)?(this.editor.execute(r,{value:x,batch:this._undoStepBatch}),a.errorText=null):m())}}}var m1=Ue(5737);Xe()(m1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const _1={left:Et.alignLeft,center:Et.alignCenter,right:Et.alignRight,justify:Et.alignJustify,top:Et.alignTop,middle:Et.alignMiddle,bottom:Et.alignBottom};class Ry extends it{constructor(e,r){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=r;const{borderStyleDropdown:a,borderWidthInput:l,borderColorInput:u,borderRowLabel:p}=this._createBorderFields(),{backgroundRowLabel:m,backgroundInput:b}=this._createBackgroundFields(),{widthInput:v,operatorLabel:x,heightInput:y,dimensionsLabel:D}=this._createDimensionFields(),{horizontalAlignmentToolbar:P,verticalAlignmentToolbar:B,alignmentLabel:R}=this._createAlignmentFields();this.focusTracker=new Ui,this.keystrokes=new Pn,this.children=this.createCollection(),this.borderStyleDropdown=a,this.borderWidthInput=l,this.borderColorInput=u,this.backgroundInput=b,this.paddingInput=this._createPaddingField(),this.widthInput=v,this.heightInput=y,this.horizontalAlignmentToolbar=P,this.verticalAlignmentToolbar=B;const{saveButtonView:H,cancelButtonView:ee}=this._createActionButtons();this.saveButtonView=H,this.cancelButtonView=ee,this._focusables=new jo,this._focusCycler=new Uo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Rb(e,{label:this.t("Cell properties")})),this.children.add(new Zn(e,{labelView:p,children:[p,a,u,l],class:"ck-table-form__border-row"})),this.children.add(new Zn(e,{labelView:m,children:[m,b],class:"ck-table-form__background-row"})),this.children.add(new Zn(e,{children:[new Zn(e,{labelView:D,children:[D,v,x,y],class:"ck-table-form__dimensions-row"}),new Zn(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Zn(e,{labelView:R,children:[R,P,B],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Zn(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Nr({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,r={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},a=yu({colorConfig:this.options.borderColors,columns:5,defaultColorValue:r.color}),l=this.locale,u=this.t,p=new Tn(l);p.text=u("Border");const m=xu(u),b=new $n(l,Sp);b.set({label:u("Style"),class:"ck-table-form__border-style"}),b.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:u("Style")}),b.fieldView.buttonView.bind("label").to(this,"borderStyle",y=>m[y||"none"]),b.fieldView.on("execute",y=>{this.borderStyle=y.source._borderStyleValue}),b.bind("isEmpty").to(this,"borderStyle",y=>!y),vl(b.fieldView,mm(this,r.style));const v=new $n(l,Ni);v.set({label:u("Width"),class:"ck-table-form__border-width"}),v.fieldView.bind("value").to(this,"borderWidth"),v.bind("isEnabled").to(this,"borderStyle",_d),v.fieldView.on("input",()=>{this.borderWidth=v.fieldView.element.value});const x=new $n(l,a);return x.set({label:u("Color"),class:"ck-table-form__border-color"}),x.fieldView.bind("value").to(this,"borderColor"),x.bind("isEnabled").to(this,"borderStyle",_d),x.fieldView.on("input",()=>{this.borderColor=x.fieldView.value}),this.on("change:borderStyle",(y,D,P,B)=>{_d(P)||(this.borderColor="",this.borderWidth=""),_d(B)||(this.borderColor=r.color,this.borderWidth=r.width)}),{borderRowLabel:p,borderStyleDropdown:b,borderColorInput:x,borderWidthInput:v}}_createBackgroundFields(){const e=this.locale,r=this.t,a=new Tn(e);a.text=r("Background");const l=yu({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor}),u=new $n(e,l);return u.set({label:r("Color"),class:"ck-table-cell-properties-form__background"}),u.fieldView.bind("value").to(this,"backgroundColor"),u.fieldView.on("input",()=>{this.backgroundColor=u.fieldView.value}),{backgroundRowLabel:a,backgroundInput:u}}_createDimensionFields(){const e=this.locale,r=this.t,a=new Tn(e);a.text=r("Dimensions");const l=new $n(e,Ni);l.set({label:r("Width"),class:"ck-table-form__dimensions-row__width"}),l.fieldView.bind("value").to(this,"width"),l.fieldView.on("input",()=>{this.width=l.fieldView.element.value});const u=new it(e);u.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xd7"}]});const p=new $n(e,Ni);return p.set({label:r("Height"),class:"ck-table-form__dimensions-row__height"}),p.fieldView.bind("value").to(this,"height"),p.fieldView.on("input",()=>{this.height=p.fieldView.element.value}),{dimensionsLabel:a,widthInput:l,operatorLabel:u,heightInput:p}}_createPaddingField(){const r=this.t,a=new $n(this.locale,Ni);return a.set({label:r("Padding"),class:"ck-table-cell-properties-form__padding"}),a.fieldView.bind("value").to(this,"padding"),a.fieldView.on("input",()=>{this.padding=a.fieldView.element.value}),a}_createAlignmentFields(){const e=this.locale,r=this.t,a=new Tn(e);a.text=r("Table cell text alignment");const l=new kl(e),u="rtl"===this.locale.contentLanguageDirection;l.set({isCompact:!0,ariaLabel:r("Horizontal text alignment toolbar")}),_m({view:this,icons:_1,toolbar:l,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:m=>{if(u){if("left"===m)return"right";if("right"===m)return"left"}return m},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const p=new kl(e);return p.set({isCompact:!0,ariaLabel:r("Vertical text alignment toolbar")}),_m({view:this,icons:_1,toolbar:p,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:l,verticalAlignmentToolbar:p,alignmentLabel:a}}_createActionButtons(){const e=this.locale,r=this.t,a=new Pt(e),l=new Pt(e),u=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return a.set({label:r("Save"),icon:Et.check,class:"ck-button-save",type:"submit",withText:!0}),a.bind("isEnabled").toMany(u,"errorText",(...p)=>p.every(m=>!m)),l.set({label:r("Cancel"),icon:Et.cancel,class:"ck-button-cancel",withText:!0}),l.delegate("execute").to(this,"cancel"),{saveButtonView:a,cancelButtonView:l}}get _horizontalAlignmentLabels(){const e=this.locale,r=this.t,a=r("Align cell text to the left"),l=r("Align cell text to the center"),u=r("Align cell text to the right"),p=r("Justify cell text");return"rtl"===e.uiLanguageDirection?{right:u,center:l,left:a,justify:p}:{left:a,center:l,right:u,justify:p}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function _d(c){return"none"!==c}const b1={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",width:"tableCellWidth",height:"tableCellHeight",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class bd extends De{static get requires(){return[Wo]}static get pluginName(){return"TableCellPropertiesUI"}constructor(e){super(e),e.config.define("table.tableCellProperties",{borderColors:Au,backgroundColors:Au})}init(){const e=this.editor,r=e.t;this._defaultTableCellProperties=vu(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===e.locale.contentLanguageDirection}),this._balloon=e.plugins.get(Wo),this.view=this._createPropertiesView(),this._undoStepBatch=null,e.ui.componentFactory.add("tableCellProperties",a=>{const l=new Pt(a);l.set({label:r("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(l,"execute",()=>this._showView());const u=Object.values(b1).map(p=>e.commands.get(p));return l.bind("isEnabled").toMany(u,"isEnabled",(...p)=>p.some(m=>m)),l})}destroy(){super.destroy(),this.view.destroy()}_createPropertiesView(){const e=this.editor,r=e.editing.view.document,a=e.config.get("table.tableCellProperties"),l=Eh(a.borderColors),u=Sh(e.locale,l),p=Eh(a.backgroundColors),m=Sh(e.locale,p),b=new Ry(e.locale,{borderColors:u,backgroundColors:m,defaultTableCellProperties:this._defaultTableCellProperties}),v=e.t;b.render(),this.listenTo(b,"submit",()=>{this._hideView()}),this.listenTo(b,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),b.keystrokes.set("Esc",(D,P)=>{this._hideView(),P()}),this.listenTo(e.ui,"update",()=>{bu(r.selection)?this._isViewVisible&&f1(e,"cell"):this._hideView()}),ks({emitter:b,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const x=n1(v),y=i1(v);return b.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle",this._defaultTableCellProperties.borderStyle)),b.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:b.borderColorInput,commandName:"tableCellBorderColor",errorText:x,validator:Cu,defaultValue:this._defaultTableCellProperties.borderColor})),b.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:b.borderWidthInput,commandName:"tableCellBorderWidth",errorText:y,validator:r1,defaultValue:this._defaultTableCellProperties.borderWidth})),b.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:b.paddingInput,commandName:"tableCellPadding",errorText:y,validator:md,defaultValue:this._defaultTableCellProperties.padding})),b.on("change:width",this._getValidatedPropertyChangeCallback({viewField:b.widthInput,commandName:"tableCellWidth",errorText:y,validator:md,defaultValue:this._defaultTableCellProperties.width})),b.on("change:height",this._getValidatedPropertyChangeCallback({viewField:b.heightInput,commandName:"tableCellHeight",errorText:y,validator:md,defaultValue:this._defaultTableCellProperties.height})),b.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:b.backgroundInput,commandName:"tableCellBackgroundColor",errorText:x,validator:Cu,defaultValue:this._defaultTableCellProperties.backgroundColor})),b.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment",this._defaultTableCellProperties.horizontalAlignment)),b.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment",this._defaultTableCellProperties.verticalAlignment)),b}_fillViewFormFromCommandValues(){const e=this.editor.commands,r=e.get("tableCellBorderStyle");Object.entries(b1).map(([a,l])=>{const u=this._defaultTableCellProperties[a]||"";return[a,e.get(l).value||u]}).forEach(([a,l])=>{("borderColor"!==a&&"borderWidth"!==a||"none"!==r.value)&&this.view.set(a,l)})}_showView(){const e=this.editor;this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:g1(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){this._isViewInBalloon&&(this.stopListening(this.editor.ui,"update"),this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus())}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(e,r){return(a,l,u,p)=>{(p||r!==u)&&this.editor.execute(e,{value:u,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:r,viewField:a,validator:l,errorText:u,defaultValue:p}=e,m=tl(()=>{a.errorText=u},500);return(b,v,x,y)=>{m.cancel(),(y||p!==x)&&(l(x)?(this.editor.execute(r,{value:x,batch:this._undoStepBatch}),a.errorText=null):m())}}}class es extends vt{constructor(e,r,a){super(e),this.attributeName=r,this._defaultValue=a}refresh(){const e=this.editor,r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!r.length,this.value=this._getSingleValue(r)}execute(e={}){const{value:r,batch:a}=e,l=this.editor.model,u=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(l.document.selection),p=this._getValueToSet(r);l.enqueueChange(a,m=>{u.forEach(p?b=>m.setAttribute(this.attributeName,p,b):b=>m.removeAttribute(this.attributeName,b))})}_getAttribute(e){if(!e)return;const r=e.getAttribute(this.attributeName);return r!==this._defaultValue?r:void 0}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const r=this._getAttribute(e[0]);return e.every(a=>this._getAttribute(a)===r)?r:void 0}}class zy extends es{constructor(e,r){super(e,"tableCellPadding",r)}_getAttribute(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}_getValueToSet(e){if((e=Ea(e,"px"))!==this._defaultValue)return e}}class Eu extends es{constructor(e,r){super(e,"tableCellWidth",r)}_getValueToSet(e){if((e=Ea(e,"px"))!==this._defaultValue)return e}}class k1 extends es{constructor(e,r){super(e,"tableCellHeight",r)}_getValueToSet(e){return(e=Ea(e,"px"))===this._defaultValue?null:e}}class Vy extends es{constructor(e,r){super(e,"tableCellBackgroundColor",r)}}class jy extends es{constructor(e,r){super(e,"tableCellVerticalAlignment",r)}}class Ri extends es{constructor(e,r){super(e,"tableCellHorizontalAlignment",r)}}class kd extends es{constructor(e,r){super(e,"tableCellBorderStyle",r)}_getAttribute(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}}class wd extends es{constructor(e,r){super(e,"tableCellBorderColor",r)}_getAttribute(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}}class Du extends es{constructor(e,r){super(e,"tableCellBorderWidth",r)}_getAttribute(e){if(!e)return;const r=Sa(e.getAttribute(this.attributeName));return r!==this._defaultValue?r:void 0}_getValueToSet(e){if((e=Ea(e,"px"))!==this._defaultValue)return e}}const Mu=/^(top|middle|bottom)$/,Iu=/^(left|center|right|justify)$/;class zs extends De{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[rm]}init(){const e=this.editor,r=e.model.schema,a=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});const l=vu(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===e.locale.contentLanguageDirection});var p,m;e.data.addStyleProcessorRules(Ai),function(u,p,m){const b={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};u.extend("tableCell",{allowAttributes:Object.values(b)}),fm(p,"td",b,m),fm(p,"th",b,m),gd(p,{modelElement:"tableCell",modelAttribute:b.style,styleName:"border-style"}),gd(p,{modelElement:"tableCell",modelAttribute:b.color,styleName:"border-color"}),gd(p,{modelElement:"tableCell",modelAttribute:b.width,styleName:"border-width"})}(r,a,{color:l.borderColor,style:l.borderStyle,width:l.borderWidth}),e.commands.add("tableCellBorderStyle",new kd(e,l.borderStyle)),e.commands.add("tableCellBorderColor",new wd(e,l.borderColor)),e.commands.add("tableCellBorderWidth",new Du(e,l.borderWidth)),Pu(r,a,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:l.width}),e.commands.add("tableCellWidth",new Eu(e,l.width)),Pu(r,a,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:l.height}),e.commands.add("tableCellHeight",new k1(e,l.height)),e.data.addStyleProcessorRules(Qb),Pu(r,a,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:l.padding}),e.commands.add("tableCellPadding",new zy(e,l.padding)),e.data.addStyleProcessorRules(ei),Pu(r,a,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:l.backgroundColor}),e.commands.add("tableCellBackgroundColor",new Vy(e,l.backgroundColor)),p=a,m=l.horizontalAlignment,r.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),p.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:b=>({key:"style",value:{"text-align":b}})}),p.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":Iu}},model:{key:"tableCellHorizontalAlignment",value:b=>{const v=b.getStyle("text-align");return v===m?null:v}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:Iu}},model:{key:"tableCellHorizontalAlignment",value:b=>{const v=b.getAttribute("align");return v===m?null:v}}}),e.commands.add("tableCellHorizontalAlignment",new Ri(e,l.horizontalAlignment)),function(u,p,m){u.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),p.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:b=>({key:"style",value:{"vertical-align":b}})}),p.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":Mu}},model:{key:"tableCellVerticalAlignment",value:b=>{const v=b.getStyle("vertical-align");return v===m?null:v}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:Mu}},model:{key:"tableCellVerticalAlignment",value:b=>{const v=b.getAttribute("valign");return v===m?null:v}}})}(r,a,l.verticalAlignment),e.commands.add("tableCellVerticalAlignment",new jy(e,l.verticalAlignment))}}function Pu(c,e,r){const{modelAttribute:a}=r;c.extend("tableCell",{allowAttributes:[a]}),um(e,{viewElement:/^(td|th)$/,...r}),gd(e,{modelElement:"tableCell",...r})}const Fu=["left","right","center","justify"];function Wl(c){return Fu.includes(c)}function vd(c,e){return"rtl"==e.contentLanguageDirection?"right"===c:"left"===c}function w1(c){const e=c.map(a=>{let l;return l="string"==typeof a?{name:a}:a,l}).filter(a=>{const l=!!Fu.includes(a.name);return l||se("alignment-config-name-not-recognized",{option:a}),l}),r=e.filter(a=>!!a.className).length;if(r&&r<e.length)throw new I("alignment-config-classnames-are-missing",{configuredOptions:c});return e.forEach((a,l,u)=>{const p=u.slice(l+1);if(p.some(m=>m.name==a.name))throw new I("alignment-config-name-already-defined",{option:a,configuredOptions:c});if(a.className&&p.some(m=>m.className==a.className))throw new I("alignment-config-classname-already-defined",{option:a,configuredOptions:c})}),e}const v1="alignment";class j2 extends vt{refresh(){const e=this.editor.locale,r=Xn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!r&&this._canBeAligned(r),this.value=this.isEnabled&&r.hasAttribute("alignment")?r.getAttribute("alignment"):"rtl"===e.contentLanguageDirection?"right":"left"}execute(e={}){const r=this.editor,a=r.locale,l=r.model,u=l.document,p=e.value;l.change(m=>{const b=Array.from(u.selection.getSelectedBlocks()).filter(x=>this._canBeAligned(x)),v=b[0].getAttribute("alignment");vd(p,a)||v===p||!p?function(x,y){for(const D of x)y.removeAttribute(v1,D)}(b,m):function(x,y,D){for(const P of x)y.setAttribute(v1,D,P)}(b,m,p)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,v1)}}class U2 extends De{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:[...Fu.map(r=>({name:r}))]})}init(){const e=this.editor,r=e.locale,a=e.model.schema,l=w1(e.config.get("alignment.options")).filter(b=>Wl(b.name)&&!vd(b.name,r)),u=l.some(b=>!!b.className);a.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),u?e.conversion.attributeToAttribute(function(b){const v={model:{key:"alignment",values:b.map(x=>x.name)},view:{}};for(const x of b)v.view[x.name]={key:"class",value:x.className};return v}(l)):e.conversion.for("downcast").attributeToAttribute(function(b){const v={model:{key:"alignment",values:b.map(x=>x.name)},view:{}};for(const{name:x}of b)v.view[x]={key:"style",value:{"text-align":x}};return v}(l));const p=function(b){const v=[];for(const{name:x}of b)v.push({view:{key:"style",value:{"text-align":x}},model:{key:"alignment",value:x}});return v}(l);for(const b of p)e.conversion.for("upcast").attributeToAttribute(b);const m=function(b){const v=[];for(const{name:x}of b)v.push({view:{key:"align",value:x},model:{key:"alignment",value:x}});return v}(l);for(const b of m)e.conversion.for("upcast").attributeToAttribute(b);e.commands.add("alignment",new j2(e))}}const x1=new Map([["left",Et.alignLeft],["right",Et.alignRight],["center",Et.alignCenter],["justify",Et.alignJustify]]);class Uy extends De{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,r=e.ui.componentFactory,a=e.t,l=w1(e.config.get("alignment.options"));l.map(u=>u.name).filter(Wl).forEach(u=>this._addButton(u)),r.add("alignment",u=>{const p=Qr(u),m=l.map(v=>r.create(`alignment:${v.name}`));wp(p,m),p.buttonView.set({label:a("Text alignment"),tooltip:!0}),p.toolbarView.isVertical=!0,p.toolbarView.ariaLabel=a("Text alignment toolbar"),p.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const b=x1.get("rtl"===u.contentLanguageDirection?"right":"left");return p.buttonView.bind("icon").toMany(m,"isOn",(...v)=>{const x=v.findIndex(y=>y);return x<0?b:m[x].icon}),p.bind("isEnabled").toMany(m,"isEnabled",(...v)=>v.some(x=>x)),p})}_addButton(e){const r=this.editor;r.ui.componentFactory.add(`alignment:${e}`,a=>{const l=r.commands.get("alignment"),u=new Pt(a);return u.set({label:this.localizedOptionTitles[e],icon:x1.get(e),tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(l),u.bind("isOn").to(l,"value",p=>p===e),this.listenTo(u,"execute",()=>{r.execute("alignment",{value:e}),r.editing.view.focus()}),u})}}class Zl extends Rp{}Zl.builtinPlugins=[class extends De{static get requires(){return[Ts]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&yi(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&yi(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&yi(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&yi(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=Kc(this.editor,"bold");Qi(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Qi(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=Kc(this.editor,"italic");Qi(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Qi(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=Kc(this.editor,"code");Qi(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=Kc(this.editor,"strikethrough");Qi(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const a=new RegExp(`^(#{${e[7]}})\\s$`);yi(this.editor,this,a,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&yi(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&yi(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&yi(this.editor,this,/^---$/,"horizontalLine")}},class extends De{static get requires(){return[rA,Es]}static get pluginName(){return"BlockQuote"}},class extends De{static get requires(){return[$c,Nn]}static get pluginName(){return"Bold"}},class extends De{static get requires(){return[br]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(br).createUploadAdapter=e=>new Jp(e,c,this.editor.t))}},class extends ht{static get pluginName(){return"CloudServices"}static get requires(){return[On]}init(){const c=this.context.config.get("cloudServices")||{};for(const e in c)this[e]=c[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(c){if(this._tokens.has(c))return Promise.resolve(this.getTokenFor(c));const e=this.context.plugins.get("CloudServicesCore").createToken(c);return this._tokens.set(c,e),e.init()}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new I("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends De{static get requires(){return[kk,Zh,Ck,Ml,Ss,Xi]}static get pluginName(){return"Essentials"}},class extends De{static get requires(){return[Sk,Ek]}static get pluginName(){return"Heading"}},class extends De{static get requires(){return[Cg,Ln]}static get pluginName(){return"Image"}},class extends De{static get requires(){return[yg,pn]}static get pluginName(){return"ImageCaption"}},class extends De{static get requires(){return[ii,Eg]}static get pluginName(){return"ImageStyle"}},class extends De{static get requires(){return[Rl,ti]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,r=c.plugins.get(Rl),a=c.plugins.get("ImageUtils");var l;r.register("image",{ariaLabel:e("Image toolbar"),items:(l=c.config.get("image.toolbar")||[],l.map(u=>ft(u)?u.name:u)),getRelatedElement:u=>a.getClosestSelectedImageWidget(u)})}},class extends De{static get pluginName(){return"ImageUpload"}static get requires(){return[Li,_a,Mg]}},class extends De{static get pluginName(){return"Indent"}static get requires(){return[xA,CA]}},class extends De{static get requires(){return[AA,Ng]}static get pluginName(){return"Italic"}},class extends De{static get requires(){return[Kk,Xk,NA]}static get pluginName(){return"Link"}},class extends De{static get requires(){return[VA,dw]}static get pluginName(){return"List"}},class extends De{static get requires(){return[U2,Uy]}static get pluginName(){return"Alignment"}},class extends De{static get requires(){return[fu,ud,hd,Nl]}static get pluginName(){return"MediaEmbed"}},Bl,class extends De{static get pluginName(){return"PasteFromOffice"}static get requires(){return[to]}init(){const c=this.editor,e=c.editing.view.document,r=[];r.push(new bo(e)),r.push(new bw(e)),c.plugins.get("ClipboardPipeline").on("inputTransformation",(a,l)=>{if(l._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=l.dataTransfer.getData("text/html"),p=r.find(m=>m.isActive(u));p&&(l._parsedData=function GA(c,e){const r=new DOMParser,a=Ls(Ls(function(b){const v="</body>",y=b.indexOf(v);if(y<0)return b;const D=b.indexOf("</html>",y+v.length);return b.substring(0,y+v.length)+(D>=0?b.substring(D):"")}(c=c.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),l=r.parseFromString(a,"text/html");l.querySelectorAll("span[style*=spacerun]").forEach(v=>{const x=v.innerText.length||0;v.innerHTML=Array(x+1).join("\xa0 ").substr(0,x)});const u=l.body.innerHTML,p=function(b,v){const x=new Za(v),y=new Ac(x,{renderingMode:"data"}),D=b.createDocumentFragment(),P=b.body.childNodes;for(;P.length>0;)D.appendChild(P[0]);return y.domToView(D,{skipComments:!0})}(l,e),m=function(b){const v=[],x=[],y=Array.from(b.getElementsByTagName("style"));for(const D of y)D.sheet&&D.sheet.cssRules&&D.sheet.cssRules.length&&(v.push(D.sheet),x.push(D.innerHTML));return{styles:v,stylesString:x.join(" ")}}(l);return{body:p,bodyString:u,styles:m.styles,stylesString:m.stylesString}}(u,e.stylesProcessor),p.execute(l),l._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends De{static get requires(){return[rm,Uw,Rs,ky,_y,my,Nl]}static get pluginName(){return"Table"}},class extends De{static get requires(){return[Rl]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,r=c.plugins.get(Rl),a=c.config.get("table.contentToolbar"),l=c.config.get("table.tableToolbar");a&&r.register("tableContent",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:bu}),l&&r.register("table",{ariaLabel:e("Table toolbar"),items:l,getRelatedElement:vy})}},class extends De{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:sk}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,r=c.plugins.get("Delete"),a=function(u){const m=u.remove||[],b=v=>!m.includes(v);return function(v){const x=new Set;for(const y of v)if(Wp[y])for(const D of Wp[y])x.add(D);else x.add(y);return Array.from(x)}(u.include.concat(u.extra||[]).filter(b)).filter(b).map(v=>Zi[v]||v).filter(v=>"object"==typeof v).map(v=>({from:eA(v.from),to:tA(v.to)}))}(c.config.get("typing.transformations")),l=new Up(c.model,u=>{for(const p of a)if(p.from.test(u))return{normalizedTransformation:p}});l.on("matched:data",(u,p)=>{if(!p.batch.isTyping)return;const{from:m,to:b}=p.normalizedTransformation,v=m.exec(p.text),x=b(v.slice(1)),y=p.range;let D=v.index;e.enqueueChange(P=>{for(let B=1;B<v.length;B++){const R=v[B],H=x[B-1];if(null==H){D+=R.length;continue}const ee=y.start.getShiftedBy(D),ce=e.createRange(ee,ee.getShiftedBy(R.length)),Ce=Or(ee);e.insertContent(P.createText(H,Ce),ce),D+=H.length}e.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}},class extends De{static get requires(){return[br]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(br).createUploadAdapter=c=>new pi(c)}},lm,dm,class extends De{static get requires(){return[lm,dm,Ay]}static get pluginName(){return"ImageResize"}},class extends De{static get pluginName(){return"TableProperties"}static get requires(){return[Da,By]}},class extends De{static get pluginName(){return"TableCellProperties"}static get requires(){return[zs,bd]}}],Zl.defaultConfig={toolbar:{items:["|"]},language:"en",image:{toolbar:["imageTextAlternative","imageStyle:inline","imageStyle:block","imageStyle:side","imageResize","imageResize:50","imageResize:75","imageResize:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}};const Nu=Zl})(),lo.default})())()}}]);